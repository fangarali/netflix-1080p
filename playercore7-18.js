F6hh.M3Y=function (){return typeof F6hh.w3Y.y7e==='function'?F6hh.w3Y.y7e.apply(F6hh.w3Y,arguments):F6hh.w3Y.y7e;};F6hh.w3Y=function(u3Y){return{y7e:function(){var x3Y,O3Y=arguments;switch(u3Y){case 0:x3Y=O3Y[0]*O3Y[1];break;}return x3Y;},r7e:function(W3Y){u3Y=W3Y;}};}();F6hh.w44=function (){return typeof F6hh.k44.r7e==='function'?F6hh.k44.r7e.apply(F6hh.k44,arguments):F6hh.k44.r7e;};F6hh.u3M=function (){return typeof F6hh.I3M.r7e==='function'?F6hh.I3M.r7e.apply(F6hh.I3M,arguments):F6hh.I3M.r7e;};F6hh.F2r=function (){return typeof F6hh.E2r.y7e==='function'?F6hh.E2r.y7e.apply(F6hh.E2r,arguments):F6hh.E2r.y7e;};F6hh.X3M=function (){return typeof F6hh.I3M.y7e==='function'?F6hh.I3M.y7e.apply(F6hh.I3M,arguments):F6hh.I3M.y7e;};F6hh.E3Y=function (){return typeof F6hh.w3Y.r7e==='function'?F6hh.w3Y.r7e.apply(F6hh.w3Y,arguments):F6hh.w3Y.r7e;};F6hh.W5h=function (){return typeof F6hh.V5h.r7e==='function'?F6hh.V5h.r7e.apply(F6hh.V5h,arguments):F6hh.V5h.r7e;};F6hh.Y5h=function (){return typeof F6hh.V5h.y7e==='function'?F6hh.V5h.y7e.apply(F6hh.V5h,arguments):F6hh.V5h.y7e;};F6hh.k9r=function (){return typeof F6hh.h9r.r7e==='function'?F6hh.h9r.r7e.apply(F6hh.h9r,arguments):F6hh.h9r.r7e;};F6hh.k44=function(n44){return{y7e:function(){var M44,j44=arguments;switch(n44){case 2:M44=j44[0]-j44[1];break;case 1:M44=j44[2]/(j44[0]+j44[1]);break;case 0:M44=j44[1]%(j44[2]*j44[0]);break;}return M44;},r7e:function(I44){n44=I44;}};}();F6hh.H44=function (){return typeof F6hh.k44.y7e==='function'?F6hh.k44.y7e.apply(F6hh.k44,arguments):F6hh.k44.y7e;};F6hh.l3D=function (){return typeof F6hh.i3D.y7e==='function'?F6hh.i3D.y7e.apply(F6hh.i3D,arguments):F6hh.i3D.y7e;};F6hh.G2r=function (){return typeof F6hh.E2r.y7e==='function'?F6hh.E2r.y7e.apply(F6hh.E2r,arguments):F6hh.E2r.y7e;};F6hh.V5h=function(p5h){return{y7e:function(){var q5h,R5h=arguments;switch(p5h){case 0:q5h=R5h[0]*R5h[1]-R5h[2];break;case 1:q5h=R5h[0]+R5h[1];break;}return q5h;},r7e:function(G5h){p5h=G5h;}};}();F6hh.o9r=function (){return typeof F6hh.h9r.y7e==='function'?F6hh.h9r.y7e.apply(F6hh.h9r,arguments):F6hh.h9r.y7e;};F6hh.J44=function (){return typeof F6hh.k44.r7e==='function'?F6hh.k44.r7e.apply(F6hh.k44,arguments):F6hh.k44.r7e;};F6hh.H9c=function(u9c){return{y7e:function(){var M9c,Q9c=arguments;switch(u9c){case 1:M9c=Q9c[0]*Q9c[1]-Q9c[2];break;case 0:M9c=(Q9c[2]*Q9c[3]/Q9c[4]+Q9c[5])*Q9c[0]/Q9c[1];break;}return M9c;},r7e:function(W9c){u9c=W9c;}};}();F6hh.F7e=function(A7e){return{y7e:function(){var i7e,J7e=arguments;switch(A7e){case 5:i7e=J7e[1]/J7e[0];break;case 2:i7e=J7e[3]+J7e[1]/J7e[0]*J7e[2];break;case 8:i7e=-J7e[1]-J7e[2]+J7e[0];break;case 0:i7e=J7e[0]-J7e[1];break;case 6:i7e=(J7e[0]/J7e[1]|J7e[3])*J7e[2];break;case 7:i7e=J7e[0]===J7e[1];break;case 3:i7e=J7e[3]*J7e[2]/J7e[1]|J7e[0];break;case 4:i7e=J7e[0]/J7e[1]|J7e[2];break;case 1:i7e=J7e[1]+J7e[0];break;}return i7e;},r7e:function(D7e){A7e=D7e;}};}();function F6hh(){}F6hh.L44=function (){return typeof F6hh.k44.y7e==='function'?F6hh.k44.y7e.apply(F6hh.k44,arguments):F6hh.k44.y7e;};F6hh.c60=function (){return typeof F6hh.L60.r7e==='function'?F6hh.L60.r7e.apply(F6hh.L60,arguments):F6hh.L60.r7e;};F6hh.K3D=function (){return typeof F6hh.i3D.r7e==='function'?F6hh.i3D.r7e.apply(F6hh.i3D,arguments):F6hh.i3D.r7e;};F6hh.t3D=function (){return typeof F6hh.i3D.y7e==='function'?F6hh.i3D.y7e.apply(F6hh.i3D,arguments):F6hh.i3D.y7e;};F6hh.i3D=function(O1D){return{y7e:function(){var G1D,y1D=arguments;switch(O1D){case 0:G1D=(y1D[2]-y1D[0])*y1D[1];break;}return G1D;},r7e:function(u1D){O1D=u1D;}};}();F6hh.m3Y=function (){return typeof F6hh.w3Y.y7e==='function'?F6hh.w3Y.y7e.apply(F6hh.w3Y,arguments):F6hh.w3Y.y7e;};F6hh.V60=function (){return typeof F6hh.L60.y7e==='function'?F6hh.L60.y7e.apply(F6hh.L60,arguments):F6hh.L60.y7e;};F6hh.U9c=function (){return typeof F6hh.H9c.y7e==='function'?F6hh.H9c.y7e.apply(F6hh.H9c,arguments):F6hh.H9c.y7e;};F6hh.l3e=function (){return typeof F6hh.u3e.r7e==='function'?F6hh.u3e.r7e.apply(F6hh.u3e,arguments):F6hh.u3e.r7e;};F6hh.H2r=function (){return typeof F6hh.E2r.r7e==='function'?F6hh.E2r.r7e.apply(F6hh.E2r,arguments):F6hh.E2r.r7e;};F6hh.f7D=function (){return typeof F6hh.o7D.y7e==='function'?F6hh.o7D.y7e.apply(F6hh.o7D,arguments):F6hh.o7D.y7e;};F6hh.P9r=function (){return typeof F6hh.h9r.y7e==='function'?F6hh.h9r.y7e.apply(F6hh.h9r,arguments):F6hh.h9r.y7e;};F6hh.u3e=function(K3e){return{y7e:function(){var e3e,H3e=arguments;switch(K3e){case 1:e3e=H3e[1]-H3e[0]+H3e[2];break;case 2:e3e=H3e[0]/H3e[1];break;case 0:e3e=H3e[0]-H3e[1];break;}return e3e;},r7e:function(w3e){K3e=w3e;}};}();F6hh.U1V=function(n1V){return{y7e:function(){var R1V,N1V=arguments;switch(n1V){case 5:R1V=N1V[2]+N1V[0]+N1V[3]+N1V[1];break;case 2:R1V=N1V[2]-N1V[1]*N1V[4]*N1V[3]+N1V[0];break;case 3:R1V=N1V[0]/N1V[1];break;case 1:R1V=-N1V[1]-N1V[3]+-N1V[2]+N1V[0];break;case 0:R1V=N1V[0]+N1V[1];break;case 4:R1V=N1V[0]-N1V[1];break;}return R1V;},r7e:function(k1V){n1V=k1V;}};}();F6hh.h1V=function (){return typeof F6hh.U1V.r7e==='function'?F6hh.U1V.r7e.apply(F6hh.U1V,arguments):F6hh.U1V.r7e;};F6hh.t3M=function (){return typeof F6hh.I3M.y7e==='function'?F6hh.I3M.y7e.apply(F6hh.I3M,arguments):F6hh.I3M.y7e;};F6hh.q3e=function (){return typeof F6hh.u3e.y7e==='function'?F6hh.u3e.y7e.apply(F6hh.u3e,arguments):F6hh.u3e.y7e;};F6hh.d0D=function (){return typeof F6hh.o7D.r7e==='function'?F6hh.o7D.r7e.apply(F6hh.o7D,arguments):F6hh.o7D.r7e;};F6hh.V9r=function (){return typeof F6hh.h9r.r7e==='function'?F6hh.h9r.r7e.apply(F6hh.h9r,arguments):F6hh.h9r.r7e;};F6hh.O2r=function (){return typeof F6hh.E2r.r7e==='function'?F6hh.E2r.r7e.apply(F6hh.E2r,arguments):F6hh.E2r.r7e;};F6hh.f7e=function (){return typeof F6hh.F7e.r7e==='function'?F6hh.F7e.r7e.apply(F6hh.F7e,arguments):F6hh.F7e.r7e;};F6hh.n9c=function (){return typeof F6hh.H9c.r7e==='function'?F6hh.H9c.r7e.apply(F6hh.H9c,arguments):F6hh.H9c.r7e;};F6hh.r3M=function (){return typeof F6hh.I3M.r7e==='function'?F6hh.I3M.r7e.apply(F6hh.I3M,arguments):F6hh.I3M.r7e;};F6hh.E7e=function (){return typeof F6hh.F7e.r7e==='function'?F6hh.F7e.r7e.apply(F6hh.F7e,arguments):F6hh.F7e.r7e;};F6hh.P60=function (){return typeof F6hh.L60.y7e==='function'?F6hh.L60.y7e.apply(F6hh.L60,arguments):F6hh.L60.y7e;};F6hh.X3Y=function (){return typeof F6hh.w3Y.r7e==='function'?F6hh.w3Y.r7e.apply(F6hh.w3Y,arguments):F6hh.w3Y.r7e;};F6hh.r3D=function (){return typeof F6hh.i3D.r7e==='function'?F6hh.i3D.r7e.apply(F6hh.i3D,arguments):F6hh.i3D.r7e;};F6hh.D5h=function (){return typeof F6hh.V5h.r7e==='function'?F6hh.V5h.r7e.apply(F6hh.V5h,arguments):F6hh.V5h.r7e;};F6hh.E2r=function(A2r){return{y7e:function(){var Z2r,c2r=arguments;switch(A2r){case 0:Z2r=c2r[1]+c2r[0];break;}return Z2r;},r7e:function(D2r){A2r=D2r;}};}();F6hh.H0D=function (){return typeof F6hh.o7D.r7e==='function'?F6hh.o7D.r7e.apply(F6hh.o7D,arguments):F6hh.o7D.r7e;};F6hh.o7D=function(s7D){return{y7e:function(){var w7D,y7D=arguments;switch(s7D){case 2:w7D=y7D[0]>=y7D[1];break;case 3:w7D=y7D[0]<y7D[1];break;case 1:w7D=y7D[1]>y7D[0];break;case 0:w7D=y7D[1]+y7D[0];break;}return w7D;},r7e:function(C7D){s7D=C7D;}};}();F6hh.p9c=function (){return typeof F6hh.H9c.y7e==='function'?F6hh.H9c.y7e.apply(F6hh.H9c,arguments):F6hh.H9c.y7e;};F6hh.Q7D=function (){return typeof F6hh.o7D.y7e==='function'?F6hh.o7D.y7e.apply(F6hh.o7D,arguments):F6hh.o7D.y7e;};F6hh.L60=function(i60){return{y7e:function(){var W60,h60=arguments;switch(i60){case 0:W60=h60[0]/h60[1];break;}return W60;},r7e:function(l60){i60=l60;}};}();F6hh.k7e=function (){return typeof F6hh.F7e.y7e==='function'?F6hh.F7e.y7e.apply(F6hh.F7e,arguments):F6hh.F7e.y7e;};F6hh.i5h=function (){return typeof F6hh.V5h.y7e==='function'?F6hh.V5h.y7e.apply(F6hh.V5h,arguments):F6hh.V5h.y7e;};F6hh.W1V=function (){return typeof F6hh.U1V.y7e==='function'?F6hh.U1V.y7e.apply(F6hh.U1V,arguments):F6hh.U1V.y7e;};F6hh.q9c=function (){return typeof F6hh.H9c.r7e==='function'?F6hh.H9c.r7e.apply(F6hh.H9c,arguments):F6hh.H9c.r7e;};F6hh.I3M=function(o3M){return{y7e:function(){var M3M,O3M=arguments;switch(o3M){case 0:M3M=O3M[0]+O3M[1];break;}return M3M;},r7e:function(q3M){o3M=q3M;}};}();F6hh.P3e=function (){return typeof F6hh.u3e.r7e==='function'?F6hh.u3e.r7e.apply(F6hh.u3e,arguments):F6hh.u3e.r7e;};F6hh.h9r=function(I9r){return{y7e:function(){var z9r,Q9r=arguments;switch(I9r){case 0:z9r=Q9r[0]+Q9r[1];break;}return z9r;},r7e:function(L9r){I9r=L9r;}};}();F6hh.H60=function (){return typeof F6hh.L60.r7e==='function'?F6hh.L60.r7e.apply(F6hh.L60,arguments):F6hh.L60.r7e;};F6hh.M1V=function (){return typeof F6hh.U1V.y7e==='function'?F6hh.U1V.y7e.apply(F6hh.U1V,arguments):F6hh.U1V.y7e;};F6hh.v7e=function (){return typeof F6hh.F7e.y7e==='function'?F6hh.F7e.y7e.apply(F6hh.F7e,arguments):F6hh.F7e.y7e;};F6hh.b1V=function (){return typeof F6hh.U1V.r7e==='function'?F6hh.U1V.r7e.apply(F6hh.U1V,arguments):F6hh.U1V.r7e;};F6hh.E3e=function (){return typeof F6hh.u3e.y7e==='function'?F6hh.u3e.y7e.apply(F6hh.u3e,arguments):F6hh.u3e.y7e;};(function(t,Y){t.Promise||(t.Promise=Y());}(this,function(){var Ha;function t(t){var Y;Y=this;if(t)try{t(function(n){gb(Y,n);},function(n){ya(Y,n);});}catch(n){ya(this,n);}}function Y(){return Object.create(t.prototype);}function gb(t,Y,n){t._fulfilled===Ha&&(t._fulfilled=!0,t._result=Y,Zb(t,n));}function ya(t,Y,n){t._fulfilled===Ha&&(t._fulfilled=!1,t._result=Y,Zb(t,n));}function Ea(t,Y){t._fulfilled!==Ha?$b(Y,t._fulfilled,t._result):(t._deferred||(t._deferred=[]),t._deferred.push(Y));}function Zb(t,Y){var n,w,k;n=t._deferred;if(n)for(t._deferred=Ha,w=n.length,k=0;k<w;k++)$b(n[k],t._fulfilled,t._result,Y);}function $b(t,Y,n,w){var k;Y&&n&&n._isPromise?Ea(n,t):(k=Y?t._onFulfilled:t._onRejected,t._onFulfilled=Ha,t._onRejected=Ha,k?w?Ia(t,k,n):setTimeout(Ia.bind(Ha,t,k,n),0):Y?gb(t,n,w):ya(t,n,w));}function Ia(t,Y,n){var w;try{w=Y(n);if(w===t)throw new TypeError();gb(t,w,!0);}catch(k){ya(t,k,!0);}}t.prototype.then=function(t,ya){var n;n=Y();"function"===typeof t&&(n._onFulfilled=t);"function"===typeof ya&&(n._onRejected=ya);Ea(this,n);return n;};t.prototype["catch"]=function(t){return this.then(Ha,t);};t.resolve=function(t){var ya;ya=Y();gb(ya,t);return ya;};t.reject=function(t){var Ha;Ha=Y();ya(Ha,t);return Ha;};t.all=function(t){var w,k,Ia,ob,ac,wb;function Ea(k,n){Ia[k]=n;--ob||gb(w,Ia,!1);}function n(k){ya(w,k,!1);}w=Y();k=t.length;Ia=[];ob=1;for(wb=0;wb<k;wb++)(ac=t[wb])&&ac._isPromise?(ob++,ac.then(Ea.bind(Ha,wb),n)):Ia[wb]=ac;--ob||(w._fulfilled=!0,w._result=Ia);return w;};t.race=function(Ea){var w,k,vb,ob;function Ia(k){gb(w,k,!1);}function n(k){ya(w,k,!1);}w=Y();k=Ea.length;for(ob=0;ob<k;ob++)if((vb=Ea[ob])&&vb._isPromise){if(vb.then(Ia,n),vb._fulfilled!==Ha)break;}else{t.resolve().then(Ia.bind(Ha,vb));break;}return w;};t.prototype._isPromise=!0;return t;}));(function(t,Y){var gb,Hb,Ja,Cc,ka,pa,cb,Kd,Ld,Ba,Ca,Pb,Md,Dc,Nd,Od,cd,q,ha,oc,Pd,dd,J,U,ea,zb,mb,Xa,aa,db,Ga,Rb,ua,ra,za,hb,Ec,Ab,rb,sb,Fc,ed,Qd,Jb,Kb,Sb,fd,dc,Bb,Gc,Ob,gd,Rd,ec,hd,id,jd,kd,Cb,ld,md,nd,gc,Db,Eb,hc,Hc,Ic,Jc,lb,Te,Fa,Qb,Sd,Kc,pb,Td,Ue,tb,Ud,Vd,Lc,Wd,Ve,nc,Xd,Qe,We,od,Mc,Xe,Ye,Ed,Ze,Fd,Yd,nb,pc,Zd,qc,$d,qb,ae,pd,be,qd,Nc,ce,af,Gd,Oc,$c,de,$e,ee,rd,fe,ge,he,sd,Nb,je,ie,bf,rc,ke,ud,sc,le,td,me,ne,vd,pe,qe,Rc,Vb,ic,Wb,re,se,te,ue,ve,we,Sc,cf,xe,ye,xd,ze,kb,Tb,fc,Ub,Lb,Fb,Pc,eb,Ib,oe,tc,Xb,Ae,df,uc,Be,ef,jc,Ce,Tc,yd,vc,zd,De,wc,Ee,Fe,Ge,ff,xc,He,gf,hf,Ie,wd,Qc,Je,Pe,Ke,jf,lf,kf,kc,Ac,mf,Dd,nf,Le,ad,na,Se;function ya(k,n){if(!n||"utf-8"===n)return Zb(k);throw Error("unsupported encoding");}function Ea(k,n){if(!n||"utf-8"===n)return $b(k);throw Error("unsupported encoding");}function Zb(k){for(var n=0,q,t=k.length,bb="";n<t;){q=k[n++];if(q&128)if(192===(q&224))q=((q&31)<<6)+(k[n++]&63);else if(224===(q&240))q=((q&15)<<12)+((k[n++]&63)<<6)+(k[n++]&63);else throw Error("unsupported character");bb+=String.fromCharCode(q);}return bb;}function $b(k){var n,q,t,bb,w;n=k.length;q=0;bb=0;for(t=n;t--;)w=k.charCodeAt(t),128>w?q++:q=2048>w?q+2:q+3;q=new Uint8Array(q);for(t=0;t<n;t++)w=k.charCodeAt(t),128>w?q[bb++]=w:(2048>w?q[bb++]=192|w>>>6:(q[bb++]=224|w>>>12,q[bb++]=128|w>>>6&63),q[bb++]=128|w&63);return q;}function Ia(k,n){if(k===n)return!0;if(!k||!n||k.length!=n.length)return!1;for(var q=0;q<k.length;++q)if(k[q]!=n[q])return!1;return!0;}function Ha(k){var t;if(!(k&&k.constructor==Uint8Array||Array.isArray(k)))throw new TypeError("Cannot compute the hash code of "+k);for(var n=1,q=0;q<k.length;++q){t=k[q];if("number"!==typeof t)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+t);n=31*n+t&4294967295;}return n;}function Ad(k,n){var J;if(k===n)return!0;if(!k||!n)return!1;n instanceof Array||(n=[n]);for(var q=0;q<n.length;++q){for(var t=n[q],w=!1,bb=0;bb<k.length;++bb){J=k[bb];if(t.equals&&"function"===typeof t.equals&&t.equals(J)||t==J){w=!0;break;}}if(!w)return!1;}return!0;}function Bd(k,n){return Ad(k,n)&&(k.length==n.length||Ad(n,k));}function n(k,n,q){var t,w;q&&(t=q);if("object"!==typeof k||"function"!==typeof k.result||"function"!==typeof k.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{w=n.call(t,k);w!==Y&&k.result(w);}catch(Xc){try{k.error(Xc);}catch(Da){}}}function w(k,q,t){if("object"!==typeof k||"function"!==typeof k.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");n(k,q,t);}function k(k,n,q){1E5>k&&(k=1E5+k);Object.defineProperties(this,{internalCode:{value:k,writable:!1,configurable:!1},responseCode:{value:n,writable:!1,configurable:!1},message:{value:q,writable:!1,configurable:!1}});}function vb(k){switch(k){case Fa.PSK:case Fa.MGK:return!0;default:return!1;}}function ob(k){switch(k){case Fa.PSK:case Fa.MGK:case Fa.X509:case Fa.RSA:case Fa.NPTICKET:case Fa.ECC:return!0;default:return!1;}}function ac(k){return k.toJSON();}function wb(n,q){Ac?q.result(Ac):Promise.resolve().then(function(){return za.getKeyByName(n);})["catch"](function(){return za.generateKey({name:n},!1,["wrapKey","unwrapKey"]);}).then(function(k){Ac=k;q.result(Ac);})["catch"](function(n){q.error(new J(k.INTERNAL_EXCEPTION,"Unable to get system key"));});}function Cd(k,n){var q,t,w;q=n.masterToken;t=n.userIdToken;w=n.serviceTokens;return{NccpMethod:k.method,UserId:k.userId,UT:t&&t.serialNumber,MT:q&&q.serialNumber+":"+q.sequenceNumber,STCount:w&&w.length};}function Ne(k){return k.uniqueKey();}function Oe(t,w,bc,Ra,cc){var xa;function bb(k,H){k.errorCode===q.ENTITY_REAUTH||k.errorCode===q.ENTITYDATA_REAUTH?(Ra.clearCryptoContexts(),Sa()):k.errorCode!==q.USER_REAUTH&&k.errorCode!==q.USERDATA_REAUTH||Da(H);}function Da(k){if(k=Ra.getUserIdToken(k))Ra.removeUserIdToken(k),Sa();}function Z(k,H,Q){var F;F=[];(function S(){k.read(-1,H,{result:function(k){n(Q,function(){var C,M,L,Q,H;if(k)F.push(k),S();else switch(F.length){case 0:return new Uint8Array(0);case 1:return F[0];default:Q=F.length,H=0;for(M=C=0;M<Q;M++)C+=F[M].length;C=new Uint8Array(C);for(M=0;M<Q;M++)L=F[M],C.set(L,H),H+=L.length;return C;}});},timeout:function(){Q.timeout();},error:function(k){Q.error(k);}});}());}function Sa(){Ra.getStoreState({result:function(k){for(var H=xa.slice(),Q=0;Q<H.length;Q++)H[Q]({storeState:k});},timeout:function(){t.error("Timeout getting store state",""+e);},error:function(k){t.error("Error getting store state",""+k);}});}xa=[];this.addEventHandler=function(k,H){switch(k){case"shouldpersist":xa.push(H);}};this.send=function(n){return new Promise(function(H,Q){var F,G,S;F=n.timeout;G=new Dd(t,bc,n,Ra.getKeyRequestData());S=new Ed(n.url);t.trace("Sending MSL request");w.request(bc,G,S,F,{result:function(G){var C;G&&G.getMessageHeader();t.trace("Received MSL response",{Method:n.method});if(G){n.allowTokenRefresh&&Sa();C=G.getErrorHeader();C?(bb(C,n.userId),Q({success:!1,error:C})):Z(G,F,{result:function(k){H({success:!0,body:ya(k)});},timeout:function(){Q({success:!1,subCode:cc.MSL_READ_TIMEOUT});},error:function(k){Q({success:!1,error:k});}});}else Q({success:!1,error:new J(k.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){Q({success:!1,subCode:cc.MSL_REQUEST_TIMEOUT});},error:function(k){Q({success:!1,error:k});}});});};this.hasUserIdToken=function(k){return!!Ra.getUserIdToken(k);};this.getUserIdTokenKeys=function(){return Ra.getUserIdTokenKeys();};this.removeUserIdToken=Da;this.clearUserIdTokens=function(){Ra.clearUserIdTokens();Sa();};this.isErrorReauth=function(k){return k&&k.errorCode==q.USERDATA_REAUTH;};this.isErrorHeader=function(k){return k instanceof Nb;};this.getErrorCode=function(k){return k&&k.errorCode;};this.getStateForMdx=function(k){var H,Q;H=Ra.getMasterToken();k=Ra.getUserIdToken(k);Q=Ra.getCryptoContext(H);return{masterToken:H,userIdToken:k,cryptoContext:Q};};this.buildPlayDataRequest=function(k,H){var Q;Q=new Fd();w.request(bc,new Dd(t,bc,k),Q,k.timeout,{result:function(){H.result(Q.getRequest());},error:function(){H.result(Q.getRequest());},timeout:function(){H.timeout();}});};this.rekeyUserIdToken=function(k,H){Ra.rekeyUserIdToken(k,H);Sa();};this.getServiceTokens=function(k){var H;H=Ra.getMasterToken();(k=Ra.getUserIdToken(k))&&!k.isBoundTo(H)&&(k=Y);return Ra.getServiceTokens(H,k);};this.removeServiceToken=function(k){var H;H=Ra.getMasterToken();Ra.getServiceTokens(H).find(function(Q){return Q.name===k;})&&(Ra.removeServiceTokens(k,H),Sa());};}function Yc(n,q,t,w,cc,Y){function Ra(q){var Z;return Promise.resolve().then(function(){Z=n.authenticationKeyNames[q];if(!Z)throw new J(k.KEY_IMPORT_ERROR,"Invalid config keyName "+q);return za.getKeyByName(Z);}).then(function(n){return new Promise(function(q,H){dc(n,{result:q,error:function(){H(new J(k.KEY_IMPORT_ERROR,"Unable to create "+Z+" CipherKey"));}});});})["catch"](function(n){throw new J(k.KEY_IMPORT_ERROR,"Unable to import "+Z,n);});}return Promise.resolve().then(function(){if(!za.getKeyByName)throw new J(k.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ra("e"),Ra("h"),Ra("w")]);}).then(function(k){var Z,xa,Ka;Z={};Z[q]=new t(n.esn,k[0],k[1],k[2]);k=new w(n.esn);xa=new Pe();xa=[new cc(xa)];Ka=new Y(q);return{entityAuthFactories:Z,entityAuthData:k,keyExchangeFactories:xa,keyRequestData:Ka};});}function Zc(n,q,t){var mc;function w(){return Promise.resolve().then(function(){return za.generateKey(q,!1,["wrapKey","unwrapKey"]);}).then(function(k){return bb(k.publicKey,k.privateKey);});}function bb(n,q){return Promise.all([new Promise(function(q,Z){Ob(n,{result:q,error:function(n){Z(new J(k.INTERNAL_EXCEPTION,"Unable to create keyx public key",n));}});}),new Promise(function(n,Z){ec(q,{result:n,error:function(n){Z(new J(k.INTERNAL_EXCEPTION,"Unable to create keyx private key",n));}});})]).then(function(k){k=new $c("rsaKeypairId",t,k[0],k[1]);mc&&(k.storeData={keyxPublicKey:n,keyxPrivateKey:q});return k;});}mc=!n.systemKeyWrapFormat;return Promise.resolve().then(function(){var k,q;k=n.storeState;q=k&&k.keyxPublicKey;k=k&&k.keyxPrivateKey;return mc&&q&&k?bb(q,k):w();}).then(function(k){var q,t,xa;q={};q[Fa.NONE]=new Qe();t=new nc(n.esn);xa=[new Gd()];return{entityAuthFactories:q,entityAuthData:t,keyExchangeFactories:xa,keyRequestData:k,createKeyRequestData:mc?w:Y};});}function Oa(){Oa=function(){};na.Symbol||(na.Symbol=Re);}function Re(k){return"jscomp_symbol_"+(k||"")+Se++;}function Za(){var k;Oa();k=na.Symbol.iterator;k||(k=na.Symbol.iterator=na.Symbol("iterator"));"function"!=typeof Array.prototype[k]&&ad(Array.prototype,k,{configurable:!0,writable:!0,value:function(){return Hd(this);}});Za=function(){};}function Hd(k){var n;n=0;return Id(function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0};});}function Id(k){Za();k={next:k};k[na.Symbol.iterator]=function(){return this;};return k;}function Aa(k){var n;Za();Oa();Za();n=k[Symbol.iterator];return n?n.call(k):Hd(k);}function ia(k,n){var w;function q(){}q.prototype=n.prototype;k.prototype=new q();k.prototype.constructor=k;for(var t in n)if(Object.defineProperties){w=Object.getOwnPropertyDescriptor(n,t);w&&Object.defineProperty(k,t,w);}else k[t]=n[t];}function xb(k){if(!(k instanceof Array)){k=Aa(k);for(var n,q=[];!(n=k.next()).done;)q.push(n.value);k=q;}return k;}function Wa(k,n){var q,w;if(n){q=na;k=k.split(".");for(var t=0;t<k.length-1;t++){w=k[t];w in q||(q[w]={});q=q[w];}k=k[k.length-1];t=q[k];n=n(t);n!=t&&null!=n&&ad(q,k,{configurable:!0,writable:!0,value:n});}}function yb(k,n){return Object.prototype.hasOwnProperty.call(k,n);}function bd(k,n){var q,t;Za();k instanceof String&&(k+="");q=0;t={next:function(){var w;if(q<k.length){w=q++;return{value:n(w,k[w]),done:!1};}t.next=function(){return{done:!0,value:void 0};};return t.next();}};t[Symbol.iterator]=function(){return t;};return t;}function Bc(k,n,q){if(null==k)throw new TypeError("The 'this' value for String.prototype."+q+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+q+" must not be a regular expression");return k+"";}function Jd(k,n,q){var J;k instanceof String&&(k=String(k));for(var t=k.length,w=0;w<t;w++){J=k[w];if(n.call(q,J,w,k))return{mi:w,VV:J};}return{mi:-1,VV:void 0};}Hb=t.nfCrypto||t.msCrypto||t.webkitCrypto||t.crypto;Ja=Hb&&(Hb.webkitSubtle||Hb.subtle);Cc=t.nfCryptokeys||t.msCryptokeys||t.webkitCryptokeys||t.cryptokeys;(function(k){var n,q;n=function(){function k(k,q){k instanceof n?(this.abv=k.abv,this.position=k.position):(this.abv=k,this.position=q||0);}k.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(k){this.abv[this.position++]=k;},peekByte:function(k){return this.abv[k];},copyBytes:function(k,n,q){var Z;Z=new Uint8Array(this.abv.buffer,this.position,q);k=new Uint8Array(k.buffer,n,q);Z.set(k);this.position+=q;},seek:function(k){this.position=k;},skip:function(k){this.position+=k;},getPosition:function(){return this.position;},setPosition:function(k){this.position=k;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return k;}();q={};(function(){var L,C,M,Qa,oa,wa,sa,g,d;function k(a,b){var c;b.writeByte(a.tagClass<<6|a.constructed<<5|a.tag);c=a.payloadLen;if(128>c)b.writeByte(c);else{for(var d=c,l=0;d;)++l,d>>=8;b.writeByte(128|l);for(d=0;d<l;++d)b.writeByte(c>>8*(l-d-1)&255);}if(a.child)for(a.tag==L.BIT_STRING&&b.writeByte(0),c=a._child;c;){if(!k(c,b))return!1;c=c.next;}else switch(a.tag){case L.INTEGER:a.backingStore[a.dataIdx]>>7&&b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.BIT_STRING:b.writeByte(0);b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.OCTET_STRING:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);break;case L.OBJECT_IDENTIFIER:b.copyBytes(a.backingStore,a.dataIdx,a.dataLen);}return!0;}function t(a){var b,c;b=a.readByte();c=b&127;if(c==b)return c;if(3<c||0===c)return-1;for(var d=b=0;d<c;++d)b=b<<8|a.readByte();return b;}function w(a,b,c){var d,l,f,p,m,r,u;d=a.backingStore;l=new n(d,b);b+=c;c=a;if(8<oa++)return Y;for(;l.getPosition()<b;){l.getPosition();m=l.readByte();if(31==(m&31)){for(p=0;m&128;)p<<=8,p|=m&127;m=p;}f=m;p=f&31;if(0>p||30<p)return Y;m=t(l);if(0>m||m>l.getRemaining())return Y;c.constructed=f&32;c.tagClass=(f&192)>>6;c.tag=p;c.dataLen=m;c.dataIdx=l.getPosition();p=l;r=f;f=m;if(r&32)p=!0;else if(r<L.BIT_STRING||r>L.OCTET_STRING)p=!1;else{u=new n(p);r==L.BIT_STRING&&u.skip(1);u.readByte()>>6&1?p=!1:(r=t(u),p=u.getPosition()-p.getPosition()+r==f);}p&&(p=l.getPosition(),f=m,c.tag==L.BIT_STRING&&(c.dataIdx++,c.dataLen--,p++,f--),c.child=new C(d,c),w(c.child,p,f));c.tag==L.INTEGER&&(p=l.getPosition(),0==l.peekByte(p)&&l.peekByte(p+1)>>7&&(c.dataIdx++,c.dataLen--));l.skip(m);l.getPosition()<b&&(c.next=new C(d,c.parent),c=c.next);}oa--;return a;}function J(a,b,c){if(9!=c)return!1;for(c=0;9>c;++c)if(a[b++]!=wa[c])return!1;return!0;}function Z(a){var b;if(!(a&&a.child&&a.child.next&&a.child.child&&a.child.next.child))return!1;b=a.child.child;return J(b.backingStore,b.dataIdx,b.dataLen)&&2==a.nChildren&&2==a.child.nChildren&&2==a.child.next.child.nChildren?!0:!1;}function Sa(a){var b;if(!(a&&a.child&&a.child.next&&a.child.next.child&&a.child.next.next&&a.child.next.next.child))return!1;b=a.child.next.child;return J(b.backingStore,b.dataIdx,b.dataLen)&&3==a.nChildren&&2==a.child.next.nChildren&&9==a.child.next.next.child.nChildren?!0:!1;}function xa(a){var b,c;b=M.createSequenceNode();c=new Qa(b);c.addChild(M.createSequenceNode());c.addChild(M.createOidNode(wa));c.addSibling(M.createNullNode());c.addToParent(b,M.createBitStringNode(null));c.addChild(M.createSequenceNode());c.addChild(M.createIntegerNode(a.n));c.addSibling(M.createIntegerNode(a.e));return b;}function Ka(a){var b;a=a.child.next.child.child;b=a.data;a=a.next;return new sa(b,a.data,null,null);}function H(a){var b,c;b=M.createSequenceNode();c=new Qa(b);c.addChild(M.createIntegerNode(new Uint8Array([0])));c.addSibling(M.createSequenceNode());c.addChild(M.createOidNode(wa));c.addSibling(M.createNullNode());c.addToParent(b,M.createOctetStringNode(null));c.addChild(M.createSequenceNode());c.addChild(M.createIntegerNode(new Uint8Array([0])));c.addSibling(M.createIntegerNode(a.n));c.addSibling(M.createIntegerNode(a.e));c.addSibling(M.createIntegerNode(a.d));c.addSibling(M.createIntegerNode(a.p));c.addSibling(M.createIntegerNode(a.q));c.addSibling(M.createIntegerNode(a.dp));c.addSibling(M.createIntegerNode(a.dq));c.addSibling(M.createIntegerNode(a.qi));return b;}function Q(a){var b;b=[];a=a.child.next.next.child.child.next;for(var c=0;8>c;c++)b.push(a.data),a=a.next;return new g(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);}function F(a,b,c,h){if(!(a instanceof sa||a instanceof g))return Y;if(c)for(var l=0;l<c.length;++l)if(-1==d.indexOf(c[l]))return Y;b={kty:"RSA",alg:b,key_ops:c||[],ext:h==Y?!1:h,n:ka(a.n,!0),e:ka(a.e,!0)};a instanceof g&&(b.d=ka(a.d,!0),b.p=ka(a.p,!0),b.q=ka(a.q,!0),b.dp=ka(a.dp,!0),b.dq=ka(a.dq,!0),b.qi=ka(a.qi,!0));return b;}function G(a){var b,c,d,l,f,p,m,r,u,x;if(!a.kty||"RSA"!=a.kty||!a.n||!a.e)return Y;b="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(a.alg&&-1==b.indexOf(a.alg))return Y;b=[];a.use?"enc"==a.use?b=["encrypt","decrypt","wrap","unwrap"]:"sig"==a.use&&(b=["sign","verify"]):b=a.key_ops;c=a.ext;d=pa(a.n,!0);l=pa(a.e,!0);if(a.d){f=pa(a.d,!0);p=pa(a.p,!0);m=pa(a.q,!0);r=pa(a.dp,!0);u=pa(a.dq,!0);x=pa(a.qi,!0);return new g(d,l,f,p,m,r,u,x,a.alg,b,c);}return new sa(d,l,c,b);}function S(a,b,c,d){this.der=a;this.type=b;this.keyOps=c;this.extractable=d;}L={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};C=function(a,b,c,d,l,f){this._data=a;this._parent=b||Y;this._constructed=c||!1;this._tagClass=0;this._tag=d||0;this._dataIdx=l||0;this._dataLen=f||0;};C.prototype={_child:Y,_next:Y,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(a){this._constructed=0!=a?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(a){this._tagClass=a;},get tag(){return this._tag;},set tag(a){this._tag=a;},get dataIdx(){return this._dataIdx;},set dataIdx(a){this._dataIdx=a;},get dataLen(){return this._dataLen;},set dataLen(a){this._dataLen=a;},get child(){return this._child;},set child(a){this._child=a;this._child.parent=this;},get next(){return this._next;},set next(a){this._next=a;},get parent(){return this._parent;},set parent(a){this._parent=a;},get payloadLen(){var a;a=0;if(this._child){for(var b=this._child;b;)a+=b.length,b=b.next;this._tag==L.BIT_STRING&&a++;}else switch(this._tag){case L.INTEGER:a=this._dataLen;this._data[this._dataIdx]>>7&&a++;break;case L.BIT_STRING:a=this._dataLen+1;break;case L.OCTET_STRING:a=this._dataLen;break;case L.NULL:a=0;break;case L.OBJECT_IDENTIFIER:J(this._data,this._dataIdx,this._dataLen)&&(a=9);}return a;},get length(){var a,b;a=this.payloadLen;if(127<a)for(b=a;b;)b>>=8,++a;return a+2;},get der(){var a,b;a=this.length;if(!a)return Y;a=new Uint8Array(a);b=new n(a);return k(this,b)?a:Y;},get nChildren(){for(var a=0,b=this._child;b;)a++,b=b.next;return a;}};M={createSequenceNode:function(){return new C(null,null,!0,L.SEQUENCE,null,null);},createOidNode:function(a){return new C(a,null,!1,L.OBJECT_IDENTIFIER,0,a?a.length:0);},createNullNode:function(){return new C(null,null,!1,L.NULL,null,null);},createBitStringNode:function(a){return new C(a,null,!1,L.BIT_STRING,0,a?a.length:0);},createIntegerNode:function(a){return new C(a,null,!1,L.INTEGER,0,a?a.length:0);},createOctetStringNode:function(a){return new C(a,null,!1,L.OCTET_STRING,0,a?a.length:0);}};Qa=function(a){this._currentNode=this._rootNode=a;};Qa.prototype={addChild:function(a){this.addTo(this._currentNode,a);},addSibling:function(a){this.addTo(this._currentNode.parent,a);},addTo:function(a,b){this._currentNode=b;this._currentNode.parent=a;if(a.child){for(var c=a.child;c.next;)c=c.next;c.next=b;}else a.child=b;},addToParent:function(a,b){this.findNode(a)&&this.addTo(a,b);},findNode:function(a){for(var b=this._currentNode;b;){if(a==b)return!0;b=b.parent;}return!1;}};oa=0;wa=new Uint8Array([42,134,72,134,247,13,1,1,1]);sa=function(a,b,c,d){this.n=a;this.e=b;this.ext=c;this.keyOps=d;};g=function(a,b,c,d,l,f,p,m,r,u,x){this.n=a;this.e=b;this.d=c;this.p=d;this.q=l;this.dp=f;this.dq=p;this.qi=m;this.alg=r;this.keyOps=u;this.ext=x;};d="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");S.prototype.getDer=function(){return this.der;};S.prototype.getType=function(){return this.type;};S.prototype.getKeyOps=function(){return this.keyOps;};S.prototype.getExtractable=function(){return this.extractable;};q.parse=function(a){oa=0;return w(new C(a),0,a.length);};q.show=function(a,b){};q.isRsaSpki=Z;q.isRsaPkcs8=Sa;q.NodeFactory=M;q.Builder=Qa;q.tagVal=L;q.RsaPublicKey=sa;q.RsaPrivateKey=g;q.buildRsaSpki=xa;q.parseRsaSpki=function(a){a=q.parse(a);return Z?Ka(a):Y;};q.buildRsaPkcs8=H;q.parseRsaPkcs8=function(a){a=q.parse(a);return Sa(a)?Q(a):Y;};q.buildRsaJwk=F;q.parseRsaJwk=G;q.RsaDer=S;q.rsaDerToJwk=function(a,b,c,d){a=q.parse(a);if(!a)return Y;if(Z(a))a=Ka(a);else if(Sa(a))a=Q(a);else return Y;return F(a,b,c,d);};q.jwkToRsaDer=function(a){var b,c;a=G(a);if(!a)return Y;if(a instanceof sa)b="spki",c=xa(a).der;else if(a instanceof g)b="pkcs8",c=H(a).der;else return Y;return new S(c,b,a.keyOps,a.ext);};q.webCryptoAlgorithmToJwkAlg=function(a){return"RSAES-PKCS1-v1_5"==a.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==a.name?"SHA-256"==a.hash.name?"RS256":"SHA-384"==a.hash.name?"RS384":"SHA-512"==a.hash.name?"RS512":Y:Y;};q.webCryptoUsageToJwkKeyOps=function(a){return a.map(function(a){return"wrapKey"==a?"wrap":"unwrapKey"==a?"unwrap":a;});};}());k.ASN1=q;}(t));(function(){for(var k={},n={},q={"=":0,".":0},t={"=":0,".":0},w=/s+/g,J=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Da=64;Da--;)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]]=262144*Da,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]]=4096*Da,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]]=64*Da,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]]=Da;for(Da=64;Da--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Da]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da];)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]]=262144*Da,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]]=4096*Da,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]]=64*Da,t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Da]]=Da;ka=function(k,n){for(var q="",t=0,H=k.length,Q=H-2,F,G=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=n?"":"=";t<Q;)F=65536*k[t++]+256*k[t++]+k[t++],q+=G[F>>>18]+G[F>>>12&63]+G[F>>>6&63]+G[F&63];t==Q?(F=65536*k[t++]+256*k[t++],q+=G[F>>>18]+G[F>>>12&63]+G[F>>>6&63]+S):t==H-1&&(F=65536*k[t++],q+=G[F>>>18]+G[F>>>12&63]+S+S);return q;};pa=function(Z,Sa){var xa;Z=Z.replace(w,"");if(Sa){xa=Z.length%4;if(xa)for(var xa=4-xa,Ka=0;Ka<xa;++Ka)Z+="=";}xa=Z.length;if(0!=xa%4||!J.test(Z))throw Error("bad base64: "+Z);for(var H=xa/4*3-("="==Z[xa-1]?1:0)-("="==Z[xa-2]?1:0),Q=new Uint8Array(H),F=0,G=0;F<xa;)Ka=k[Z[F++]]+n[Z[F++]]+q[Z[F++]]+t[Z[F++]],Q[G++]=Ka>>>16,G<H&&(Q[G++]=Ka>>>8&255,G<H&&(Q[G++]=Ka&255));return Q;};}());cb={};(function(){var J,Da,Z,xa;function k(q){if(!(this instanceof k))return new k(q);for(var H=0,Q=Da.length;H<Q;H++)this[Da[H]]="";this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=q||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Z.BEGIN;this.stack=new J();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;n(this,"onready");}function n(k,n,Q){if(k[n])k[n](Q);}function q(k,q){var Q,F;Q=k.opt;F=k.textNode;Q.trim&&(F=F.trim());Q.normalize&&(F=F.replace(/s+/g," "));k.textNode=F;k.textNode&&n(k,q?q:"onvalue",k.textNode);k.textNode="";}function t(k,H){q(k);H+="nLine: "+k.line+"nColumn: "+k.column+"nChar: "+k.c;H=Error(H);k.error=H;n(k,"onerror",H);return k;}function w(Ka){Ka.state!==Z.VALUE&&t(Ka,"Unexpected end");q(Ka);Ka.c="";Ka.closed=!0;n(Ka,"onend");k.call(Ka,Ka.opt);return Ka;}J=Array;cb.parser=function(n){return new k(n);};cb.CParser=k;cb.MAX_BUFFER_LENGTH=65536;cb.DEBUG=!1;cb.INFO=!1;cb.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Da=["textNode","numberNode"];cb.EVENTS.filter(function(k){return"error"!==k&&"end"!==k;});Z=0;cb.STATE={BEGIN:Z++,VALUE:Z++,OPEN_OBJECT:Z++,CLOSE_OBJECT:Z++,OPEN_ARRAY:Z++,CLOSE_ARRAY:Z++,TEXT_ESCAPE:Z++,STRING:Z++,BACKSLASH:Z++,END:Z++,OPEN_KEY:Z++,CLOSE_KEY:Z++,TRUE:Z++,TRUE2:Z++,TRUE3:Z++,FALSE:Z++,FALSE2:Z++,FALSE3:Z++,FALSE4:Z++,NULL:Z++,NULL2:Z++,NULL3:Z++,NUMBER_DECIMAL_POINT:Z++,NUMBER_DIGIT:Z++};for(var Sa in cb.STATE)cb.STATE[cb.STATE[Sa]]=Sa;Z=cb.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(k){return k.__proto__;});xa=/[\"n]/g;k.prototype={end:function(){w(this);},write:function(k){var F,G,S;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===k)return w(this);for(var H=k[0],Q;H;){Q=H;this.c=H=k.charAt(this.index++);Q!==H?this.p=Q:Q=this.p;if(!H)break;this.position++;"n"===H?(this.line++,this.column=0):this.column++;switch(this.state){case Z.BEGIN:"{"===H?this.state=Z.OPEN_OBJECT:"["===H?this.state=Z.OPEN_ARRAY:"r"!==H&&"n"!==H&&" "!==H&&"t"!==H&&t(this,"Non-whitespace before {[.");continue;case Z.OPEN_KEY:case Z.OPEN_OBJECT:if("r"===H||"n"===H||" "===H||"t"===H)continue;if(this.state===Z.OPEN_KEY)this.stack.push(Z.CLOSE_KEY);else if("}"===H){n(this,"onopenobject");n(this,"oncloseobject");this.state=this.stack.pop()||Z.VALUE;continue;}else this.stack.push(Z.CLOSE_OBJECT);'"'===H?this.state=Z.STRING:t(this,'Malformed object key should start with "');continue;case Z.CLOSE_KEY:case Z.CLOSE_OBJECT:if("r"===H||"n"===H||" "===H||"t"===H)continue;":"===H?(this.state===Z.CLOSE_OBJECT?(this.stack.push(Z.CLOSE_OBJECT),q(this,"onopenobject")):q(this,"onkey"),this.state=Z.VALUE):"}"===H?(q(this),n(this,"oncloseobject",void 0),this.state=this.stack.pop()||Z.VALUE):","===H?(this.state===Z.CLOSE_OBJECT&&this.stack.push(Z.CLOSE_OBJECT),q(this),this.state=Z.OPEN_KEY):t(this,"Bad object");continue;case Z.OPEN_ARRAY:case Z.VALUE:if("r"===H||"n"===H||" "===H||"t"===H)continue;if(this.state===Z.OPEN_ARRAY)if(n(this,"onopenarray"),this.state=Z.VALUE,"]"===H){n(this,"onclosearray");this.state=this.stack.pop()||Z.VALUE;continue;}else this.stack.push(Z.CLOSE_ARRAY);'"'===H?this.state=Z.STRING:"{"===H?this.state=Z.OPEN_OBJECT:"["===H?this.state=Z.OPEN_ARRAY:"t"===H?this.state=Z.TRUE:"f"===H?this.state=Z.FALSE:"n"===H?this.state=Z.NULL:"-"===H?this.numberNode+=H:"0"===H?(this.numberNode+=H,this.state=Z.NUMBER_DIGIT):-1!=="123456789".indexOf(H)?(this.numberNode+=H,this.state=Z.NUMBER_DIGIT):t(this,"Bad value");continue;case Z.CLOSE_ARRAY:if(","===H)this.stack.push(Z.CLOSE_ARRAY),q(this,"onvalue"),this.state=Z.VALUE;else if("]"===H)q(this),n(this,"onclosearray",void 0),this.state=this.stack.pop()||Z.VALUE;else if("r"===H||"n"===H||" "===H||"t"===H)continue;else t(this,"Bad array");continue;case Z.STRING:Q=this.index-1;F=this.slashed,G=this.unicodeI;a:for(;;){if(cb.DEBUG)for(;0<G;)if(this.unicodeS+=H,H=k.charAt(this.index++),4===G?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),G=0,Q=this.index-1):G++,!H)break a;if('"'===H&&!F){this.state=this.stack.pop()||Z.VALUE;(this.textNode+=k.substring(Q,this.index-1))||n(this,"onvalue","");break;}if("\"===H&&!F&&(F=!0,this.textNode+=k.substring(Q,this.index-1),H=k.charAt(this.index++),!H))break;if(F)if(F=!1,"n"===H?this.textNode+="n":"r"===H?this.textNode+="r":"t"===H?this.textNode+="t":"f"===H?this.textNode+="f":"b"===H?this.textNode+="b":"u"===H?(G=1,this.unicodeS=""):this.textNode+=H,H=k.charAt(this.index++),Q=this.index-1,H)continue;else break;xa.lastIndex=this.index;S=xa.exec(k);if(null===S){this.index=k.length+1;this.textNode+=k.substring(Q,this.index-1);break;}this.index=S.index+1;H=k.charAt(S.index);if(!H){this.textNode+=k.substring(Q,this.index-1);break;}}this.slashed=F;this.unicodeI=G;continue;case Z.TRUE:if(""===H)continue;"r"===H?this.state=Z.TRUE2:t(this,"Invalid true started with t"+H);continue;case Z.TRUE2:if(""===H)continue;"u"===H?this.state=Z.TRUE3:t(this,"Invalid true started with tr"+H);continue;case Z.TRUE3:if(""===H)continue;"e"===H?(n(this,"onvalue",!0),this.state=this.stack.pop()||Z.VALUE):t(this,"Invalid true started with tru"+H);continue;case Z.FALSE:if(""===H)continue;"a"===H?this.state=Z.FALSE2:t(this,"Invalid false started with f"+H);continue;case Z.FALSE2:if(""===H)continue;"l"===H?this.state=Z.FALSE3:t(this,"Invalid false started with fa"+H);continue;case Z.FALSE3:if(""===H)continue;"s"===H?this.state=Z.FALSE4:t(this,"Invalid false started with fal"+H);continue;case Z.FALSE4:if(""===H)continue;"e"===H?(n(this,"onvalue",!1),this.state=this.stack.pop()||Z.VALUE):t(this,"Invalid false started with fals"+H);continue;case Z.NULL:if(""===H)continue;"u"===H?this.state=Z.NULL2:t(this,"Invalid null started with n"+H);continue;case Z.NULL2:if(""===H)continue;"l"===H?this.state=Z.NULL3:t(this,"Invalid null started with nu"+H);continue;case Z.NULL3:if(""===H)continue;"l"===H?(n(this,"onvalue",null),this.state=this.stack.pop()||Z.VALUE):t(this,"Invalid null started with nul"+H);continue;case Z.NUMBER_DECIMAL_POINT:"."===H?(this.numberNode+=H,this.state=Z.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case Z.NUMBER_DIGIT:-1!=="0123456789".indexOf(H)?this.numberNode+=H:"."===H?(-1!==this.numberNode.indexOf(".")&&t(this,"Invalid number has two dots"),this.numberNode+=H):"e"===H||"E"===H?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||t(this,"Invalid number has two exponential"),this.numberNode+=H):"+"===H||"-"===H?("e"!==Q&&"E"!==Q&&t(this,"Invalid symbol in number"),this.numberNode+=H):(this.numberNode&&n(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||Z.VALUE);continue;default:t(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){k=Math.max(cb.MAX_BUFFER_LENGTH,10);Q=H=0;for(F=Da.length;Q<F;Q++){G=this[Da[Q]].length;if(G>k)switch(Da[Q]){case"text":break;default:t(this,"Max buffer length exceeded: "+Da[Q]);}H=Math.max(H,G);}this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH-H+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var t;function k(k,n){n||(n=k.length);return k.reduce(function(k,q,t){return t<n?k+String.fromCharCode(q):k;},"");}for(var n={},q=0;256>q;++q){t=k([q]);n[t]=q;}for(var w=Object.keys(n).length,J=[],q=0;256>q;++q)J[q]=[q];Kd=function(q,t){var C,M;function Z(k,C){var M;for(;0<C;){if(G>=F.length)return!1;if(C>S){M=k;M=M>>>C-S;F[G]|=M&255;C-=S;S=8;++G;}else C<=S&&(M=k,M<<=S-C,M&=255,M>>>=8-S,F[G]|=M&255,S-=C,C=0,0==S&&(S=8,++G));}return!0;}for(var xa in n)t[xa]=n[xa];for(var Ka=w,H=[],Q=8,F=new Uint8Array(q.length),G=0,S=8,L=0;L<q.length;++L){C=q[L];H.push(C);xa=k(H);M=t[xa];if(!M){H=k(H,H.length-1);if(!Z(t[H],Q))return null;0!=Ka>>Q&&++Q;t[xa]=Ka++;H=[C];}}return 0<H.length&&(xa=k(H),M=t[xa],!Z(M,Q))?null:F.subarray(0,8>S?G+1:G);};Ld=function(k){var L,C,S,t;for(var n=J.slice(),q=0,t=0,w=8,H=new Uint8Array(Math.ceil(1.5*k.length)),Q=0,F,G=[];q<k.length&&!(8*(k.length-q)-t<w);){for(var S=F=0;S<w;){L=Math.min(w-S,8-t);C=k[q];C=C<<t;C=C&255;C=C>>>8-L;S=S+L;t=t+L;8==t&&(t=0,++q);F|=(C&255)<<w-S;}S=n[F];0==G.length?++w:(S?G.push(S[0]):G.push(G[0]),n[n.length]=G,G=[],n.length==1<<w&&++w,S||(S=n[F]));F=Q+S.length;F>=H.length&&(L=new Uint8Array(Math.ceil(1.5*F)),L.set(H),H=L);H.set(S,Q);Q=F;G=G.concat(S);}return H.subarray(0,Q);};}());(function(){var k,n,t;Ba="utf-8";Ca=9007199254740992;k=Pb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pb);Md=function(n){for(var q=[k.GZIP,k.LZW],t=0;t<q.length&&0<n.length;++t)for(var w=q[t],Z=0;Z<n.length;++Z)if(n[Z]==w)return w;return null;};n=Dc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(Dc);Nd=function(k){return n.AES_CBC_PKCS5Padding==k?n.AES_CBC_PKCS5Padding:n.RSA_ECB_PKCS1Padding==k?n.RSA_ECB_PKCS1Padding:n[k];};t=Od={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Od);cd=function(k){return t[k];};q={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(q);}());ha={isObjectLiteral:function(k){return null!==k&&"object"===typeof k&&k.constructor===Object;},extendDeep:function(){var k,n,q,t,w,J,U,Z;k=arguments[0];n=1;q=arguments.length;t=!1;"boolean"===typeof k&&(t=k,k=arguments[1],n=2);for(;n<q;n++)if(null!=(w=arguments[n]))for(J in w)t&&J in k||(Z=w[J],k!==Z&&Z!==Y&&(U=k[J],k[J]=null!==U&&null!==Z&&"object"===typeof U&&"object"===typeof Z?ha.extendDeep(t,{},U,Z):Z));return k;}};(function(){var Y,Z;function k(k,n){return function(){var q,H;q=k.base;k.base=n;H=k.apply(this,arguments);k.base=q;return H;};}function n(n,q,t){var H,Q,F,G;t=t||Z;G=!!t.extendAll;for(H in q)Q=q.__lookupGetter__(H),F=q.__lookupSetter__(H),Q||F?(Q&&n.__defineGetter__(H,Q),F&&n.__defineSetter__(H,F)):(Q=q[H],F=n[H],"function"===typeof Q&&"function"===typeof F&&Q!==F?(Q.base!==Function.prototype.base&&(Q=k(Q,F)),Q.base=F):(G||t[H])&&ha.isObjectLiteral(Q)&&ha.isObjectLiteral(F)&&(Q=ha.extendDeep({},F,Q)),n[H]=Q);}function q(){var k,n;k=Array.prototype.slice;n=k.call(arguments,1);return this.extend({init:function H(){var Q;Q=k.call(arguments,0);H.base.apply(this,n.concat(Q));}});}function t(k,q){var t;t=new this(Y);n(t,k,q);return J(t);}function w(k,q){n(this.prototype,k,q);return this;}function J(k){var n;n=function(){var k;k=this.init;k&&arguments[0]!==Y&&k.apply(this,arguments);};k&&(n.prototype=k);n.prototype.constructor=n;n.extend=t;n.bind=q;n.mixin=w;return n;}Y={};Z={actions:!0};Function.prototype.base=function(){};ha.Class={create:J,mixin:n,extend:function(k,n){var q;q=J();q.prototype=new k();return q.extend(n);}};ha.mixin=function(){ha.log&&ha.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){var Y,Z,Sa;function k(k,n){return function(){var q,Q;q=k.base;k.base=n;Q=k.apply(this,arguments);k.base=q;return Q;};}function n(n,q,H){var Q,F,G,S;H=H||Z;S=!!H.extendAll;for(Q in q)F=q.__lookupGetter__(Q),G=q.__lookupSetter__(Q),F||G?(F&&n.__defineGetter__(Q,F),G&&n.__defineSetter__(Q,G)):(F=q[Q],G=n[Q],"function"===typeof F&&"function"===typeof G&&F!==G?(F.base!==Sa&&(F=k(F,G)),F.base=G):(S||H[Q])&&ha.isObjectLiteral(F)&&ha.isObjectLiteral(G)&&(F=ha.extendDeep({},G,F)),n[Q]=F);}function q(){var k,n;k=Array.prototype.slice;n=k.call(arguments,1);return this.extend({init:function Q(){var F;F=k.call(arguments,0);Q.base.apply(this,n.concat(F));}});}function t(k,q){var H;H=new this(Y);n(H,k,q);return J(H);}function w(k,q){n(this.prototype,k,q);return this;}function J(k){var n;n=function(){var k;k=this.init;k&&arguments[0]!==Y&&k.apply(this,arguments);};k&&(n.prototype=k);n.prototype.constructor=n;n.extend=t;n.bind=q;n.mixin=w;return n;}Y={};Z={actions:!0};Sa=function(){};Function.prototype.base=Sa;ha.Class={create:J,mixin:n,extend:function(k,n){var q;q=J();q.prototype=new k();return q.extend(n);}};ha.mixin=function(){ha.log&&ha.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");n.apply(null,arguments);};}());(function(){function k(k){return k==Ca?1:k+1;}function n(n){if(0===Object.keys(n._waiters).length)return 0;for(var q=k(n._nextWaiter);!n._waiters[q];)q=k(q);return q;}oc=ha.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(k){var q;if(this._waiters[k]){q=this._waiters[k];delete this._waiters[k];k==this._nextWaiter&&(this._nextWaiter=n(this));q.call(this,Y);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(q,t){var J,Y;J=this;Y=k(this._lastWaiter);this._lastWaiter=Y;w(t,function(){var k,Z;if(0<this._queue.length){k=this._queue.shift();setTimeout(function(){t.result(k);},0);}else{-1!=q&&(Z=setTimeout(function(){delete J._waiters[Y];Y==J._nextWaiter&&(J._nextWaiter=n(J));t.timeout();},q));this._waiters[Y]=function(k){clearTimeout(Z);setTimeout(function(){t.result(k);},0);};this._nextWaiter||(this._nextWaiter=Y);}},J);return Y;},add:function(k){var q;if(this._nextWaiter){q=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=n(this);q.call(this,k);}else this._queue.push(k);}});}());(function(){var k;k=0-Ca;Pd=ha.Class.create({nextBoolean:function(){var k;k=new Uint8Array(1);Hb.getRandomValues(k);return k[0]&1?!0:!1;},nextInt:function(k){var n;if(null!==k&&k!==Y){if("number"!==typeof k)throw new TypeError("n must be of type number");if(1>k)throw new RangeError("n must be greater than zero");--k;n=new Uint8Array(4);Hb.getRandomValues(n);return Math.floor(((n[3]&127)<<24|n[2]<<16|n[1]<<8|n[0])/2147483648*(k-0+1)+0);}k=new Uint8Array(4);Hb.getRandomValues(k);n=(k[3]&127)<<24|k[2]<<16|k[1]<<8|k[0];return k[3]&128?-n:n;},nextLong:function(){var q,n;for(var n=k;n==k;){n=new Uint8Array(7);Hb.getRandomValues(n);q=16777216*((n[6]&31)<<24|n[5]<<16|n[4]<<8|n[3])+(n[2]<<16|n[1]<<8|n[0]);n=n[6]&128?-q-1:q;}return n;},nextBytes:function(k){Hb.getRandomValues(k);}});}());(function(){function k(k){return k==Ca?1:k+1;}function n(n){if(0===Object.keys(n._waitingReaders).length)return 0;for(var q=k(n._nextReader);!n._waitingReaders[q];)q=k(q);return q;}function q(n){if(0===Object.keys(n._waitingWriters).length)return 0;for(var q=k(n._nextWriter);!n._waitingWriters[q];)q=k(q);return q;}dd=ha.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(k){var t;if(this._waitingReaders[k]){t=this._waitingReaders[k];delete this._waitingReaders[k];k==this._nextReader&&(this._nextReader=n(this));t.call(this,!0);}this._waitingWriters[k]&&(t=this._waitingWriters[k],delete this._waitingWriters[k],k==this._nextWriter&&(this._nextWriter=q(this)),t.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(q,t){var J,U;J=this;U=k(this._lastNumber);this._lastNumber=U;w(t,function(){var k;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[U]=!0,U;-1!=q&&(k=setTimeout(function(){delete J._waitingReaders[U];U==J._nextReader&&(J._nextReader=n(J));t.timeout();},q));this._waitingReaders[U]=function(n){clearTimeout(k);n?setTimeout(function(){t.result(Y);},0):(J._readers[U]=!0,setTimeout(function(){t.result(U);},0));};this._nextReader||(this._nextReader=U);},J);return U;},writeLock:function(n,t){var J,U;J=this;U=k(this._lastNumber);this._lastNumber=U;w(t,function(){var k;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=U;-1!=n&&(k=setTimeout(function(){delete J._waitingWriters[U];U==J._nextWriter&&(J._nextWriter=q(J));t.timeout();},n));this._waitingWriters[U]=function(n){clearTimeout(k);n?setTimeout(function(){t.result(Y);},0):(J._writer=U,setTimeout(function(){t.result(U);},0));};this._nextWriter||(this._nextWriter=U);},J);return U;},unlock:function(n){if(n==this._writer)this._writer=null;else{if(!this._readers[n])throw new aa("There is no reader or writer with ticket number "+n+".");delete this._readers[n];}if(this._nextWriter)0<Object.keys(this._readers).length||(n=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=q(this),n.call(this,!1));else{for(var t=this._nextReader;0<Object.keys(this._waitingReaders).length;t=k(t))this._waitingReaders[t]&&(n=this._waitingReaders[t],delete this._waitingReaders[t],n.call(this,!1));this._nextReader=0;}}});}());ha.Class.mixin(k,{JSON_PARSE_ERROR:new k(0,q.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new k(1,q.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new k(2,q.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new k(3,q.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new k(4,q.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new k(5,q.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new k(6,q.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new k(7,q.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new k(8,q.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new k(9,q.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new k(10,q.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new k(11,q.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new k(12,q.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new k(13,q.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new k(14,q.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new k(15,q.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new k(16,q.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new k(17,q.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new k(18,q.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new k(19,q.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new k(20,q.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new k(21,q.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new k(22,q.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new k(23,q.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new k(24,q.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new k(25,q.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new k(26,q.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new k(27,q.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new k(28,q.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new k(29,q.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new k(30,q.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new k(31,q.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new k(32,q.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new k(33,q.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new k(34,q.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new k(35,q.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new k(36,q.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new k(37,q.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new k(38,q.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new k(39,q.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new k(40,q.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new k(41,q.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new k(42,q.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new k(43,q.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new k(44,q.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new k(45,q.FAIL,"Error exporting key."),DIGEST_ERROR:new k(46,q.FAIL,"Error in digest."),UNSUPPORTED_KEY:new k(47,q.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new k(48,q.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new k(49,q.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new k(50,q.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new k(51,q.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new k(52,q.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new k(53,q.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new k(54,q.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new k(55,q.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new k(56,q.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new k(57,q.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new k(58,q.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new k(59,q.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new k(60,q.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new k(61,q.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new k(62,q.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new k(1E3,q.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new k(1001,q.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new k(1002,q.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new k(1003,q.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new k(1004,q.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(1005,q.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new k(1006,q.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new k(1007,q.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new k(1008,q.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new k(1009,q.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new k(1010,q.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new k(1011,q.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new k(1012,q.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new k(1013,q.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new k(1014,q.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new k(2E3,q.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new k(2001,q.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new k(2002,q.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new k(2003,q.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new k(2004,q.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new k(2005,q.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(2006,q.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(2007,q.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new k(2008,q.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new k(2009,q.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new k(2010,q.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new k(2011,q.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new k(2012,q.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new k(2013,q.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new k(2014,q.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new k(2015,q.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new k(2016,q.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new k(2017,q.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new k(2018,q.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new k(2019,q.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new k(2020,q.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new k(3E3,q.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new k(3001,q.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new k(3002,q.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new k(3003,q.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new k(3004,q.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(3005,q.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new k(3006,q.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new k(3007,q.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new k(3008,q.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new k(3009,q.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new k(4E3,q.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new k(4001,q.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new k(4002,q.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new k(4003,q.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new k(4004,q.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new k(4005,q.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new k(4006,q.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new k(4007,q.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new k(4008,q.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new k(4009,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new k(4010,q.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new k(4011,q.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new k(4012,q.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new k(4013,q.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new k(4014,q.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new k(4015,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new k(4016,q.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new k(4017,q.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new k(4018,q.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new k(4019,q.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new k(4020,q.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new k(4021,q.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new k(4022,q.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new k(4023,q.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new k(4024,q.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new k(4025,q.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new k(4026,q.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new k(5E3,q.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new k(5001,q.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new k(5002,q.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new k(5003,q.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new k(5004,q.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new k(5005,q.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new k(5006,q.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new k(5007,q.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new k(5008,q.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new k(5009,q.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new k(5010,q.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new k(5011,q.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new k(5012,q.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new k(5013,q.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new k(5014,q.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new k(5015,q.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new k(5016,q.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new k(5017,q.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new k(5018,q.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new k(5019,q.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new k(5020,q.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new k(5021,q.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new k(5022,q.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new k(5023,q.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new k(5024,q.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new k(5025,q.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new k(5026,q.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new k(5027,q.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new k(5028,q.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new k(5029,q.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new k(5030,q.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new k(5031,q.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new k(5032,q.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new k(5033,q.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new k(5034,q.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new k(5035,q.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new k(5036,q.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new k(5037,q.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new k(5038,q.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new k(5039,q.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new k(5040,q.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new k(6E3,q.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new k(6001,q.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new k(6002,q.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new k(6003,q.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new k(6004,q.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new k(6005,q.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new k(6006,q.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new k(6007,q.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new k(6008,q.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new k(6009,q.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new k(6010,q.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new k(6011,q.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new k(6012,q.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new k(6013,q.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new k(6014,q.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new k(6015,q.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new k(6016,q.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new k(6017,q.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new k(6018,q.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new k(6019,q.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new k(6020,q.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new k(6021,q.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new k(6022,q.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new k(6023,q.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new k(6024,q.FAIL,"Invalid header data."),PAYLOAD_INVALID:new k(6025,q.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new k(6026,q.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new k(6027,q.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new k(6028,q.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new k(6029,q.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new k(6030,q.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new k(6031,q.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new k(6032,q.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new k(6033,q.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new k(6034,q.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new k(6035,q.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new k(6036,q.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new k(6037,q.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new k(7E3,q.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new k(7001,q.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new k(7002,q.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new k(7003,q.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new k(7004,q.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new k(7005,q.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new k(7006,q.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new k(7007,q.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new k(7008,q.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new k(7009,q.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new k(7010,q.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new k(7011,q.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new k(7012,q.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new k(7013,q.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new k(7014,q.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new k(7015,q.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new k(7016,q.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new k(8E3,q.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new k(8001,q.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new k(8002,q.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new k(8003,q.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new k(8004,q.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new k(8005,q.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new k(8006,q.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new k(8007,q.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new k(8008,q.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new k(8009,q.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new k(8010,q.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new k(8011,q.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new k(8012,q.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new k(9E3,q.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new k(9001,q.FAIL,"Error communicating with MSL entity."),NONE:new k(9999,q.FAIL,"Special unit test error.")});Object.freeze(k);(function(){J=ha.Class.create(Error());J.mixin({init:function(k,n,q){var w,U,aa;function t(){return U?U:this.cause&&this.cause instanceof J?this.cause.messageId:Y;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);w=k.message;n&&(w+=" ["+n+"]");aa=this.stack;Object.defineProperties(this,{message:{value:w,writable:!1,configurable:!0},error:{value:k,writable:!1,configurable:!0},cause:{value:q,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(k){if(0>k||k>Ca)throw new RangeError("Message ID "+k+" is outside the valid range.");t()||(U=k);},configurable:!0},stack:{get:function(){var k;k=this.toString();aa&&(k+="n"+aa);q&&q.stack&&(k+="nCaused by "+q.stack);return k;},configurable:!0}});},setEntity:function(k){!k||this.masterToken||this.entityAuthenticationData||(k instanceof kb?this.masterToken=k:k instanceof Qb&&(this.entityAuthenticationData=k));return this;},setUser:function(k){!k||this.userIdToken||this.userAuthenticationData||(k instanceof fc?this.userIdToken=k:k instanceof Ib&&(this.userAuthenticationData=k));return this;},setMessageId:function(k){this.messageId=k;return this;},toString:function(){return this.name+": "+this.message;}});}());U=J.extend({init:function mc(k,n,q){mc.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ea=J.extend({init:function bc(k,n,q){bc.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});zb=J.extend({init:function Ra(k,n,q){Ra.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){mb=ha.Class.create(Error());mb.mixin({init:function(k,n,q){var t;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},requestCause:{value:q,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();t&&(k+="n"+t);n&&n.stack&&(k+="nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Xa=ha.Class.create(Error());Xa.mixin({init:function(k,n){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();q&&(k+="n"+q);n&&n.stack&&(k+="nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){aa=ha.Class.create(Error());aa.mixin({init:function(k,n){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();q&&(k+="n"+q);n&&n.stack&&(k+="nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){db=ha.Class.create(Error());db.mixin({init:function(k,n){var q;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);q=this.stack;Object.defineProperties(this,{message:{value:k,writable:!1,configurable:!1},cause:{value:n,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var k;k=this.toString();q&&(k+="n"+q);n&&n.stack&&(k+="nCaused by "+n.stack);return k;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ga=J.extend({init:function cc(k,n,q){cc.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rb=J.extend({init:function Xc(k,n){Xc.base.call(this,k);Object.defineProperties(this,{masterToken:{value:n,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});ua=J.extend({init:function Da(k,n,q){Da.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});ra=J.extend({init:function Z(k,n,q){Z.base.call(this,k,n,q);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var H;function k(k){return"undefined"===typeof k?!1:k;}function n(k){return k&&k.length?(hb===H.V2014_02&&(k=k.map(function(k){return"wrap"==k?"wrapKey":"unwrap"==k?"unwrapKey":k;})),k):hb===H.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function q(k,n,q,S,L){return Promise.resolve().then(function(){return Ja.importKey(k,n,q,S,L);})["catch"](function(C){var F;if("spki"!==k&&"pkcs8"!==k)throw C;C=ASN1.webCryptoAlgorithmToJwkAlg(q);F=ASN1.webCryptoUsageToJwkKeyOps(L);C=ASN1.rsaDerToJwk(n,C,F,S);if(!C)throw Error("Could not make valid JWK from DER input");C=JSON.stringify(C);return Ja.importKey("jwk",$b(C),q,S,L);});}function w(k,n){return Promise.resolve().then(function(){return Ja.exportKey(k,n);})["catch"](function(F){if("spki"!==k&&"pkcs8"!==k)throw F;return Ja.exportKey("jwk",n).then(function(k){k=JSON.parse(Zb(new Uint8Array(k)));k=ASN1.jwkToRsaDer(k);if(!k)throw Error("Could not make valid DER from JWK input");return k.getDer().buffer;});});}H=Ec={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(Ec);hb=H.LATEST;za={encrypt:function(k,n,q){switch(hb){case H.LEGACY:return new Promise(function(F,G){var C;C=Ja.encrypt(k,n,q);C.oncomplete=function(k){F(k.target.result);};C.onerror=function(k){G(k);};});case H.V2014_01:case H.V2014_02:return Ja.encrypt(k,n,q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(k,n,q){switch(hb){case H.LEGACY:return new Promise(function(F,G){var C;C=Ja.decrypt(k,n,q);C.oncomplete=function(k){F(k.target.result);};C.onerror=function(k){G(k);};});case H.V2014_01:case H.V2014_02:return Ja.decrypt(k,n,q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(k,n,q){switch(hb){case H.LEGACY:return new Promise(function(F,G){var C;C=Ja.sign(k,n,q);C.oncomplete=function(k){F(k.target.result);};C.onerror=function(k){G(k);};});case H.V2014_01:case H.V2014_02:return Ja.sign(k,n,q).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(k,n,q,S){switch(hb){case H.LEGACY:return new Promise(function(F,C){var M;M=Ja.verify(k,n,q,S);M.oncomplete=function(k){F(k.target.result);};M.onerror=function(k){C(k);};});case H.V2014_01:case H.V2014_02:return Ja.verify(k,n,q,S);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(k,n){switch(hb){case H.LEGACY:return new Promise(function(q,F){var G;G=Ja.digest(k,n);G.oncomplete=function(k){q(k.target.result);};G.onerror=function(k){F(k);};});case H.V2014_01:case H.V2014_02:return Ja.digest(k,n).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(q,F,G){var Q,L;Q=k(F);L=n(G);switch(hb){case H.LEGACY:return new Promise(function(k,n){var C;C=Ja.generateKey(q,Q,L);C.oncomplete=function(n){k(n.target.result);};C.onerror=function(k){n(k);};});case H.V2014_01:case H.V2014_02:return Ja.generateKey(q,Q,L);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(q,F,G,S,L){var C,M;C=k(S);M=n(L);switch(hb){case H.LEGACY:return new Promise(function(k,n){var L;L=Ja.deriveKey(q,F,G,C,M);L.oncomplete=function(n){k(n.target.result);};L.onerror=function(k){n(k);};});case H.V2014_01:case H.V2014_02:return Ja.deriveKey(q,F,G,C,M);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(Q,F,G,S,L){var C,M;C=k(S);M=n(L);switch(hb){case H.LEGACY:return new Promise(function(k,n){var q;q=Ja.importKey(Q,F,G,C,M);q.oncomplete=function(n){k(n.target.result);};q.onerror=function(k){n(k);};});case H.V2014_01:case H.V2014_02:return q(Q,F,G,C,M);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(k,n){switch(hb){case H.LEGACY:return new Promise(function(q,F){var G;G=Ja.exportKey(k,n);G.oncomplete=function(k){q(k.target.result);};G.onerror=function(k){F(k);};});case H.V2014_01:case H.V2014_02:return w(k,n).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(k,n,q,S){switch(hb){case H.LEGACY:return new Promise(function(k,C){var F;F=Ja.wrapKey(n,q,S);F.oncomplete=function(n){k(n.target.result);};F.onerror=function(k){C(k);};});case H.V2014_01:case H.V2014_02:return Ja.wrapKey(k,n,q,S).then(function(k){return new Uint8Array(k);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(q,F,G,S,L,C,M){switch(hb){case H.LEGACY:return new Promise(function(k,n){var C;C=Ja.unwrapKey(F,L,G);C.oncomplete=function(n){k(n.target.result);};C.onerror=function(k){n(k);};});case H.V2014_01:case H.V2014_02:return Ja.unwrapKey(q,F,G,S,L,k(C),n(M));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};Cc&&Cc.getKeyByName&&(za.getKeyByName=function(k){switch(hb){case H.LEGACY:return new Promise(function(n,q){var F;F=Cc.getKeyByName(k);F.oncomplete=function(k){n(k.target.result);};F.onerror=function(k){q(k);};});case H.V2014_01:case H.V2014_02:return Cc.getKeyByName(k);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});t.netflix=t.netflix||{};t.netflix.crypto=za;}());Ab={name:"AES-KW"};rb={name:"AES-CBC"};sb={name:"HMAC",hash:{name:"SHA-256"}};Fc={name:"RSA-OAEP",hash:{name:"SHA-1"}};ed={name:"RSAES-PKCS1-v1_5"};Qd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Jb=["encrypt","decrypt"];Kb=["wrap","unwrap"];Sb=["sign","verify"];(function(){fd=ha.Class.create({init:function(q,t,w){var H;function Z(k){n(t,function(){var n;n=k?ka(k):Y;Object.defineProperties(H,{rawKey:{value:q,writable:!1,configurable:!1},keyData:{value:k,writable:!1,configurable:!1},keyDataB64:{value:n,writable:!1,configurable:!1}});return this;},H);}H=this;n(t,function(){if(!q||"object"!=typeof q)throw new U(k.INVALID_SYMMETRIC_KEY);!w&&q.extractable?za.exportKey("raw",q).then(function(k){Z(new Uint8Array(k));},function(n){t.error(new U(k.KEY_EXPORT_ERROR,"raw"));}):Z(w);},H);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});dc=function(k,n){new fd(k,n);};Bb=function(q,t,w,J){n(J,function(){try{q="string"==typeof q?pa(q):q;}catch(H){throw new U(k.INVALID_SYMMETRIC_KEY,"keydata "+q,H);}za.importKey("raw",q,t,!0,w).then(function(k){new fd(k,J,q);},function(n){J.error(new U(k.INVALID_SYMMETRIC_KEY));});});};}());(function(){Gc=ha.Class.create({init:function(q,t,w){var H;function Z(k){n(t,function(){Object.defineProperties(H,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:k,writable:!1,configurable:!1}});return this;},H);}H=this;n(t,function(){if(!q||"object"!=typeof q||"public"!=q.type)throw new TypeError("Only original public crypto keys are supported.");!w&&q.extractable?za.exportKey("spki",q).then(function(k){Z(new Uint8Array(k));},function(n){t.error(new U(k.KEY_EXPORT_ERROR,"spki"));}):Z(w);});},getEncoded:function(){return this.encoded;}});Ob=function(k,n){new Gc(k,n);};gd=function(q,t,w,J){n(J,function(){try{q="string"==typeof q?pa(q):q;}catch(H){throw new U(k.INVALID_PUBLIC_KEY,"spki "+q,H);}za.importKey("spki",q,t,!0,w).then(function(k){new Gc(k,J,q);},function(n){J.error(new U(k.INVALID_PUBLIC_KEY));});});};}());(function(){Rd=ha.Class.create({init:function(q,t,w){var H;function J(k){n(t,function(){Object.defineProperties(H,{rawKey:{value:q,writable:!1,configurable:!1},encoded:{value:k,writable:!1,configurable:!1}});return this;},H);}H=this;n(t,function(){if(!q||"object"!=typeof q||"private"!=q.type)throw new TypeError("Only original private crypto keys are supported.");!w&&q.extractable?za.exportKey("pkcs8",q).then(function(k){J(new Uint8Array(k));},function(n){t.error(new U(k.KEY_EXPORT_ERROR,"pkcs8"));}):J(w);});},getEncoded:function(){return this.encoded;}});ec=function(k,n){new Rd(k,n);};}());(function(){var q;q=kd={V1:1,V2:2};hd=ha.Class.create({init:function(k,t,w,H){n(H,function(){var n,F,G,S;n=q.V1;F=k;G=null;for(S in Dc)if(Dc[S]==k){n=q.V2;F=null;G=k;break;}Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:F,writable:!1,configurable:!1},cipherSpec:{value:G,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:w,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var k;k={};switch(this.version){case q.V1:k.keyid=this.keyId;this.iv&&(k.iv=ka(this.iv));k.ciphertext=ka(this.ciphertext);k.sha256="AA==";break;case q.V2:k.version=this.version;k.cipherspec=this.cipherSpec;this.iv&&(k.iv=ka(this.iv));k.ciphertext=ka(this.ciphertext);break;default:throw new aa("Ciphertext envelope version "+this.version+" encoding unsupported.");}return k;}});id=function(k,n,q,t){new hd(k,n,q,t);};jd=function(t,w,J){n(J,function(){var n,Q,F,G,S,L,C;n=t.keyid;Q=t.cipherspec;F=t.iv;G=t.ciphertext;S=t.sha256;if(!w)if((w=t.version)&&"number"===typeof w&&w===w){L=!1;for(C in q)if(q[C]==w){L=!0;break;}if(!L)throw new U(k.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}else w=q.V1;switch(w){case q.V1:if("string"!==typeof n||F&&"string"!==typeof F||"string"!==typeof G||"string"!==typeof S)throw new ea(k.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));break;case q.V2:C=t.version;if(C!=q.V2)throw new U(k.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));if("string"!==typeof Q||F&&"string"!==typeof F||"string"!==typeof G)throw new ea(k.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));Q=Nd(Q);if(!Q)throw new U(k.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(t));n=Q;break;default:throw new U(k.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));}try{F&&(F=pa(F));G=pa(G);}catch(M){throw new U(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(t),M);}new hd(n,F,G,J);});};}());(function(){var q;q=nd={V1:1,V2:2};Cb=ha.Class.create({init:function(k,n,t){var H;switch(k){case q.V1:H=t;break;case q.V2:H={};H.version=k;H.algorithm=n;H.signature=ka(t);H=Ea(JSON.stringify(H),Ba);break;default:throw new aa("Signature envelope version "+k+" encoding unsupported.");}Object.defineProperties(this,{version:{value:k,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:n,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:H,writable:!1,configurable:!1}});}});ld=function(){var k,t,w,H;2==arguments.length?(k=q.V1,t=arguments[0],w=null,H=arguments[1]):3==arguments.length&&(k=q.V2,w=arguments[0],t=arguments[1],H=arguments[2]);n(H,function(){return new Cb(k,w,t);});};md=function(t,w,J){n(J,function(){var n,Q,F,G,S,L,C;if(w)switch(w){case q.V1:return new Cb(q.V1,null,t);case q.V2:try{n=ya(t,Ba);Q=JSON.parse(n);F=parseInt(Q.version);G=Q.algorithm;S=Q.signature;if(!F||"number"!==typeof F||F!=F||"string"!==typeof G||"string"!==typeof S)throw new ea(k.JSON_PARSE_ERROR,"signature envelope "+ka(t));if(q.V2!=F)throw new U(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ka(t));L=cd(G);if(!L)throw new U(k.UNIDENTIFIED_ALGORITHM,"signature envelope "+ka(t));C=pa(S);if(!C)throw new U(k.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(t));return new Cb(q.V2,L,C);}catch(M){if(M instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"signature envelope "+ka(t),M);throw M;}default:throw new U(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ka(t));}try{n=ya(t,Ba);Q=JSON.parse(n);}catch(M){Q=null;}if(Q&&Q.version){if(n=Q.version,"number"!==typeof n||n!==n)n=q.V1;}else n=q.V1;switch(n){case q.V1:return new Cb(n,null,t);case q.V2:L=Q.algorithm;S=Q.signature;if("string"!==typeof L||"string"!==typeof S)return new Cb(q.V1,null,t);L=cd(L);if(!L)return new Cb(q.V1,null,t);try{C=pa(S);}catch(M){return new Cb(q.V1,null,t);}return new Cb(n,L,C);default:throw new U(k.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+t);}});};}());gc=ha.Class.create({encrypt:function(k,n){},decrypt:function(k,n){},wrap:function(k,n){},unwrap:function(k,n,q,t){},sign:function(k,n){},verify:function(k,n,q){}});(function(){var q;q=Eb={RSA_OAEP:Fc.name,A128KW:Ab.name};gb="A128GCM";Db=ha.Class.create({init:function(k,n,t,H,Q){switch(n){case q.RSA_OAEP:Q=Q&&(Q.rawKey||Q);H=H&&(H.rawKey||H);break;case q.A128KW:Q=H=H&&(H.rawKey||H);break;default:throw new aa("Unsupported algorithm: "+n);}Object.defineProperties(this,{_ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},_algo:{value:n,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:Q,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,q){q.error(new U(k.ENCRYPT_NOT_SUPPORTED));},decrypt:function(n,q){q.error(new U(k.DECRYPT_NOT_SUPPORTED));},wrap:function(q,t){n(t,function(){za.wrapKey("jwe+jwk",q.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(k){t.result(k);},function(n){t.error(new U(k.WRAP_ERROR));});},this);},unwrap:function(q,t,w,H){function Q(q){n(H,function(){switch(q.type){case"secret":dc(q,H);break;case"public":Ob(q,H);break;case"private":ec(q,H);break;default:throw new U(k.UNSUPPORTED_KEY,"type: "+q.type);}});}n(H,function(){za.unwrapKey("jwe+jwk",q,this._unwrapKey,this._unwrapKey.algorithm,t,!1,w).then(function(k){Q(k);},function(){H.error(new U(k.UNWRAP_ERROR));});},this);},sign:function(n,q){q.error(new U(k.SIGN_NOT_SUPPORTED));},verify:function(n,q,t){t.error(new U(k.VERIFY_NOT_SUPPORTED));}});}());hc=gc.extend({encrypt:function(k,n){n.result(k);},decrypt:function(k,n){n.result(k);},wrap:function(k,n){n.result(k);},unwrap:function(k,n,q,t){t.result(k);},sign:function(k,n){n.result(new Uint8Array(0));},verify:function(k,n,q){q.result(!0);}});(function(){var q;q=Ic={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Hc=gc.extend({init:function xa(k,n,t,F,G){xa.base.call(this);t&&(t=t.rawKey);F&&(F=F.rawKey);Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:t,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:F,writable:!1,enumerable:!1,configurable:!1},transform:{value:G==q.ENCRYPT_DECRYPT_PKCS1?ed:G==q.ENCRYPT_DECRYPT_OAEP?Fc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:G==q.WRAP_UNWRAP_PKCS1?ed:G==q.WRAP_UNWRAP_OAEP?Fc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:G==q.SIGN_VERIFY?Qd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,t){var H;H=this;n(t,function(){if("nullOp"==this.transform)return q;if(!this.publicKey)throw new U(k.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==q.length)return q;za.encrypt(H.transform,H.publicKey,q).then(function(n){id(H.id,null,n,{result:function(n){var q;try{q=JSON.stringify(n);t.result(Ea(q,Ba));}catch(S){t.error(new U(k.ENCRYPT_ERROR,null,S));}},error:function(n){n instanceof J||(n=new U(k.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new U(k.ENCRYPT_ERROR));});},this);},decrypt:function(q,t){var H;H=this;n(t,function(){var n,F;if("nullOp"==this.transform)return q;if(!this.privateKey)throw new U(k.DECRYPT_NOT_SUPPORTED,"no private key");if(0==q.length)return q;try{F=ya(q,Ba);n=JSON.parse(F);}catch(G){if(G instanceof SyntaxError)throw new U(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,G);throw new U(k.DECRYPT_ERROR,null,G);}jd(n,kd.V1,{result:function(n){var q;try{if(n.keyId!=H.id)throw new U(k.ENVELOPE_KEY_ID_MISMATCH);q=t.result;za.decrypt(H.transform,H.privateKey,n.ciphertext).then(q,function(n){t.error(new U(k.DECRYPT_ERROR));});}catch(L){L instanceof J?t.error(L):t.error(new U(k.DECRYPT_ERROR,null,L));}},error:function(n){n instanceof ea&&(n=new U(k.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof J||(n=new U(k.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(q,t){n(t,function(){var n;if("nullOp"==this.wrapTransform||!this.publicKey)throw new U(k.WRAP_NOT_SUPPORTED,"no public key");n=t.result;za.wrapKey("jwk",q.rawKey,this.publicKey,this.wrapTransform).then(n,function(n){t.error(new U(k.WRAP_ERROR));});},this);},unwrap:function(q,t,H,Q){function F(q){n(Q,function(){switch(q.type){case"secret":dc(q,Q);break;case"public":Ob(q,Q);break;case"private":ec(q,Q);break;default:throw new U(k.UNSUPPORTED_KEY,"type: "+q.type);}});}n(Q,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new U(k.UNWRAP_NOT_SUPPORTED,"no private key");za.unwrapKey("jwk",q,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,H).then(F,function(n){Q.error(new U(k.UNWRAP_ERROR));});},this);},sign:function(q,t){n(t,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new U(k.SIGN_NOT_SUPPORTED,"no private key");za.sign(this.algo,this.privateKey,q).then(function(k){ld(k,{result:function(k){t.result(k.bytes);},error:t.error});},function(n){t.error(new U(k.SIGNATURE_ERROR));});},this);},verify:function(q,t,H){var Q;Q=this;n(H,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new U(k.VERIFY_NOT_SUPPORTED,"no public key");md(t,nd.V1,{result:function(F){n(H,function(){var n;n=H.result;za.verify(this.algo,this.publicKey,F.signature,q).then(n,function(n){H.error(new U(k.SIGNATURE_ERROR));});},Q);},error:H.error});},this);}});}());(function(){Jc=gc.extend({init:function Sa(k,n,q,t,F){Sa.base.call(this);q=q&&q.rawKey;t=t&&t.rawKey;F=F&&F.rawKey;Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},id:{value:n,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:q,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:t,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:F,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,t){var w;w=this;n(t,function(){var n;if(!this.encryptionKey)throw new U(k.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==q.length)return q;n=new Uint8Array(16);this.ctx.getRandom().nextBytes(n);za.encrypt({name:rb.name,iv:n},w.encryptionKey,q).then(function(q){q=new Uint8Array(q);id(w.id,n,q,{result:function(n){var q;try{q=JSON.stringify(n);t.result(Ea(q,Ba));}catch(S){t.error(new U(k.ENCRYPT_ERROR,null,S));}},error:function(n){n instanceof J||(n=new U(k.ENCRYPT_ERROR,null,n));t.error(n);}});},function(n){t.error(new U(k.ENCRYPT_ERROR));});},this);},decrypt:function(q,t){var w;w=this;n(t,function(){var n,Q;if(!this.encryptionKey)throw new U(k.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==q.length)return q;try{Q=ya(q,Ba);n=JSON.parse(Q);}catch(F){if(F instanceof SyntaxError)throw new U(k.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,F);throw new U(k.DECRYPT_ERROR,null,F);}jd(n,kd.V1,{result:function(n){try{if(n.keyId!=w.id)throw new U(k.ENVELOPE_KEY_ID_MISMATCH);za.decrypt({name:rb.name,iv:n.iv},w.encryptionKey,n.ciphertext).then(function(k){k=new Uint8Array(k);t.result(k);},function(){t.error(new U(k.DECRYPT_ERROR));});}catch(G){G instanceof J?t.error(G):t.error(new U(k.DECRYPT_ERROR,null,G));}},error:function(n){n instanceof ea&&(n=new U(k.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,n));n instanceof J||(n=new U(k.DECRYPT_ERROR,null,n));t.error(n);}});},this);},wrap:function(q,t){n(t,function(){if(!this.wrapKey)throw new U(k.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");za.wrapKey("raw",q.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(k){t.result(k);},function(n){t.error(new U(k.WRAP_ERROR));});},this);},unwrap:function(q,t,w,H){function Q(q){n(H,function(){switch(q.type){case"secret":dc(q,H);break;case"public":Ob(q,H);break;case"private":ec(q,H);break;default:throw new U(k.UNSUPPORTED_KEY,"type: "+q.type);}});}n(H,function(){if(!this.wrapKey)throw new U(k.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");za.unwrapKey("raw",q,this.wrapKey,this.wrapKey.algorithm,t,!1,w).then(function(k){Q(k);},function(n){H.error(new U(k.UNWRAP_ERROR));});},this);},sign:function(q,t){var w;w=this;n(t,function(){if(!this.hmacKey)throw new U(k.SIGN_NOT_SUPPORTED,"no HMAC key.");za.sign(sb,this.hmacKey,q).then(function(k){n(t,function(){var n;n=new Uint8Array(k);ld(n,{result:function(k){t.result(k.bytes);},error:t.error});},w);},function(){t.error(new U(k.HMAC_ERROR));});},this);},verify:function(q,t,w){var H;H=this;n(w,function(){if(!this.hmacKey)throw new U(k.VERIFY_NOT_SUPPORTED,"no HMAC key.");md(t,nd.V1,{result:function(t){n(w,function(){za.verify(sb,this.hmacKey,t.signature,q).then(function(k){w.result(k);},function(n){w.error(new U(k.HMAC_ERROR));});},H);},error:w.error});},this);}});}());lb=Jc.extend({init:function Sa(n,q,t,Q,F){if(t||Q||F)Sa.base.call(this,n,t+"_"+q.sequenceNumber,Q,F,null);else{if(!q.isDecrypted())throw new Rb(k.MASTERTOKEN_UNTRUSTED,q);Sa.base.call(this,n,q.identity+"_"+q.sequenceNumber,q.encryptionKey,q.hmacKey,null);}}});Te=gc.extend({encrypt:function(k,n){n.result(k);},decrypt:function(k,n){n.result(k);},wrap:function(k,n){n.error(new aa("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(k,n,q,t){t.error(new aa("Unwrap is unsupported by the MSL token crypto context."));},sign:function(k,n){n.result(new Uint8Array(0));},verify:function(k,n,q){q.result(!1);}});Fa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Fa);(function(){Qb=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(k){return this===k?!0:k instanceof Qb?this.scheme==k.scheme:!1;},toJSON:function(){var k;k={};k.scheme=this.scheme;k.authdata=this.getAuthData();return k;}});Sd=function(n,q){var t,H,Q;t=q.scheme;H=q.authdata;if(!t||!H)throw new ea(k.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(q));if(!Fa[t])throw new zb(k.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);Q=n.getEntityAuthenticationFactory(t);if(!Q)throw new zb(k.ENTITYAUTH_FACTORY_NOT_FOUND,t);return Q.createData(n,H);};}());Kc=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createData:function(k,n){},getCryptoContext:function(k,n){}});(function(){pb=Qb.extend({init:function xa(k){xa.base.call(this,Fa.MGK);Object.defineProperties(this,{identity:{value:k,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function Ka(k){return this===k?!0:k instanceof pb?Ka.base.call(this,this,k)&&this.identity==k.identity:!1;}});Td=function(n){var q;q=n.identity;if(!q)throw new ea(k.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(n));return new pb(q);};}());Ue=Kc.extend({init:function xa(k){xa.base.call(this,Fa.MGK);Object.defineProperties(this,{localIdentity:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Td(n);},getCryptoContext:function(n,q){if(!(q instanceof pb))throw new aa("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new zb(k.ENTITY_NOT_FOUND,"mgk "+q.identity).setEntity(q);return new hc();}});(function(){tb=Qb.extend({init:function Ka(k){Ka.base.call(this,Fa.PSK);Object.defineProperties(this,{identity:{value:k,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function H(k){return this===k?!0:k instanceof tb?H.base.call(this,this,k)&&this.identity==k.identity:!1;}});Ud=function(n){var q;q=n.identity;if(!q)throw new ea(k.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(n));return new tb(q);};}());Vd=Kc.extend({init:function Ka(k){Ka.base.call(this,Fa.PSK);Object.defineProperties(this,{localIdentity:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Ud(n);},getCryptoContext:function(n,q){if(!(q instanceof tb))throw new aa("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.getIdentity()!=this.localIdentity)throw new zb(k.ENTITY_NOT_FOUND,"psk "+q.identity).setEntity(q);return new hc();}});(function(){Lc=Qb.extend({init:function H(k,n){H.base.call(this,Fa.RSA);Object.defineProperties(this,{identity:{value:k,writable:!1,configurable:!1},publicKeyId:{value:n,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;k.pubkeyid=this.publicKeyId;return k;},equals:function Q(k){return this===k?!0:k instanceof Lc?Q.base.call(this,this,k)&&this.identity==k.identity&&this.publicKeyId==k.publicKeyId:!1;}});Wd=function(n){var q,t;q=n.identity;t=n.pubkeyid;if(!q||"string"!==typeof q||!t||"string"!==typeof t)throw new ea(k.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(n));return new Lc(q,t);};}());Ve=Kc.extend({init:function H(k){H.base.call(this,Fa.RSA);Object.defineProperties(this,{store:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n){return Wd(n);},getCryptoContext:function(n,q){var t,G,S;if(!(q instanceof Lc))throw new aa("Incorrect authentication data type "+q+".");t=q.identity;G=q.publicKeyId;S=this.store.getPublicKey(G);if(!S)throw new zb(k.RSA_PUBLICKEY_NOT_FOUND,G).setEntity(q);return new Hc(n,t,null,S,Ic.SIGN_VERIFY);}});(function(){nc=Qb.extend({init:function Q(k){Q.base.call(this,Fa.NONE);Object.defineProperties(this,{identity:{value:k,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var k;k={};k.identity=this.identity;return k;},equals:function F(k){return this===k?!0:k instanceof nc?F.base.call(this,this,k)&&this.identity==k.identity:!1;}});Xd=function(n){var q;q=n.identity;if(!q)throw new ea(k.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(n));return new nc(q);};}());Qe=Kc.extend({init:function Q(){Q.base.call(this,Fa.NONE);},createData:function(k,n){return Xd(n);},getCryptoContext:function(k,n){if(!(n instanceof nc))throw new aa("Incorrect authentication data type "+JSON.stringify(n)+".");return new hc();}});We=ha.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(k,n){if(!(n instanceof Gc))throw new aa("Incorrect key data type "+n+".");this.rsaKeys[k]=n;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(k){delete this.rsaKeys[k];},getPublicKey:function(k){return this.rsaKeys[k];}});od=ha.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(k,n,q){}});Mc=ha.Class.create({abort:function(){},close:function(k,n){},write:function(k,n,q,t,L){},flush:function(k,n){}});Xe=ha.Class.create({init:function(k){Object.defineProperties(this,{_data:{value:k,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Xa("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(k,n,q){w(q,function(){var n;if(this._closed)throw new Xa("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==k&&(k=this._data.length-this._currentPosition);n=this._data.subarray(this._currentPosition,this._currentPosition+k);this._currentPosition+=n.length;return n;},this);}});Ye=ha.Class.create({init:function(){var k;k={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},abort:function(){},close:function(k,n){this._closed=!0;n.result(!0);},write:function(k,n,q,t,L){w(L,function(){var C;if(this._closed)throw new Xa("Stream is already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(n+q>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");C=k.subarray(n,q);this._buffered.push(C);return C.length;},this);},flush:function(k,n){var q,t;for(;0<this._buffered.length;){q=this._buffered.shift();if(this._result){t=new Uint8Array(this._result.length+q.length);t.set(this._result);t.set(q,this._result.length);this._result=t;}else this._result=new Uint8Array(q);}n.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Ze=ha.Class.create({getResponse:function(k,n,q){}});(function(){var k,n;k=Mc.extend({init:function(k,n){var q;q={_httpLocation:{value:k,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Ye(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Y,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Y,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new oc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(k){this._timeout=k;},getResponse:function(k,n){var q;q=this;this._responseQueue.poll(k,{result:function(k){w(n,function(){k&&this._responseQueue.add(k);return k;},q);},timeout:function(){w(n,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();n.timeout();},q);},error:function(k){w(n,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw k;},q);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(k,n){var q;q=this;w(n,function(){var k;if(this._response)return!0;k=this._buffer.toByteArray();0<k.length&&(this._abortToken=this._httpLocation.getResponse({body:k},this._timeout,{result:function(k){q._response={response:k};q._responseQueue.add(q._response);},timeout:function(){q._response={isTimeout:!0};q._responseQueue.add(q._response);},error:function(k){q._response={isError:!0,error:k};q._responseQueue.add(q._response);}}));return!0;},this);},write:function(k,n,q,C,t){w(t,function(){if(this._response)throw new Xa("HttpOutputStream already closed.");this._buffer.write(k,n,q,C,t);},this);},flush:function(k,n){w(n,function(){if(this._response)return!0;this._buffer.flush(k,n);},this);}});n=od.extend({init:function(k){Object.defineProperties(this,{_out:{value:k,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Y,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Y,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Y,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(k,n,q){var t;function C(C){w(q,function(){if(!C)return new Uint8Array(0);this._out.getResponse(n,{result:function(C){w(q,function(){var M;if(C.isTimeout)this._timedout=!0,q.timeout();else{if(C.isError)throw this._exception=C.error||new Xa("Unknown HTTP exception."),this._exception;if(!C.response)throw this._exception=new Xa("Missing HTTP response."),this._exception;C.response.json!==Y&&(this._json=C.response.json,this.getJSON=function(){return t._json;});M=C.response.content||$b("string"===typeof C.response.body?C.response.body:JSON.stringify(this._json));this._buffer=new Xe(M);this._buffer.read(k,n,q);}},t);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});},t);}t=this;w(q,function(){if(this._exception)throw this._exception;if(this._timedout)q.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(k,n,q):this._out.close(n,{result:function(k){C(k);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});}},t);}});Ed=ha.Class.create({init:function(k,n){Object.defineProperties(this,{_httpLocation:{value:k,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:n,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(k){this._timeout=k;},openConnection:function(){var q;q=new k(this._httpLocation,this._timeout);return{input:new n(q),output:q};}});}());(function(){var k,n;k=Mc.extend({init:function(){var k;k={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},setTimeout:function(){},getResponse:function(k,n){n.result({success:!1,content:null,errorHttpCode:Y,errorSubCode:Y});},abort:function(){},close:function(k,n){n.result(!0);},write:function(k,n,q,C,t){var M,F;try{if(0>n)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(n+q>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");M=k.subarray(n,q);F=new Uint8Array(this._buffer.length+M.length);F.set(this._buffer);F.set(M,this._buffer.length);this._buffer=F;t.result(M.length);}catch(wa){t.error(wa);}},flush:function(k,n){n.result(!0);},request:function(){return this._buffer;}});n=od.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(k,n,q){q.result(new Uint8Array(16));}});Fd=ha.Class.create({init:function(){var q;q={output:{value:new k(),writable:!1,enumerable:!1,configurable:!1},input:{value:new n(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,q);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Zb(this.output.request());}});}());Yd=function(k,n,q){function t(k){var n,q;k=new $e(ya(k,"utf-8"));n=[];for(q=k.nextValue();q!==Y;)n.push(q),q=k.nextValue();return n;}(function(k,n,t){k.read(-1,n,{result:function(k){k&&k.length?t(null,k):t(null,null);},timeout:function(){q.timeout();},error:function(k){t(k,null);}});}(k,n,function(n,C){n?q.error(n):C?k.getJSON!==Y&&"function"===typeof k.getJSON?q.result(k.getJSON()):q.result(t(C)):q.result(null);}));};nb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(nb);(function(){pc=ha.Class.create({init:function(k){Object.defineProperties(this,{keyExchangeScheme:{value:k,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var k;k={};k.scheme=this.keyExchangeScheme;k.keydata=this.getKeydata();return k;},equals:function(k){return this===k?!0:k instanceof pc?this.keyExchangeScheme==k.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Zd=function(q,t,G){n(G,function(){var n,F,C;n=t.scheme;F=t.keydata;if(!n||!F||"object"!==typeof F)throw new ea(k.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(t));if(!nb[n])throw new Ga(k.UNIDENTIFIED_KEYX_SCHEME,n);C=q.getKeyExchangeFactory(n);if(!C)throw new Ga(k.KEYX_FACTORY_NOT_FOUND,n);C.createRequestData(q,F,G);});};}());(function(){qc=ha.Class.create({init:function(k,n){Object.defineProperties(this,{masterToken:{value:k,writable:!1,configurable:!1},keyExchangeScheme:{value:n,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var k;k={};k.mastertoken=this.masterToken;k.scheme=this.keyExchangeScheme;k.keydata=this.getKeydata();return k;},equals:function(k){return this===k?!0:k instanceof qc?this.masterToken.equals(k.masterToken)&&this.keyExchangeScheme==k.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});$d=function(q,t,G){n(G,function(){var F,L,C;F=t.mastertoken;L=t.scheme;C=t.keydata;if(!L||!F||"object"!==typeof F||!C||"object"!==typeof C)throw new ea(k.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(t));if(!nb[L])throw new Ga(k.UNIDENTIFIED_KEYX_SCHEME,L);Tb(q,F,{result:function(t){n(G,function(){var n;n=q.getKeyExchangeFactory(L);if(!n)throw new Ga(k.KEYX_FACTORY_NOT_FOUND,L);return n.createResponseData(q,t,C);});},error:function(k){G.error(k);}});});};}());(function(){var q;q=ha.Class.create({init:function(k,n){Object.defineProperties(this,{keyResponseData:{value:k,writable:!1,configurable:!1},cryptoContext:{value:n,writable:!1,configurable:!1}});}});qb=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createRequestData:function(k,n,q){},createResponseData:function(k,n,q){},generateResponse:function(k,n,q,t){},getCryptoContext:function(k,n,q,t,C){},generateSessionKeys:function(q,t){n(t,function(){var n,F;n=new Uint8Array(16);F=new Uint8Array(32);q.getRandom().nextBytes(n);q.getRandom().nextBytes(F);Bb(n,rb,Jb,{result:function(n){Bb(F,sb,Sb,{result:function(k){t.result({encryptionKey:n,hmacKey:k});},error:function(n){t.error(new U(k.SESSION_KEY_CREATION_FAILURE,null,n));}});},error:function(n){t.error(new U(k.SESSION_KEY_CREATION_FAILURE,null,n));}});});},importSessionKeys:function(k,n,q){Bb(k,rb,Jb,{result:function(k){Bb(n,sb,Sb,{result:function(n){q.result({encryptionKey:k,hmacKey:n});},error:function(k){q.error(k);}});},error:function(k){q.error(k);}});}});qb.KeyExchangeData=q;}());(function(){var t,G,S;function q(q,C,M,F,G){n(G,function(){var oa,L;switch(C){case t.PSK:oa=new tb(F),L=q.getEntityAuthenticationFactory(Fa.PSK);if(!L)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,C);oa=L.getCryptoContext(q,oa);return new Db(q,Eb.A128KW,gb,Y);case t.MGK:oa=new pb(F);L=q.getEntityAuthenticationFactory(Fa.MGK);if(!L)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,C);oa=L.getCryptoContext(q,oa);return new Db(q,Eb.A128KW,gb,Y);case t.WRAP:oa=q.getMslCryptoContext();oa.unwrap(M,Ab,Kb,{result:function(g){n(G,function(){return new Db(q,Eb.A128KW,gb,g);});},error:G.error});break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,C);}});}t={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};G=pd=pc.extend({init:function C(k,n){C.base.call(this,nb.JWE_LADDER);switch(k){case t.WRAP:if(!n)throw new aa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.mechanism=this.mechanism;this.wrapdata&&(k.wrapdata=ka(this.wrapdata));return k;},equals:function M(k){return k===this?!0:k instanceof pd?M.base.call(this,k)&&this.mechanism==k.mechanism&&Ia(this.wrapdata,k.wrapdata):!1;},uniqueKey:function Qa(){var k;k=Qa.base.call(this)+":"+this.mechanism;this.wrapdata&&(k+=":"+Ha(this.wrapdata));return k;}});S=be=qc.extend({init:function oa(k,n,g,d,a){oa.base.call(this,k,nb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:n,writable:!1,configurable:!1},wrapdata:{value:g,writable:!1,configurable:!1},encryptionKey:{value:d,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.wrapkey=ka(this.wrapKey);k.wrapdata=ka(this.wrapdata);k.encryptionkey=ka(this.encryptionKey);k.hmackey=ka(this.hmacKey);return k;},equals:function wa(k){return this===k?!0:k instanceof be?wa.base.call(this,k)&&Ia(this.wrapKey,k.wrapKey)&&Ia(this.wrapdata,k.wrapdata)&&Ia(this.encryptionKey,k.encryptionKey)&&Ia(this.hmacKey,k.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this)+":"+Ha(this.wrapKey)+":"+Ha(this.wrapdata)+":"+Ha(this.encryptionKey)+":"+Ha(this.hmacKey);}});ae=qb.extend({init:function g(d){g.base.call(this,nb.JWE_LADDER);Object.defineProperties(this,{repository:{value:d,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(g,d,a){n(a,function(){var a,c,h;a=d.mechanism;c=d.wrapdata;if(!a||a==t.WRAP&&(!c||"string"!==typeof c))throw new ea(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(d));if(!t[a])throw new Ga(k.UNIDENTIFIED_KEYX_MECHANISM,a);switch(a){case t.WRAP:try{h=pa(c);}catch(l){throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+d.toString());}if(null==h||0==h.length)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+d.toString());break;default:h=null;}return new G(a,h);});},createResponseData:function(g,d,a){var b,c,h,l,f,p,m;g=a.wrapkey;b=a.wrapdata;c=a.encryptionkey;h=a.hmackey;if(!(g&&"string"===typeof g&&b&&"string"===typeof b&&c&&"string"===typeof c&&h)||"string"!==typeof h)throw new ea(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));try{l=pa(g);f=pa(b);}catch(r){throw new U(k.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(a),r);}try{p=pa(c);}catch(r){throw new U(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(a),r);}try{m=pa(h);}catch(r){throw new U(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(a),r);}return new S(d,l,f,p,m);},generateResponse:function(g,d,a,b){var p,m;function c(a,f,c){p.generateSessionKeys(g,{result:function(d){n(b,function(){h(a,f,c,d.encryptionKey,d.hmacKey);},p);},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;});}});}function h(a,f,c,h,B){n(b,function(){q(g,d.mechanism,d.wrapdata,a,{result:function(a){a.wrap(f,{result:function(a){l(f,c,h,B,a);},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;});}});},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;});}});},p);}function l(a,c,d,h,l){n(b,function(){var p;p=new Db(g,Eb.A128KW,gb,a);p.wrap(d,{result:function(a){p.wrap(h,{result:function(b){f(c,l,d,a,h,b);},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;});}});},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;});}});},p);}function f(f,c,d,h,l,y){n(b,function(){var r;r=g.getTokenFactory();m?r.renewMasterToken(g,m,d,l,{result:function(a){n(b,function(){var d,p;d=new lb(g,a);p=new S(a,c,f,h,y);return new qb.KeyExchangeData(p,d,b);},p);},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;});}}):r.createMasterToken(g,a,d,l,{result:function(a){n(b,function(){var d,p;d=new lb(g,a);p=new S(a,c,f,h,y);return new qb.KeyExchangeData(p,d,b);},p);},error:b.error});},p);}p=this;n(b,function(){var f,h;if(!(d instanceof G))throw new aa("Key request data "+JSON.stringify(d)+" was not created by this factory.");f=a;if(a instanceof kb){if(!a.isVerified())throw new Rb(k.MASTERTOKEN_UNTRUSTED,a);m=a;f=a.identity;}h=new Uint8Array(16);g.getRandom().nextBytes(h);Bb(h,Ab,Kb,{result:function(a){n(b,function(){g.getMslCryptoContext().wrap(a,{result:function(b){c(f,a,b);},error:function(a){n(b,function(){a instanceof J&&a.setEntity(m);throw a;},p);}});},p);},error:function(a){n(b,function(){throw new U(k.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(m);},p);}});},p);},getCryptoContext:function(g,d,a,b,c){var l;function h(a,b,d,r,h){n(c,function(){var f;f=new Db(g,Eb.A128KW,gb,h);f.unwrap(b.encryptionKey,rb,Jb,{result:function(p){f.unwrap(b.hmacKey,sb,Sb,{result:function(a){n(c,function(){this.repository.addCryptoContext(b.wrapdata,f);this.repository.removeCryptoContext(d);return new lb(g,b.masterToken,r,p,a);},l);},error:function(f){n(c,function(){f instanceof J&&f.setEntity(a);throw f;});}});},error:function(f){n(c,function(){f instanceof J&&f.setEntity(a);throw f;});}});},l);}l=this;n(c,function(){var f,b;if(!(d instanceof G))throw new aa("Key request data "+JSON.stringify(d)+" was not created by this factory.");if(!(a instanceof S))throw new aa("Key response data "+JSON.stringify(a)+" was not created by this factory.");f=d.mechanism;b=d.wrapdata;g.getEntityAuthenticationData(null,{result:function(d){n(c,function(){var p,m,l;p=d.getIdentity();switch(f){case t.PSK:m=new tb(p);l=g.getEntityAuthenticationFactory(Fa.PSK);if(!l)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,f).setEntity(d);m=l.getCryptoContext(g,m);m=new Db(g,Eb.A128KW,gb,Y);break;case t.MGK:m=new pb(p);l=g.getEntityAuthenticationFactory(Fa.MGK);if(!l)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,f).setEntity(d);m=l.getCryptoContext(g,m);m=new Db(g,Eb.A128KW,gb,m.wrapKey);break;case t.WRAP:m=this.repository.getCryptoContext(b);if(!m)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,ka(b)).setEntity(d);break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,f).setEntity(d);}m.unwrap(a.wrapKey,Ab,Kb,{result:function(f){h(d,a,b,p,f);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(d);throw a;});}});},l);},error:c.error});},l);}});}());(function(){var t,G,S,L;function q(q,M,F,G,S){n(S,function(){var C,g;switch(M){case t.PSK:C=new tb(G),g=q.getEntityAuthenticationFactory(Fa.PSK);if(!g)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,M);C=g.getCryptoContext(q,C);return new L(Y);case t.MGK:C=new pb(G);g=q.getEntityAuthenticationFactory(Fa.MGK);if(!g)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,M);C=g.getCryptoContext(q,C);return new L(Y);case t.WRAP:C=q.getMslCryptoContext();C.unwrap(F,Ab,Kb,{result:function(d){n(S,function(){return new L(d);});},error:S.error});break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,M);}});}t={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};G=Nc=pc.extend({init:function M(k,n){M.base.call(this,nb.JWK_LADDER);switch(k){case t.WRAP:if(!n)throw new aa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:n=null;}Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.mechanism=this.mechanism;this.wrapdata&&(k.wrapdata=ka(this.wrapdata));return k;},equals:function Qa(k){return k===this?!0:k instanceof Nc?Qa.base.call(this,k)&&this.mechanism==k.mechanism&&Ia(this.wrapdata,k.wrapdata):!1;},uniqueKey:function oa(){var k;k=oa.base.call(this)+":"+this.mechanism;this.wrapdata&&(k+=":"+Ha(this.wrapdata));return k;}});S=ce=qc.extend({init:function wa(k,g,d,a,b){wa.base.call(this,k,nb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:g,writable:!1,configurable:!1},wrapdata:{value:d,writable:!1,configurable:!1},encryptionKey:{value:a,writable:!1,configurable:!1},hmacKey:{value:b,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.wrapkey=ka(this.wrapKey);k.wrapdata=ka(this.wrapdata);k.encryptionkey=ka(this.encryptionKey);k.hmackey=ka(this.hmacKey);return k;},equals:function sa(g){return this===g?!0:g instanceof ce?sa.base.call(this,g)&&Ia(this.wrapKey,g.wrapKey)&&Ia(this.wrapdata,g.wrapdata)&&Ia(this.encryptionKey,g.encryptionKey)&&Ia(this.hmacKey,g.hmacKey):!1;},uniqueKey:function g(){return g.base.call(this)+":"+Ha(this.wrapKey)+":"+Ha(this.wrapdata)+":"+Ha(this.encryptionKey)+":"+Ha(this.hmacKey);}});L=gc.extend({init:function(g){g&&g.rawKey&&(g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(g,d){d.error(new U(k.ENCRYPT_NOT_SUPPORTED));},decrypt:function(g,d){d.error(new U(k.DECRYPT_NOT_SUPPORTED));},wrap:function(g,d){n(d,function(){za.wrapKey("jwk",g.rawKey,this._wrapKey,Ab).then(function(a){d.result(a);},function(a){d.error(new U(k.WRAP_ERROR));});},this);},unwrap:function(g,d,a,b){function c(a){n(b,function(){switch(a.type){case"secret":dc(a,b);break;case"public":Ob(a,b);break;case"private":ec(a,b);break;default:throw new U(k.UNSUPPORTED_KEY,"type: "+a.type);}});}n(b,function(){za.unwrapKey("jwk",g,this._wrapKey,Ab,d,!1,a).then(function(a){c(a);},function(a){b.error(new U(k.UNWRAP_ERROR));});},this);},sign:function(g,d){d.error(new U(k.SIGN_NOT_SUPPORTED));},verify:function(g,d,a){a.error(new U(k.VERIFY_NOT_SUPPORTED));}});qd=qb.extend({init:function d(a){d.base.call(this,nb.JWK_LADDER);Object.defineProperties(this,{repository:{value:a,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(d,a,b){n(b,function(){var b,d,l;b=a.mechanism;d=a.wrapdata;if(!b||b==t.WRAP&&(!d||"string"!==typeof d))throw new ea(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(a));if(!t[b])throw new Ga(k.UNIDENTIFIED_KEYX_MECHANISM,b);switch(b){case t.WRAP:try{l=pa(d);}catch(f){throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());}if(null==l||0==l.length)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,"keydata "+a.toString());break;default:l=null;}return new G(b,l);});},createResponseData:function(d,a,b){var c,h,l,f,p,m,r;d=b.wrapkey;c=b.wrapdata;h=b.encryptionkey;l=b.hmackey;if(!(d&&"string"===typeof d&&c&&"string"===typeof c&&h&&"string"===typeof h&&l)||"string"!==typeof l)throw new ea(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{f=pa(d);p=pa(c);}catch(u){throw new U(k.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(b),u);}try{m=pa(h);}catch(u){throw new U(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),u);}try{r=pa(l);}catch(u){throw new U(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),u);}return new S(a,f,p,m,r);},generateResponse:function(d,a,b,c){var m,r;function h(a,f,b){m.generateSessionKeys(d,{result:function(d){n(c,function(){l(a,f,b,d.encryptionKey,d.hmacKey);},m);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;});}});}function l(b,p,h,l,y){n(c,function(){q(d,a.mechanism,a.wrapdata,b,{result:function(a){a.wrap(p,{result:function(a){f(p,h,l,y,a);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;});}});},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;});}});},m);}function f(a,f,b,d,h){n(c,function(){var m;m=new L(a);m.wrap(b,{result:function(a){m.wrap(d,{result:function(c){p(f,h,b,a,d,c);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;});}});},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;});}});},m);}function p(a,f,p,h,l,A){n(c,function(){var u;u=d.getTokenFactory();r?u.renewMasterToken(d,r,p,l,{result:function(b){n(c,function(){var p,m;p=new lb(d,b);m=new S(b,f,a,h,A);return new qb.KeyExchangeData(m,p,c);},m);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;});}}):u.createMasterToken(d,b,p,l,{result:function(b){n(c,function(){var p,m;p=new lb(d,b);m=new S(b,f,a,h,A);return new qb.KeyExchangeData(m,p,c);},m);},error:c.error});},m);}m=this;n(c,function(){var f,p;if(!(a instanceof G))throw new aa("Key request data "+JSON.stringify(a)+" was not created by this factory.");f=b;if(b instanceof kb){if(!b.isVerified())throw new Rb(k.MASTERTOKEN_UNTRUSTED,b);r=b;f=b.identity;}p=new Uint8Array(16);d.getRandom().nextBytes(p);Bb(p,Ab,Kb,{result:function(a){n(c,function(){d.getMslCryptoContext().wrap(a,{result:function(b){h(f,a,b);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(r);throw a;},m);}});},m);},error:function(a){n(c,function(){throw new U(k.WRAP_KEY_CREATION_FAILURE,null,a).setEntity(r);},m);}});},m);},getCryptoContext:function(d,a,b,c,h){var f;function l(a,b,c,l,x){n(h,function(){var p;p=new L(x);p.unwrap(b.encryptionKey,rb,Jb,{result:function(m){p.unwrap(b.hmacKey,sb,Sb,{result:function(a){n(h,function(){this.repository.addCryptoContext(b.wrapdata,p);this.repository.removeCryptoContext(c);return new lb(d,b.masterToken,l,m,a);},f);},error:function(f){n(h,function(){f instanceof J&&f.setEntity(a);throw f;});}});},error:function(f){n(h,function(){f instanceof J&&f.setEntity(a);throw f;});}});},f);}f=this;n(h,function(){var c,m;if(!(a instanceof G))throw new aa("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof S))throw new aa("Key response data "+JSON.stringify(b)+" was not created by this factory.");c=a.mechanism;m=a.wrapdata;d.getEntityAuthenticationData(null,{result:function(a){n(h,function(){var f,p,r;f=a.getIdentity();switch(c){case t.PSK:p=new tb(f);r=d.getEntityAuthenticationFactory(Fa.PSK);if(!r)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);p=r.getCryptoContext(d,p);p=new L(p.wrapKey);break;case t.MGK:p=new pb(f);r=d.getEntityAuthenticationFactory(Fa.MGK);if(!r)throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);p=r.getCryptoContext(d,p);p=new L(p.wrapKey);break;case t.WRAP:p=this.repository.getCryptoContext(m);if(!p)throw new Ga(k.KEYX_WRAPPING_KEY_MISSING,ka(m)).setEntity(a);break;default:throw new Ga(k.UNSUPPORTED_KEYX_MECHANISM,c).setEntity(a);}p.unwrap(b.wrapKey,Ab,Kb,{result:function(c){l(a,b,m,f,c);},error:function(f){n(h,function(){f instanceof J&&f.setEntity(a);throw f;});}});},f);},error:h.error});},f);}});}());af=ha.Class.create({addCryptoContext:function(k,n){},getCryptoContext:function(k){},removeCryptoContext:function(k){}});(function(){var t,G,S,L;function q(n,q,F,G,L){switch(F){case t.JWE_RSA:case t.JWEJS_RSA:return new Db(n,Eb.RSA_OAEP,gb,G,L);case t.JWK_RSA:return new Hc(n,q,G,L,Ic.WRAP_UNWRAP_OAEP);case t.JWK_RSAES:return new Hc(n,q,G,L,Ic.WRAP_UNWRAP_PKCS1);default:throw new U(k.UNSUPPORTED_KEYX_MECHANISM,F);}}t=Oc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};G=$c=pc.extend({init:function M(k,n,q,t){M.base.call(this,nb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:k,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:q,writable:!1,configurable:!1},privateKey:{value:t,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.keypairid=this.keyPairId;k.mechanism=this.mechanism;k.publickey=ka(this.publicKey.getEncoded());return k;},equals:function Qa(k){var n;if(k===this)return!0;if(!(k instanceof $c))return!1;n=this.privateKey===k.privateKey||this.privateKey&&k.privateKey&&Ia(this.privateKey.getEncoded(),k.privateKey.getEncoded());return Qa.base.call(this,k)&&this.keyPairId==k.keyPairId&&this.mechanism==k.mechanism&&Ia(this.publicKey.getEncoded(),k.publicKey.getEncoded())&&n;},uniqueKey:function oa(){var k,n;k=this.publicKey.getEncoded();n=this.privateKey&&this.privateKey.getEncoded();k=oa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+Ha(k);n&&(k+=":"+Ha(n));return k;}});S=function(q,F){n(F,function(){var n,g,d,a;n=q.keypairid;g=q.mechanism;d=q.publickey;if(!n||"string"!==typeof n||!g||!d||"string"!==typeof d)throw new ea(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(q));if(!t[g])throw new Ga(k.UNIDENTIFIED_KEYX_MECHANISM,g);try{a=pa(d);switch(g){case t.JWE_RSA:case t.JWEJS_RSA:case t.JWK_RSA:gd(a,Fc,Kb,{result:function(a){F.result(new G(n,g,a,null));},error:function(a){F.error(a);}});break;case t.JWK_RSAES:gd(a,ed,Kb,{result:function(a){F.result(new G(n,g,a,null));},error:function(a){F.error(a);}});break;default:throw new U(k.UNSUPPORTED_KEYX_MECHANISM,g);}}catch(b){if(!(b instanceof J))throw new U(k.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(q),b);throw b;}});};L=de=qc.extend({init:function wa(k,g,d,a){wa.base.call(this,k,nb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},encryptionKey:{value:d,writable:!1,configurable:!1},hmacKey:{value:a,writable:!1,configurable:!1}});},getKeydata:function(){var k;k={};k.keypairid=this.keyPairId;k.encryptionkey=ka(this.encryptionKey);k.hmackey=ka(this.hmacKey);return k;},equals:function sa(g){return this===g?!0:g instanceof de?sa.base.call(this,g)&&this.keyPairId==g.keyPairId&&Ia(this.encryptionKey,g.encryptionKey)&&Ia(this.hmacKey,g.hmacKey):!1;},uniqueKey:function g(){return g.base.call(this)+":"+this.keyPairId+":"+Ha(this.encryptionKey)+":"+Ha(this.hmacKey);}});Gd=qb.extend({init:function d(){d.base.call(this,nb.ASYMMETRIC_WRAPPED);},createRequestData:function(d,a,b){S(a,b);},createResponseData:function(d,a,b){var c,h,l,f;d=b.keypairid;c=b.encryptionkey;h=b.hmackey;if(!d||"string"!==typeof d||!c||"string"!==typeof c||!h||"string"!==typeof h)throw new ea(k.JSON_PARSE_ERROR,"keydata "+JSON.stringify(b));try{l=pa(c);}catch(p){throw new U(k.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(b),p);}try{f=pa(h);}catch(p){throw new U(k.INVALID_HMAC_KEY,"keydata "+JSON.stringify(b),p);}return new L(a,d,l,f);},generateResponse:function(d,a,b,c){var f;function h(p,m){n(c,function(){var r;r=q(d,a.keyPairId,a.mechanism,null,a.publicKey);r.wrap(p,{result:function(a){n(c,function(){r.wrap(m,{result:function(f){l(p,a,m,f);},error:function(a){n(c,function(){a instanceof J&&b instanceof kb&&a.setEntity(b);throw a;},f);}});},f);},error:function(a){n(c,function(){a instanceof J&&b instanceof kb&&a.setEntity(b);throw a;},f);}});},f);}function l(p,m,r,h){n(c,function(){var l;l=d.getTokenFactory();b instanceof kb?l.renewMasterToken(d,b,p,r,{result:function(b){n(c,function(){var f,p;f=new lb(d,b);p=new L(b,a.keyPairId,m,h);return new qb.KeyExchangeData(p,f,c);},f);},error:function(a){n(c,function(){a instanceof J&&a.setEntity(b);throw a;},f);}}):l.createMasterToken(d,b,p,r,{result:function(b){n(c,function(){var f,p;f=new lb(d,b);p=new L(b,a.keyPairId,m,h);return new qb.KeyExchangeData(p,f,c);},f);},error:c.error});},f);}f=this;n(c,function(){if(!(a instanceof G))throw new aa("Key request data "+JSON.stringify(a)+" was not created by this factory.");this.generateSessionKeys(d,{result:function(a){h(a.encryptionKey,a.hmacKey);},error:function(a){n(c,function(){a instanceof J&&b instanceof kb&&a.setEntity(b);throw a;},f);}});},f);},getCryptoContext:function(d,a,b,c,h){var l;l=this;n(h,function(){var f,p,m;if(!(a instanceof G))throw new aa("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(b instanceof L))throw new aa("Key response data "+JSON.stringify(b)+" was not created by this factory.");f=a.keyPairId;p=b.keyPairId;if(f!=p)throw new Ga(k.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+f+"; response "+p).setEntity(c);p=a.privateKey;if(!p)throw new Ga(k.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(c);m=q(d,f,a.mechanism,p,null);m.unwrap(b.encryptionKey,rb,Jb,{result:function(a){m.unwrap(b.hmacKey,sb,Sb,{result:function(f){d.getEntityAuthenticationData(null,{result:function(c){n(h,function(){var p;p=c.getIdentity();return new lb(d,b.masterToken,p,a,f);},l);},error:function(a){n(h,function(){a instanceof J&&a.setEntity(c);throw a;},l);}});},error:function(a){n(h,function(){a instanceof J&&a.setEntity(c);throw a;},l);}});},error:function(a){n(h,function(){a instanceof J&&a.setEntity(c);throw a;},l);}});},l);}});}());$e=ha.Class.create({init:function(k){var n,q,t,L,C,M,w,oa;n=cb.parser();q=[];t=[];w=0;oa=!1;n.onerror=function(k){oa||(oa=!0,n.end());};n.onopenobject=function(k){var n;if(L)L[M]={},t.push(L),L=L[M];else if(C){n={};t.push(C);C.push(n);L=n;C=Y;}else L={};M=k;};n.oncloseobject=function(){var k;k=t.pop();k?"object"===typeof k?L=k:(L=Y,C=k):(q.push(L),w=n.index,L=Y);};n.onopenarray=function(){var k;if(L)L[M]=[],t.push(L),C=L[M],L=Y;else if(C){k=[];t.push(C);C.push(k);C=k;}else C=[];};n.onclosearray=function(){var k;k=t.pop();k?"object"===typeof k?(L=k,C=Y):C=k:(q.push(C),w=n.index,C=Y);};n.onkey=function(k){M=k;};n.onvalue=function(k){L?L[M]=k:C?C.push(k):(q.push(k),w=n.index);};n.write(k).close();Object.defineProperties(this,{_values:{value:q,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:w,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?Y:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var q,t,G,S,L;q=rd="entityauthdata";t=fe="mastertoken";G=ge="headerdata";S=he="errordata";L=sd="signature";ee=function(C,M,F,oa){n(oa,function(){var n,w,g,d,a,b;n=M[q];w=M[t];g=M[L];if(n&&"object"!==typeof n||w&&"object"!==typeof w||"string"!==typeof g)throw new ea(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(M));try{d=pa(g);}catch(c){throw new ua(k.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(M),c);}a=null;n&&(a=Sd(C,n));b=M[G];if(b!=Y&&null!=b){if("string"!==typeof b)throw new ea(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(M));w?Tb(C,w,{result:function(c){td(C,b,a,c,d,F,oa);},error:function(a){oa.error(a);}}):td(C,b,a,null,d,F,oa);}else if(n=M[S],n!=Y&&null!=n){if("string"!==typeof n)throw new ea(k.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(M));ie(C,n,a,d,oa);}else throw new ea(k.JSON_PARSE_ERROR,JSON.stringify(M));});};}());(function(){function t(k,n){this.errordata=k;this.signature=n;}Nb=ha.Class.create({init:function(q,t,S,L,C,M,w,oa,wa,Q){var g;g=this;n(Q,function(){var d,a;0>M&&(M=-1);if(0>L||L>Ca)throw new aa("Message ID "+L+" is out of range.");if(!t)throw new ua(k.MESSAGE_ENTITY_NOT_FOUND);if(wa)return Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:S,writable:!1,configurable:!1},messageId:{value:L,writable:!1,configurable:!1},errorCode:{value:C,writable:!1,configurable:!1},internalCode:{value:M,writable:!1,configurable:!1},errorMessage:{value:w,writable:!1,configurable:!1},userMessage:{value:oa,writable:!1,configurable:!1},errordata:{value:wa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;d={};S&&(d.recipient=S);d.messageid=L;d.errorcode=C;0<M&&(d.internalcode=M);w&&(d.errormsg=w);oa&&(d.usermsg=oa);try{a=q.getEntityAuthenticationFactory(t.scheme).getCryptoContext(q,t);}catch(b){throw b instanceof J&&(b.setEntity(t),b.setMessageId(L)),b;}d=Ea(JSON.stringify(d),Ba);a.encrypt(d,{result:function(b){n(Q,function(){a.sign(b,{result:function(a){n(Q,function(){Object.defineProperties(this,{entityAuthenticationData:{value:t,writable:!1,configurable:!1},recipient:{value:S,writable:!1,configurable:!1},messageId:{value:L,writable:!1,configurable:!1},errorCode:{value:C,writable:!1,configurable:!1},internalCode:{value:M,writable:!1,configurable:!1},errorMessage:{value:w,writable:!1,configurable:!1},userMessage:{value:oa,writable:!1,configurable:!1},errordata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},g);},error:function(a){n(Q,function(){a instanceof J&&(a.setEntity(t),a.setMessageId(L));throw a;},g);}});},g);},error:function(a){n(Q,function(){a instanceof J&&(a.setEntity(t),a.setMessageId(L));throw a;},g);}});},g);},toJSON:function(){var k;k={};k[rd]=this.entityAuthenticationData;k[he]=ka(this.errordata);k[sd]=ka(this.signature);return k;}});je=function(k,n,q,t,C,M,w,oa,Q){new Nb(k,n,q,t,C,M,w,oa,null,Q);};ie=function(F,G,S,L,C){n(C,function(){var M,w,oa;if(!S)throw new ua(k.MESSAGE_ENTITY_NOT_FOUND);try{w=S.scheme;oa=F.getEntityAuthenticationFactory(w);if(!oa)throw new zb(k.ENTITYAUTH_FACTORY_NOT_FOUND,w);M=oa.getCryptoContext(F,S);}catch(wa){throw wa instanceof J&&wa.setEntity(S),wa;}try{G=pa(G);}catch(wa){throw new ua(k.HEADER_DATA_INVALID,G,wa).setEntity(S);}if(!G||0==G.length)throw new ua(k.HEADER_DATA_MISSING,G).setEntity(S);M.verify(G,L,{result:function(oa){n(C,function(){if(!oa)throw new U(k.MESSAGE_VERIFICATION_FAILED).setEntity(S);M.decrypt(G,{result:function(M){n(C,function(){var g,d,a,b,c,h,l,f;g=ya(M,Ba);try{d=JSON.parse(g);}catch(m){if(m instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"errordata "+g,m).setEntity(S);throw m;}a=d.recipient!==Y?d.recipient:null;b=parseInt(d.messageid);c=parseInt(d.errorcode);h=parseInt(d.internalcode);l=d.errormsg;f=d.usermsg;if(a&&"string"!==typeof a||!b||b!=b||!c||c!=c||d.internalcode&&h!=h||l&&"string"!==typeof l||f&&"string"!==typeof f)throw new ea(k.JSON_PARSE_ERROR,"errordata "+g).setEntity(S);if(0>b||b>Ca)throw new ua(k.MESSAGE_ID_OUT_OF_RANGE,"errordata "+g).setEntity(S);d=!1;for(var p in q)if(q[p]==c){d=!0;break;}d||(c=q.FAIL);if(h){if(0>h)throw new ua(k.INTERNAL_CODE_NEGATIVE,"errordata "+g).setEntity(S).setMessageId(b);}else h=-1;g=new t(G,L);new Nb(F,S,a,b,c,h,l,f,g,C);});},error:function(k){n(C,function(){k instanceof J&&k.setEntity(S);throw k;});}});});},error:function(k){n(C,function(){k instanceof J&&k.setEntity(S);throw k;});}});});};}());bf=ha.Class.create({getUserMessage:function(k,n){}});(function(){ud=function(k,n){var q,t;if(!k||!n)return null;q=k.compressionAlgorithms.filter(function(k){for(var q=0;q<n.compressionAlgorithms.length;++q)if(k==n.compressionAlgorithms[q])return!0;return!1;});t=k.languages.filter(function(k){for(var q=0;q<n.languages.length;++q)if(k==n.languages[q])return!0;return!1;});return new rc(q,t);};rc=ha.Class.create({init:function(k,n){k||(k=[]);n||(n=[]);k.sort();Object.defineProperties(this,{compressionAlgorithms:{value:k,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var k;k={};k.compressionalgos=this.compressionAlgorithms;k.languages=this.languages;return k;},equals:function(k){return this===k?!0:k instanceof rc?Bd(this.compressionAlgorithms,k.compressionAlgorithms)&&Bd(this.languages,k.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ke=function(n){var q,t,L;q=n.compressionalgos;t=n.languages;if(q&&!(q instanceof Array)||t&&!(t instanceof Array))throw new ea(k.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(n));n=[];for(var S=0;q&&S<q.length;++S){L=q[S];Pb[L]&&n.push(L);}return new rc(n,t);};}());(function(){var sa,g;function q(d,a,b,c,h){this.customer=d;this.sender=a;this.messageCryptoContext=b;this.headerdata=c;this.signature=h;}function t(d,a,b,c,h,l,f,p,m,r,u,x,g,B,y,A,z,I,N,E){return{cryptoContext:{value:a,writable:!1,configurable:!1},customer:{value:b,writable:!1,configurable:!1},entityAuthenticationData:{value:c,writable:!1,configurable:!1},masterToken:{value:h,writable:!1,configurable:!1},sender:{value:l,writable:!1,configurable:!1},messageId:{value:f,writable:!1,configurable:!1},nonReplayableId:{value:A,writable:!1,configurable:!1},keyRequestData:{value:p,writable:!1,configurable:!1},keyResponseData:{value:m,writable:!1,configurable:!1},userAuthenticationData:{value:r,writable:!1,configurable:!1},userIdToken:{value:u,writable:!1,configurable:!1},serviceTokens:{value:x,writable:!1,configurable:!1},peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:B,writable:!1,configurable:!1},peerServiceTokens:{value:y,writable:!1,configurable:!1},messageCapabilities:{value:I,writable:!1,configurable:!1},renewable:{value:z,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:N,writable:!1,enumerable:!1,configurable:!1},signature:{value:E,writable:!1,enumerable:!1,configurable:!1}};}function G(d,a,b){var c;if(b){if(a=d.getMslStore().getCryptoContext(b))return a;if(!b.isVerified()||!b.isDecrypted())throw new Rb(k.MASTERTOKEN_UNTRUSTED,b);return new lb(d,b);}b=a.scheme;c=d.getEntityAuthenticationFactory(b);if(!c)throw new zb(k.ENTITYAUTH_FACTORY_NOT_FOUND,b);return c.getCryptoContext(d,a);}function S(d,a,b,c,h){n(h,function(){a.verify(b,c,{result:function(c){n(h,function(){if(!c)throw new U(k.MESSAGE_VERIFICATION_FAILED);a.decrypt(b,{result:function(a){n(h,function(){return ya(a,Ba);});},error:function(a){h.error(a);}});});},error:function(a){h.error(a);}});});}function L(d,a,b){n(b,function(){if(a)$d(d,a,b);else return null;});}function C(d,a,b,c){n(c,function(){if(a)Ub(d,a,b,c);else return null;});}function M(d,a,b,c){n(c,function(){if(b)oe(d,a,b,c);else return null;});}function w(d,a,b,c,h,l,f){var m;function p(a,f,x){var r,u;if(f>=a.length){r=[];for(u in m)r.push(m[u]);x.result(r);}else{r=a[f];if("object"!==typeof r)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+l);Pc(d,r,b,c,h,{result:function(b){n(x,function(){m[b.uniqueKey()]=b;p(a,f+1,x);});},error:function(a){x.error(a);}});}}m={};n(f,function(){if(a){if(!(a instanceof Array))throw new ea(k.JSON_PARSE_ERROR,"headerdata "+l);p(a,0,f);}else return[];});}function oa(d,a,b,c,h,l){function f(a,f,b){n(b,function(){var c;c=f.peermastertoken;if(c&&"object"!==typeof c)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+h);if(!c)return null;Tb(a,c,b);});}function p(a,f,b,c){n(c,function(){var d;d=f.peeruseridtoken;if(d&&"object"!==typeof d)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+h);if(!d)return null;Ub(a,d,b,c);});}n(l,function(){if(!d.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};f(d,a,{result:function(f){n(l,function(){var m;m=b?b.masterToken:f;p(d,a,m,{result:function(b){n(l,function(){w(d,a.peerservicetokens,m,b,c,h,{result:function(a){n(l,function(){return{peerMasterToken:f,peerUserIdToken:b,peerServiceTokens:a};});},error:function(a){n(l,function(){a instanceof J&&(a.setEntity(m),a.setUser(b));throw a;});}});});},error:function(a){n(l,function(){a instanceof J&&a.setEntity(m);throw a;});}});});},error:l.error});});}function wa(d,a,b,c){var l;function h(a,b){n(c,function(){if(b>=a.length)return l;Zd(d,a[b],{result:function(f){n(c,function(){l.push(f);h(a,b+1);});},error:function(a){c.error(a);}});});}l=[];n(c,function(){var f;f=a.keyrequestdata;if(!f)return l;if(!(f instanceof Array))throw new ea(k.JSON_PARSE_ERROR,"headerdata "+b);h(f,0);});}sa=me=ha.Class.create({init:function(d,a,b,c,h,l,f,p,m){Object.defineProperties(this,{messageId:{value:d,writable:!1,configurable:!1},nonReplayableId:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,configurable:!1},capabilities:{value:c,writable:!1,configurable:!1},keyRequestData:{value:h,writable:!1,configurable:!1},keyResponseData:{value:l,writable:!1,configurable:!1},userAuthData:{value:f,writable:!1,configurable:!1},userIdToken:{value:p,writable:!1,configurable:!1},serviceTokens:{value:m,writable:!1,configurable:!1}});}});g=ne=ha.Class.create({init:function(d,a,b){Object.defineProperties(this,{peerMasterToken:{value:d,writable:!1,configurable:!1},peerUserIdToken:{value:a,writable:!1,configurable:!1},peerServiceTokens:{value:b,writable:!1,configurable:!1}});}});sc=ha.Class.create({init:function(d,a,b,c,h,l,f){var m;function p(p){n(f,function(){var r,g,v,B,y,A,z,I,N,E,k,O,K,X,W,ba,R;a=b?null:a;r=c.nonReplayableId;g=c.renewable;v=c.capabilities;B=c.messageId;y=c.keyRequestData?c.keyRequestData:[];A=c.keyResponseData;z=c.userAuthData;I=c.userIdToken;N=c.serviceTokens?c.serviceTokens:[];d.isPeerToPeer()?(E=h.peerMasterToken,k=h.peerUserIdToken,O=h.peerServiceTokens?h.peerServiceTokens:[]):(k=E=null,O=[]);if(0>B||B>Ca)throw new aa("Message ID "+B+" is out of range.");if(!a&&!b)throw new aa("Message entity authentication data or master token must be provided.");A?d.isPeerToPeer()?(K=b,X=A.masterToken):(K=A.masterToken,X=E):(K=b,X=E);if(I&&(!K||!I.isBoundTo(K)))throw new aa("User ID token must be bound to a master token.");if(k&&(!X||!k.isBoundTo(X)))throw new aa("Peer user ID token must be bound to a peer master token.");N.forEach(function(a){if(a.isMasterTokenBound()&&(!K||!a.isBoundTo(K)))throw new aa("Master token bound service tokens must be bound to the provided master token.");if(a.isUserIdTokenBound()&&(!I||!a.isBoundTo(I)))throw new aa("User ID token bound service tokens must be bound to the provided user ID token.");},this);O.forEach(function(a){if(a.isMasterTokenBound()&&(!X||!a.isBoundTo(X)))throw new aa("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!k||!a.isBoundTo(k)))throw new aa("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(l){W=l.customer;ba=l.messageCryptoContext;R=t(d,ba,W,a,b,p,B,y,A,z,I,N,E,k,O,r,g,v,l.headerdata,l.signature);Object.defineProperties(this,R);return this;}W=I?I.customer:null;R={};p&&(R.sender=p);R.messageid=B;"number"===typeof r&&(R.nonreplayableid=r);R.renewable=g;v&&(R.capabilities=v);0<y.length&&(R.keyrequestdata=y);A&&(R.keyresponsedata=A);z&&(R.userauthdata=z);I&&(R.useridtoken=I);0<N.length&&(R.servicetokens=N);E&&(R.peermastertoken=E);k&&(R.peeruseridtoken=k);0<O.length&&(R.peerservicetokens=O);try{ba=G(d,a,b);}catch(T){throw T instanceof J&&(T.setEntity(b),T.setEntity(a),T.setUser(I),T.setUser(z),T.setMessageId(B)),T;}R=Ea(JSON.stringify(R),Ba);ba.encrypt(R,{result:function(c){n(f,function(){ba.sign(c,{result:function(h){n(f,function(){var f;f=t(d,ba,W,a,b,p,B,y,A,z,I,N,E,k,O,r,g,v,c,h);Object.defineProperties(this,f);return this;},m);},error:function(c){n(f,function(){c instanceof J&&(c.setEntity(b),c.setEntity(a),c.setUser(I),c.setUser(z),c.setMessageId(B));throw c;},m);}});},m);},error:function(c){n(f,function(){c instanceof J&&(c.setEntity(b),c.setEntity(a),c.setUser(I),c.setUser(z),c.setMessageId(B));throw c;},m);}});},m);}m=this;n(f,function(){l?p(l.sender):b?d.getEntityAuthenticationData(null,{result:function(a){a=a.getIdentity();p(a);},error:f.error}):p(null);},m);},isEncrypting:function(){return this.masterToken||vb(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var d;d={};this.masterToken?d[fe]=this.masterToken:d[rd]=this.entityAuthenticationData;d[ge]=ka(this.headerdata);d[sd]=ka(this.signature);return d;}});le=function(d,a,b,c,h,l){new sc(d,a,b,c,h,null,l);};td=function(d,a,b,c,h,l,f){n(f,function(){var p,m;b=c?null:b;if(!b&&!c)throw new ua(k.MESSAGE_ENTITY_NOT_FOUND);p=a;try{a=pa(p);}catch(r){throw new ua(k.HEADER_DATA_INVALID,p,r);}if(!a||0==a.length)throw new ua(k.HEADER_DATA_MISSING,p);try{m=G(d,b,c);}catch(r){throw r instanceof J&&(r.setEntity(c),r.setEntity(b)),r;}S(d,m,a,h,{result:function(p){n(f,function(){var r,x,v,B,y;try{r=JSON.parse(p);}catch(A){if(A instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p,A).setEntity(c).setEntity(b);throw A;}x=parseInt(r.messageid);if(!x||x!=x)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p).setEntity(c).setEntity(b);if(0>x||x>Ca)throw new ua(k.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+p).setEntity(c).setEntity(b);v=c?r.sender:null;if(c&&(!v||"string"!==typeof v))throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p).setEntity(c).setEntity(b).setMessageId(x);B=r.keyresponsedata;if(B&&"object"!==typeof B)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p).setEntity(c).setEntity(b).setMessageId(x);y=f;f={result:function(a){y.result(a);},error:function(a){a instanceof J&&(a.setEntity(c),a.setEntity(b),a.setMessageId(x));y.error(a);}};L(d,B,{result:function(u){n(f,function(){var B,y;B=!d.isPeerToPeer()&&u?u.masterToken:c;y=r.useridtoken;if(y&&"object"!==typeof y)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p);C(d,y,B,{result:function(y){n(f,function(){var z;z=r.userauthdata;if(z&&"object"!==typeof z)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p);M(d,B,z,{result:function(z){n(f,function(){var A,I,E;if(z){I=z.scheme;E=d.getUserAuthenticationFactory(I);if(!E)throw new ra(k.USERAUTH_FACTORY_NOT_FOUND,I).setUser(y).setUser(z);I=c?c.identity:b.getIdentity();A=E.authenticate(d,I,z,y);}else A=y?y.customer:null;w(d,r.servicetokens,B,y,l,p,{result:function(B){n(f,function(){var I,E,N,O;I=r.nonreplayableid!==Y?parseInt(r.nonreplayableid):null;E=r.renewable;if(I!=I||"boolean"!==typeof E)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p);if(0>I||I>Ca)throw new ua(k.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+p);N=null;O=r.capabilities;if(O){if("object"!==typeof O)throw new ea(k.JSON_PARSE_ERROR,"headerdata "+p);N=ke(O);}wa(d,r,p,{result:function(O){oa(d,r,u,l,p,{result:function(p){n(f,function(){var r,l,P,k;r=p.peerMasterToken;l=p.peerUserIdToken;P=p.peerServiceTokens;k=new sa(x,I,E,N,O,u,z,y,B);r=new g(r,l,P);l=new q(A,v,m,a,h);new sc(d,b,c,k,r,l,f);});},error:f.error});},error:function(a){n(f,function(){a instanceof J&&(a.setUser(y),a.setUser(z));throw a;});}});});},error:function(a){n(f,function(){a instanceof J&&(a.setEntity(B),a.setUser(y),a.setUser(z));throw a;});}});});},error:f.error});});},error:f.error});});},error:f.error});});},error:f.error});});};}());(function(){function q(k,n){this.payload=k;this.signature=n;}vd=ha.Class.create({init:function(k,q,t,L,C,M,w,oa){var G;G=this;n(oa,function(){var F,g;if(0>k||k>Ca)throw new aa("Sequence number "+k+" is outside the valid range.");if(0>q||q>Ca)throw new aa("Message ID "+q+" is outside the valid range.");if(w)return Object.defineProperties(this,{sequenceNumber:{value:k,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:L,writable:!1,configurable:!1},data:{value:C,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:w.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:w.signature,writable:!1,enumerable:!1,configurable:!1}}),this;L?(F=wd(L,C),F||(L=null,F=C)):(L=null,F=C);g={};g.sequencenumber=k;g.messageid=q;t&&(g.endofmsg=t);L&&(g.compressionalgo=L);g.data=ka(F);F=Ea(JSON.stringify(g),Ba);M.encrypt(F,{result:function(d){n(oa,function(){M.sign(d,{result:function(a){n(oa,function(){Object.defineProperties(this,{sequenceNumber:{value:k,writable:!1,configurable:!1},messageId:{value:q,writable:!1,configurable:!1},compressionAlgo:{value:L,writable:!1,configurable:!1},data:{value:C,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:d,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},G);},error:function(a){oa.error(a);}});},G);},error:function(d){oa.error(d);}});},G);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var k;k={};k.payload=ka(this.payload);k.signature=ka(this.signature);return k;}});pe=function(k,n,q,t,C,M,w){new vd(k,n,q,t,C,M,null,w);};qe=function(t,G,S){n(S,function(){var L,C,M,F;L=t.payload;C=t.signature;if(!L||"string"!==typeof L||"string"!==typeof C)throw new ea(k.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(t));try{M=pa(L);}catch(oa){throw new ua(k.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(t),oa);}try{F=pa(C);}catch(oa){throw new ua(k.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(t),oa);}G.verify(M,F,{result:function(t){n(S,function(){if(!t)throw new U(k.PAYLOAD_VERIFICATION_FAILED);G.decrypt(M,{result:function(t){n(S,function(){var n,g,d,a,b,c,h;n=ya(t,Ba);try{g=JSON.parse(n);}catch(l){if(l instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"payload chunk payload "+n,l);throw l;}d=parseInt(g.sequencenumber);a=parseInt(g.messageid);b=g.endofmsg;c=g.compressionalgo;g=g.data;if(!d||d!=d||!a||a!=a||b&&"boolean"!==typeof b||c&&"string"!==typeof c||"string"!==typeof g)throw new ea(k.JSON_PARSE_ERROR,"payload chunk payload "+n);if(0>d||d>Ca)throw new J(k.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+n);if(0>a||a>Ca)throw new J(k.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+n);b||(b=!1);if(c&&!Pb[c])throw new ua(k.UNIDENTIFIED_COMPRESSION,c);try{h=pa(g);}catch(l){throw new ua(k.PAYLOAD_DATA_CORRUPT,g,l);}if(h&&0!=h.length)n=c?Qc(c,h):h;else{if(0<g.length)throw new ua(k.PAYLOAD_DATA_CORRUPT,g);if(b)n=new Uint8Array(0);else throw new ua(k.PAYLOAD_DATA_MISSING,g);}h=new q(M,F);new vd(d,a,b,c,n,G,h,S);});},error:function(k){S.error(k);}});});},error:function(k){S.error(k);}});});};}());(function(){var S,L;function q(q,t,L,G,F){var g,d,a,b,c;function C(){n(F,function(){var h,l;d>=t.length&&(d=0,++g);if(g>=a.length){if(b)throw b;throw new Ga(k.KEYX_FACTORY_NOT_FOUND,JSON.stringify(t));}h=a[g];l=t[d];h.scheme!=l.keyExchangeScheme?(++d,C()):h.generateResponse(q,l,c,{result:function(a){F.result(a);},error:function(a){n(F,function(){if(!(a instanceof J))throw a;b=a;++d;C();});}});});}g=0;d=0;a=q.getKeyExchangeFactories();c=L?L:G;C();}function t(k,t,L,G,F){n(F,function(){var C;C=t.keyRequestData;if(t.isRenewable()&&0<C.length)G?G.isRenewable()||G.isExpired()?q(k,C,G,null,F):k.getTokenFactory().isNewestMasterToken(k,G,{result:function(g){n(F,function(){if(g)return null;q(k,C,G,null,F);});},error:F.error}):q(k,C,null,L.getIdentity(),F);else return null;});}function G(q,t,G,L){n(L,function(){var n,C,g,d;n=t.userIdToken;C=t.userAuthenticationData;g=t.messageId;if(n&&n.isVerified()){if(n.isRenewable()&&t.isRenewable()||n.isExpired()||!n.isBoundTo(G)){C=q.getTokenFactory();C.renewUserIdToken(q,n,G,L);return;}}else if(t.isRenewable()&&G&&C){n=t.customer;if(!n){n=C.scheme;d=q.getUserAuthenticationFactory(n);if(!d)throw new ra(k.USERAUTH_FACTORY_NOT_FOUND,n).setEntity(G).setUser(C).setMessageId(g);n=d.authenticate(q,G.identity,C,null);}C=q.getTokenFactory();C.createUserIdToken(q,n,G,L);return;}return n;});}S=new Uint8Array(0);L=Vb=function(k){if(0>k||k>Ca)throw new aa("Message ID "+k+" is outside the valid range.");return k==Ca?0:k+1;};ic=function(k){if(0>k||k>Ca)throw new aa("Message ID "+k+" is outside the valid range.");return 0==k?Ca:k-1;};Wb=function(k,q,t,G,L){n(L,function(){var C;if(G==Y||null==G){C=k.getRandom();do G=C.nextLong();while(0>G||G>Ca);}else if(0>G||G>Ca)throw new aa("Message ID "+G+" is outside the valid range.");k.getEntityAuthenticationData(null,{result:function(g){n(L,function(){var d;d=k.getMessageCapabilities();return new Rc(k,G,d,g,q,t,null,null,null,null,null);});},error:function(g){L.error(g);}});});};re=function(k,q,F){n(F,function(){var M,S,g,d,a,b;function C(b){n(F,function(){b instanceof J&&(b.setEntity(M),b.setEntity(S),b.setUser(g),b.setUser(d),b.setMessageId(a));throw b;});}M=q.masterToken;S=q.entityAuthenticationData;g=q.userIdToken;d=q.userAuthenticationData;a=q.messageId;b=L(a);t(k,q,S,M,{result:function(a){n(F,function(){var c;c=a?a.keyResponseData.masterToken:c=M;k.getEntityAuthenticationData(null,{result:function(d){n(F,function(){G(k,q,c,{result:function(f){n(F,function(){var c,m,r;g=f;c=ud(q.messageCapabilities,k.getMessageCapabilities());m=q.keyResponseData;r=q.serviceTokens;return k.isPeerToPeer()?new Rc(k,b,c,d,m?m.masterToken:q.peerMasterToken,q.peerUserIdToken,q.peerServiceTokens,M,g,r,a):new Rc(k,b,c,d,m?m.masterToken:M,g,r,null,null,null,a);});},error:C});});},error:C});});},error:C});});};se=function(k,q,t,G,F){n(F,function(){k.getEntityAuthenticationData(null,{result:function(C){n(F,function(){var g,d;if(q!=Y&&null!=q)g=L(q);else{d=k.getRandom();do g=d.nextInt();while(0>g||g>Ca);}je(k,C,g,t.responseCode,t.internalCode,t.message,G,F);});},error:function(k){F.error(k);}});});};Rc=ha.Class.create({init:function(k,n,q,t,G,L,g,d,a,b,c){var h,l,f,p,m;if(!k.isPeerToPeer()&&(d||a))throw new aa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");h=c&&!k.isPeerToPeer()?c.keyResponseData.masterToken:G;l={};k.getMslStore().getServiceTokens(h,L).forEach(function(a){l[a.name]=a;},this);g&&g.forEach(function(a){l[a.name]=a;},this);m={};k.isPeerToPeer()&&(f=d,p=a,g=c?c.keyResponseData.masterToken:d,k.getMslStore().getServiceTokens(g,a).forEach(function(a){m[a.name]=a;},this),b&&b.forEach(function(a){m[a.name]=a;},this));Object.defineProperties(this,{_ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:t,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:G,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:q,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:c,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:L,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:l,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:f,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:p,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:m,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||vb(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||vb(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||ob(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||ob(this._entityAuthData.scheme);},getHeader:function(q){n(q,function(){var n,t,C,G,L;n=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;t=[];for(C in this._serviceTokens)t.push(this._serviceTokens[C]);G=[];for(L in this._keyRequestData)G.push(this._keyRequestData[L]);if(this._nonReplayable){if(!this._masterToken)throw new ua(k.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);L=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else L=null;n=new me(this._messageId,L,this._renewable,this._capabilities,G,n,this._userAuthData,this._userIdToken,t);t=[];for(C in this._peerServiceTokens)t.push(this._peerServiceTokens[C]);C=new ne(this._peerMasterToken,this._peerUserIdToken,t);le(this._ctx,this._entityAuthData,this._masterToken,n,C,q);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(k){this._nonReplayable=k;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(k){this._renewable=k;return this;},setAuthTokens:function(k,n){var q,t,C;if(n&&!n.isBoundTo(k))throw new aa("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new aa("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{q=this._ctx.getMslStore().getServiceTokens(k,n);}catch(sa){if(sa instanceof J)throw new aa("Invalid master token and user ID token combination despite checking above.",sa);throw sa;}t=[];for(C in this._serviceTokens)t.push(this._serviceTokens[C]);t.forEach(function(q){(q.isUserIdTokenBound()&&!q.isBoundTo(n)||q.isMasterTokenBound()&&!q.isBoundTo(k))&&delete this._serviceTokens[q.name];},this);q.forEach(function(k){this._serviceTokens[k.name]=k;},this);this._masterToken=k;this._userIdToken=n;},setUserAuthenticationData:function(k){this._userAuthData=k;return this;},setCustomer:function(k,q){var t;t=this;n(q,function(){var C;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new aa("User ID token or peer user ID token already exists for the remote user.");C=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!C)throw new aa("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,k,C,{result:function(k){n(q,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=k:(this._userIdToken=k,this._userAuthData=null);return!0;},t);},error:function(k){q.error(k);}});},t);},addKeyRequestData:function(k){this._keyRequestData[k.uniqueKey()]=k;return this;},removeKeyRequestData:function(k){delete this._keyRequestData[k.uniqueKey()];return this;},addServiceToken:function(n){var q;q=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound()&&!n.isBoundTo(q))throw new ua(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(q)).setEntity(q);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._userIdToken))throw new ua(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(q).setUser(this._userIdToken);this._serviceTokens[n.name]=n;return this;},addServiceTokenIfAbsent:function(k){this._serviceTokens[k.name]||this.addServiceToken(k);return this;},excludeServiceToken:function(k){delete this._serviceTokens[k];return this;},deleteServiceToken:function(k,q){var t;t=this;n(q,function(){var C,M;C=this._serviceTokens[k];if(!C)return this;M=C.isMasterTokenBound()?this._masterToken:null;C=C.isUserIdTokenBound()?this._userIdToken:null;Fb(this._ctx,k,S,M,C,!1,null,new hc(),{result:function(k){n(q,function(){return this.addServiceToken(k);},t);},error:function(k){k instanceof J&&(k=new aa("Failed to create and add empty service token to message.",k));q.error(k);}});},t);},getServiceTokens:function(){var k,n;k=[];for(n in this._serviceTokens)k.push(this._serviceTokens[n]);return k;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,q){var t;if(!this._ctx.isPeerToPeer())throw new aa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(q&&!n)throw new aa("Peer master token cannot be null when setting peer user ID token.");if(q&&!q.isBoundTo(n))throw new ua(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+q+"; mt "+n).setEntity(n).setUser(q);try{t=this._ctx.getMslStore().getServiceTokens(n,q);}catch(oa){if(oa instanceof J)throw new aa("Invalid peer master token and user ID token combination despite proper check.",oa);throw oa;}Object.keys(this._peerServiceTokens).forEach(function(k){var t;t=this._peerServiceTokens[k];t.isUserIdTokenBound()&&!t.isBoundTo(q)?delete this._peerServiceTokens[k]:t.isMasterTokenBound()&&!t.isBoundTo(n)&&delete this._peerServiceTokens[k];},this);t.forEach(function(k){var n;n=k.name;this._peerServiceTokens[n]||(this._peerServiceTokens[n]=k);},this);this._peerUserIdToken=q;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new aa("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound()&&!n.isBoundTo(this._peerMasterToken))throw new ua(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._peerUserIdToken))throw new ua(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[n.name]=n;return this;},addPeerServiceTokenIfAbsent:function(k){this._peerServiceTokens[k.name]||this.addPeerServiceToken(k);return this;},excludePeerServiceToken:function(k){delete this._peerServiceTokens[k];return this;},deletePeerServiceToken:function(k,q){var t;t=this;n(q,function(){var C,G;C=this._peerServiceTokens[k];if(!C)return this;G=C.isMasterTokenBound()?this._peerMasterToken:null;C=C.isUserIdTokenBound()?this._peerUserIdToken:null;Fb(this._ctx,k,S,G,C,!1,null,new hc(),{result:function(k){n(q,function(){return this.addPeerServiceToken(k);},t);},error:function(k){k instanceof J&&(k=new aa("Failed to create and add empty peer service token to message.",k));q.error(k);}});},t);},getPeerServiceTokens:function(){var k,n;k=[];for(n in this._peerServiceTokens)k.push(this._peerServiceTokens[n]);return k;}});}());(function(){function k(k,n){return n[k]?n[k]:n[""];}function q(k){var n;n=k.builder.getKeyExchangeData();return n&&!k.ctx.isPeerToPeer()?n.keyResponseData.masterToken:k.builder.getMasterToken();}te=ha.Class.create({init:function(k,n,q){k={ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:q,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,k);},isPrimaryMasterTokenAvailable:function(){return q(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(k){try{return this.builder.addServiceToken(k),!0;}catch(S){if(S instanceof ua)return!1;throw S;}},addPeerServiceToken:function(k){try{return this.builder.addPeerServiceToken(k),!0;}catch(S){if(S instanceof ua)return!1;throw S;}},addUnboundPrimaryServiceToken:function(q,t,L,C,M){var G;G=this;n(M,function(){var F;F=k(q,this.cryptoContexts);if(!F)return!1;Fb(this.ctx,q,t,null,null,L,C,F,{result:function(k){n(M,function(){try{this.builder.addServiceToken(k);}catch(sa){if(sa instanceof ua)throw new aa("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return!0;},G);},error:function(k){M.error(k);}});},G);},addUnboundPeerServiceToken:function(q,t,L,C,M){var G;G=this;n(M,function(){var F;F=k(q,this.cryptoContexts);if(!F)return!1;Fb(this.ctx,q,t,null,null,L,C,F,{result:function(k){n(M,function(){try{this.builder.addPeerServiceToken(k);}catch(sa){if(sa instanceof ua)throw new aa("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return!0;},G);},error:function(k){M.error(k);}});},G);},addMasterBoundPrimaryServiceToken:function(t,F,L,C,M){var G;G=this;n(M,function(){var w,S;w=q(this);if(!w)return!1;S=k(t,this.cryptoContexts);if(!S)return!1;Fb(this.ctx,t,F,w,null,L,C,S,{result:function(k){n(M,function(){try{this.builder.addServiceToken(k);}catch(g){if(g instanceof ua)throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token.",g);throw g;}return!0;},G);},error:function(k){M.error(k);}});},G);},addMasterBoundPeerServiceToken:function(q,t,L,C,M){var G;G=this;n(M,function(){var F,w;F=this.builder.getPeerMasterToken();if(!F)return!1;w=k(q,this.cryptoContexts);if(!w)return!1;Fb(this.ctx,q,t,F,null,L,C,w,{result:function(k){n(M,function(){try{this.builder.addPeerServiceToken(k);}catch(g){if(g instanceof ua)throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token.",g);throw g;}return!0;},G);},error:function(k){M.error(k);}});},G);},addUserBoundPrimaryServiceToken:function(t,F,L,C,M){var G;G=this;n(M,function(){var w,S,Q;w=q(this);if(!w)return!1;S=this.builder.getUserIdToken();if(!S)return!1;Q=k(t,this.cryptoContexts);if(!Q)return!1;Fb(this.ctx,t,F,w,S,L,C,Q,{result:function(g){n(M,function(){try{this.builder.addServiceToken(g);}catch(d){if(d instanceof ua)throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",d);throw d;}return!0;},G);},error:function(g){M.error(g);}});},G);},addUserBoundPeerServiceToken:function(q,t,L,C,M){var G;G=this;n(M,function(){var F,w,S;F=this.builder.getPeerMasterToken();if(!F)return!1;w=this.builder.getPeerUserIdToken();if(!w)return!1;S=k(q,this.cryptoContexts);if(!S)return!1;Fb(this.ctx,q,t,F,w,L,C,S,{result:function(g){n(M,function(){try{this.builder.addPeerServiceToken(g);}catch(d){if(d instanceof ua)throw new aa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",d);throw d;}return!0;},G);},error:function(g){M.error(g);}});},G);},excludePrimaryServiceToken:function(k){for(var n=this.builder.getServiceTokens(),q=0;q<n.length;++q)if(n[q].name==k)return this.builder.excludeServiceToken(k),!0;return!1;},excludePeerServiceToken:function(k){for(var n=this.builder.getPeerServiceTokens(),q=0;q<n.length;++q)if(n[q].name==k)return this.builder.excludePeerServiceToken(k),!0;return!1;},deletePrimaryServiceToken:function(k,q){n(q,function(){for(var n=this.builder.getServiceTokens(),t=0;t<n.length;++t)if(n[t].name==k){this.builder.deleteServiceToken(k,{result:function(){q.result(!0);},error:function(k){q.error(k);}});return;}return!1;},this);},deletePeerServiceToken:function(k,q){n(q,function(){for(var n=this.builder.getPeerServiceTokens(),t=0;t<n.length;++t)if(n[t].name==k){this.builder.deletePeerServiceToken(k,{result:function(){q.result(!0);},error:function(k){q.error(k);}});return;}return!1;},this);}});}());(function(){function q(q,t,w,L){n(L,function(){var M,F,G,S,Q,g;function C(){n(L,function(){var d;if(g>=w.length){if(Q)throw Q;throw new Ga(k.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(w));}d=w[g];G!=d.keyExchangeScheme?(++g,C()):S.getCryptoContext(q,d,F,M,{result:L.result,error:function(a){n(L,function(){if(!(a instanceof J))throw a;Q=a;++g;C();});}});});}M=t.masterToken;F=t.keyResponseData;if(!F)return null;G=F.keyExchangeScheme;S=q.getKeyExchangeFactory(G);if(!S)throw new Ga(k.KEYX_FACTORY_NOT_FOUND,G);g=0;C();});}ue=od.extend({init:function(n,t,S,L,C,M,Q){var F;F=this;w(Q,function(){var b;function G(){F._ready=!0;F._readyQueue.add(!0);}function w(a,b){var c;try{c=b.masterToken;a.getTokenFactory().isMasterTokenRevoked(a,c,{result:function(f){f?(F._errored=new Rb(f,c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),G()):g(a,b);},error:function(a){a instanceof J&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));F._errored=a;G();}});}catch(f){f instanceof J&&(f.setEntity(b.masterToken),f.setUser(b.userIdToken),f.setUser(b.userAuthenticationData),f.setMessageId(b.messageId));F._errored=f;G();}}function g(a,b){var c,f;try{c=b.masterToken;f=b.userIdToken;f?a.getTokenFactory().isUserIdTokenRevoked(a,c,f,{result:function(p){p?(F._errored=new MslUserIdTokenException(p,f).setEntity(c).setUser(f).setMessageId(b.messageId),G()):d(a,b);},error:function(a){a instanceof J&&(a.setEntity(b.masterToken),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));F._errored=a;G();}}):d(a,b);}catch(p){p instanceof J&&(p.setEntity(b.masterToken),p.setUser(b.userIdToken),p.setUser(b.userAuthenticationData),p.setMessageId(b.messageId));F._errored=p;G();}}function d(b,d){var c;try{c=d.masterToken;c.isExpired()?d.isRenewable()&&0!=d.keyRequestData.length?b.getTokenFactory().isMasterTokenRenewable(b,c,{result:function(f){f?(F._errored=new ua(f,"Master token is expired and not renewable.").setEntity(c).setUser(d.userIdToken).setUser(d.userAuthenticationData).setMessageId(d.messageId),G()):a(b,d);},error:function(a){a instanceof J&&(a.setEntity(d.masterToken),a.setUser(d.userIdToken),a.setUser(d.userAuthenticationData),a.setMessageId(d.messageId));F._errored=a;G();}}):(F._errored=new ua(k.MESSAGE_EXPIRED,JSON.stringify(d)).setEntity(c).setUser(d.userIdToken).setUser(d.userAuthenticationData).setMessageId(d.messageId),G()):a(b,d);}catch(f){f instanceof J&&(f.setEntity(d.masterToken),f.setUser(d.userIdToken),f.setUser(d.userAuthenticationData),f.setMessageId(d.messageId));F._errored=f;G();}}function a(a,b){var c,f;try{c=b.masterToken;f=b.nonReplayableId;"number"===typeof f?c?a.getTokenFactory().acceptNonReplayableId(a,c,f,{result:function(a){a||(F._errored=new ua(k.MESSAGE_REPLAYED,JSON.stringify(b)).setEntity(c).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId));G();},error:function(a){a instanceof J&&(a.setEntity(c),a.setUser(b.userIdToken),a.setUser(b.userAuthenticationData),a.setMessageId(b.messageId));F._errored=a;G();}}):(F._errored=new ua(k.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(b)).setEntity(b.entityAuthenticationData).setUser(b.userIdToken).setUser(b.userAuthenticationData).setMessageId(b.messageId),G()):G();}catch(p){p instanceof J&&(p.setEntity(b.masterToken),p.setEntity(b.entityAuthenticationData),p.setUser(b.userIdToken),p.setUser(b.userAuthenticationData),p.setMessageId(b.messageId));F._errored=p;G();}}b={_source:{value:t,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Y,writable:!0,enumerable:!1,configurable:!1},_charset:{value:S,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:M,writable:!1,enumerable:!1,configurable:!1},_header:{value:Y,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Y,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Y,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new oc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,b);Yd(F._source,M,{result:function(b){F._json=b;F._jsonIndex=0;null===F._json?(F._errored=new ea(k.MESSAGE_DATA_MISSING),G()):ee(n,F._json[F._jsonIndex++],C,{result:function(b){var c;F._header=b;if(F._header instanceof Nb)F._keyxCryptoContext=null,F._cryptoContext=null,G();else{c=F._header;q(n,c,L,{result:function(b){var f;try{F._keyxCryptoContext=b;n.isPeerToPeer()||!F._keyxCryptoContext?F._cryptoContext=c.cryptoContext:F._cryptoContext=F._keyxCryptoContext;try{f=c.masterToken;f&&(n.isPeerToPeer()||f.isVerified())?w(n,c):a(n,c);}catch(m){m instanceof J&&(m.setEntity(c.masterToken),m.setUser(c.userIdToken),m.setUser(c.userAuthenticationData),m.setMessageId(c.messageId));F._errored=m;G();}}catch(m){m instanceof J&&(m.setEntity(c.masterToken),m.setEntity(c.entityAuthenticationData),m.setUser(c.userIdToken),m.setUser(c.userAuthenticationData),m.setMessageId(c.messageId));F._errored=m;G();}},error:function(a){a instanceof J&&(a.setEntity(c.masterToken),a.setEntity(c.entityAuthenticationData),a.setUser(c.userIdToken),a.setUser(c.userAuthenticationData),a.setMessageId(c.messageId));F._errored=a;G();}});}},error:function(a){F._errored=a;G();}});},timeout:function(){F._timedout=!0;G();},error:function(a){F._errored=a;G();}});return this;},F);},nextData:function(n,q){var t;t=this;w(q,function(){var C;function n(k){w(k,function(){var q;if(this._jsonIndex<this._json.length)return q=this._json[this._jsonIndex++];Yd(this._source,this._timeout,{result:function(q){q&&q.length&&0<q.length?(q.forEach(function(k){this._json.push(k);}),n(k)):(this._eom=!0,k.result(null));},timeout:function(){k.timeout();},error:function(n){k.error(n);}});},t);}C=this.getMessageHeader();if(!C)throw new aa("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){w(q,function(){if(!n)return null;if("object"!==typeof n)throw new ea(k.MESSAGE_FORMAT_ERROR);qe(n,this._cryptoContext,{result:function(n){w(q,function(){var q,t,F,g;q=C.masterToken;t=C.entityAuthenticationData;F=C.userIdToken;g=C.getUserAuthenticationData;if(n.messageId!=C.messageId)throw new ua(k.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+n.messageId+" header mid "+C.messageId).setEntity(q).setEntity(t).setUser(F).setUser(g);if(n.sequenceNumber!=this._payloadSequenceNumber)throw new ua(k.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+n.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(q).setEntity(t).setUser(F).setUser(g);++this._payloadSequenceNumber;n.isEndOfMessage()&&(this._eom=!0);q=n.data;this._payloads.push(q);this._payloadIndex=-1;return q;},t);},error:function(n){n instanceof SyntaxError&&(n=new ea(k.JSON_PARSE_ERROR,"payloadchunk",n));q.error(n);}});},t);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});},t);},isReady:function(k,n){var t;function q(){w(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;return!0;}},t);}t=this;w(n,function(){this._ready?q():this._readyQueue.poll(k,{result:function(k){w(n,function(){if(k===Y)return!1;q();},t);},timeout:function(){n.timeout();},error:function(k){n.error(k);}});},t);},getMessageHeader:function(){return this._header instanceof sc?this._header:null;},getErrorHeader:function(){return this._header instanceof Nb?this._header:null;},getIdentity:function(){var k,n;k=this.getMessageHeader();if(k){n=k.masterToken;return n?n.identity:k.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var k;k=this.getMessageHeader();return k?k.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(k){this._closeSource=k;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(k,n,q){var C;function t(){w(q,function(){var F,G,L,S;function t(g){w(g,function(){var d,a,b;if(G&&S>=G.length)return G.subarray(0,S);d=-1;if(this._currentPayload){a=this._currentPayload.length-this._payloadOffset;if(!G){b=a;if(-1!=this._payloadIndex)for(var c=this._payloadIndex;c<this._payloads.length;++c)b+=this._payloads[c].length;0<b&&(G=new Uint8Array(b));}a=Math.min(a,G?G.length-S:0);0<a&&(d=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+a),G.set(d,L),d=a,L+=a,this._payloadOffset+=a);}-1!=d?(S+=d,t(g)):this.nextData(n,{result:function(a){w(g,function(){if(this._aborted)return G?G.subarray(0,S):new Uint8Array(0);this._currentPayload=a;this._payloadOffset=0;if(this._currentPayload)t(g);else return 0==S&&0!=k?null:G?G.subarray(0,S):new Uint8Array(0);},C);},timeout:function(){g.timeout(G?G.subarray(0,S):new Uint8Array(0));},error:function(a){w(g,function(){a instanceof J&&(a=new Xa("Error reading the payload chunk.",a));if(0<S)return C._readException=a,G.subarray(0,S);throw a;},C);}});},C);}if(this._aborted)return new Uint8Array(0);if(this._timedout)q.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){F=this._readException;this._readException=null;throw F;}G=-1!=k?new Uint8Array(k):Y;L=0;S=0;t(q);}},C);}C=this;w(q,function(){if(-1>k)throw new RangeError("read requested with illegal length "+k);this._ready?t():this._readyQueue.poll(n,{result:function(k){k===Y?q.result(!1):t();},timeout:function(){q.timeout(new Uint8Array(0));},error:function(k){q.error(k);}});},C);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ve=function(k,n,q,t,C,M,w){new ue(k,n,q,t,C,M,w);};}());(function(){we=Mc.extend({init:function(k,n,q,t,L,C,M){var F;F=this;w(M,function(){var M,w,g;function G(){F._ready=!0;F._readyQueue.add(!0);}M=ud(k.getMessageCapabilities(),t.messageCapabilities);w=null;M&&(w=Md(M.compressionAlgorithms));M={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:q,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:M,writable:!1,enumerable:!1,configurable:!1},_header:{value:t,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:w,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:L,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new oc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,M);g=Ea(JSON.stringify(t),q);n.write(g,0,g.length,C,{result:function(d){try{F._aborted?G():d<g.length?(F._timedout=!0,G()):n.flush(C,{result:function(a){F._aborted||(F._timedout=!a);G();},timeout:function(){F._timedout=!0;G();},error:function(a){F._errored=a;G();}});}catch(a){F._errored=a;G();}},timeout:function(){F._timedout=!0;G();},error:function(d){F._errored=d;G();}});return this;},F);},setCompressionAlgorithm:function(k,n,q){var F;function t(){F.flush(n,{result:function(n){w(q,function(){if(!n)throw new Xa("flush() aborted");this._compressionAlgo=k;return!0;},F);},timeout:function(){q.timeout();},error:function(k){q.error(k);}});}F=this;w(q,function(){if(!this.getMessageHeader())throw new aa("Cannot write payload data for an error message.");if(this._compressionAlgo==k)return!0;if(k){if(!this._capabilities)return!1;for(var n=this._capabilities.compressionAlgorithms,q=0;q<n.length;++q)if(n[q]==k){t();return;}return!1;}t();},F);},getMessageHeader:function(){return this._header instanceof sc?this._header:null;},getErrorMessage:function(){return this._header instanceof Nb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(k,n){var q;q=this;w(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(k,{result:function(k){w(n,function(){k&&(this._currentPayload=null);return k;},q);},timeout:function(){n.timeout();},error:function(k){n.error(k);}});}},q);},flush:function(k,n){var t;function q(){w(n,function(){var q,C,Q;if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;q=this.getMessageHeader();if(!q)return!0;C=0;this._currentPayload&&this._currentPayload.forEach(function(k){C+=k.length;});for(var F=new Uint8Array(C),G=0,S=0;this._currentPayload&&S<this._currentPayload.length;++S){Q=this._currentPayload[S];F.set(Q,G);G+=Q.length;}pe(this._payloadSequenceNumber,q.messageId,this._closed,this._compressionAlgo,F,this._cryptoContext,{result:function(q){w(n,function(){var g;this._payloads.push(q);g=Ea(JSON.stringify(q),this._charset);this._destination.write(g,0,g.length,k,{result:function(d){w(n,function(){if(this._aborted)return!1;d<q.length?n.timeout():this._destination.flush(k,{result:function(a){w(n,function(){if(this._aborted)return!1;if(a)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;n.timeout();},t);},timeout:function(){n.timeout();},error:function(a){a instanceof J&&(a=new Xa("Error encoding payload chunk [sequence number "+t._payloadSequenceNumber+"].",a));n.error(a);}});},t);},timeout:function(d){n.timeout();},error:function(d){d instanceof J&&(d=new Xa("Error encoding payload chunk [sequence number "+t._payloadSequenceNumber+"].",d));n.error(d);}});},t);},error:function(k){k instanceof J&&(k=new Xa("Error encoding payload chunk [sequence number "+t._payloadSequenceNumber+"].",k));n.error(k);}});}},t);}t=this;w(n,function(){this._ready?q():this._readyQueue.poll(k,{result:function(k){k===Y?n.result(!1):q();},timeout:function(){n.timeout();},error:function(k){n.error(k);}});},t);},write:function(k,n,q,t,L){w(L,function(){var t;if(this._aborted)return!1;if(this._timedout)L.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Xa("Message output stream already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(n+q>k.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new aa("Cannot write payload data for an error message.");t=k.subarray(n,n+q);this._currentPayload.push(t);return t.length;}},this);}});Sc=function(k,n,q,t,L,C,M){new we(k,n,q,t,L,C,M);};}());cf=ha.Class.create({sentHeader:function(k){},receivedHeader:function(k){}});Object.freeze({USERDATA_REAUTH:q.USERDATA_REAUTH,SSOTOKEN_REJECTED:q.SSOTOKEN_REJECTED});xe=ha.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(k,n,q,t){},getCustomer:function(){},getKeyRequestData:function(k){},updateServiceTokens:function(k,n,q){},write:function(k,n,q){},getDebugContext:function(){}});ha.Class.create({getInputStream:function(k){},getOutputStream:function(k){}});(function(){var Qa,oa,wa,sa,g,d,a,b,c,h,l,f;function t(a){return function(){a.abort();};}function F(a,b){Object.defineProperties(this,{masterToken:{value:a,writable:!1,configurable:!1},ticket:{value:b,writable:!1,configurable:!1}});}function G(a,b){Object.defineProperties(this,{builder:{value:a,writable:!1,configurable:!1},msgCtx:{value:b,writable:!1,configurable:!1}});}function S(a,b,f){Object.defineProperties(this,{requestHeader:{value:a,writable:!1,configurable:!1},payloads:{value:b,writable:!1,configurable:!1},handshake:{value:f,writable:!1,configurable:!1}});}function L(a,b){Object.defineProperties(this,{requestHeader:{value:b.requestHeader,writable:!1,configurable:!1},payloads:{value:b.payloads,writable:!1,configurable:!1},handshake:{value:b.handshake,writable:!1,configurable:!1},response:{value:a,writable:!1,configurable:!1}});}function C(a){for(;a;){if(a instanceof db)return!0;a=a instanceof J?a.cause:Y;}return!1;}function M(a,b,f,c,d,l,h,g,A){se(b,c,d,l,{result:function(c){f&&f.sentHeader(c);Sc(b,h,Ba,c,null,null,g,{result:function(b){a.setAbort(function(){b.abort();});b.close(g,{result:function(a){w(A,function(){if(!a)throw new db("sendError aborted.");return a;});},timeout:function(){A.timeout();},error:function(a){A.error(a);}});},timeout:function(){},error:function(a){A.error(a);}});},error:function(a){A.error(a);}});}Qa=Mc.extend({close:function(a,b){b.result(!0);},write:function(a,b,f,c,d){n(d,function(){return Math.min(a.length-b,f);});},flush:function(a,b){b.result(!0);}});oa=bf.extend({getUserMessage:function(a,b){return null;}});wa=xe.extend({init:function(a){Object.defineProperties(this,{_appCtx:{value:a,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(a,b,f,c){this._appCtx.getUserAuthData(a,b,f,c);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(a){this._appCtx.getKeyRequestData(a);},updateServiceTokens:function(a,b,f){this._appCtx.updateServiceTokens(a,b,f);},write:function(a,b,f){this._appCtx.write(a,b,f);},getDebugContext:function(){return this._appCtx.getDebugContext();}});sa=wa.extend({init:function m(a,b){m.base.call(this,b);Object.defineProperties(this,{_payloads:{value:a,writable:!1,enumerable:!1,configurable:!1}});},write:function(a,b,f){var d;function c(m,r){var l;if(m==d._payloads.length)f.result(!0);else{l=d._payloads[m];a.setCompressionAlgorithm(l.compressionAlgo,b,{result:function(h){a.write(l.data,0,l.data.length,b,{result:function(h){w(f,function(){l.isEndOfMessage()?c(m+1,r):a.flush(b,{result:function(a){f.result(a);},timeout:function(){f.timeout();},error:function(a){f.error(a);}});},d);},timeout:function(a){f.timeout(a);},error:function(a){f.error(a);}});},timeout:function(){},error:function(a){f.error(a);}});}}d=this;c(0);}});g=wa.extend({init:function r(a){r.base.call(this,a);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(a,b,f){f.result(!0);}});d={};l=ha.Class.create({init:function(a){a||(a=new oa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:a,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(a){this._filterFactory=a;},getNewestMasterToken:function(a,b,f,c){var d;d=this;w(c,function(){var r,l,h,u,g;r=b.getMslStore();l=r.getMasterToken();if(!l)return null;h=l.uniqueKey();u=this._masterTokenLocks[h];u||(u=new dd(),this._masterTokenLocks[h]=u);g=u.readLock(f,{result:function(g){w(c,function(){var x;if(g===Y)throw new db("getNewestMasterToken aborted.");x=r.getMasterToken();if(l.equals(x))return new F(l,g);u.unlock(g);u.writeLock(f,{result:function(r){w(c,function(){if(r===Y)throw new db("getNewestMasterToken aborted.");delete this._masterTokenLocks[h];u.unlock(r);return this.getNewestMasterToken(a,b,f,c);},d);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},d);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});a.setAbort(function(){g&&(u.cancel(g),g=Y);});},d);},deleteMasterToken:function(a,b){var f;if(b){f=this;setTimeout(function(){var c,d;c=b.uniqueKey();d=f._masterTokenLocks[c];d||(d=new dd(),f._masterTokenLocks[c]=d);d.writeLock(-1,{result:function(r){a.getMslStore().removeCryptoContext(b);delete f._masterTokenLocks[c];d.unlock(r);},timeout:function(){throw new aa("Unexpected timeout received.");},error:function(a){throw a;}});},0);}},releaseMasterToken:function(a){var b;if(a&&a.masterToken){b=a.masterToken.uniqueKey();b=this._masterTokenLocks[b];if(!b)throw new aa("Master token read/write lock does not exist when it should.");b.unlock(a.ticket);}},updateOutgoingCryptoContexts:function(a,b,f){var c;c=a.getMslStore();!a.isPeerToPeer()&&f&&(c.setCryptoContext(f.keyResponseData.masterToken,f.cryptoContext),this.deleteMasterToken(a,b.masterToken));},updateIncomingCryptoContexts:function(a,b,f){var c,d;c=f.getMessageHeader();if(c){d=a.getMslStore();if(c=c.keyResponseData)d.setCryptoContext(c.masterToken,f.getKeyExchangeCryptoContext()),this.deleteMasterToken(a,b.masterToken);}},storeServiceTokens:function(a,b,f,c){var l,h;a=a.getMslStore();for(var d=[],r=0;r<c.length;++r){l=c[r];if(!l.isBoundTo(b)||!b.isVerified()){h=l.data;h&&0==h.length?a.removeServiceTokens(l.name,l.isMasterTokenBound()?b:null,l.isUserIdTokenBound()?f:null):d.push(l);}}0<d.length&&a.addServiceTokens(d);},buildRequest:function(a,b,f,c,d){var r;r=this;this.getNewestMasterToken(a,b,c,{result:function(a){n(d,function(){var c,l,h;c=a&&a.masterToken;if(c){l=f.getUserId();h=b.getMslStore();l=(l=l?h.getUserIdToken(l):null)&&l.isBoundTo(c)?l:null;}else l=null;Wb(b,c,l,null,{result:function(b){n(d,function(){b.setNonReplayable(f.isNonReplayable());return{builder:b,tokenTicket:a};});},error:function(b){n(d,function(){this.releaseMasterToken(a);b instanceof J&&(b=new aa("User ID token not bound to master token despite internal check.",b));throw b;},r);}});},r);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},buildResponse:function(a,b,f,c,d,l){var r;r=this;re(b,c,{result:function(h){w(l,function(){h.setNonReplayable(f.isNonReplayable());if(!b.isPeerToPeer()&&!c.keyResponseData)return{builder:h,tokenTicket:null};this.getNewestMasterToken(a,b,d,{result:function(a){w(l,function(){var c,d,r;c=a&&a.masterToken;if(c){d=f.getUserId();r=b.getMslStore();d=(d=d?r.getUserIdToken(d):null)&&d.isBoundTo(c)?d:null;}else d=null;h.setAuthTokens(c,d);return{builder:h,tokenTicket:a};},r);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},r);},error:function(a){l.error(a);}});},buildErrorResponse:function(a,b,f,c,d,l,h){var g;function r(a,c){w(h,function(){var r,l;r=Vb(d.messageId);l=new sa(c,f);Wb(b,null,null,r,{result:function(f){w(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(l.isNonReplayable());return{errorResult:new G(f,l),tokenTicket:null};},g);},error:function(a){h.error(a);}});},g);}function u(c,r){g.getNewestMasterToken(a,b,l,{result:function(a){w(h,function(){var l,u,x;l=a&&a.masterToken;u=Vb(d.messageId);x=new sa(r,f);Wb(b,l,null,u,{result:function(f){w(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(c.peerMasterToken,c.peerUserIdToken);f.setNonReplayable(x.isNonReplayable());return{errorResult:new G(f,x),tokenTicket:a};},g);},error:function(a){h.error(a);}});},g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}g=this;w(h,function(){var x,v,B,y;x=c.requestHeader;v=c.payloads;B=d.errorCode;switch(B){case q.ENTITYDATA_REAUTH:case q.ENTITY_REAUTH:b.getEntityAuthenticationData(B,{result:function(a){w(h,function(){if(!a)return null;r(x,v);},g);},error:function(a){h.error(a);}});break;case q.USERDATA_REAUTH:case q.SSOTOKEN_REJECTED:f.getUserAuthData(B,!1,!0,{result:function(a){w(h,function(){if(!a)return null;u(x,v);},g);},error:function(a){h.error(a);}});break;case q.USER_REAUTH:u(x,v);break;case q.KEYX_REQUIRED:B=Vb(d.messageId),y=new sa(v,f);Wb(b,null,null,B,{result:function(a){w(h,function(){b.isPeerToPeer()&&a.setPeerAuthTokens(x.peerMasterToken,x.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(y.isNonReplayable());return{errorResult:new G(a,y),tokenTicket:null};},g);},error:function(a){h.error(a);}});break;case q.EXPIRED:this.getNewestMasterToken(a,b,l,{result:function(a){w(h,function(){var c,r,l,u;c=a&&a.masterToken;r=x.userIdToken;l=Vb(d.messageId);u=new sa(v,f);Wb(b,c,r,l,{result:function(f){w(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(x.peerMasterToken,x.peerUserIdToken);x.masterToken.equals(c)&&f.setRenewable(!0);f.setNonReplayable(u.isNonReplayable());return{errorResult:new G(f,u),tokenTicket:a};},g);},error:function(a){h.error(a);}},g);},g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});break;case q.REPLAYED:this.getNewestMasterToken(a,b,l,{result:function(a){w(h,function(){var c,r,l,u;c=a&&a.masterToken;r=x.userIdToken;l=Vb(d.messageId);u=new sa(v,f);Wb(b,c,r,l,{result:function(f){w(h,function(){b.isPeerToPeer()&&f.setPeerAuthTokens(x.peerMasterToken,x.peerUserIdToken);x.masterToken.equals(c)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(u.isNonReplayable());return{errorResult:new G(f,u),tokenTicket:a};},g);},error:function(a){h.error(a);}});},g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});break;default:return null;}},g);},cleanupContext:function(a,b,f){switch(f.errorCode){case q.ENTITY_REAUTH:this.deleteMasterToken(a,b.masterToken);break;case q.USER_REAUTH:f=b.userIdToken,b.masterToken&&f&&a.getMslStore().removeUserIdToken(f);}},send:function(a,b,f,c,d,l,h){var B;function r(a,c,r){w(h,function(){var l;l=d.getPeerUserIdToken();!b.isPeerToPeer()&&!c||b.isPeerToPeer()&&!l?(l=f.getCustomer())?d.setCustomer(l,{result:function(b){w(h,function(){c=d.getUserIdToken();u(a,c,r);},B);},error:function(a){h.error(a);}}):u(a,c,r):u(a,c,r);},B);}function u(a,b,c){w(h,function(){var r,l;r=!c&&(!f.isEncrypted()||d.willEncryptPayloads())&&(!f.isIntegrityProtected()||d.willIntegrityProtectPayloads())&&(!f.isNonReplayable()||d.isNonReplayable()&&a);r||d.setNonReplayable(!1);l=[];d.isRenewable()&&(!a||a.isRenewable()||f.isNonReplayable())?f.getKeyRequestData({result:function(f){w(h,function(){var h;for(var c=0;c<f.length;++c){h=f[c];l.push(h);d.addKeyRequestData(h);}g(a,b,r,l);},B);},error:function(a){h.error(a);}}):g(a,b,r,l);},B);}function g(r,u,g,v){w(h,function(){var v;v=new te(b,f,d);f.updateServiceTokens(v,!g,{result:function(v){d.getHeader({result:function(v){w(h,function(){var B,y;B=f.getDebugContext();B&&B.sentHeader(v);B=d.getKeyExchangeData();this.updateOutgoingCryptoContexts(b,v,B);this.storeServiceTokens(b,r,u,v.serviceTokens);B=!b.isPeerToPeer()&&B?B.cryptoContext:v.cryptoContext;if(a.isAborted())throw new db("send aborted.");y=null!=this._filterFactory?this._filterFactory.getOutputStream(c):c;Sc(b,y,Ba,v,B,l,{result:function(b){a.setAbort(function(){b.abort();});x(b,v,g);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},B);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},error:function(a){h.error(a);}});},B);}function x(c,d,r){var u,g;if(r)f.write(c,l,{result:function(b){w(h,function(){if(a.isAborted())throw new db("MessageOutputStream write aborted.");v(c,d,r);},B);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});else{u=new Qa();g=new hc();Sc(b,u,Ba,d,g,l,{result:function(b){f.write(b,l,{result:function(f){w(h,function(){if(a.isAborted())throw new db("MessageOutputStream proxy write aborted.");b.close(l,{result:function(a){w(h,function(){var f;if(!a)throw new db("MessageOutputStream proxy close aborted.");f=b.getPayloads();v(c,d,r,f);},B);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},B);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}}function v(a,b,f,c){a.close(l,{result:function(d){w(h,function(){if(!d)throw new db("MessageOutputStream close aborted.");c||(c=a.getPayloads());return new S(b,c,!f);},B);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});}B=this;w(h,function(){var a,b,c,l;a=d.getMasterToken();b=d.getUserIdToken();c=!1;if(f.getUserId()){l=!b;f.getUserAuthData(null,d.isRenewable(),l,{result:function(f){w(h,function(){f&&(d.willEncryptHeader()&&d.willIntegrityProtectHeader()?d.setUserAuthenticationData(f):c=!0);r(a,b,c);},B);},error:function(a){h.error(a);}});}else r(a,b,c);},B);},receive:function(a,b,f,c,d,l,h){var r;r=this;w(h,function(){var u,g,x;if(a.isAborted())throw new db("receive aborted.");u=[];d&&(u=d.keyRequestData.filter(function(){return!0;}));g=f.getCryptoContexts();x=this._filterFactory?this._filterFactory.getInputStream(c):c;ve(b,x,Ba,u,g,l,{result:function(c){a.setAbort(function(){c.abort();});c.isReady(l,{result:function(a){w(h,function(){var l,u,g,x;if(!a)throw new db("MessageInputStream aborted.");l=c.getMessageHeader();u=c.getErrorHeader();g=f.getDebugContext();g&&g.receivedHeader(l?l:u);if(d&&(g=u?u.errorCode:null,l||g!=q.FAIL&&g!=q.TRANSIENT_FAILURE&&g!=q.ENTITY_REAUTH&&g!=q.ENTITYDATA_REAUTH)){g=l?l.messageId:u.messageId;x=Vb(d.messageId);if(g!=x)throw new ua(k.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+x+"; received "+g);}b.getEntityAuthenticationData(null,{result:function(a){w(h,function(){var r,h,g,x;r=a.getIdentity();if(l){h=l.entityAuthenticationData;g=l.masterToken;h=g?l.sender:h.getIdentity();if(g&&g.isDecrypted()&&g.identity!=h||r==h)throw new ua(k.UNEXPECTED_MESSAGE_SENDER,h);d&&this.updateIncomingCryptoContexts(b,d,c);r=l.keyResponseData;b.isPeerToPeer()?(r=r?r.masterToken:l.peerMasterToken,g=l.peerUserIdToken,h=l.peerServiceTokens):(r=r?r.masterToken:l.masterToken,g=l.userIdToken,h=l.serviceTokens);x=f.getUserId();x&&g&&!g.isVerified()&&b.getMslStore().addUserIdToken(x,g);this.storeServiceTokens(b,r,g,h);}else if(h=u.entityAuthenticationData.getIdentity(),r==h)throw new ua(k.UNEXPECTED_MESSAGE_SENDER,h);return c;},r);},error:h.error});},r);},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},timeout:function(){h.timeout();},error:function(a){h.error(a);}});},r);},sendReceive:function(a,b,f,c,d,l,h,g,I){var u;function r(r,x){w(I,function(){l.setRenewable(x);this.send(a,b,f,d,l,h,{result:function(d){w(I,function(){var l;l=d.requestHeader.keyRequestData;g||d.handshake||!l.isEmpty()?this.receive(a,b,f,c,d.requestHeader,h,{result:function(a){w(I,function(){x&&this.releaseRenewalLock(b,r,a);return new L(a,d);},u);},timeout:function(){w(I,function(){x&&this.releaseRenewalLock(b,r,null);I.timeout();},u);},error:function(a){w(I,function(){x&&this.releaseRenewalLock(b,r,null);throw a;},u);}}):w(I,function(){x&&this.releaseRenewalLock(b,r,null);return new L(null,d);},u);},u);},timeout:function(){w(I,function(){x&&this.releaseRenewalLock(b,r,null);I.timeout();},u);},error:function(a){w(I,function(){x&&this.releaseRenewalLock(b,r,null);throw a;},u);}});},u);}u=this;w(I,function(){var c;c=new oc();this.acquireRenewalLock(a,b,f,c,l,h,{result:function(a){r(c,a);},timeout:function(){I.timeout();},error:function(a){a instanceof db?I.result(null):I.error(a);}});},u);},acquireRenewalLock:function(a,b,f,c,l,h,g){var x;function r(v,B,y){w(g,function(){var I,E;if(a.isAborted())throw new db("acquireRenewalLock aborted.");for(var z=null,A=0;A<this._renewingContexts.length;++A){I=this._renewingContexts[A];if(I.ctx===b){z=I.queue;break;}}if(!z)return this._renewingContexts.push({ctx:b,queue:c}),!0;E=z.poll(h,{result:function(a){w(g,function(){var c;if(a===Y)throw new db("acquireRenewalLock aborted.");z.add(a);if(a===d||a.isExpired())r(a,B,y);else{if(y&&!B||B&&!B.isBoundTo(a)){c=b.getMslStore().getUserIdToken(y);B=c&&c.isBoundTo(a)?c:null;}l.setAuthTokens(a,B);l.isRenewable()&&a.equals(v)?r(a,B,y):f.isRequestingTokens()&&!B?r(a,B,y):u(a,B);}},x);},timeout:function(){},error:function(a){}});a.setAbort(function(){E&&(z.cancel(E),E=Y);});},x);}function u(d,r){w(g,function(){var u;if(a.isAborted())throw new db("acquireRenewalLock aborted.");if(!d||d.isRenewable()||!r&&f.getUserId()||r&&r.isRenewable()){for(var l=null,h=0;h<this._renewingContexts.length;++h){u=this._renewingContexts[h];if(u.ctx===b){l=u.queue;break;}}if(!l)return this._renewingContexts.push({ctx:b,queue:c}),!0;}return!1;},x);}x=this;w(g,function(){var a,b,c;a=l.getMasterToken();b=l.getUserIdToken();c=f.getUserId();f.isEncrypted()&&!l.willEncryptPayloads()||f.isIntegrityProtected()&&!l.willIntegrityProtectPayloads()||l.isRenewable()||!a&&f.isNonReplayable()||a&&a.isExpired()||!(b||!c||l.willEncryptHeader()&&l.willIntegrityProtectHeader())||f.isRequestingTokens()&&(!a||c&&!b)?r(a,b,c):u(a,b);},x);},releaseRenewalLock:function(a,b,f){var h;for(var c,r,l=0;l<this._renewingContexts.length;++l){h=this._renewingContexts[l];if(h.ctx===a){c=l;r=h.queue;break;}}if(r!==b)throw new aa("Attempt to release renewal lock that is not owned by this queue.");f?(f=f.messageHeader)?(r=f.keyResponseData)?b.add(r.masterToken):(a=a.isPeerToPeer()?f.peerMasterToken:f.masterToken)?b.add(a):b.add(d):b.add(d):b.add(d);this._renewingContexts.splice(c,1);}});ye=ha.Class.create({init:function(){var a;a={_impl:{value:new l(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,a);},setFilterFactory:function(a){this._impl.setFilterFactory(a);},shutdown:function(){this._shutdown=!0;},receive:function(b,f,c,d,l,h){var r;if(this._shutdown)throw new J("MslControl is shutdown.");r=new a(this._impl,b,f,c,d,l);setTimeout(function(){r.call(h);},0);return t(r);},respond:function(a,f,c,d,l,h,g){var r;if(this._shutdown)throw new J("MslControl is shutdown.");r=new b(this._impl,a,f,c,d,l,h);setTimeout(function(){r.call(g);},0);return t(r);},error:function(a,b,f,d,l,h,g){var r;if(this._shutdown)throw new J("MslControl is shutdown.");r=new c(this._impl,a,b,f,d,l,h);setTimeout(function(){r.call(g);},0);return t(r);},request:function(a,b){var f,c,d,r,l,u;if(this._shutdown)throw new J("MslControl is shutdown.");if(5==arguments.length){if(f=arguments[2],d=c=null,r=arguments[3],l=arguments[4],a.isPeerToPeer()){l.error(new aa("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(f=null,c=arguments[2],d=arguments[3],r=arguments[4],l=arguments[5],!a.isPeerToPeer())){l.error(new aa("This method cannot be used in trusted network mode."));return;}u=new h(this._impl,a,b,f,c,d,null,0,r);setTimeout(function(){u.call(l);},0);return t(u);}});a=ha.Class.create({init:function(a,b,f,c,d,l){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_input:{value:c,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:l,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Y,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var d;function b(b){w(a,function(){var c;c=b.messageHeader;if(!c)return b;this.setAbort(function(){b.abort();});b.mark(Number.MAX_VALUE);b.read(1,d._timeout,{result:function(c){w(a,function(){if(c&&0==c.length)return null;if(c)return b.reset(),b;f(b);},d);},timeout:function(){a.timeout();},error:function(b){w(a,function(){var f,r,l;if(C(b))return null;f=c?c.messageId:null;b instanceof Xa?(r=k.MSL_COMMS_FAILURE,l=b):(r=k.INTERNAL_EXCEPTION,l=new aa("Error peeking into the message payloads."));M(this,this._ctx,this._msgCtx.getDebugContext(),f,r,null,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(f){w(a,function(){if(C(f))return null;throw new mb("Error peeking into the message payloads.",f,b);},d);}});},d);}});},d);}function f(b){w(a,function(){b.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,b.messageHeader,this._timeout,{result:function(f){w(a,function(){var d,r,l,u,x;d=f.builder;r=f.tokenTicket;l=b.messageHeader;u=new g(this._msgCtx);if(!this._ctx.isPeerToPeer()||l.isEncrypting()||l.keyResponseData)c(l,d,u,r);else{x=new h(this._ctrl,this._ctx,u,null,this._input,this._output,f,1,this._timeout);this.setAbort(function(){x.abort();});x.call(a);}},d);},timeout:function(){a.timeout();},error:function(f){w(a,function(){var c,r,l,h;if(C(f))return null;f instanceof J?(c=f.messageId,r=f.error,l=b.messageHeader.messageCapabilities,l=this._ctrl.messageRegistry.getUserMessage(r,l?l.languages:null),h=f):(c=requestHeader?requestHeader.messageId:null,r=k.INTERNAL_EXCEPTION,l=null,h=new aa("Error creating an automatic handshake response.",f));M(this,this._ctx,this._msgCtx.getDebugContext(),c,r,l,this._output,this._timeout,{result:function(b){a.error(h);},timeout:function(){a.timeout();},error:function(b){w(a,function(){if(C(b))return null;throw new mb("Error creating an automatic handshake response.",b,f);},d);}});},d);}});},d);}function c(b,f,c,r){w(a,function(){f.setRenewable(!1);this._ctrl.send(this._ctx,c,this._output,f,this._timeout,{result:function(b){w(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(r);return null;},d);},timeout:function(){w(a,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(r);a.timeout();},d);},error:function(f){w(a,function(){var c,l,h,u;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(r);if(C(f))return null;f instanceof J?(c=f.messageId,l=f.error,h=b?b.messageCapabilities:null,h=this._ctrl.messageRegistry.getUserMessage(l,h?h.languages:null),u=f):f instanceof Xa?(c=b?b.messageId:null,l=k.MSL_COMMS_FAILURE,h=null,u=f):(c=b?b.messageId:null,l=k.INTERNAL_EXCEPTION,h=null,u=new aa("Error sending an automatic handshake response.",f));M(this,this._ctx,this._msgCtx.getDebugContext(),c,l,h,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(b){w(a,function(){if(C(b))return null;throw new mb("Error sending an automatic handshake response.",b,f);},d);}});},d);}});},d);}d=this;w(a,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(a){b(a);},timeout:function(){a.timeout();},error:function(b){w(a,function(){var f,c,r,l;if(C(b))return null;b instanceof J?(f=b.messageId,c=b.error,r=this._ctrl.messageRegistry.getUserMessage(c,null),l=b):(f=null,c=k.INTERNAL_EXCEPTION,r=null,l=new aa("Error receiving the message header.",b));M(this,this._ctx,this._msgCtx.getDebugContext(),f,c,r,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(f){w(a,function(){if(C(f))return null;throw new mb("Error receiving the message header.",f,b);},d);}});},d);}});},d);}});b=ha.Class.create({init:function(a,b,f,c,d,l,h){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_input:{value:c,writable:!1,enumerable:!1,configurable:!1},_output:{value:d,writable:!1,enumerable:!1,configurable:!1},_request:{value:l,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:h,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Y,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},trustedNetworkExecute:function(a,b,f){var c;c=this;w(f,function(){var d,r;if(12<b+1)return!1;if(d=this._msgCtx.isIntegrityProtected()&&!a.willIntegrityProtectHeader()?k.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!a.willEncryptPayloads()?k.RESPONSE_REQUIRES_ENCRYPTION:null){r=ic(a.getMessageId());M(this,this._ctx,this._msgCtx.getDebugContext(),r,d,null,this._output,this._timeout,{result:function(a){f.result(!1);},timeout:function(){f.timeout();},error:function(a){w(f,function(){if(C(a))return!1;throw new mb("Response requires encryption or integrity protection but cannot be protected: "+d,a,null);},c);}});}else!this._msgCtx.getCustomer()||a.getMasterToken()||a.getKeyExchangeData()?(a.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,a,this._timeout,{result:function(a){f.result(!0);},timeout:function(){f.timeout();},error:function(a){f.error(a);}})):(r=ic(a.getMessageId()),M(this,this._ctx,this._msgCtx.getDebugContext(),r,k.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){f.result(!1);},timeout:function(){f.timeout();},error:function(a){w(f,function(){if(C(a))return!1;throw new mb("Response wishes to attach a user ID token but there is no master token.",a,null);},c);}}));},c);},peerToPeerExecute:function(a,b,f,c){var r;function d(b){w(c,function(){var d;d=b.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,a,b,d,{result:function(a){w(c,function(){var b,d;if(!a)return!1;b=a.errorResult;d=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,f,{result:function(a){w(c,function(){this._ctrl.releaseMasterToken(d);return a;},r);},timeout:function(){w(c,function(){this._ctrl.releaseMasterToken(d);c.timeout();},r);},error:function(a){w(c,function(){this._ctrl.releaseMasterToken(d);throw a;},r);}});},r);}});},r);}r=this;w(c,function(){var l;if(12<f+2)return!1;if(null!=a.getCustomer()&&null==b.getPeerMasterToken()&&null==b.getKeyExchangeData()){l=ic(b.getMessageId());M(this,this._ctx,a.getDebugContext(),l,k.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(a){c.result(!1);},timeout:function(){c.timeout();},error:function(a){w(c,function(){if(C(a))return!1;throw new mb("Response wishes to attach a user ID token but there is no master token.",a,null);},r);}});}else this._ctrl.sendReceive(this._ctx,a,this._input,this._output,b,this._timeout,!1,{result:function(b){w(c,function(){var u,g,x;function l(){u.read(32768,r._timeout,{result:function(a){w(c,function(){a?l():h();},r);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});}function h(){w(c,function(){var d;d=new sa(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,d,g,this._timeout,{result:function(a){w(c,function(){var b;b=a.tokenTicket;this.peerToPeerExecute(d,a.builder,f,{result:function(a){w(c,function(){this._ctrl.releaseMasterToken(b);return a;},r);},timeout:function(){w(c,function(){this._ctrl.releaseMasterToken(b);c.timeout();},r);},error:function(a){w(c,function(){this._ctrl.releaseMasterToken(b);throw a;},r);}});},r);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},r);}u=b.response;f+=2;if(!u)return!0;g=u.getMessageHeader();if(g){x=b.payloads;x=0<x.length&&0<x[0].data.length;if(b.handshake&&x)l();else return!0;}else d(b);},r);},timeout:function(){c.timeout();},error:function(a){c.error(a);}});},r);},call:function(a){var b;b=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(f){w(a,function(){var c,d;c=f.builder;d=f.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,c,3,{result:function(f){w(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return f;},b);},timeout:function(){w(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(f){w(a,function(){var r,l,h,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(C(f))return!1;r=ic(c.getMessageId());f instanceof J?(l=f.error,h=this._request.messageCapabilities,h=this._ctrl.messageRegistry.getUserMessage(l,h?h.languages:null),u=f):f instanceof Xa?(l=k.MSL_COMMS_FAILURE,h=null,u=f):(l=k.INTERNAL_EXCEPTION,h=null,u=new aa("Error sending the response.",f));M(this,this._ctx,this._msgCtx.getDebugContext(),r,l,h,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(f){w(a,function(){if(C(f))return!1;throw new mb("Error sending the response.",f,null);},b);}});},b);}}):this.trustedNetworkExecute(c,3,{result:function(f){w(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);return f;},b);},timeout:function(){w(a,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);a.timeout();},b);},error:function(f){w(a,function(){var r,l,h,u;this._ctx.isPeerToPeer()&&this.releaseMasterToken(d);if(C(f))return!1;r=ic(c.getMessageId());f instanceof J?(l=f.error,h=this._request.messageCapabilities,h=this._ctrl.messageRegistry.getUserMessage(l,h?h.languages:null),u=f):f instanceof Xa?(l=k.MSL_COMMS_FAILURE,h=null,u=f):(l=k.INTERNAL_EXCEPTION,h=null,u=new aa("Error sending the response.",f));M(this,this._ctx,this._msgCtx.getDebugContext(),r,l,h,this._output,this._timeout,{result:function(b){a.error(u);},timeout:function(){a.timeout();},error:function(f){w(a,function(){if(C(f))return!1;throw new mb("Error sending the response.",f,null);},b);}});},b);}});},b);},timeout:function(){a.timeout();},error:function(f){w(a,function(){var c,d,r,l;if(C(f))return!1;f instanceof J?(c=f.messageId,d=f.error,r=this._request.messageCapabilities,r=this._ctrl.messageRegistry.getUserMessage(d,r?r.languages:null),l=f):(c=null,d=k.INTERNAL_EXCEPTION,r=null,l=new aa("Error building the response.",f));M(this,this._ctx,this._msgCtx.getDebugContext(),c,d,r,this._output,this._timeout,{result:function(b){a.error(l);},timeout:function(){a.timeout();},error:function(c){w(a,function(){if(C(c))return null;throw new mb("Error building the response.",c,f);},b);}});},b);}});}});c=ha.Class.create({init:function(a,b,f,c,d,l,h){Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_appError:{value:c,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:l,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:h,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Y,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},call:function(a){var b;b=this;w(a,function(){var f,c;if(this._appError==ENTITY_REJECTED)f=this._request.masterToken?k.MASTERTOKEN_REJECTED_BY_APP:k.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)f=this._request.userIdToken?k.USERIDTOKEN_REJECTED_BY_APP:k.USER_REJECTED_BY_APP;else throw new aa("Unhandled application error "+this._appError+".");c=this._request.messageCapabilities;c=this._ctrl.messageRegistry.getUserMessage(f,c?c.languages:null);M(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,f,c,this._output,this._timeout,{result:function(b){a.result(b);},timeout:a.timeout,error:function(f){w(a,function(){if(C(f))return!1;if(f instanceof J)throw f;throw new aa("Error building the error response.",f);},b);}});},b);}});f={result:function(){},timeout:function(){},error:function(){}};h=ha.Class.create({init:function(a,b,f,c,d,l,h,g,I){var r;h?(r=h.builder,h=h.tokenTicket):h=r=null;Object.defineProperties(this,{_ctrl:{value:a,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:b,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:f,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:c,writable:!1,enumerable:!1,configurable:!1},_input:{value:d,writable:!0,enumerable:!1,configurable:!1},_output:{value:l,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:r,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:h,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:I,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Y,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(a){this._abortFunc=a;},execute:function(a,b,c,d,l){var x;function r(b){function r(a){w(l,function(){var f;f=b.response;return a?a:f;},x);}w(l,function(){var u,g;u=b.response;u.close();g=u.getErrorHeader();this._ctrl.cleanupContext(this._ctx,b.requestHeader,g);this._ctrl.buildErrorResponse(this,this._ctx,a,b,g,c,{result:function(a){w(l,function(){var b,g,v,B;if(!a)return u;b=a.errorResult;g=a.tokenTicket;v=b.builder;b=b.msgCtx;if(this._ctx.isPeerToPeer())this.execute(b,v,this._timeout,d,{result:function(a){w(l,function(){this._ctrl.releaseMasterToken(g);r(a);},x);},timeout:function(){w(l,function(){this._ctrl.releaseMasterToken(g);l.timeout();},x);},error:function(a){w(l,function(){this._ctrl.releaseMasterToken(g);l.error(a);},x);}});else{this._openedStreams&&(this._input.close(),this._output.close(c,f));B=new h(this._ctrl,this._ctx,b,this._remoteEntity,null,null,{builder:v,tokenTicket:g},d,this._timeout);this.setAbort(function(){B.abort();});B.call({result:function(a){r(a);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}},x);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},x);}function u(b){w(l,function(){var v,B,z,y,A;function r(){v.read(32768,x._timeout,{result:function(a){a?r():u();},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}function u(){w(l,function(){var f;f=new sa(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,B,c,{result:function(a){w(l,function(){var b;b=a.tokenTicket;this.execute(f,a.builder,this._timeout,d,{result:function(a){w(l,function(){this._ctrl.releaseMasterToken(b);return a;},x);},timeout:function(){w(l,function(){this._ctrl.releaseMasterToken(b);l.timeout();},x);},error:function(a){w(l,function(){this._ctrl.releaseMasterToken(b);throw a;},x);}});},x);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},x);}v=b.response;B=v.getMessageHeader();z=b.payloads;z=0<z.length&&0<z[0].data.length;if(!this._ctx.isPeerToPeer()){if(!b.handshake||!z)return v;this._openedStreams&&(this._input.close(),this._output.close(c,f));y=new sa(b.payloads,a);this._ctrl.buildResponse(this,this._ctx,a,B,c,{result:function(a){w(l,function(){var b;b=new h(this._ctrl,this._ctx,y,this._remoteEntity,null,null,a,d,this._timeout);this.setAbort(function(){b.abort();});b.call(l);},x);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}else if(b.handshake&&z)r();else if(0<B.keyRequestData.length){A=new g(a);this._ctrl.buildResponse(this,this._ctx,A,B,c,{result:function(a){w(l,function(){var b,f;b=a.builder;f=a.tokenTicket;v.mark();v.read(1,this._timeout,{result:function(a){w(l,function(){function c(){v.read(32768,x._timeout,{result:function(a){a?c():r();},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}function r(){x.execute(A,b,x._timeout,d,{result:function(a){w(l,function(){this._ctrl.releaseMasterToken(f);return a;},x);},timeout:function(){w(l,function(){this._ctrl.releaseMasterToken(f);l.timeout();},x);},error:function(a){w(l,function(){this._ctrl.releaseMasterToken(f);throw a;},x);}});}if(a)if(v.reset(),12>=d+1)b.setRenewable(!1),this._ctrl.send(this,this._ctx,A,this._output,b,this._timeout,{result:function(a){w(l,function(){this.releaseMasterToken(f);return v;},x);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});else return this.releaseMasterToken(f),v;else c();},x);},timeout:function(){w(l,function(){this.releaseMasterToken(f);l.timeout();},x);},error:function(a){w(l,function(){this.releaseMasterToken(f);throw a;},x);}});},x);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});}},x);}x=this;w(l,function(){if(12<d+2)return null;this._ctrl.sendReceive(this,this._ctx,a,this._input,this._output,b,c,!0,{result:function(a){w(l,function(){var b;if(!a)return null;b=a.response;d+=2;b.getMessageHeader()?u(a):r(a);},x);},timeout:function(){l.timeout();},error:function(a){l.error(a);}});},x);},call:function(a){var c;function b(b,d,r){w(a,function(){this.execute(this._msgCtx,b,r,this._msgCount,{result:function(b){w(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&this._output.close(r,f);b&&b.closeSource(this._openedStreams);return b;},c);},timeout:function(){w(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(r,f),this._input.close());a.timeout();},c);},error:function(b){w(a,function(){this._ctrl.releaseMasterToken(d);this._openedStreams&&(this._output.close(r,f),this._input.close());if(C(b))return null;throw b;},c);}});},c);}c=this;w(a,function(){var d,r,l;d=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);r=Date.now();l=this._remoteEntity.openConnection();this._output=l.output;this._input=l.input;-1!=d&&(d=this._timeout-(Date.now()-r));this._openedStreams=!0;}catch(A){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,f);this._input&&this._input.close();if(C(A))return null;throw A;}this._builder?b(this._builder,this._tokenTicket,d):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(f){w(a,function(){b(f.builder,f.tokenTicket,d);},c);},timeout:function(){w(a,function(){this._openedStreams&&(this._output.close(this._timeout,f),this._input.close());a.timeout();},c);},error:function(b){w(a,function(){this._openedStreams&&(this._output.close(this._timeout,f),this._input.close());if(C(b))return null;throw b;},c);}});},c);}});}());(function(){xd=ha.Class.create({init:function(k){Object.defineProperties(this,{id:{value:k,writable:!1,configurable:!1}});},toJSON:function(){var k;k={};k.id=this.id;return k;},equals:function(k){return this===k?!0:k instanceof xd?this.id==k.id:!1;},uniqueKey:function(){return this.id;}});ze=function(n){var q;q=n.id;if(!q)throw new ea(k.JSON_PARSE_ERROR,JSON.stringify(n));return new xd(q);};}());ha.Class.create({isNewestMasterToken:function(k,n,q){},isMasterTokenRevoked:function(k,n){},acceptNonReplayableId:function(k,n,q,t){},createMasterToken:function(k,n,q,t,L){},isMasterTokenRenewable:function(k,n,q){},renewMasterToken:function(k,n,q,t,L){},isUserIdTokenRevoked:function(k,n,q,t){},createUserIdToken:function(k,n,q,t){},renewUserIdToken:function(k,n,q,t){}});(function(){function q(k,n,q,t){this.sessiondata=k;this.tokendata=n;this.signature=q;this.verified=t;}kb=ha.Class.create({init:function(k,q,t,L,C,M,w,J,Q,sa,g){var d;d=this;n(g,function(){var a,b,c,h,l;if(t.getTime()<q.getTime())throw new aa("Cannot construct a master token that expires before its renewal window opens.");if(0>L||L>Ca)throw new aa("Sequence number "+L+" is outside the valid range.");if(0>C||C>Ca)throw new aa("Serial number "+C+" is outside the valid range.");a=Math.floor(q.getTime()/1E3);b=Math.floor(t.getTime()/1E3);if(sa)c=sa.sessiondata;else{h={};M&&(h.issuerdata=M);h.identity=w;h.encryptionkey=ka(J.toByteArray());h.hmackey=ka(Q.toByteArray());c=Ea(JSON.stringify(h),Ba);}if(sa)return Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:L,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:M,writable:!1,configurable:!1},identity:{value:w,writable:!1,configurable:!1},encryptionKey:{value:J,writable:!1,configurable:!1},hmacKey:{value:Q,writable:!1,configurable:!1},sessiondata:{value:c,writable:!1,enumerable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:sa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;l=k.getMslCryptoContext();l.encrypt(c,{result:function(f){n(g,function(){var p,m;p={};p.renewalwindow=a;p.expiration=b;p.sequencenumber=L;p.serialnumber=C;p.sessiondata=ka(f);m=Ea(JSON.stringify(p),Ba);l.sign(m,{result:function(f){n(g,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:a,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:b,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:L,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:C,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:M,writable:!1,configurable:!1},identity:{value:w,writable:!1,configurable:!1},encryptionKey:{value:J,writable:!1,configurable:!1},hmacKey:{value:Q,writable:!1,configurable:!1},sessiondata:{value:c,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:m,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){g.error(a);}});},d);},error:function(a){g.error(a);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(k){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(k){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(k){var n;if(this.sequenceNumber==k.sequenceNumber)return this.expiration>k.expiration;if(this.sequenceNumber>k.sequenceNumber){n=this.sequenceNumber-Ca+127;return k.sequenceNumber>=n;}n=k.sequenceNumber-Ca+127;return this.sequenceNumber<n;},toJSON:function(){var k;k={};k.tokendata=ka(this.tokendata);k.signature=ka(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof kb?this.serialNumber==k.serialNumber&&this.sequenceNumber==k.sequenceNumber&&this.expiration.getTime()==k.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Tb=function(t,G,w){n(w,function(){var L,C,M,F,S;L=t.getMslCryptoContext();C=G.tokendata;M=G.signature;if("string"!==typeof C||"string"!==typeof M)throw new ea(k.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(G));try{F=pa(C);}catch(wa){throw new J(k.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(G),wa);}if(!F||0==F.length)throw new ea(k.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(G));try{S=pa(M);}catch(wa){throw new J(k.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(G),wa);}L.verify(F,S,{result:function(C){n(w,function(){var M,g,d,a,b,c,h,l,f,p;c=ya(F,Ba);try{h=JSON.parse(c);M=parseInt(h.renewalwindow);g=parseInt(h.expiration);d=parseInt(h.sequencenumber);a=parseInt(h.serialnumber);b=h.sessiondata;}catch(m){if(m instanceof SyntaxError)throw new ea(k.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+c,m);throw m;}if(!M||M!=M||!g||g!=g||"number"!==typeof d||d!=d||"number"!==typeof a||a!=a||"string"!==typeof b)throw new ea(k.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+c);if(g<M)throw new J(k.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+c);if(0>d||d>Ca)throw new J(k.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+c);if(0>a||a>Ca)throw new J(k.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+c);l=new Date(1E3*M);f=new Date(1E3*g);try{p=pa(b);}catch(m){throw new J(k.MASTERTOKEN_SESSIONDATA_INVALID,b,m);}if(!p||0==p.length)throw new J(k.MASTERTOKEN_SESSIONDATA_MISSING,b);C?L.decrypt(p,{result:function(b){n(w,function(){var c,p,m,h,g,y;g=ya(b,Ba);try{y=JSON.parse(g);c=y.issuerdata;p=y.identity;m=y.encryptionkey;h=y.hmackey;}catch(A){if(A instanceof SyntaxError)throw new ea(k.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+g,A);throw A;}if(c&&"object"!==typeof c||!p||"string"!==typeof m||"string"!==typeof h)throw new ea(k.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+g);Bb(m,rb,Jb,{result:function(m){Bb(h,sb,Sb,{result:function(r){n(w,function(){var h;h=new q(b,F,S,C);new kb(t,l,f,d,a,c,p,m,r,h,w);});},error:function(a){w.error(new U(k.MASTERTOKEN_KEY_CREATION_ERROR,a));}});},error:function(a){w.error(new U(k.MASTERTOKEN_KEY_CREATION_ERROR,a));}});});},error:function(a){w.error(a);}}):(M=new q(null,F,S,C),new kb(t,l,f,d,a,null,null,null,null,M,w));});},error:function(k){w.error(k);}});});};}());(function(){function q(k,n,q){this.tokendata=k;this.signature=n;this.verified=q;}fc=ha.Class.create({init:function(k,q,t,w,C,M,Q,oa,wa){var G;G=this;n(wa,function(){var g,d,a,b,c,h,l;if(t.getTime()<q.getTime())throw new aa("Cannot construct a user ID token that expires before its renewal window opens.");if(!w)throw new aa("Cannot construct a user ID token without a master token.");if(0>C||C>Ca)throw new aa("Serial number "+C+" is outside the valid range.");g=Math.floor(q.getTime()/1E3);d=Math.floor(t.getTime()/1E3);a=w.serialNumber;if(oa){b=oa.tokendata;c=oa.signature;h=oa.verified;a=w.serialNumber;Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:g,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:M,writable:!1,configurable:!1},customer:{value:Q,writable:!1,configurable:!1},verified:{value:h,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:c,writable:!1,enumerable:!1,configurable:!1}});return this;}b={};M&&(b.issuerdata=M);b.identity=Q;b=Ea(JSON.stringify(b),Ba);l=k.getMslCryptoContext();l.encrypt(b,{result:function(b){n(wa,function(){var f,c;f={};f.renewalwindow=g;f.expiration=d;f.mtserialnumber=a;f.serialnumber=C;f.userdata=ka(b);c=Ea(JSON.stringify(f),Ba);l.sign(c,{result:function(a){n(wa,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:g,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:w.serialNumber,writable:!1,configurable:!1},serialNumber:{value:C,writable:!1,configurable:!1},issuerData:{value:M,writable:!1,configurable:!1},customer:{value:Q,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:a,writable:!1,enumerable:!1,configurable:!1}});return this;},G);},error:function(a){n(wa,function(){a instanceof J&&a.setEntity(w);throw a;},G);}});},G);},error:function(a){n(wa,function(){a instanceof J&&a.setEntity(w);throw a;},G);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(k){return k&&k.serialNumber==this.mtSerialNumber;},toJSON:function(){var k;k={};k.tokendata=ka(this.tokendata);k.signature=ka(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof fc?this.serialNumber==k.serialNumber&&this.mtSerialNumber==k.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Ub=function(t,G,w,L){n(L,function(){var C,M,F,S,Q;C=t.getMslCryptoContext();M=G.tokendata;F=G.signature;if("string"!==typeof M||"string"!==typeof F)throw new ea(k.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(G)).setEntity(w);try{S=pa(M);}catch(sa){throw new J(k.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(G),sa).setEntity(w);}if(!S||0==S.length)throw new ea(k.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(G)).setEntity(w);try{Q=pa(F);}catch(sa){throw new J(k.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(G),sa).setEntity(w);}C.verify(S,Q,{result:function(M){n(L,function(){var g,d,a,b,c,h,l,f,p,m;h=ya(S,Ba);try{l=JSON.parse(h);g=parseInt(l.renewalwindow);d=parseInt(l.expiration);a=parseInt(l.mtserialnumber);b=parseInt(l.serialnumber);c=l.userdata;}catch(r){if(r instanceof SyntaxError)throw new ea(k.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+h,r).setEntity(w);throw r;}if(!g||g!=g||!d||d!=d||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"string"!==typeof c)throw new ea(k.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+h).setEntity(w);if(d<g)throw new J(k.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+h).setEntity(w);if(0>a||a>Ca)throw new J(k.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+h).setEntity(w);if(0>b||b>Ca)throw new J(k.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+h).setEntity(w);f=new Date(1E3*g);p=new Date(1E3*d);if(!w||a!=w.serialNumber)throw new J(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+a+"; mt "+JSON.stringify(w)).setEntity(w);try{m=pa(c);}catch(r){throw new J(k.USERIDTOKEN_USERDATA_INVALID,c,r).setEntity(w);}if(!m||0==m.length)throw new J(k.USERIDTOKEN_USERDATA_MISSING,c).setEntity(w);M?C.decrypt(m,{result:function(a){n(L,function(){var c,d,m,r,l;m=ya(a,Ba);try{r=JSON.parse(m);c=r.issuerdata;d=r.identity;}catch(A){if(A instanceof SyntaxError)throw new ea(k.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+m).setEntity(w);throw A;}if(c&&"object"!==typeof c||"object"!==typeof d)throw new ea(k.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+m).setEntity(w);try{l=ze(d);}catch(A){throw new J(k.USERIDTOKEN_IDENTITY_INVALID,"userdata "+m,A).setEntity(w);}d=new q(S,Q,M);new fc(t,f,p,w,b,c,l,d,L);});},error:function(a){n(L,function(){a instanceof J&&a.setEntity(w);throw a;});}}):(g=new q(S,Q,M),new fc(t,f,p,w,b,null,null,g,L));});},error:function(k){n(L,function(){k instanceof J&&k.setEntity(w);throw k;});}});});};}());(function(){function q(n,q){var t,C,w;t=n.tokendata;if("string"!==typeof t)throw new ea(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));try{C=pa(t);}catch(Qa){throw new J(k.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(n),Qa);}if(!C||0==C.length)throw new ea(k.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(n));try{w=JSON.parse(ya(C,Ba)).name;}catch(Qa){if(Qa instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n),Qa);throw Qa;}if(!w)throw new ea(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));return q[w]?q[w]:q[""];}function t(k,n,q){this.tokendata=k;this.signature=n;this.verified=q;}Lb=ha.Class.create({init:function(k,q,t,C,w,F,Q,U,Y,g){var d;d=this;n(g,function(){var a,b,c,h,l;if(C&&w&&!w.isBoundTo(C))throw new aa("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");a=C?C.serialNumber:-1;b=w?w.serialNumber:-1;if(Y)return l=Y.tokendata,Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:F,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Q,writable:!1,configurable:!1},verified:{value:Y.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:l,writable:!1,enumerable:!1,configurable:!1},signature:{value:Y.signature,writable:!1,enumerable:!1,configurable:!1}}),this;Q?(c=wd(Q,t),c.length<t.length||(Q=null,c=t)):(Q=null,c=t);h={};h.name=q;-1!=a&&(h.mtserialnumber=a);-1!=b&&(h.uitserialnumber=b);h.encrypted=F;Q&&(h.compressionalgo=Q);if(F&&0<c.length)U.encrypt(c,{result:function(f){n(g,function(){var c;h.servicedata=ka(f);c=Ea(JSON.stringify(h),Ba);U.sign(c,{result:function(f){n(g,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:F,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Q,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){n(g,function(){a instanceof J&&(a.setEntity(C),a.setUser(w));throw a;});}});},d);},error:function(a){n(g,function(){a instanceof J&&(a.setEntity(C),a.setUser(w));throw a;});}});else{h.servicedata=ka(c);l=Ea(JSON.stringify(h),Ba);U.sign(l,{result:function(f){n(g,function(){Object.defineProperties(this,{ctx:{value:k,writable:!1,enumerable:!1,configurable:!1},name:{value:q,writable:!1,configurable:!1},mtSerialNumber:{value:a,writable:!1,configurable:!1},uitSerialNumber:{value:b,writable:!1,configurable:!1},data:{value:t,writable:!1,configurable:!1},encrypted:{value:F,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Q,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:l,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}});return this;},d);},error:function(a){n(g,function(){a instanceof J&&(a.setEntity(C),a.setUser(w));throw a;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(k){return k?k instanceof kb?k.serialNumber==this.mtSerialNumber:k instanceof fc?k.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var k;k={};k.tokendata=ka(this.tokendata);k.signature=ka(this.signature);return k;},equals:function(k){return this===k?!0:k instanceof Lb?this.name==k.name&&this.mtSerialNumber==k.mtSerialNumber&&this.uitSerialNumber==k.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Fb=function(k,n,q,t,w,F,J,Q,U){new Lb(k,n,q,t,w,F,J,Q,null,U);};Pc=function(w,F,L,C,M,Q){n(Q,function(){var G,S,U,g,d,a,b,c,h,l,f,p,m;!M||M instanceof gc||(M=q(F,M));G=F.tokendata;S=F.signature;if("string"!==typeof G||"string"!==typeof S)throw new ea(k.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(F)).setEntity(L).setEntity(C);try{U=pa(G);}catch(r){throw new J(k.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(F),r).setEntity(L).setEntity(C);}if(!U||0==U.length)throw new ea(k.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(F)).setEntity(L).setEntity(C);try{g=pa(S);}catch(r){throw new J(k.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(F),r).setEntity(L).setEntity(C);}f=ya(U,Ba);try{p=JSON.parse(f);d=p.name;a=p.mtserialnumber?parseInt(p.mtserialnumber):-1;b=p.uitserialnumber?parseInt(p.uitserialnumber):-1;c=p.encrypted;h=p.compressionalgo;l=p.servicedata;}catch(r){if(r instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"servicetokendata "+f,r).setEntity(L).setEntity(C);throw r;}if(!d||"number"!==typeof a||a!=a||"number"!==typeof b||b!=b||"boolean"!==typeof c||h&&"string"!==typeof h||"string"!==typeof l)throw new ea(k.JSON_PARSE_ERROR,"servicetokendata "+f).setEntity(L).setEntity(C);if(p.mtserialnumber&&0>a||a>Ca)throw new J(k.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+f).setEntity(L).setEntity(C);if(p.uitserialnumber&&0>b||b>Ca)throw new J(k.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+f).setEntity(L).setEntity(C);if(-1!=a&&(!L||a!=L.serialNumber))throw new J(k.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+a+"; mt "+L).setEntity(L).setEntity(C);if(-1!=b&&(!C||b!=C.serialNumber))throw new J(k.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+b+"; uit "+C).setEntity(L).setEntity(C);c=!0===c;if(h){if(!Pb[h])throw new J(k.UNIDENTIFIED_COMPRESSION,h);m=h;}else m=null;M?M.verify(U,g,{result:function(p){n(Q,function(){var r,h;if(p){try{r=pa(l);}catch(v){throw new J(k.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+f,v).setEntity(L).setEntity(C);}if(!r||0!=l.length&&0==r.length)throw new J(k.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+f).setEntity(L).setEntity(C);if(c&&0<r.length)M.decrypt(r,{result:function(f){n(Q,function(){var r,l;r=m?Qc(m,f):f;l=new t(U,g,p);new Lb(w,d,r,-1!=a?L:null,-1!=b?C:null,c,m,M,l,Q);});},error:function(a){n(Q,function(){a instanceof J&&(a.setEntity(L),a.setUser(C));throw a;});}});else{r=m?Qc(m,r):r;h=new t(U,g,p);new Lb(w,d,r,-1!=a?L:null,-1!=b?C:null,c,m,M,h,Q);}}else r=""==l?new Uint8Array(0):null,h=new t(U,g,p),new Lb(w,d,r,-1!=a?L:null,-1!=b?C:null,c,m,M,h,Q);});},error:function(a){n(Q,function(){a instanceof J&&(a.setEntity(L),a.setUser(C));throw a;});}}):(G=""==l?new Uint8Array(0):null,S=new t(U,g,!1),new Lb(w,d,G,-1!=a?L:null,-1!=b?C:null,c,m,M,S,Q));});};}());eb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(eb);(function(){Ib=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(k){return this===k?!0:k instanceof Ib?this.scheme==k.scheme:!1;},toJSON:function(){var k;k={};k.scheme=this.scheme;k.authdata=this.getAuthData();return k;}});oe=function(q,t,w,S){n(S,function(){var n,C,M;n=w.scheme;C=w.authdata;if(!n||!C)throw new ea(k.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(w));if(!eb[n])throw new ra(k.UNIDENTIFIED_USERAUTH_SCHEME,n);M=q.getUserAuthenticationFactory(n);if(!M)throw new ra(k.USERAUTH_FACTORY_NOT_FOUND,n);M.createData(q,t,C,S);});};}());tc=ha.Class.create({init:function(k){Object.defineProperties(this,{scheme:{value:k,writable:!1,configurable:!1}});},createData:function(k,n,q,t){},authenticate:function(k,n,q,t){}});(function(){Xb=Ib.extend({init:function F(k,n){F.base.call(this,eb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:k,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.netflixid=this.netflixId;this.secureNetflixId&&(k.securenetflixid=this.secureNetflixId);return k;},equals:function G(k){return this===k?!0:k instanceof Xb?G.base.call(this,k)&&this.netflixId==k.netflixId&&this.secureNetflixId==k.secureNetflixId:!1;}});Ae=function(n){var q,t;q=n.netflixid;t=n.securenetflixid;if(!q)throw new ea(k.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(n));return new Xb(q,t);};}());df=tc.extend({init:function F(){F.base.call(this,eb.NETFLIXID);},createData:function(k,q,t,w){n(w,function(){return Ae(t);});},authenticate:function(n,q,t,w){if(!(t instanceof Xb))throw new aa("Incorrect authentication data type "+t+".");n=t.secureNetflixId;if(!t.netflixId||!n)throw new ra(k.NETFLIXID_COOKIES_BLANK).setUser(t);throw new ra(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){uc=Ib.extend({init:function G(k,n){G.base.call(this,eb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:k,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.email=this.email;k.password=this.password;return k;},equals:function S(k){return this===k?!0:k instanceof uc?S.base.call(this,this,k)&&this.email==k.email&&this.password==k.password:!1;}});Be=function(n){var q,t;q=n.email;t=n.password;if(!q||!t)throw new ea(k.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(n));return new uc(q,t);};}());ef=tc.extend({init:function G(){G.base.call(this,eb.EMAIL_PASSWORD);},createData:function(k,q,t,C){n(C,function(){return Be(t);});},authenticate:function(n,q,t,C){if(!(t instanceof uc))throw new aa("Incorrect authentication data type "+t+".");n=t.password;if(!t.email||!n)throw new ra(k.EMAILPASSWORD_BLANK).setUser(t);throw new ra(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var C,M,Y,oa,wa,sa,g,d;function q(a,b){return"<"+a+">"+b+"</"+a+">";}function t(a){return a.replace(/[<>&"']/g,function(a){return wa[a];});}function w(a){return encodeURIComponent(a).replace("%20","+").replace(/[!'()]/g,escape).replace(/*/g,"%2A");}C=Tc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};M=ha.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});Y=yd=M.extend({init:function(a,b,c,d,l,f,p){var h;function m(f){n(p,function(){var d,m;try{m={};m.useridtoken=a;m.action=b;m.nonce=c;m.pin=ka(f);d=Ea(JSON.stringify(m),Ba);}catch(y){throw new ea(k.JSON_ENCODE_ERROR,"MSL-based MDX authdata",y);}l.sign(d,{result:function(a){r(d,a);},error:p.error});},h);}function r(f,m){n(p,function(){Object.defineProperties(this,{_userIdToken:{value:a,writable:!1,enumerable:!1,configurable:!1},_action:{value:b,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:c,writable:!1,enumerable:!1,configurable:!1},_pin:{value:d,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:f,writable:!1,enumerable:!1,configurable:!1},_signature:{value:m,writable:!1,enumerable:!1,configurable:!1}});return this;},h);}h=this;n(p,function(){f?r(f.encoding,f.signature):l.encrypt(Ea(d,Ba),{result:function(a){m(a);},error:p.error});},h);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof Y?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin&&this._userIdToken.equals(a._userIdToken):!1;}});yd.ACTION="userauth";oa=function(a,b,c,d,l){function f(f){n(l,function(){var d,m,h,g,B,y;d=ya(c,Ba);try{y=JSON.parse(d);m=y.useridtoken;h=y.action;g=y.nonce;B=y.pin;}catch(A){if(A instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+d,A);throw A;}if(!(m&&"object"===typeof m&&h&&"string"===typeof h&&g&&"number"===typeof g&&B)||"string"!==typeof B)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+d);Ub(a,m,b,{result:function(a){n(l,function(){if(!a.isDecrypted())throw new ra(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+d);p(f,a,h,g,B);});},error:function(a){n(l,function(){if(a instanceof J)throw new ra(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+d,a);throw a;});}});});}function p(a,b,f,p,h){n(l,function(){var m;m=pa(h);a.decrypt(m,{result:function(a){n(l,function(){var m;m=ya(a,Ba);new Y(b,f,p,m,null,{encoding:c,signature:d},l);});},error:l.error});});}n(l,function(){var p,r;try{r=a.getMslStore().getCryptoContext(b);p=r?r:new lb(a,b);}catch(u){if(u instanceof Rb)throw new ra(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+ka(c));throw u;}p.verify(c,d,{result:function(a){n(l,function(){if(!a)throw new U(k.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ka(c));f(p);});},error:l.error});});};wa={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};sa=vc=M.extend({init:function(a,b,c,d){var l,f;l=q("action",t(a));f=q("nonce",b.toString());c=q("pin",c);l=q("registerdata",l+f+c);l=Ea(l,"utf-8");Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:d,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof sa?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});vc.ACTION="regpairrequest";g=zd=M.extend({init:function(a,b,c,d,l,f){var r;function p(c){n(f,function(){var p,r,l,h,u;p=ka(c);r=q("action",t(a));l=q("nonce",b.toString());h=q("pin",p);r=q("registerdata",r+l+h);u=Ea(r,"utf-8");p="action="+w(a)+"&nonce="+w(b.toString())+"&pin="+w(p);d.sign(Ea(p,"utf-8"),{result:function(a){m(u,a);},error:f.error});},r);}function m(d,p){n(f,function(){Object.defineProperties(this,{_action:{value:a,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:b,writable:!1,enumerable:!1,configurable:!1},_pin:{value:c,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:d,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});return this;},r);}r=this;n(f,function(){l?m(l.encoding,l.signature):d.encrypt(Ea(c,"utf-8"),{result:function(a){p(a);},error:f.error});},r);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(a){return this===a?!0:a instanceof g?this._action==a._action&&this._nonce==a._nonce&&this._pin==a._pin:!1;}});zd.ACTION=vc.ACTION;d=function(a,b,c,d,l){n(l,function(){var f,p,m,r,h,x,v;f=a.getMslStore().getCryptoContext(b);p=f?f:new lb(a,b);f=ya(c,"utf-8");m=new DOMParser().parseFromString(f,"application/xml");f=m.getElementsByTagName("action");r=m.getElementsByTagName("nonce");m=m.getElementsByTagName("pin");h=f&&1==f.length&&f[0].firstChild?f[0].firstChild.nodeValue:null;x=r&&1==r.length&&r[0].firstChild?parseInt(r[0].firstChild.nodeValue):null;v=m&&1==m.length&&m[0].firstChild?m[0].firstChild.nodeValue:null;if(!h||!x||!v)throw new ea(k.XML_PARSE_ERROR,"MDX authdata "+ka(c));f="action="+w(h)+"&nonce="+w(x.toString())+"&pin="+w(v);p.verify(Ea(f,"utf-8"),d,{result:function(a){n(l,function(){var b;if(!a)throw new U(k.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ka(c));b=pa(v);p.decrypt(b,{result:function(a){n(l,function(){var b;b=ya(a,"utf-8");new g(h,x,b,null,{encoding:c,signature:d},l);});},error:l.error});});},error:l.error});});};jc=Ib.extend({init:function b(c,d,l,f,p,m){var r,h,g,v,B,y;b.base.call(this,eb.MDX);r=null;h=null;g=null;if("string"===typeof l)c=C.MSL_LEGACY,g=l;else if(l instanceof Uint8Array)c=C.NTBA,h=l;else if(l instanceof kb)c=C.MSL,r=l;else throw new TypeError("Controller token "+l+" is not a master token, encrypted CTicket, or MSL token construct.");v=l=null;B=null;if(m){y=m.controllerAuthData;l=y.getAction();v=y.getPin();m=m.userIdToken;y instanceof Y?B=y.getUserIdToken().customer:m&&(B=m.customer);}Object.defineProperties(this,{mechanism:{value:c,writable:!1,configurable:!1},action:{value:l,writable:!1,configurable:!1},targetPin:{value:d,writable:!1,configurable:!1},controllerPin:{value:v,writable:!1,configurable:!1},customer:{value:B,writable:!1,configurable:!1},_masterToken:{value:r,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:h,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:g,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:f,writable:!1,enumerable:!1,configurable:!1},_signature:{value:p,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var b,c;b={};switch(this.mechanism){case C.MSL:c=JSON.parse(JSON.stringify(this._masterToken));b.mastertoken=c;break;case C.NTBA:c=ya(this._encryptedCTicket,"utf-8");b.cticket=c;break;case C.MSL_LEGACY:b.cticket=this._mslTokens;break;default:throw new aa("Unsupported MDX mechanism.");}b.pin=this.targetPin;b.mdxauthdata=ka(this._controllerEncoding);b.signature=ka(this._signature);return b;},equals:function c(d){return this===d?!0:d instanceof jc?c.base.call(this,d)&&(this._masterToken==d._masterToken||this._masterToken&&this._masterToken.equals(d._masterToken))&&(this._encryptedCTicket==d._encryptedCTicket||this._encryptedCTicket&&Ia(this._encryptedCTicket,d._encryptedCTicket))&&this._mslTokens==d._mslTokens&&Ia(this._controllerEncoding,d._controllerEncoding)&&Ia(this._signature,d._signature):!1;}});Ce=function(c,h,l){function f(f,d,p,m){Tb(c,d,{result:function(d){n(l,function(){if(!d.isDecrypted())throw new ra(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+h.toString());oa(c,d,p,m,{result:function(p){n(l,function(){var m,r;m=p.getEncoding();r=p.getSignature();return new jc(c,f,d,m,r,{controllerAuthData:p,userIdToken:null});});},error:l.error});});},error:function(f){n(l,function(){if(f instanceof J)throw new ra(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),f);throw f;});}});}function p(f,c,d,p){n(l,function(){throw new ra(k.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function m(f,p,m,g){function r(f,d){n(d,function(){var p,m;try{p=pa(f);}catch(E){throw new ra(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),E);}if(!p||0==p.length)throw new ra(k.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(h));try{m=JSON.parse(ya(p,"utf-8"));Tb(c,m,{result:function(f){n(d,function(){if(!f.isDecrypted())throw new ra(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+h.toString());return f;});},error:function(f){n(d,function(){if(f instanceof J)throw new ra(k.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),f);throw f;});}});}catch(E){if(E instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h),E);throw E;}});}function u(f,d,p){n(p,function(){var m,r;try{m=pa(f);}catch(qa){throw new ra(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),qa);}if(!m||0==m.length)throw new ra(k.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(h));try{r=JSON.parse(ya(m,"utf-8"));Ub(c,r,d,{result:function(f){n(p,function(){if(!f.isDecrypted())throw new ra(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(h));return f;});},error:function(f){n(p,function(){if(f instanceof J)throw new ra(k.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(h),f);throw f;});}});}catch(qa){if(qa instanceof SyntaxError)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h),qa);throw qa;}});}n(l,function(){var x;x=p.split(",");if(3!=x.length||"1"!=x[0])throw new ra(k.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(h));r(x[1],{result:function(r){u(x[2],r,{result:function(u){d(c,r,m,g,{result:function(d){n(l,function(){return new jc(c,f,p,m,g,{controllerAuthData:d,userIdToken:u});});},error:function(f){n(l,function(){if(f instanceof Rb)throw new ra(k.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(h),f);throw f;});}});},error:l.error});},error:l.error});});}n(l,function(){var c,d,l,g,B;c=h.pin;d=h.mdxauthdata;l=h.signature;if(!c||"string"!==typeof c||!d||"string"!==typeof d||!l||"string"!==typeof l)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));try{g=pa(d);B=pa(l);}catch(y){throw new ra(k.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(h),y);}if(h.mastertoken){d=h.mastertoken;if(!d||"object"!==typeof d)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));f(c,d,g,B);}else if(h.cticket){d=h.cticket;if(!d||"string"!==typeof d)throw new ea(k.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(h));-1==d.indexOf(",")?p(c,d,g,B):m(c,d,g,B);}else throw new ra(k.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(h));});};}());(function(){var n,q,t;n=yd.ACTION;q=vc.ACTION;t=zd.ACTION;De=tc.extend({init:function M(){M.base.call(this,eb.MDX);},createData:function(k,n,q,t){Ce(k,q,t);},authenticate:function(w,G,L,J){if(!(L instanceof jc))throw new aa("Incorrect authentication data type "+L.getClass().getName()+".");w=L.action;switch(L.mechanism){case Tc.MSL:if(n!=w)throw new ra(k.MDX_USERAUTH_ACTION_INVALID).setUser(L);break;case Tc.NTBA:if(q!=w)throw new ra(k.MDX_USERAUTH_ACTION_INVALID).setUser(L);break;case Tc.MSL_LEGACY:if(t!=w)throw new ra(k.MDX_USERAUTH_ACTION_INVALID).setUser(L);}w=L.controllerPin;G=L.targetPin;if(!w||!G)throw new ra(k.MDX_PIN_BLANK).setUser(L);if(w!=G)throw new ra(k.MDX_PIN_MISMATCH).setUser(L);w=L.customer;if(!w)throw new ra(k.MDX_USER_UNKNOWN).setUser(L);if(J&&(J=J.customer,!w.equals(J)))throw new ra(k.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+w+"; uit customer "+J).setUser(L);return w;}});}());(function(){var n,q,t;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};q=Fe=ha.Class.create({init:function(k,n){Object.defineProperties(this,{email:{value:k,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});t=Ge=ha.Class.create({init:function(k,n){Object.defineProperties(this,{netflixId:{value:k,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});wc=Ib.extend({init:function M(k,n,w,G){var g,d,a,b;M.base.call(this,eb.SSO);g=null;d=null;a=null;b=null;w instanceof q?(g=w.email,d=w.password):w instanceof t&&(a=w.netflixId,b=w.secureNetflixId);Object.defineProperties(this,{mechanism:{value:k,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:g,writable:!1,configurable:!1},password:{value:d,writable:!1,configurable:!1},netflixId:{value:a,writable:!1,configurable:!1},secureNetflixId:{value:b,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof G?null:G,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.mechanism=this.mechanism;k.token=ka(this.token);this.email&&this.password?(k.email=this.email,k.password=this.password):this.netflixId&&this.secureNetflixId&&(k.netflixid=this.netflixId,k.securenetflixid=this.secureNetflixId);this.profileGuid&&(k.profileguid=this.profileGuid);return k;},equals:function Qa(k){return this===k?!0:k instanceof wc?Qa.base.call(this,k)&&this.mechanism==k.mechanism&&Ia(this.token,k.token)&&this.email==k.email&&this.password==k.password&&this.netflixId==k.netflixId&&this.secureNetflixId==k.secureNetflixId&&this.profileGuid==k.profileGuid:!1;}});Ee=function(w){var G,L,J,g,d,a,b,c,h;G=w.mechanism;L=w.token;if(!G||!L||"string"!==typeof L)throw new ea(k.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(w));if(!n[G])throw new ra(k.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(w));J=w.email;g=w.password;d=w.netflixid;a=w.securenetflixid;b=w.profileguid;if(J&&!g||!J&&g||d&&!a||!d&&a||J&&d)throw new ea(k.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(w));try{c=pa(L);}catch(l){throw new ra(k.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(w),l);}J&&g?h=new q(J,g):d&&a&&(h=new t(d,a));return new wc(G,c,h,b);};}());ff=tc.extend({init:function S(){S.base.call(this,eb.SSO);},createData:function(k,q,t,w){n(w,function(){return Ee(t);});},authenticate:function(n,q,t,w){var C,M;if(!(t instanceof wc))throw new aa("Incorrect authentication data type "+t+".");n=t.token;q=t.email;w=t.password;C=t.netflixId;M=t.secureNetflixId;if(!n||0==n.length)throw new ra(k.SSOTOKEN_BLANK);if(!(null===q&&null===w||q&&w))throw new ra(k.EMAILPASSWORD_BLANK);if(!(null===C&&null===M||C&&M))throw new ra(k.NETFLIXID_COOKIES_BLANK).setUser(t);throw new ra(k.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){xc=Ib.extend({init:function L(k,n){L.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:k,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var k;k={};k.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));k.profileguid=this.profileGuid;return k;},equals:function C(k){return this==k?!0:k instanceof xc?C.base.call(this,k)&&this.userIdToken.equals(k.userIdToken)&&this.profileGuid==k.profileGuid:!1;}});He=function(q,t,w,J){n(J,function(){var C,M;if(!t)throw new ra(k.USERAUTH_MASTERTOKEN_MISSING);C=w.useridtoken;M=w.profileguid;if("object"!==typeof C||"string"!==typeof M)throw new ea(k.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(w));Ub(q,C,t,{result:function(g){n(J,function(){if(!g.isDecrypted())throw new ra(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(w));return new xc(g,M);});},error:function(g){J.error(new ra(k.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(w),g));}});});};}());gf=tc.extend({init:function L(k){L.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:k,writable:!1,enumerable:!1,configurable:!1}});},createData:function(k,n,q,t){He(k,n,q,t);},authenticate:function(n,q,t,w){if(!(t instanceof xc))throw new aa("Incorrect authentication data type "+t+".");q=t.userIdToken;n=t.profileGuid;if(!n)throw new ra(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);q=q.user;if(!q)throw new ra(k.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);n=this._store.switchUsers(q,n);if(!n)throw new ra(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(w&&(w=w.user,!n.equals(w)))throw new ra(k.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+n+"; uit user "+w).setUserAuthenticationData(t);return n;}});Object.freeze({ENTITY_REAUTH:q.ENTITY_REAUTH,ENTITYDATA_REAUTH:q.ENTITYDATA_REAUTH});hf=ha.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(k,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(k){},getUserAuthenticationFactory:function(k){},getTokenFactory:function(){},getKeyExchangeFactory:function(k){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ie=ha.Class.create({setCryptoContext:function(k,n){},getMasterToken:function(){},getNonReplayableId:function(k){},getCryptoContext:function(k){},removeCryptoContext:function(k){},clearCryptoContexts:function(){},addUserIdToken:function(k,n){},getUserIdToken:function(k){},removeUserIdToken:function(k){},clearUserIdTokens:function(){},addServiceTokens:function(k){},getServiceTokens:function(k,n){},removeServiceTokens:function(k,n,q){},clearServiceTokens:function(){}});(function(){var n;n=Pb;wd=function(q,t){var w;w={};switch(q){case n.LZW:return Kd(t,w);case n.GZIP:return gzip$compress(t);default:throw new J(k.UNSUPPORTED_COMPRESSION,q);}};Qc=function(q,t,w){switch(q){case n.LZW:return Ld(t);case n.GZIP:return gzip$uncompress(t);default:throw new J(k.UNSUPPORTED_COMPRESSION,q.name());}};}());Ie.extend({setCryptoContext:function(k,n){},getMasterToken:function(){return null;},getNonReplayableId:function(k){return 1;},getCryptoContext:function(k){return null;},removeCryptoContext:function(k){},clearCryptoContexts:function(){},addUserIdToken:function(k,n){},getUserIdToken:function(k){return null;},removeUserIdToken:function(k){},clearUserIdTokens:function(){},addServiceTokens:function(k){},getServiceTokens:function(n,q){if(q){if(!n)throw new J(k.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(n))throw new J(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+n.serialNumber);}return[];},removeServiceTokens:function(n,q,t){if(t&&q&&!t.isBoundTo(q))throw new J(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.masterTokenSerialNumber+"; mt "+q.serialNumber);},clearServiceTokens:function(){}});(function(){Je=Ie.extend({init:function C(){C.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(k,n){var q;if(n){q=k.uniqueKey();this.masterTokens[q]=k;this.cryptoContexts[q]=n;}else this.removeCryptoContext(k);},getMasterToken:function(){var k,n,q;k=null;for(n in this.masterTokens){q=this.masterTokens[n];if(!k||q.isNewerThan(k))k=q;}return k;},getNonReplayableId:function(k){var n;k=k.serialNumber;n=this.nonReplayableIds[k]!==Y?this.nonReplayableIds[k]:0;if(0>n||n>Ca)throw new aa("Non-replayable ID "+n+" is outside the valid range.");n=n==Ca?0:n+1;return this.nonReplayableIds[k]=n;},getCryptoContext:function(k){return this.cryptoContexts[k.uniqueKey()];},removeCryptoContext:function(k){var n,q;n=k.uniqueKey();if(this.masterTokens[n]){delete this.masterTokens[n];delete this.cryptoContexts[n];n=k.serialNumber;for(q in this.masterTokens)if(this.masterTokens[q].serialNumber==n)return;delete this.nonReplayableIds[n];Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(k)&&this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,k,null);}catch(oa){if(oa instanceof J)throw new aa("Unexpected exception while removing master token bound service tokens.",oa);throw oa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(k){for(var n in k)delete k[n];},this);},addUserIdToken:function(n,q){var t,w;t=!1;for(w in this.masterTokens)if(q.isBoundTo(this.masterTokens[w])){t=!0;break;}if(!t)throw new J(k.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+q.mtSerialNumber);this.userIdTokens[n]=q;},getUserIdToken:function(k){return this.userIdTokens[k];},removeUserIdToken:function(k){var n,q,t;n=null;for(q in this.masterTokens){t=this.masterTokens[q];if(k.isBoundTo(t)){n=t;break;}}Object.keys(this.userIdTokens).forEach(function(q){if(this.userIdTokens[q].equals(k)){delete this.userIdTokens[q];try{this.removeServiceTokens(null,n,k);}catch(sa){if(sa instanceof J)throw new aa("Unexpected exception while removing user ID token bound service tokens.",sa);throw sa;}}},this);},clearUserIdTokens:function(){var n;for(var k in this.userIdTokens){n=this.userIdTokens[k];try{this.removeServiceTokens(null,null,n);}catch(Qa){if(Qa instanceof J)throw new aa("Unexpected exception while removing user ID token bound service tokens.",Qa);throw Qa;}delete this.userIdTokens[k];}},addServiceTokens:function(n){n.forEach(function(n){var q,t,w;if(n.isUnbound())this.unboundServiceTokens[n.uniqueKey()]=n;else{if(n.isMasterTokenBound()){q=!1;for(t in this.masterTokens)if(n.isBoundTo(this.masterTokens[t])){q=!0;break;}if(!q)throw new J(k.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+n.mtSerialNumber);}if(n.isUserIdTokenBound()){q=!1;for(w in this.userIdTokens)if(n.isBoundTo(this.userIdTokens[w])){q=!0;break;}if(!q)throw new J(k.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+n.uitSerialNumber);}n.isMasterTokenBound()&&((w=this.mtServiceTokens[n.mtSerialNumber])||(w={}),w[n.uniqueKey()]=n,this.mtServiceTokens[n.mtSerialNumber]=w);n.isUserIdTokenBound()&&((w=this.uitServiceTokens[n.uitSerialNumber])||(w={}),w[n.uniqueKey()]=n,this.uitServiceTokens[n.uitSerialNumber]=w);}},this);},getServiceTokens:function(n,q){var t,w,C,M;if(q){if(!n)throw new J(k.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(n))throw new J(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+n.serialNumber);}t={};for(w in this.unboundServiceTokens){C=this.unboundServiceTokens[w];t[C.uniqueKey()]=C;}if(n&&(C=this.mtServiceTokens[n.serialNumber]))for(w in C){M=C[w];M.isUserIdTokenBound()||(t[w]=M);}if(q&&(C=this.uitServiceTokens[q.serialNumber]))for(w in C)M=C[w],M.isBoundTo(n)&&(t[w]=M);C=[];for(w in t)C.push(t[w]);return C;},removeServiceTokens:function(n,q,t){var C,M,d;if(t&&q&&!t.isBoundTo(q))throw new J(k.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+t.mtSerialNumber+"; mt "+q.serialNumber);if(n&&!q&&!t){Object.keys(this.unboundServiceTokens).forEach(function(a){this.unboundServiceTokens[a].name==n&&delete this.unboundServiceTokens[a];},this);for(var w in this.mtServiceTokens){C=this.mtServiceTokens[w];M=Object.keys(C);M.forEach(function(a){C[a].name==n&&delete C[a];},this);this.mtServiceTokens[w]=C;}for(var g in this.uitServiceTokens)C=this.uitServiceTokens[g],w=Object.keys(C),w.forEach(function(a){C[a].name==n&&delete C[a];},this),this.uitServiceTokens[g]=C;}if(q&&!t){if(C=this.mtServiceTokens[q.serialNumber])M=Object.keys(C),M.forEach(function(a){var b;b=C[a];n&&b.name!=n||delete C[a];},this),this.mtServiceTokens[q.serialNumber]=C;for(g in this.uitServiceTokens){d=this.uitServiceTokens[g];w=Object.keys(d);w.forEach(function(a){var b;b=d[a];n&&b.name!=n||b.isBoundTo(q)&&delete d[a];},this);this.uitServiceTokens[g]=d;}}t&&(C=this.uitServiceTokens[t.serialNumber])&&(w=Object.keys(C),w.forEach(function(a){var b;b=C[a];n&&b.name!=n||q&&!b.isBoundTo(q)||delete C[a];},this),this.uitServiceTokens[t.serialNumber]=C);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(k){for(var n in k)delete k[n];},this);}});}());Pe=af.extend({init:function C(){C.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(k,n){var q;if(n&&k&&k.length){q=ka(k);this._contextMap[q]=n;}},getCryptoContext:function(k){return k&&k.length?(k=ka(k),this._contextMap[k]||null):null;},removeCryptoContext:function(k){k&&k.length&&(k=ka(k),delete this._contextMap[k]);}});Ke=Ue.extend({init:function M(k,n,q,t){M.base.call(this,k);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:q,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,q){if(!(q instanceof pb))throw new aa("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new zb(k.ENTITY_NOT_FOUND,"mgk "+q.identity);return new Jc(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});jf=Vd.extend({init:function Qa(k,n,q,g){Qa.base.call(this,k);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:q,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,q){if(!(q instanceof tb))throw new aa("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new zb(k.ENTITY_NOT_FOUND,"psk "+q.identity);return new Jc(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});lf=Je.extend({init:function oa(k,n,g,d,a,b){oa.base.call(this);this._log=k;this._esn=n;this._keyRequestData=g;this._createKeyRequestData=d;this._systemKeyName=a;this._systemKeyWrapFormat=b;},setCryptoContext:function wa(k,g,d){var a;a=this;a._log.trace("Adding MasterToken",{SequenceNumber:k.sequenceNumber,SerialNumber:k.serialNumber,Expiration:k.expiration.getTime()});wa.base.call(this,k,g);!d&&(k=a._createKeyRequestData)&&(a._log.trace("Generating new keyx request data"),k().then(function(b){a._keyRequestData=b;},function(b){a._log.error("Unable to generate new keyx request data",""+b);}));},addUserIdToken:function sa(g,d){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:d.serialNumber,MTSerialNumber:d.mtSerialNumber,Expiration:d.expiration.getTime()});sa.base.call(this,g,d);},addServiceTokens:function g(d){g.base.call(this,d.filter(function(a){return!kf[a.name];}));},getUserIdTokenKeys:function(){var g,d;g=[];for(d in this.userIdTokens)g.push(d);return g;},rekeyUserIdToken:function(g,d){this.userIdTokens[g]&&(this.userIdTokens[d]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var d;d=this;n(g,function(){var a;a=d.getMasterToken();a?d.getKeysForStore(a,{result:function(b){n(g,function(){var c,h,l;c=d.userIdTokens;h=Object.keys(c).map(function(b){var f;f=c[b];return{userId:b,userIdTokenJSON:c[b].toJSON(),serviceTokenJSONList:d.getServiceTokens(a,f).map(ac)};});b.esn=d._esn;b.masterTokenJSON=a.toJSON();b.userList=h;l=d._keyRequestData.storeData;l&&Object.keys(l).forEach(function(a){b[a]=l[a];});return b;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(g,d){var a;a=this;n(d,function(){var b;b=a.getCryptoContext(g);b={encryptionKey:b.encryptionKey,hmacKey:b.hmacKey};if(b.encryptionKey&&b.hmacKey)if(a._systemKeyWrapFormat)a.wrapKeysWithSystemKey(b,d);else return b;else throw new J(k.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(g,d){var a;a=this;wb(this._systemKeyName,{result:function(b){n(d,function(){var c,h,l,f;c=g.encryptionKey;h=g.hmacKey;l=c[kc];f=h[kc];if(l&&f)return{wrappedEncryptionKey:l,wrappedHmacKey:f};Promise.resolve().then(function(){return Promise.all([za.wrapKey(a._systemKeyWrapFormat,c,b,b.algorithm),za.wrapKey(a._systemKeyWrapFormat,h,b,b.algorithm)]);}).then(function(a){l=ka(a[0]);c[kc]=l;f=ka(a[1]);h[kc]=f;d.result({wrappedEncryptionKey:l,wrappedHmacKey:f});})["catch"](function(a){d.error(new J(k.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",a));});});},timeout:d.timeout,error:d.error});},unwrapKeysWithSystemKey:function(g,d){var a;a=this;wb(this._systemKeyName,{result:function(b){n(d,function(){var c,h;c=pa(g.wrappedEncryptionKey);h=pa(g.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([za.unwrapKey(a._systemKeyWrapFormat,c,b,b.algorithm,rb,!1,Jb),za.unwrapKey(a._systemKeyWrapFormat,h,b,b.algorithm,sb,!1,Sb)]);}).then(function(a){var b;b=a[0];a=a[1];b[kc]=g.wrappedEncryptionKey;a[kc]=g.wrappedHmacKey;d.result({encryptionKey:b,hmacKey:a});})["catch"](function(a){d.error(new J(k.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",a));});});},timeout:d.timeout,error:d.error});},loadStoreState:function(g,d,a,b){var l,f;function c(b,f){var c;try{c=a.userList.slice();}catch(u){}c?function x(){var a;a=c.shift();a?Ub(d,a.userIdTokenJSON,b,{result:function(f){try{l.addUserIdToken(a.userId,f);h(b,f,a.serviceTokenJSONList,{result:x,timeout:x,error:x});}catch(y){x();}},timeout:x,error:x}):f.result();}():f.result();}function h(a,b,f,c){var p,m;try{p=f.slice();}catch(B){}if(p){m=l.getCryptoContext(a);(function y(){var f;f=p.shift();f?Pc(d,f,a,b,m,{result:function(a){l.addServiceTokens([a]);y();},timeout:function(){y();},error:function(){y();}}):c.result();}());}else c.result();}l=this;f=l._log;a.esn!=l._esn?(f.error("Esn mismatch, starting fresh"),b.error()):function(b){var h,x,v,B;function c(){var a;if(!h&&x&&v&&B){h=!0;a=new lb(d,x,g.esn,{rawKey:v},{rawKey:B});l.setCryptoContext(x,a,!0);b.result(x);}}function p(a,c){f.error(a,c&&""+c);h||(h=!0,b.error());}a.masterTokenJSON?(Tb(d,a.masterTokenJSON,{result:function(a){x=a;c();},timeout:function(){p("Timeout parsing MasterToken");},error:function(a){p("Error parsing MasterToken",a);}}),l._systemKeyWrapFormat?l.unwrapKeysWithSystemKey(a,{result:function(a){v=a.encryptionKey;B=a.hmacKey;c();},timeout:function(){p("Timeout unwrapping keys");},error:function(a){p("Error unwrapping keys",a);}}):Promise.resolve().then(function(){return za.encrypt({name:rb.name,iv:new Uint8Array(16)},a.encryptionKey,new Uint8Array(1));}).then(function(b){v=a.encryptionKey;})["catch"](function(a){p("Error loading encryptionKey");}).then(function(){return za.sign(sb,a.hmacKey,new Uint8Array(1));}).then(function(b){B=a.hmacKey;c();})["catch"](function(a){p("Error loading hmacKey");})):p("Persisted store is corrupt");}({result:function(a){c(a,b);},timeout:b.timeout,error:b.error});}});kf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};kc="$netflix$msl$wrapsys";mf=hf.extend({init:function(g,d,a,b,c,h){var l,f;l=new rc([Pb.LZW]);f=new We();f.addPublicKey(d,a);b[Fa.RSA]=new Ve(f);d={};d[eb.EMAIL_PASSWORD]=new ef();d[eb.NETFLIXID]=new df();d[eb.MDX]=new De();d[eb.SSO]=new ff();d[eb.SWITCH_PROFILE]=new gf();g={_mslCryptoContext:{value:new Te(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:l,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:c,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:b,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:d,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:h,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Pd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,d){d.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(d){return d.scheme==g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});Dd=xe.extend({init:function(g,d,a,b){this._log=g;this._mslContext=d;this._mslRequest=a;this._keyRequestData=b;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(g,d,a,b){var c,h;c=this._mslRequest;h=this._mslContext;n(b,function(){var b,f;if(g||!c.shouldSendUserAuthData)return null;if(c.token){c.email?b=new Fe(c.email,c.password):c.netflixId&&(b=new Ge(c.netflixId,c.secureNetflixId));f="undefined"===typeof c.profileGuid?null:c.profileGuid;return new wc(c.mechanism,Ea(c.token),b,f);}return c.email?new uc(c.email,c.password):c.netflixId?new Xb(c.netflixId,c.secureNetflixId):c.mdxControllerToken?(b=new vc("regpairrequest",c.mdxNonce,c.mdxEncryptedPinB64,c.mdxSignature).getEncoding(),new jc(h,c.mdxPin,c.mdxControllerToken,b,c.mdxSignature)):c.useNetflixUserAuthData?new Xb():c.profileGuid?(b=c.userId,b=h.getMslStore().userIdTokens[b],new xc(b,c.profileGuid)):a&&c.sendUserAuthIfRequired?new Xb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,d,a){var b,c,h,l,f,p;b=this._log;c=(this._mslRequest.serviceTokens||[]).slice();h=this._mslContext;d=h.getMslStore();l=g.builder.getMasterToken();f=this.getUserId();p=d.getUserIdToken(f);(function r(){var f;f=c.shift();if(f)try{f instanceof Lb?(g.addPrimaryServiceToken(f),r()):Pc(h,f,l,p,null,{result:function(a){try{g.addPrimaryServiceToken(a);}catch(v){b.warn("Exception adding service token",""+v);}r();},timeout:function(){b.warn("Timeout parsing service token");r();},error:function(a){b.warn("Error parsing service token",""+a);r();}});}catch(x){b.warn("Exception processing service token",""+x);r();}else a.result(!0);}());},write:function(g,d,a){var b;b=Ea(this._mslRequest.body);g.write(b,0,b.length,d,{result:function(c){c!=b.length?a.error(new Xa("Not all data was written to output.")):g.flush(d,{result:function(){a.result(!0);},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},timeout:function(){a.timeout();},error:function(b){a.error(b);}});},getDebugContext:function(){this._dc||(this._dc=new nf(this._log,this._mslRequest));return this._dc;}});nf=cf.extend({init:function(g,d){this._log=g;this._mslRequest=d;},sentHeader:function(g){this._log.trace("Sent MSL header",Cd(this._mslRequest,g),g.serviceTokens&&g.serviceTokens.map(Ne).join("n"));},receivedHeader:function(g){var d,a;d=Cd(this._mslRequest,g);a=g.errorCode;a?this._log.warn("Received MSL error header",d,{errorCode:a,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",d);}});Le={PSK:function(g){return Yc(g,Fa.PSK,jf,tb,qd,Nc);},MGK:function(g){return Yc(g,Fa.MGK,Ke,pb,qd,Nc);},MGK_WITH_FALLBACK:function(g){var d,a;switch(g.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":d="PSK";break;default:d="MGK";}a=Le[d];if(!a)throw new J(k.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+d);return a(g);},MGK_JWE:function(g){return Yc(g,Fa.MGK,Ke,pb,ae,pd);},JWK_RSA:function(g){return Zc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Oc.JWK_RSA);},JWK_RSAES:function(g){return Zc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Oc.JWK_RSAES);},JWEJS_RSA:function(g){return Zc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Oc.JWEJS_RSA);}};t.netflix=t.netflix||{};t.netflix.msl={createMslClient:function(g,d){var a,b,c,h,l;a=g.log;l=g.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ja&&Ja.generateKey&&Ja.importKey&&Ja.unwrapKey))throw new J(k.INTERNAL_EXCEPTION,"No WebCrypto");hb=Ja.generateKey({name:"AES-CBC",length:128},!0,Jb).then?Ec.V2014_02:Ec.LEGACY;l("mslisik");return za.importKey("spki",g.serverIdentityKeyData,Qd,!1,["verify"]);}).then(function(a){return new Promise(function(b,f){Ob(a,{result:b,error:function(){f(new J(k.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(a){b=a;if(a=Le[g.authenticationType])return l("mslcc"),a(g);throw new J(k.INTERNAL_EXCEPTION,"Invalid authenticationType: "+g.authenticationType);}).then(function(f){var d;c=new lf(a,g.esn,f.keyRequestData,f.createKeyRequestData,g.authenticationKeyNames.s,g.systemKeyWrapFormat);h=new mf(c,g.serverIdentityId,b,f.entityAuthFactories,f.entityAuthData,f.keyExchangeFactories);d=g.storeState;if(d)return l("mslss"),a.info("Loading store state"),new Promise(function(a,b){c.loadStoreState(g,h,d,{result:a,timeout:a,error:a});});a.info("No store state, starting fresh");}).then(function(){var b;b=new ye();l("msldone");d.result(new Oe(a,b,h,c,g.ErrorSubCodes));})["catch"](function(a){d.error(a);});},IHttpLocation:Ze,MslIoException:Xa};ad="function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[d]=a.value);};na="undefined"!=typeof t&&t===this?this:"undefined"!=typeof global&&null!=global?global:this;Se=0;Wa("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});Wa("Object.assign",function(g){return g?g:function(d,a){var c;for(var b=1;b<arguments.length;b++){c=arguments[b];if(c)for(var h in c)yb(c,h)&&(d[h]=c[h]);}return d;};});Wa("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});Wa("Promise",function(g){var b,c;function d(a){var b;this.kL=0;this.Z9=void 0;this.fK=[];b=this.h2();try{a(b.resolve,b.reject);}catch(f){b.reject(f);}}function a(){this.mu=null;}if(g)return g;a.prototype.Vma=function(a){null==this.mu&&(this.mu=[],this.vYa());this.mu.push(a);};a.prototype.vYa=function(){var a;a=this;this.Wma(function(){a.I6a();});};b=na.setTimeout;a.prototype.Wma=function(a){b(a,0);};a.prototype.I6a=function(){var a,f;for(;this.mu&&this.mu.length;){a=this.mu;this.mu=[];for(var b=0;b<a.length;++b){f=a[b];delete a[b];try{f();}catch(p){this.xYa(p);}}}this.mu=null;};a.prototype.xYa=function(a){this.Wma(function(){throw a;});};d.prototype.h2=function(){var b,f;function a(a){return function(c){f||(f=!0,a.call(b,c));};}b=this;f=!1;return{resolve:a(this.Imb),reject:a(this.H9)};};d.prototype.Imb=function(a){var b;if(a===this)this.H9(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.Dob(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.Hmb(a):this.jra(a);}};d.prototype.Hmb=function(a){var b;b=void 0;try{b=a.then;}catch(f){this.H9(f);return;}"function"==typeof b?this.Eob(b,a):this.jra(a);};d.prototype.H9=function(a){this.zAa(2,a);};d.prototype.jra=function(a){this.zAa(1,a);};d.prototype.zAa=function(a,b){if(0!=this.kL)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.kL);this.kL=a;this.Z9=b;this.J6a();};d.prototype.J6a=function(){if(null!=this.fK){for(var a=this.fK,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.fK=null;}};c=new a();d.prototype.Dob=function(a){var b;b=this.h2();a.XP(b.resolve,b.reject);};d.prototype.Eob=function(a,b){var f;f=this.h2();try{a.call(b,f.resolve,f.reject);}catch(p){f.reject(p);}};d.prototype.then=function(a,b){var c,m,r;function f(a,b){return"function"==typeof a?function(b){try{c(a(b));}catch(B){m(B);}}:b;}r=new d(function(a,b){c=a;m=b;});this.XP(f(a,c),f(b,m));return r;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.XP=function(a,b){var d;function f(){switch(d.kL){case 1:a(d.Z9);break;case 2:b(d.Z9);break;default:throw Error("Unexpected state: "+d.kL);}}d=this;null==this.fK?c.Vma(f):this.fK.push(function(){c.Vma(f);});};d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a);});};d.reject=function(a){return new d(function(b,f){f(a);});};d.race=function(a){return new d(function(b,f){for(var c=Aa(a),m=c.next();!m.done;m=c.next())d.resolve(m.value).XP(b,f);});};d.all=function(a){var b,f;b=Aa(a);f=b.next();return f.done?d.resolve([]):new d(function(a,c){var m,l;function p(b){return function(f){m[b]=f;l--;0==l&&a(m);};}m=[];l=0;do m.push(void 0),l++,d.resolve(f.value).XP(p(m.length-1),c),f=b.next();while(!f.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});Wa("Array.prototype.keys",function(g){return g?g:function(){return bd(this,function(d){return d;});};});Wa("Math.tanh",function(g){return g?g:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});Wa("String.prototype.includes",function(g){return g?g:function(d,a){return-1!==Bc(this,d,"includes").indexOf(d,a||0);};});Wa("WeakMap",function(g){var c,h;function d(a){this.bJ=(h+=Math.random()+1).toString();if(a){Oa();Za();a=Aa(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){yb(a,c)||ad(a,c,{value:{}});}function b(b){var f;f=Object[b];f&&(Object[b]=function(b){a(b);return f(b);});}if(function(){var a,b,c;if(!g||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});c=new g([[a,2],[b,3]]);if(2!=c.get(a)||3!=c.get(b))return!1;c["delete"](a);c.set(b,4);return!c.has(a)&&4==c.get(b);}catch(m){return!1;}}())return g;c="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");h=0;d.prototype.set=function(b,f){a(b);if(!yb(b,c))throw Error("WeakMap key fail: "+b);b[c][this.bJ]=f;return this;};d.prototype.get=function(a){return yb(a,c)?a[c][this.bJ]:void 0;};d.prototype.has=function(a){return yb(a,c)&&yb(a[c],this.bJ);};d.prototype["delete"]=function(a){return yb(a,c)&&yb(a[c],this.bJ)?delete a[c][this.bJ]:!1;};return d;});Wa("Map",function(g){var h,l;function d(){var a;a={};return a.Ph=a.next=a.head=a;}function a(a,b){var f;f=a.Zr;return Id(function(){if(f){for(;f.head!=a.Zr;)f=f.Ph;for(;f.next!=f.head;)return f=f.next,{done:!1,value:b(f)};f=null;}return{done:!0,value:void 0};});}function b(a,b){var f,c,d;f=b&&typeof b;"object"==f||"function"==f?h.has(b)?f=h.get(b):(f=""+ ++l,h.set(b,f)):f="p_"+b;c=a.Eu[f];if(c&&yb(a.Eu,f))for(a=0;a<c.length;a++){d=c[a];if(b!==b&&d.key!==d.key||b===d.key)return{id:f,list:c,index:a,Qd:d};}return{id:f,list:c,index:-1,Qd:void 0};}function c(a){this.Eu={};this.Zr=d();this.size=0;if(a){a=Aa(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}if(function(){var a,b,c,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(Aa([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||"s"!=d.value[1])return!1;d=c.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!c.next().done?!1:!0;}catch(u){return!1;}}())return g;Oa();Za();h=new WeakMap();c.prototype.set=function(a,c){var f;f=b(this,a);f.list||(f.list=this.Eu[f.id]=[]);f.Qd?f.Qd.value=c:(f.Qd={next:this.Zr,Ph:this.Zr.Ph,head:this.Zr,key:a,value:c},f.list.push(f.Qd),this.Zr.Ph.next=f.Qd,this.Zr.Ph=f.Qd,this.size++);return this;};c.prototype["delete"]=function(a){a=b(this,a);return a.Qd&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.Eu[a.id],a.Qd.Ph.next=a.Qd.next,a.Qd.next.Ph=a.Qd.Ph,a.Qd.head=null,this.size--,!0):!1;};c.prototype.clear=function(){this.Eu={};this.Zr=this.Zr.Ph=d();this.size=0;};c.prototype.has=function(a){return!!b(this,a).Qd;};c.prototype.get=function(a){return(a=b(this,a).Qd)&&a.value;};c.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};c.prototype.keys=function(){return a(this,function(a){return a.key;});};c.prototype.values=function(){return a(this,function(a){return a.value;});};c.prototype.forEach=function(a,b){for(var f=this.entries(),c;!(c=f.next()).done;)c=c.value,a.call(b,c[1],c[0],this);};c.prototype[Symbol.iterator]=c.prototype.entries;l=0;return c;});Wa("Set",function(g){function d(a){this.Jp=new Map();if(a){a=Aa(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.Jp.size;}if(function(){var a,b,c,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(Aa([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;c=b.entries();d=c.next();if(d.done||d.value[0]!=a||d.value[1]!=a)return!1;d=c.next();return d.done||d.value[0]==a||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:c.next().done;}catch(l){return!1;}}())return g;Oa();Za();d.prototype.add=function(a){this.Jp.set(a,a);this.size=this.Jp.size;return this;};d.prototype["delete"]=function(a){a=this.Jp["delete"](a);this.size=this.Jp.size;return a;};d.prototype.clear=function(){this.Jp.clear();this.size=0;};d.prototype.has=function(a){return this.Jp.has(a);};d.prototype.entries=function(){return this.Jp.entries();};d.prototype.values=function(){return this.Jp.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var c;c=this;this.Jp.forEach(function(d){return a.call(b,d,d,c);});};return d;});Wa("Number.isNaN",function(g){return g?g:function(d){return"number"===typeof d&&isNaN(d);};});Wa("Array.prototype.find",function(g){return g?g:function(d,a){return Jd(this,d,a).VV;};});Wa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Wa("Array.prototype.entries",function(g){return g?g:function(){return bd(this,function(d,a){return[d,a];});};});Wa("String.prototype.repeat",function(g){return g?g:function(d){var a;a=Bc(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var b="";d;)if(d&1&&(b+=a),d>>>=1)a+=a;return b;};});Wa("String.prototype.endsWith",function(g){return g?g:function(d,a){var b;b=Bc(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var c=d.length;0<c&&0<a;)if(b[--a]!=d[--c])return!1;return 0>=c;};});Wa("Array.prototype.findIndex",function(g){return g?g:function(d,a){return Jd(this,d,a).mi;};});Wa("String.prototype.startsWith",function(g){return g?g:function(d,a){var b,c,h;b=Bc(this,d,"startsWith");d+="";c=b.length;h=d.length;a=Math.max(0,Math.min(a|0,b.length));for(var l=0;l<h&&a<c;)if(b[a++]!=d[l++])return!1;return l>=h;};});Wa("Array.prototype.values",function(g){return g?g:function(){return bd(this,function(d,a){return a;});};});Wa("Array.prototype.fill",function(g){return g?g:function(d,a,b){var c;c=this.length||0;0>a&&(a=Math.max(0,c+a));if(null==b||b>c)b=c;b=Number(b);0>b&&(b=Math.max(0,c+b));for(a=Number(a||0);a<b;a++)this[a]=d;return this;};});(function(g){var a;function d(b){var c;if(a[b])return a[b].M;c=a[b]={mi:b,odb:!1,M:{}};g[b].call(c.M,c,c.M,d);c.odb=!0;return c.M;}a={};d.mGb=g;d.nCb=a;d.d=function(a,c,h){d.uhb(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:h});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var b;b=a&&a.Hia?function(){return a["default"];}:function(){return a;};d.d(b,"a",b);return b;};d.uhb=function(a,c){return Object.prototype.hasOwnProperty.call(a,c);};d.p="";return d(d.hIb=1037);}([function(g,d,a){function b(){b=Object.assign||function(a){for(var b,f=1,c=arguments.length;f<c;f++){b=arguments[f];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);}return a;};return b.apply(this,arguments);}function c(a,b){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);};return c(a,b);}function h(a,b){function f(){this.constructor=a;}c(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());}function l(a,b){var f,c,d;f={};for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&0>b.indexOf(c)&&(f[c]=a[c]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){d=0;for(c=Object.getOwnPropertySymbols(a);d<c.length;d++)0>b.indexOf(c[d])&&Object.prototype.propertyIsEnumerable.call(a,c[d])&&(f[c[d]]=a[c[d]]);}return f;}function f(a,b,f,c){var d,p,m;d=arguments.length;p=3>d?b:null===c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object"===typeof Reflect&&"function"===typeof Reflect.Fu)p=Reflect.Fu(a,b,f,c);else for(var r=a.length-1;0<=r;r--)if(m=a[r])p=(3>d?m(p):3<d?m(b,f,p):m(b,f))||p;return 3<d&&p&&Object.defineProperty(b,f,p),p;}function p(a,b){return function(f,c){b(f,c,a);};}function m(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Fc)return Reflect.Fc(a,b);}function r(a,b,f,c){return new(f||(f=Promise))(function(d,p){function m(a){try{l(c.next(a));}catch(P){p(P);}}function r(a){try{l(c["throw"](a));}catch(P){p(P);}}function l(a){a.done?d(a.value):new f(function(b){b(a.value);}).then(m,r);}l((c=c.apply(a,b||[])).next());});}function u(a,b){var d,p,m,r,l;function f(a){return function(b){return c([a,b]);};}function c(f){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,m&&(r=f[0]&2?m["return"]:f[0]?m["throw"]||((r=m["return"])&&r.call(m),0):m.next)&&!(r=r.call(m,f[1])).done)return r;if(m=0,r)f=[f[0]&2,r.value];switch(f[0]){case 0:case 1:r=f;break;case 4:return d.label++,{value:f[1],done:!1};case 5:d.label++;m=f[1];f=[0];continue;case 7:f=d.gz.pop();d.Vz.pop();continue;default:if(!(r=d.Vz,r=0<r.length&&r[r.length-1])&&(6===f[0]||2===f[0])){d=0;continue;}if(3===f[0]&&(!r||f[1]>r[0]&&f[1]<r[3]))d.label=f[1];else if(6===f[0]&&d.label<r[1])d.label=r[1],r=f;else if(r&&d.label<r[2])d.label=r[2],d.gz.push(f);else{r[2]&&d.gz.pop();d.Vz.pop();continue;}}f=b.call(a,d);}catch(P){f=[6,P];m=0;}finally{p=r=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}d={label:0,XU:function(){if(r[0]&1)throw r[1];return r[1];},Vz:[],gz:[]};Oa();Oa();Za();return l={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;}function x(a,b){for(var f in a)b.hasOwnProperty(f)||(b[f]=a[f]);}function v(a){var b,f;Oa();Oa();Za();b="function"===typeof Symbol&&a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function B(a,b){var f,c,d,p;Oa();Oa();Za();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);d=[];try{for(;(void 0===b||0<b--)&&!(c=a.next()).done;)d.push(c.value);}catch(ja){p={error:ja};}finally{try{c&&!c.done&&(f=a["return"])&&f.call(a);}finally{if(p)throw p.error;}}return d;}function y(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(B(arguments[b]));return a;}function A(){for(var a=0,b=0,f=arguments.length;b<f;b++)a+=arguments[b].length;for(var a=Array(a),c=0,b=0;b<f;b++)for(var d=arguments[b],p=0,m=d.length;p<m;p++,c++)a[c]=d[p];return a;}function z(a){return this instanceof z?(this.VV=a,this):new z(a);}function k(a,b,f){var l,h,g;function c(a){l[a]&&(h[a]=function(b){return new Promise(function(f,c){1<g.push([a,b,f,c])||d(a,b);});});}function d(a,b){var f;try{f=l[a](b);f.value instanceof z?Promise.resolve(f.value.VV).then(p,m):r(g[0][2],f);}catch(ta){r(g[0][3],ta);}}function p(a){d("next",a);}function m(a){d("throw",a);}function r(a,b){(a(b),g.shift(),g.length)&&d(g[0][0],g[0][1]);}Oa();if(!Symbol.LP)throw new TypeError("Symbol.asyncIterator is not defined.");l=f.apply(a,b||[]);g=[];Oa();return h={},c("next"),c("throw"),c("return"),h[Symbol.LP]=function(){return this;},h;}function N(a){var f,c;function b(b,d){f[b]=a[b]?function(f){return(c=!c)?{value:z(a[b](f)),done:"return"===b}:d?d(f):f;}:d;}Oa();Za();return f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f;}function E(a){var c,d;function b(b){d[b]=a[b]&&function(c){return new Promise(function(d,p){c=a[b](c);f(d,p,c.done,c.value);});};}function f(a,b,f,c){Promise.resolve(c).then(function(b){a({value:b,done:f});},b);}Oa();if(!Symbol.LP)throw new TypeError("Symbol.asyncIterator is not defined.");Oa();c=a[Symbol.LP];Oa();Za();Oa();return c?c.call(a):(a="function"===typeof v?v(a):a[Symbol.iterator](),d={},b("next"),b("throw"),b("return"),d[Symbol.LP]=function(){return this;},d);}function qa(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function O(a){var b;if(a&&a.Hia)return a;b={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b["default"]=a;return b;}function K(a){return a&&a.Hia?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return h;});a.d(d,"__assign",function(){return b;});a.d(d,"__rest",function(){return l;});a.d(d,"__decorate",function(){return f;});a.d(d,"__param",function(){return p;});a.d(d,"__metadata",function(){return m;});a.d(d,"__awaiter",function(){return r;});a.d(d,"__generator",function(){return u;});a.d(d,"__exportStar",function(){return x;});a.d(d,"__values",function(){return v;});a.d(d,"__read",function(){return B;});a.d(d,"__spread",function(){return y;});a.d(d,"__spreadArrays",function(){return A;});a.d(d,"__await",function(){return z;});a.d(d,"__asyncGenerator",function(){return k;});a.d(d,"__asyncDelegator",function(){return N;});a.d(d,"__asyncValues",function(){return E;});a.d(d,"__makeTemplateObject",function(){return qa;});a.d(d,"__importStar",function(){return O;});a.d(d,"__importDefault",function(){return K;});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(32);d.xxb=g;g=a(1034);d.gF=g.gF;g=a(79);d.pn=g.pn;d.rh=g.rh;d.Nq=g.Nq;g=a(1018);d.Zba=g.Zba;d.Zb=g.Zb;g=a(1017);d.N=g.N;g=a(1016);d.lBa=g.lBa;g=a(1015);d.mwa=g.mwa;g=a(472);d.l=g.l;d.XX=g.XX;g=a(1014);d.optional=g.optional;g=a(1013);d.Og=g.Og;g=a(1012);d.Uy=g.Uy;g=a(1011);d.AL=g.AL;g=a(1010);d.Wxa=g.Wxa;g=a(474);d.fY=g.fY;g=a(102);d.id=g.id;g=a(90);d.Fu=g.Fu;g=a(469);d.PBa=g.PBa;d.mBa=g.mBa;d.nwa=g.nwa;d.UBa=g.UBa;g=a(138);d.SC=g.SC;a=a(1009);d.kwa=a.kwa;},function(g,d){var a,b;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Yh=7001]="UNKNOWN";a[a.yQa=7002]="UNHANDLED_EXCEPTION";a[a.AIa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.bea=7010]="INIT_ASYNCCOMPONENT";a[a.xea=7011]="INIT_HTTP";a[a.yIa=7014]="INIT_BADMOVIEID";a[a.NIa=7016]="INIT_NETFLIXID_MISSING";a[a.MIa=7017]="INIT_NETFLIXID_INVALID";a[a.PIa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.yea=7020]="INIT_PLAYBACK_LOCK";a[a.zea=7022]="INIT_SESSION_LOCK";a[a.OIa=7029]="INIT_POSTAUTHORIZE";a[a.Twb=7031]="INIT_HEADER_MEDIA";a[a.Bwb=7032]="HEADER_MISSING";a[a.Awb=7033]="HEADER_FRAGMENTS_MISSING";a[a.QIa=7034]="INIT_TIMEDTEXT_TRACK";a[a.Uwb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.Vwb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.aDa=7037]="ASE_SESSION_ERROR";a[a.JIa=7041]="INIT_CORE_OBJECTS1";a[a.KIa=7042]="INIT_CORE_OBJECTS2";a[a.LIa=7043]="INIT_CORE_OBJECTS3";a[a.oea=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.fea=7052]="INIT_COMPONENT_FILESYSTEM";a[a.pea=7053]="INIT_COMPONENT_STORAGE";a[a.qea=7054]="INIT_COMPONENT_STORAGELOCK";a[a.jea=7055]="INIT_COMPONENT_LOGPERSIST";a[a.Owb=7056]="INIT_COMPONENT_NRDDPI";a[a.Qwb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.kea=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.QX=7059]="INIT_COMPONENT_DEVICE";a[a.Pwb=7062]="INIT_COMPONENT_NTBA";a[a.lea=7063]="INIT_COMPONENT_MSL";a[a.eea=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.iea=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.ht=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.Rwb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.TM=7069]="INIT_COMPONENT_ACCOUNT";a[a.CIa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.EIa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.FIa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.GIa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.HIa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.BIa=7081]="INIT_COMPONENT_NRDP";a[a.DIa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.vea=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.sea=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.wea=7085]="INIT_CONGESTION_SERVICE";a[a.hea=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.rea=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.dea=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.cea=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.Swb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.lA=7091]="INIT_COMPONENT_DRM_CACHE";a[a.zIa=7092]="INIT_COMPONENT_DRM";a[a.mea=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.gea=7094]="INIT_COMPONENT_FTL";a[a.nea=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.tea=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.IIa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.uea=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.lDa=7112]="AUTHORIZE_UNKNOWN";a[a.WJa=7117]="MANIFEST_VERIFY";a[a.xha=7120]="START";a[a.ot=7121]="LICENSE";a[a.tha=7122]="SECURESTOP";a[a.Bha=7123]="STOP";a[a.nwb=7124]="FPSAPPDATA";a[a.WX=7125]="KEEPALIVE";a[a.Zub=7126]="DEACTIVATE";a[a.lAb=7127]="SYNC_DEACTIVATE_LINKS";a[a.Ctb=7130]="ACTIVATE";a[a.sY=7131]="PING";a[a.Hfa=7133]="NETFLIXID";a[a.iHa=7134]="ENGAGE";a[a.FF=7135]="LOGIN";a[a.qN=7136]="SWITCH_PROFILES";a[a.xJa=7137]="LOGBLOB";a[a.aga=7138]="PAUSE";a[a.lha=7139]="RESUME";a[a.wha=7140]="SPLICE";a[a.jvb=7141]="DOWNLOAD_EVENT";a[a.NDa=7142]="BIND";a[a.QLa=7143]="PAIR";a[a.IMa=7202]="PLAY_INIT_EXCEPTION";a[a.sxb=7301]="MEDIA_DOWNLOAD";a[a.Ryb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.Syb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.hga=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.OMa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.iga=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.PMa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.kga=7351]="PLAY_MSE_NOTSUPPORTED";a[a.jga=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.gga=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.TF=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.vY=7355]="PLAY_MSE_SOURCEADD";a[a.JMa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.tY=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.Vyb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.Qyb=7359]="PLAY_MSE_ADDKEY";a[a.Yyb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.UMa=7361]="PLAY_MSE_EVENT_ERROR";a[a.iN=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.vt=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.TMa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.VMa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.WMa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.XMa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.Wyb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.aNa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.$Ma=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.ZMa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.Xyb=7379]="PLAY_MSE_SOURCE_EOS";a[a.YMa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.Uyb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.KMa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.LMa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.MMa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.QMa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.RMa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.Tyb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.SMa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.NMa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.uY=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.nHa=7400]="EXTERNAL";a[a.fN=7500]="PAUSE_TIMEOUT";a[a.RM=7502]="INACTIVITY_TIMEOUT";a[a.kDa=7510]="AUTHORIZATION_EXPIRED";a[a.avb=7520]="DECRYPT_AUDIO";a[a.LY=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.JY=7601]="SECURE_STOP_KEY_ERROR";a[a.Yzb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.Kzb=7603]="SECURE_STOP_NCCP_ERROR";a[a.Lzb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.Xzb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.Ozb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.OOa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.Pzb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.Qzb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.KY=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.uha=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.Rzb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.Uzb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.Szb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.Nzb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.Wzb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.Tzb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.Mzb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.Vzb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.eHa=7700]="EME_INVALID_KEYSYSTEM";a[a.nda=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.SW=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.oda=7703]="EME_GENERATEREQUEST_FAILED";a[a.fA=7704]="EME_UPDATE_FAILED";a[a.fHa=7705]="EME_KEYSESSION_ERROR";a[a.Lvb=7706]="EME_NO_KEYMESSAGE";a[a.sda=7707]="EME_REMOVE_FAILED";a[a.hHa=7708]="EME_LOAD_FAILED";a[a.bHa=7709]="EME_CREATE_SESSION_FAILED";a[a.Cvb=7710]="EME_LDL_RENEWAL_ERROR";a[a.pda=7711]="EME_INVALID_INITDATA_DATA";a[a.qda=7712]="EME_INVALID_LICENSE_DATA";a[a.gHa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.Dvb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.rda=7715]="EME_INVALID_SECURESTOP_DATA";a[a.aHa=7716]="EME_CLOSE_FAILED";a[a.GMa=7800]="PLAYDATA_STORE_FAILURE";a[a.Pyb=7801]="PLAYDATA_SEND_FAILURE";a[a.bF=7900]="BRANCH_PLAY_FAILURE";a[a.lw=7901]="BRANCH_QUEUE_FAILURE";a[a.bca=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.gyb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.hyb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.WLa=8100]="PBO_EVENTLOOKUP_FAILURE";}(a=d.I||(d.I={})));(function(a){a[a.Yh=1001]="UNKNOWN";a[a.Pe=1003]="EXCEPTION";a[a.UIa=1004]="INVALID_DI";a[a.eDa=1011]="ASYNCLOAD_EXCEPTION";a[a.fDa=1013]="ASYNCLOAD_TIMEOUT";a[a.bDa=1015]="ASYNCLOAD_BADCONFIG";a[a.cDa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.dDa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.kA=1101]="HTTP_UNKNOWN";a[a.NX=1102]="HTTP_XHR";a[a.yF=1103]="HTTP_PROTOCOL";a[a.xF=1104]="HTTP_OFFLINE";a[a.zF=1105]="HTTP_TIMEOUT";a[a.uw=1106]="HTTP_READTIMEOUT";a[a.ft=1107]="HTTP_ABORT";a[a.JX=1108]="HTTP_PARSE";a[a.Sda=1110]="HTTP_BAD_URL";a[a.jA=1111]="HTTP_PROXY";a[a.ffa=1203]="MSE_AUDIO";a[a.gfa=1204]="MSE_VIDEO";a[a.jKa=1250]="MSE_MEDIA_ERR_BASE";a[a.Bxb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.Exb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.Cxb=1253]="MSE_MEDIA_ERR_DECODE";a[a.Fxb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.Dxb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.vq=1260]="EME_MEDIA_KEYERR_BASE";a[a.Jvb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Evb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.Ivb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.Hvb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.Gvb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.Fvb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.Kvb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.dHa=1280]="EME_ERROR_NODRMSESSSION";a[a.cHa=1281]="EME_ERROR_NODRMREQUESTS";a[a.zvb=1282]="EME_ERROR_INDIV_FAILED";a[a.Avb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.BM=1284]="EME_TIMEOUT_MESSAGE";a[a.UW=1285]="EME_TIMEOUT_KEYCHANGE";a[a.VW=1286]="EME_UNDEFINED_DATA";a[a.nF=1287]="EME_INVALID_STATE";a[a.Bvb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.TW=1289]="EME_EMPTY_DATA";a[a.oF=1290]="EME_TIMEOUT";a[a.Xxb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.$xb=1305]="NCCP_PARSEXML";a[a.jNa=1309]="PROCESS_EXCEPTION";a[a.Zxb=1311]="NCCP_NETFLIXID_MISSING";a[a.ayb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.Uxb=1313]="NCCP_HMAC_MISSING";a[a.Txb=1315]="NCCP_HMAC_MISMATCH";a[a.Sxb=1317]="NCCP_HMAC_FAILED";a[a.Rxb=1321]="NCCP_CLIENTTIME_MISSING";a[a.Qxb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Jda=1331]="GENERIC";a[a.jLa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.kLa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.byb=1341]="NCCP_TRANSACTION";a[a.Vxb=1343]="NCCP_INVALID_DRMTYPE";a[a.Wxb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.Yxb=1345]="NCCP_MISSING_PAYLOAD";a[a.rga=1346]="PROTOCOL_NOT_INITIALIZED";a[a.ezb=1347]="PROTOCOL_MISSING_FIELD";a[a.kNa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.im=1402]="STORAGE_NODATA";a[a.dAb=1403]="STORAGE_EXCEPTION";a[a.Fha=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.Gha=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Eha=1411]="STORAGE_LOAD_ERROR";a[a.hPa=1412]="STORAGE_LOAD_TIMEOUT";a[a.Hha=1414]="STORAGE_SAVE_ERROR";a[a.kPa=1415]="STORAGE_SAVE_TIMEOUT";a[a.PY=1417]="STORAGE_DELETE_ERROR";a[a.Cha=1418]="STORAGE_DELETE_TIMEOUT";a[a.Dha=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.fPa=1423]="STORAGE_FS_GETDIRECTORY";a[a.gPa=1425]="STORAGE_FS_READENTRIES";a[a.cPa=1427]="STORAGE_FS_FILEREAD";a[a.ePa=1429]="STORAGE_FS_FILEWRITE";a[a.dPa=1431]="STORAGE_FS_FILEREMOVE";a[a.eAb=1432]="STORAGE_FS_PARSEJSON";a[a.jPa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.iPa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.nyb=1501]="NTBA_UNKNOWN";a[a.myb=1502]="NTBA_EXCEPTION";a[a.iyb=1504]="NTBA_CRYPTO_KEY";a[a.kyb=1506]="NTBA_CRYPTO_OPERATION";a[a.jyb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.lyb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Qca=1553]="DEVICE_NO_ESN";a[a.EW=1555]="DEVICE_ERROR_GETTING_ESN";a[a.nga=1603]="PLUGIN_LOAD_MISSING";a[a.lga=1605]="PLUGIN_LOAD_ERROR";a[a.oga=1607]="PLUGIN_LOAD_TIMEOUT";a[a.mga=1609]="PLUGIN_LOAD_EXCEPTION";a[a.eNa=1625]="PLUGIN_EXCEPTION";a[a.bNa=1627]="PLUGIN_CALLBACK_ERROR";a[a.cNa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.KHa=1701]="FORMAT_UNKNOWN";a[a.Cda=1713]="FORMAT_XML";a[a.LHa=1715]="FORMAT_XML_CONTENT";a[a.JHa=1721]="FORMAT_BASE64";a[a.FM=1723]="FORMAT_DFXP";a[a.lIa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.$da=1802]="INDEXDB_NOT_SUPPORTED";a[a.kIa=1803]="INDEXDB_OPEN_ERROR";a[a.aea=1804]="INDEXDB_OPEN_NULL";a[a.jIa=1805]="INDEXDB_OPEN_BLOCKED";a[a.mIa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.iIa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.SM=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.sKa=1901]="MSL_UNKNOWN";a[a.lKa=1911]="MSL_INIT_NO_MSL";a[a.lfa=1913]="MSL_INIT_ERROR";a[a.mKa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.ifa=1931]="MSL_ERROR";a[a.rKa=1933]="MSL_REQUEST_TIMEOUT";a[a.qKa=1934]="MSL_READ_TIMEOUT";a[a.kKa=1935]="MSL_ERROR_HEADER";a[a.JF=1936]="MSL_ERROR_ENVELOPE";a[a.jfa=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.kfa=1957]="MSL_ERROR_REAUTH";a[a.fZ=2103]="WEBCRYPTO_MISSING";a[a.OQa=2105]="WEBCRYPTOKEYS_MISSING";a[a.PQa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.Gub=2200]="CACHEDDATA_PARSEJSON";a[a.mca=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.Hub=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Ys=2203]="CACHEDDATA_INVALID_FORMAT";a[a.Aba=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.TCa=3001]="ACCOUNT_INVALID";a[a.ivb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.hvb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.fvb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.gvb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.evb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.fAb=3300]="STORAGE_VA_LOAD_ERROR";a[a.gAb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.jAb=3302]="STORAGE_VA_SAVE_ERROR";a[a.kAb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.hAb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.iAb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.rY=3077]="PBO_DEVICE_EOL_WARNING";a[a.bga=3078]="PBO_DEVICE_EOL_FINAL";a[a.bMa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.RLa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.VLa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.cga=5007]="PBO_INCORRECT_PIN";a[a.$La=5008]="PBO_MOBILE_ONLY";a[a.XLa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.TLa=5059]="PBO_BLACKLISTED_IP";a[a.SLa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.ULa=5080]="PBO_CHOICE_MAP_ERROR";a[a.aMa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.ZLa=5091]="PBO_MALFORMED_REQUEST";a[a.YLa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.zFa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.AFa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.vGa=5200]="DOWNLOADER_IO_ERROR";a[a.aca=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.SDa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Ttb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.rW=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.ODa=5304]="BRANCHING_ASE_FAILURE";a[a.QDa=5305]="BRANCHING_MOMENT_FAILURE";a[a.PDa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Stb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.TDa=5308]="BRANCHING_SEEK_THREW";a[a.Rtb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.RDa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.UDa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.VDa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";}(b=d.H||(d.H={})));(function(a){a[a.dub=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Utb=5005]="BR_ACCOUNT_ON_HOLD";a[a.Ytb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.aub=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.Xtb=5059]="BR_BLACKLISTED_IP";a[a.Vtb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.bub=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.Ztb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.cub=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.$tb=2207]="BR_ENDPOINT_ERROR";a[a.Wtb=2208]="BR_AUTHORIZATION_ERROR";}(d.zHa||(d.zHa={})));d.OX={$Da:"400",QAb:"401",tga:"413"};d.gY={lwb:1,CAb:2,Ovb:3,PAb:4,mxb:5,Nvb:6,aZ:7,mHa:8,Czb:9,aAb:10};d.Vvb=function(a){return 7100<=a&&7200>a;};d.yHa=function(b){return b==a.fN||b==a.RM;};d.BHa=function(a){return 1100<=a&&1199>=a;};d.Xvb=function(a){return 1300<=a&&1399>=a;};d.Wvb=function(a){return 1900<=a&&1999>=a;};d.wda=function(a,b){return 1<=a&&9>=a?b+a:b;};d.CHa=function(a){return d.wda(a,b.jKa);};d.xda=function(a){return d.wda(a,b.vq);};d.sn=function(a){var d,c,f;d={};c=a.errorExternalCode||a.mc;f=a.errorDetails||a.Ga;d.ErrorSubCode=a.errorSubCode||a.T||b.Yh;c&&(d.ErrorExternalCode=c);f&&(d.ErrorDetails=f);return d;};},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(246);g=a(9);c=a(25);h=a(98);l=a(85);f=a(44);p=a(18);m=a(63);r=a(255);d.Jib=r.v9;d.am=b.Lb.get(h.Rw);d.BCa=d.am.encode.bind(d.am);d.Fsb=d.am.decode.bind(d.am);d.bh=b.Lb.get(l.Ws);d.YBb=d.bh.encode.bind(d.bh);d.XBb=d.bh.decode.bind(d.bh);d.hna=d.bh.Ur.bind(d.bh);d.ZBb=d.bh.IBa.bind(d.bh);d.Ce=b.Lb.get(f.tj);d.V0=function(a){a=p.Vd(a)?d.Fsb(a):a;return d.Ce.encode(a);};d.Kn=d.Ce.decode.bind(d.Ce);d.bZa=function(a){return d.BCa(d.Kn(a));};d.NPa=a(514);d.KC=function(){return b.Lb.get(c.lF);};d.gf=b.Lb.get(g.yb);d.log=d.gf.qb("General");d.Bd=function(a,b){return d.gf.qb(a,void 0,b);};d.yf=function(a,b){return d.gf.qb(b,a,void 0);};d.FR=function(a,b,f,c){return d.gf.qb(a,void 0,c,b,f);};d.Fw=function(a,f){return b.Lb.get(m.ak)(a,f,void 0).Qaa();};d.ba=b.Lb;},function(g,d,a){var h;function b(a){return h.xN.apply(this,arguments)||this;}function c(a){return new h.Uo(a,d.za);}Object.defineProperty(d,"__esModule",{value:!0});h=a(467);ia(b,h.xN);d.IAb=b;d.zGb=function(a){return new h.Uo(a,d.tA);};d.Yjb=function(a){return new h.Uo(a*d.jm.ve,d.tA);};d.sb=c;d.oh=function(a){return new h.Uo(a,d.jm);};d.Y7=function(a){return new h.Uo(a,d.Afa);};d.pFb=function(a){return new h.Uo(a,d.cIa);};d.timestamp=function(a){return c(a);};d.tA=new b(1,"u03bcs");d.za=new b(1E3,"ms",d.tA);d.jm=new b(1E3*d.za.ve,"s",d.tA);d.Afa=new b(60*d.jm.ve,"min",d.tA);d.cIa=new b(60*d.Afa.ve,"hr",d.tA);d.Vf=c(0);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g="undefined"===typeof t?{}:t;d.Zj=g.navigator||{};d.vh=d.Zj.userAgent;d.aN=g.location;d.Eq=g.screen;d.Dq=g.performance;d.yd=g.document||{};d.dyb=d.yd.documentElement;d.ju=Array.prototype;d.sort=d.ju.sort;d.map=d.ju.map;d.slice=d.ju.slice;d.every=d.ju.every;d.reduce=d.ju.reduce;d.filter=d.ju.filter;d.forEach=d.ju.forEach;d.pop=d.ju.pop;d.RF=Object.create;d.ILa=Object.keys;d.zM=Date.now;d.JPa=String.fromCharCode;d.Aq=Math.floor;d.EKa=Math.ceil;d.Yf=Math.round;d.bl=Math.max;d.wj=Math.min;d.LF=Math.random;d.KF=Math.abs;d.qfa=Math.pow;d.FKa=Math.sqrt;d.lY=g.escape;d.mY=g.unescape;d.URL=g.URL||g.webkitURL;d.wA=g.MediaSource||g.WebKitMediaSource;d.OF=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;d.Dw=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;d.Ux=d.Dw&&(d.Dw.webkitSubtle||d.Dw.subtle);d.kY=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;d.PERSISTENT=g.PERSISTENT;d.TEMPORARY=g.TEMPORARY;d.pLa=g.requestFileSystem||g.webkitRequestFileSystem;d.Jfa=g.Blob;d.bN=d.Zj.persistentStorage||d.Zj.webkitPersistentStorage;d.Kfa=d.bN?void 0:g.storageInfo||g.webkitStorageInfo;try{d.indexedDB=g.indexedDB;}catch(a){d.AFb=a||"noex";}try{d.localStorage=g.localStorage;}catch(a){d.Iua=a||"noex";}},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tb=function(){};d.zOa=function(){return!0;};d.Hb={O:!0};d.Yj=1E3;d.Izb=86400;d.Jzb=604800;d.txb=1E4;d.uxb=1E7;d.TAb=1.5;d.kxb=.128;d.Qtb=7.8125;d.fub=128;d.zw=145152E5;d.YJa=1E5;d.oY="$netflix$player$order";d.zA=-1;d.pY=1;d.IFa=["en-US"];d.gub=8;d.ZJa=65535;d.$zb=65536;d.syb=Number.MAX_VALUE;d.RW="playready";d.ida="widevine";d.yvb="fps";d.XGa="clearkey";d.sA='audio/mp4; codecs="mp4a.40.5"';d.aKa='audio/mp4; codecs="mp4a.a6"';d.tt='video/mp4; codecs="avc1.640028"';d.wxb='video/mp4; codecs="hev1.2.6.L153.B0"';d.vxb='video/mp4; codecs="dvhe.01000000"';d.VGa="9A04F079-9840-4286-AB92-E65BE0885F95";d.wvb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.xvb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.vub=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.mEa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.wub="4E657466-6C69-7846-7261-6D6552617465";d.xub="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.qub="mp4a";d.kEa="enca";d.nub="ec-3";d.lub="avc1";d.lEa="encv";d.pub="hvcC";d.oub="hev1";d.mub="dvhe";d.rub="vp09";d.ZX=0;d.IF=1;},function(g){g.M={eJ:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(g,d,a){var h,l,f,p,m,r,u,x,v,B,y,A,z,k,N;function b(a){return(a=d.config.Lrb[c(a)])?a:{};}function c(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";}}Object.defineProperty(d,"__esModule",{value:!0});h=a(6);l=a(29);f=a(3);p=a(52);m=a(12);r=a(18);u=a(33);x=a(25);v=a(72);B=a(17);a(9);y=a(5);A=a(20);z=a(96);k=a(15);N=a(209);d.p0a=function(a){var la,ta,fa,Ta,w,$a,Gb,Pa,ab,Uc;function b(a,f){B.tc(a,function(a,c){k.rb(c)?f[a]=c.call(void 0,f[a]):k.re(c)&&(f[a]=f[a]||{},b(c,f[a]));});}function c(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];return function(b){k.ab(b)&&(f[1]=b);m.va(k.rb(a));return a.apply(void 0,f);};}function g(a){a=a.toLowerCase();Ta.hasOwnProperty(a)&&(fa[a]=Ta[a],w[a]=Ta[a]);return a;}function I(a,b,c){var d;a=a.toLowerCase();if(fa.hasOwnProperty(a)){d=fa[a];try{d=c?c(d):d;}catch(ib){d=void 0;}if(void 0!==d)return d;m.va(!1);f.log.error("Invalid configuration value. Name: "+a);}return b;}function E(a,b,f,c){return I(a,b,function(a){k.Vd(a)&&(a=B.Dd(a));if(k.Fcb(a,f,c))return a;});}function n(a,b,f,c){return I(a,b,function(a){k.Vd(a)&&(a=B.Dd(a));if(k.dv(a,f,c))return a;});}function q(a,b,f,c){return I(a,b,function(a){k.Vd(a)&&(a=parseFloat(a));if(k.ka(a,f,c))return a;});}function T(a,b,f){return I(a,b,function(a){if(f?f.test(a):k.Vd(a))return a;});}function D(a,b){return I(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function ja(a,b){return I(a,b,function(a){if(k.Vd(a))return JSON.parse(y.mY(a));if(k.re(a))return a;});}function da(a,b,f,c,d,p){var m;a=a.toLowerCase();fa.hasOwnProperty(a)&&(m=fa[a]);if(!k.ab(m))return b;if(k.Vd(m))if(m[0]!==f)m=c(m);else try{m=JSON.parse(y.mY(m));}catch(ub){m=void 0;}if(void 0===m)return b;for(a=0;a<d.length;a++)if(!d[a](m))return b;return p?p(m):m;}function ga(a,b,f,c,d){return da(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=B.Dd(a[b]);return a;},[function(a){return k.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!k.dv(a[b],f,c))return!1;return!0;},function(a){return void 0===d||a.length>=d;}]);}function V(a,b){return da(a,b,"[",function(a){a=k.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(y.mY(a[b]));}catch(ib){a=void 0;break;}return a;},[function(a){return k.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!k.ab(a[b])||!k.re(a[b]))return!1;return!0;}]);}function P(a,b,f,c){return da(a,b,"[",function(a){return k.isArray(a)?a:a.split("|");},[function(a){return k.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(f?!f.test(a[b]):!k.ev(a[b]))return!1;return!0;},function(a){return void 0===c||a.length>=c;}]);}function ma(a,b,f){return da(a,b,"{",function(a){var b,c,d;b={};a=a.split(";");for(var f=a.length;f--;){c=a[f];d=c.indexOf(":");if(0>=d)return;b[c.substring(0,d)]=c.substring(d+1);}return b;},[function(a){return k.re(a)&&0<Object.keys(a).length;},function(a){if(f)for(var b in a)if(!f.test(a[b]))return!1;return!0;}],function(a){var f;f={};B.Ma(f,b);B.Ma(f,a);return f;});}function ca(a){var b;b=[];B.tc(a,function(a,f){var c;try{c="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(Ma){c="cantparse";}b.push(a+"="+c);});return b.join("n");}la=/^[0-9]+[%]?$/;ta=/^[0-9]*$/;w={};$a=!0;Gb=!0;Pa=f.ba.get(p.fm);(function(){var c;function b(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(fa[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}fa={};B.Ma(fa,u.gN);a&&a.length&&y.forEach.call(a,function(a){k.Vd(a)?b(a):k.re(a)&&B.Ma(fa,a,{uD:!0});});Ta=B.Ma({},l.T4(),{uD:!0});c=l.dlb().cadmiumconfig;c&&(f.log.info("Config cookie loaded",c),b(c));if(u.Bba||fa.istestaccount)B.Ma(fa,Ta),w=Ta;"clearkey"!=T("drmType")||fa.keysystemid||(fa.keysystemid=(t.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};ab={d3:function(a){return D(g("enableDDPlus20"),r.fg(a,!0));},c3:function(a){return D(g("enableDDPlus"),r.fg(a,!0));},kI:c(D,g("enableDDPlusAtmos"),!1),QDb:function(a){return $a=D(g("enableLSSDH"),r.fg(a,!0));},z5a:function(a){return D(g("enableHEVC"),r.fg(a,!1));},nxa:function(a){return D(g("overrideEnableHEVC"),r.fg(a,!1));},y5a:function(a){return D(g("enableHDR"),r.fg(a,!1));},mxa:function(a){return D(g("overrideEnableHDR"),r.fg(a,!1));},L5a:function(a){return D(g("enableVP9"),r.fg(a,!1));},oxa:function(a){return D(g("overrideEnableVP9"),r.fg(a,!1));},w5a:function(a){return D(g("enableAV1"),r.fg(a,!1));},lxa:function(a){return D(g("overrideEnableAV1"),r.fg(a,!1));},F5a:function(a){return D(g("enablePRK"),r.fg(a,!1));},A5a:function(a){return D(g("enableHWDRM"),r.fg(a,!1));},PDb:function(a){return Gb=D(g("enableImageSubs"),r.fg(a,!0));},NP:function(a){return P("audioProfiles",r.fg(a,u.hMa));},FDb:function(a){return D("disableHD",r.fg(a,!1));},YV:c(n,"videoCapabilityDetectorType",x.yj.pw),N0:c(n,"audioCapabilityDetectorType",x.Us.pw),ZV:function(a){return P("videoProfiles",r.fg(a,u.EMa));},Ks:function(a){return P("timedTextProfiles",r.fg(a,u.zMa)).filter(function(a){return a===v.dk.FW?$a:a===v.dk.vA?Gb:!0;});},endpoint:c(D,g("endpoint"),!1),sAa:c(D,g("setMediaKeysEarly"),!1),lS:c(D,g("ignoreKeyStatusOutputNotAllowed"),!1),nba:c(D,g("useSetServerCertificateApi"),!1),aL:c(T,"serverCertificate",u.vMa),Gpa:c(D,g("doNotPerformLdlOnPlaybackCreate"),!1),Hpa:c(D,g("doNotPerformLdlOnPlaybackStart"),!1),sCa:c(D,g("useHdcpLevelOnCast"),!1),B5a:c(D,g("enableHdcp"),!1),$xa:c(n,g("preCacheMediaKeys"),0),Ql:c(D,g("prepareCadmium"),!1),XWa:c(D,g("acceptManifestOnPrepareItemParams"),!0),Zxa:c(ja,"ppmconfig",{maxNumberTitlesScheduled:1}),Kjb:c(D,g("playerPredictionModelV2"),!0),vaa:c(D,g("supportsLimitedDurationLicense"),!1),YQ:c(D,g("enableLdlPrefetch"),!1),XQ:c(D,g("enableGetHeadersAndMediaPrefetch"),!1),VH:c(D,g("deleteCachedManifestOnPlayback"),!1),XH:c(D,g("deleteOtherManifestCacheOnCreate"),!1),WH:c(D,g("deleteOtherLdlCacheOnCreate"),!1),kjb:c(n,g("periodicPrepareLogsIntervalMilliseconds"),36E5),ikb:c(n,g("prepareManifestCacheMaxCount"),50),gkb:c(n,g("prepareLdlCacheMaxCount"),30),gya:c(n,g("prepareManifestExpiryMilliseconds"),12E5),hkb:c(n,g("prepareLdlExpiryMilliseconds"),78E4),fkb:c(T,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Osb:c(ja,"videoApp"),Sv:c(ja,"storageRules"),L5:c(D,"ignoreIdbOpenError"),d8a:c(D,"ftlEnabled",!0),TXa:c(D,"appStorageLogging",!1),M5:c(n,g("imageSubsResolution"),0),Tbb:c(n,g("imageSubsMaxBuffer"),u.sMa,0),yH:c(D,g("captureBatteryStatus"),!1),B8a:c(n,g("getBatteryApiTimeoutMilliseconds"),5E3),Wd:function(){return T(g("keySystemId"),u.ega,void 0);},y6:c(P,g("keySystemList"),u.pMa,void 0),Ufb:c(n,g("hdcpGlobalTimeout1"),1E4),Vfb:c(n,g("hdcpGlobalTimeout2"),1E4),AGb:c(n,g("hdcpQueryTimeout1"),1E3),BGb:c(n,g("hdcpQueryTimeout2"),1E3),Wfb:c(n,g("hdcpQueryTimeout2"),100),Xfb:c(D,g("microsoftHwdrmRequiresHevc"),!1),Rfb:c(D,g("microsoftEnableDeviceInfo"),!1),Sfb:c(D,g("microsoftEnableHardwareInfo"),!1),Tfb:c(D,g("microsoftEnableHardwareReset"),!1),vCa:c(D,g("useNewLogger"),!1),teb:c(D,"logMediaPipelineStatus",!1),KK:c(D,g("renderDomDiagnostics"),!0),Oua:function(){return-1;},qD:c(E,g("logDisplayMaxEntryCount"),u.qMa,-1),Beb:c(E,g("logToConsoleLevel"),-1),hZa:c(E,g("bladerunnerCmdHistorySize"),10),Lm:function(){return Pa.Lm;},osb:c(D,"upgradeNetflixId",!0),X6:c(D,"logErrorIfEsnNotProvided",!0),l3:c(D,"enforceSinglePlayback",u.nMa),cR:c(D,"enforceSingleSession",u.oMa),H1:c(D,"closeOtherPlaybacks",!0),wYa:c(n,"asyncLoadTimeout",15E3,1),Peb:c(n,"mainThreadMonitorPollRate",0),UGb:c(D,"nrdpAlwaysShowUIOverlay",!1),WGb:c(D,"nrdpValidateSSOTokens",!0),VGb:c(T,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),zIb:c(D,"showNrdpDebugBadging",!1),s0a:c(T,"congestionServiceApiPath","/cbp/html5player/congestion"),b3:c(D,"enableCongestionService",!1),aW:function(){return Pa.aW;},Dp:function(){return Pa.Dp;},Cr:function(){return Pa.Cr;},Qs:function(){return Pa.Qs;},ECa:c(n,g("verbosePlaybackInfoDenominator"),0),dE:c(D,"renderTimedText",u.tMa),Tjb:c(D,"preBufferTimedText",!0),d7a:c(D,"fatalOnTimedTextLoadError",!0),CBa:c(ma,"timedTextStyleDefaults",{}),Laa:c(ma,"timedTextStyleOverrides",{}),Kaa:c(ma,"timedTextFontFamilyMapping",u.yMa||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),DBa:c(n,g("timedTextTimeOverride"),0),JE:c(n,"timedTextSimpleFallbackThreshold",u.AMa),p2:c(T,g("customDfxpUrl")),K5a:c(D,g("enableSubtitleTrackerLogging"),!1),Mnb:c(D,g("sendSubtitleQoeLogblobOnMidplay"),!1),s1:c(ga,"cdnIdWhiteList",[]),r1:c(ga,"cdnIdBlackList",[]),R3:c(T,g("forceAudioTrack")),Fgb:c(D,"muteVolumeOnPlaybackClose",!0),XGb:c(T,"nrdpVolumeControlType","VOLUME_STREAM"),T3:c(T,g("forceTimedTextTrack")),Ava:c(n,g("maxRetriesTimedTextDownload"),0),BBa:c(n,g("timedTextRetryInterval"),8E3),jaa:c(n,"storageMinimumSize",u.wMa,0),uV:c(T,"storageType",u.xMa,/^(none|fs|idb|ls)$/),peb:c(n,"lockExpiration",1E4),qeb:c(n,"lockRefresh",3E3),l_a:c(D,"captureUnhandledExceptions",!0),Sbb:c(D,"ignoreUnhandledExceptionDuringPlayback",!0),Qrb:c(D,"unhandledExceptionsArePlaybackErrors",!1),YBa:c(T,"unhandledExceptionSource",""),qkb:c(D,"preserveLastFrame",!1),fgb:c(n,"minBufferingTimeInMilliseconds",4E3),Dkb:c(n,"progressBackwardsGraceTimeMilliseconds",4E3),Ekb:c(n,"progressBackwardsMinPercent",10),jZa:c(T,g("bookmarkIgnoreBeginning"),"0",la),kZa:c(T,g("bookmarkIgnoreEnd"),"5%",la),lZa:c(T,g("bookmarkIgnoreEndForBranching"),"60000",la),LJ:c(n,"maxParallelConnections",3),N9:c(D,"reportThroughputInLogblobs",!0),FD:c(n,"minAudioMediaRequestDuration",16E3),dgb:c(n,"minAudioMediaRequestDurationBranching",0),GD:c(n,"minVideoMediaRequestDuration",4E3),ogb:c(n,"minVideoMediaRequestDurationAL1",0),pgb:c(n,"minVideoMediaRequestDurationBranching",0),lT:c(n,"minAudioMediaRequestSizeBytes",0),sT:c(n,"minVideoMediaRequestSizeBytes",0),g5a:c(D,"droppedFrameRateFilterEnabled",!1),h5a:c(n,"droppedFrameRateFilterMaxObservation",60,10,1E3),j5a:c(function(a,b,f,c,d,p){return da(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;)a[b][f]=B.Dd(a[b][f]);}return a;},[function(a){return k.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!k.isArray(a[b]))return!1;for(var d=a[b].length;d--;)if(!k.dv(a[b][d],f,c))return!1;}return!0;},function(a){if(void 0!==d)for(var b=a.length;b--;)if(d!==a[b].length)return!1;return!0;},function(a){return void 0===p||a.length>=p;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),KDb:c(D,"droppedFrameRateFilterWithoutRebufferEnabled",!0),UQ:c(n,"droppedFrameRateFilterBasedOnPreviousSession"),Spa:c(ga,"droppedFrameRateFilterBasedOnPreviousSessionPolicy"),i5a:c(n,"droppedFrameRateFilterMinHeight",384),m5a:c(n,"droppedFramesStorageSessionLimit",0),l5a:c(n,"droppedFramesStorageInterval",6E4),k5a:c(ga,"droppedFramesPercentilesList",[]),Yfb:c(D,"microsoftScreenSizeFilterEnabled",!1),Krb:c(D,"uiLabelFilterEnabled",!0),Jrb:c(ja,"uiLabelFilter",{}),V3a:c(n,g("defaultVolume"),100,0,100),Apa:c(D,"disableVideoRightClickMenu",!1),kgb:c(n,"minDecoderBufferMilliseconds",1E3,0,h.zw),exa:c(n,"optimalDecoderBufferMilliseconds",5E3,0,h.zw),nib:c(n,"optimalDecoderBufferMillisecondsBranching",3E3,0,h.zw),tT:c(n,"minimumTimeBeforeBranchDecision",3E3,0,h.zw),z7:c(n,"maxDecoderBufferMilliseconds",u.rMa,0,h.zw),jpa:c(n,"decoderTimeoutMilliseconds",1E4,1),F4a:c(D,"disgardMediaOnAppend",!1),WXa:c(D,"appendMediaBeforeInit",!1),Zib:c(n,"pauseTimeoutLimitMilliseconds",18E5),P5:c(n,"inactivityMonitorInterval",3E4,0),VWa:c(ga,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),uC:c(D,"enableTrickPlay",!1),EXa:c(ga,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),Brb:c(n,"trickPlayHighResolutionBitrateThreshold",1E3),Crb:c(n,"trickPlayHighResolutionThresholdMilliseconds",1E4),Erb:c(q,"trickplayBufferFactor",.5),Arb:c(n,"trickPlayDownloadRetryCount",1),u7:c(T,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),GAa:c(n,"simplePercentilePredictorPercentile",25),EAa:c(T,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),FAa:c(T,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),Aea:c(ja,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),h8:c(T,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Wda:c(ja,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),kQa:c(ja,"TputTDigestConfig",{maxc:25,c:.5,b:5E3,w:15E3}),sva:c(E,"maxIQRSamples",Infinity),awa:c(E,"minIQRSamples",5),mba:c(D,"useResourceTimingAPI",!1),lta:c(D,"ignoreFirstByte",!0),Lfb:c(D,"mediaRequestAsyncLoadStart",!0),zsb:c(D,"useXHROnLoadStart",!1),zmb:c(D,"resetHeuristicStateAfterSkip",!0),z3:c(ga,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),hQ:c(n,"connectTimeoutMilliseconds",8E3,500),n8:c(n,"noProgressTimeoutMilliseconds",8E3,500),vsb:c(D,"useOnLineApi",!1),ABa:c(n,"timedTextDownloadRetryCountBeforeCdnSwitch",3),owa:c(n,"netflixRequestExpiryTimeout",!1),SWa:c(D,"abortPreemptively",!1),gtb:c(D,"webkitDecodedFrameCountIncorrectlyReported",!1),tnb:c(n,"seekBackOnAudioTrackChangeMilliseconds",8E3),saa:c(P,g("supportedAudioTrackTypes"),[],void 0,1),Ata:c(n,"initialLogFlushTimeout",5E3),Pxa:c(T,"playdataPersistKey",Pa.Lm?"unsentplaydatatest":"unsentplaydata"),B$:c(D,"sendPersistedPlaydata",!0),Ijb:c(n,"playdataPersistIntervalMilliseconds",4E3),yHb:c(n,"playdataSendDelayMilliseconds",1E4),WU:c(D,"sendPlaydataBackupOnInit",!0),xeb:c(P,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),$fb:c(D,"midplayEnabled",!0),Vva:c(n,"midplayIntervalMilliseconds",3E5),agb:c(ga,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),fI:c(n,"downloadReportDenominator",0),R4a:c(n,"downloadReportInterval",3E5),gI:c(P,"downloadReportTcpInfo",[]),Nua:c(n,"logConfigApplyDenominator",0),nna:c(ma,g("bookmarkByMovieId"),{}),CI:c(D,g("forceLimitedDurationLicense"),!1),kv:c(n,g("licenseRenewalRequestDelay"),0),L8:c(n,g("persistedReleaseDelay"),1E4),hGb:c(D,g("limitedDurationFlagOverride"),void 0),Rh:c(D,g("secureStopEnabled"),!1),uIb:c(D,g("secureStopFromPersistedKeySession"),!1),Qza:c(n,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),n$:c(n,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),rnb:c(n,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),snb:c(n,g("secureStopPersistedKeySessionRetries"),17,1),qnb:c(n,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),SE:c(D,g("useCdmId"),!1),Bza:c(n,"safariPlayPauseWorkaroundDelay",100),mtb:c(D,"workaroundForMediaSourceDuration",!1),otb:c(n,"workaroundValueForSeekIssue",1200),ntb:c(D,"workaroundSaio",!0),wba:c(D,g("workaroundAudioKeyFrame"),u.FMa),n1:c(D,g("callEndOfStream"),u.kMa),ijb:c(D,"performRewindCheck",!0),f7a:c(D,"fatalOnUnexpectedSeeking",!0),e7a:c(D,"fatalOnUnexpectedSeeked",!0),Xna:c(D,g("clipLongVideo"),u.mMa),zob:c(D,g("setVideoElementSize")),E1:c(D,g("clearVideoSrc"),u.lMa),upa:c(n,g("delayPlayPause"),0),TYa:c(D,g("avoidSBRemove"),!1),Mo:c(D,g("useTypescriptEme"),!1),iI:c(T,g("drmPersistKey"),"unsentDrmData"),n9:c(D,g("promiseBasedEme"),!1),k_a:c(D,"captureKeyStatusData",!1),bD:c(D,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),nhb:c(D,g("nudgeSourceBuffer"),!1),o$:c(E,g("seekDelta"),1),vK:c(D,g("preciseSeeking"),!1),Zjb:c(D,g("preciseSeekingOnTwoCoreDevice"),!1),tpa:c(ma,g("delayErrorHandling")),LV:c(D,"trackingLogEnabled",u.CMa),Uaa:c(T,"trackingLogPath","/customerevents/track/debug"),irb:c(ga,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),UIb:c(D,"trackingLogRegPairRequests",!1),ig:c(T,"esn",""),Dqa:c(T,"fesn",""),e3:c(D,g("enableEmeVerboseLogging"),!1),C5a:c(D,"enableLastChunkLogging",!1),dH:c(T,"appId","",ta),sessionId:c(T,"sessionId","",ta),u1:c(T,"cdnProxyUrl"),xsb:c(D,"usePlayReadyHeaderObject",!1),bra:c(n,"forceXhrErrorResponseCode",void 0),Fg:{iwa:c(T,"mslApiPath","/msl/"),Xpa:c(T,g("edgePath"),"/cbp/cadmium-29"),NHb:c(T,"proxyPath",""),Wz:c(T,"uiVersion"),NV:c(T,"uiPlatform"),vCb:function(){return"0";},nz:c(P,"preferredLanguages",h.IFa,/^[a-zA-Z-]{2,5}$/,1),N7a:c(T,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),fqb:c(D,"supportPreviewContentPin",!0),gqb:c(D,"supportWatermarking",!0),CCa:c(D,"validatePinProtection",u.DMa),Uob:c(D,"showAllSubDubTracks",!1),V6a:c(D,g("failOnGuidMismatch"),!1)},pU:{enabled:c(D,"qcEnabled",!1),ij:c(T,"qcPackageId","")},QB:c(T,"authenticationType",Pa.Lm?u.jMa:u.iMa),cna:c(ma,"authenticationKeyNames",B.Ma({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),qqb:c(T,"systemKeyWrapFormat"),Ybb:c(D,"includeNetflixIdUserAuthData",!0),Rob:c(D,"shouldSendUserAuthData",!0),D$:c(D,"sendUserAuthIfRequired",u.uMa),Mob:c(D,"shouldClearUserData",!1),Bgb:c(D,"mslDeleteStore",!1),Cgb:c(D,"mslPersistStore",!0),I0a:c(D,"correctNetworkForShortTitles",!0),Rjb:c(D,"postplayHighInitBitrate",!1),I7a:c(D,"flushHeaderCacheOnAudioTrackChange",!0),c7a:c(D,"fatalOnAseStreamingFailure",!0),lqb:c(D,"supportsUnequalizedDownloadables",!0),dpa:c(n,g("debugAseDenominator"),100),G0:c(n,"aseAudioBufferSizeBytes",u.fMa),I0:c(n,"aseVideoBufferSizeBytes",u.gMa),sv:c(n,"minInitVideoBitrate",560),T7:c(n,"minHCInitVideoBitrate",560),Ly:c(n,"maxInitVideoBitrate",Infinity),UJ:c(n,"minInitAudioBitrate",0),TJ:c(n,"minHCInitAudioBitrate",0),IJ:c(n,"maxInitAudioBitrate",65535),kT:c(n,"minAcceptableVideoBitrate",235),VJ:c(n,"minRequiredBuffer",3E4),ri:c(n,"minPrebufSize",7800),A9:c(q,"rebufferingFactor",1),gs:c(n,"maxBufferingTime",2600),lba:c(D,"useMaxPrebufSize",!0),yD:c(n,"maxPrebufSize",45E3),E7:c(n,"maxRebufSize",Infinity),pS:c(V,"initialBitrateSelectionCurve",null),wta:c(n,"initSelectionLowerBound",560),xta:c(n,"initSelectionUpperBound",1050),EV:c(n,"throughputPercentForAudio",15),S0:c(n,"bandwidthMargin",10),T0:c(D,"bandwidthMarginContinuous",!1),U0:c(V,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),S1:c(n,"conservBandwidthMargin",20),xaa:c(D,"switchConfigBasedOnInSessionTput",!1),GH:c(n,"conservBandwidthMarginTputThreshold",0),T1:c(V,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),jBa:c(D,"switchAlgoBasedOnHistIQR",!1),Yv:c(T,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),D7:c(E,"maxPlayerStateToSwitchConfig",-1),f7:c(T,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),RX:c(q,"IQRThreshold",.5),E5:c(T,"histIQRCalcToUse","simple"),ZYa:c(q,"bandwidthMarginScaledRatioUpperBound",2),hs:c(n,"maxTotalBufferLevelPerSession",0),Ysa:c(n,"highWatermarkLevel",3E4),HBa:c(n,"toStableThreshold",3E4),JV:c(n,"toUnstableThreshold",u.BMa),$$:c(D,"skipBitrateInUpswitch",!0),tba:c(n,"watermarkLevelForSkipStart",8E3),x5:c(n,"highStreamRetentionWindow",9E4),g7:c(n,"lowStreamTransitionWindow",51E4),z5:c(n,"highStreamRetentionWindowUp",3E5),i7:c(n,"lowStreamTransitionWindowUp",3E5),y5:c(n,"highStreamRetentionWindowDown",6E5),h7:c(n,"lowStreamTransitionWindowDown",0),w5:c(q,"highStreamInfeasibleBitrateFactor",.5),Iy:c(n,"lowestBufForUpswitch",15E3),SS:c(n,"lockPeriodAfterDownswitch",15E3),k7:c(n,"lowWatermarkLevel",25E3),Jy:c(n,"lowestWaterMarkLevel",2E4),n7:c(D,"lowestWaterMarkLevelBufferRelaxed",!1),L7:c(q,"mediaRate",1),G7:c(n,"maxTrailingBufferLen",1E4),L0:c(n,"audioBufferTargetAvailableSize",262144),qba:c(n,"videoBufferTargetAvailableSize",1048576),Cva:c(n,"maxVideoTrailingBufferSize",8388608),pva:c(n,"maxAudioTrailingBufferSize",393216),mR:c(q,"fastUpswitchFactor",3),B3:c(q,"fastDownswitchFactor",1),ZS:c(n,"maxMediaBufferAllowed",24E4),Y$:c(D,"simulatePartialBlocks",!0),HAa:c(D,"simulateBufferFull",!0),U1:c(D,"considerConnectTime",!1),R1:c(q,"connectTimeMultiplier",1),Wua:c(n,"lowGradeModeEnterThreshold",12E4),Xua:c(n,"lowGradeModeExitThreshold",9E4),qva:c(n,"maxDomainFailureWaitDuration",3E4),nva:c(n,"maxAttemptsOnFailure",18),wqa:c(D,"exhaustAllLocationsForFailure",!0),vva:c(n,"maxNetworkErrorsDuringBuffering",20),y7:c(n,"maxBufferingTimeAllowedWithNetworkError",6E4),A3:c(n,"fastDomainSelectionBwThreshold",2E3),Gaa:c(n,"throughputProbingEnterThreshold",4E4),wBa:c(n,"throughputProbingExitThreshold",34E3),Kua:c(n,"locationProbingTimeout",1E4),Gqa:c(n,"finalLocationSelectionBwThreshold",1E4),uBa:c(q,"throughputHighConfidenceLevel",.75),vBa:c(q,"throughputLowConfidenceLevel",.4),tC:c(D,"enablePerfBasedLocationSwitch",!1),xo:c(D,"probeServerWhenError",!0),i9:c(n,"probeRequestTimeoutMilliseconds",8E3),pr:c(D,"allowSwitchback",!0),pz:c(n,"probeDetailDenominator",100),WS:c(n,"maxDelayToReportFailure",300),U6:c(n,"locationStatisticsUpdateInterval",6E4),Boa:c(D,"countGapInBuffer",!1),KB:c(D,"allowReissueMediaRequestAfterAbort",!1),s0:c(D,"allowCallToStreamSelector",!0),b1:c(n,"bufferThresholdForAbort",1E4),O8:c(n,"pipelineScheduleTimeoutMs",2),My:c(n,"maxPartialBuffersAtBufferingStart",2),U7:c(n,"minPendingBufferLen",6E3),xD:c(n,"maxPendingBufferLen",12E3),qfb:c(n,"maxPendingBufferLenAL1",3E4),aR:c(D,"enableRequestPacing",!1),F7:c(n,"maxStreamingSkew",4E3),C7:c(n,"maxPendingBufferPercentage",10),Ny:c(n,"maxRequestsInBuffer",60),xva:c(n,"maxRequestsInBufferAL1",240),yva:c(n,"maxRequestsInBufferBranching",120),gS:c(n,"headerRequestSize",4096),S7:c(n,"minBufferLenForHeaderDownloading",1E4),DU:c(n,"reserveForSkipbackBufferMs",1E4),v8:c(n,"numExtraFragmentsAllowed",2),uo:c(D,"pipelineEnabled",!1),JAa:c(n,"socketReceiveBufferSize",0),O0:c(n,"audioSocketReceiveBufferSize",32768),rba:c(n,"videoSocketReceiveBufferSize",65536),u5:c(n,"headersSocketReceiveBufferSize",32768),PV:c(n,"updatePtsIntervalMs",1E3),d1:c(n,"bufferTraceDenominator",100),TB:c(n,"bufferLevelNotifyIntervalMs",2E3),NB:c(n,"aseReportDenominator",0),H0:c(n,"aseReportIntervalMs",3E5),cqa:c(D,"enableAbortTesting",!1),ama:c(n,"abortRequestFrequency",8),naa:c(n,"streamingStatusIntervalMs",2E3),VD:c(n,"prebufferTimeLimit",24E4),nT:c(n,"minBufferLevelForTrackSwitch",2E3),H8:c(n,"penaltyFactorForLongConnectTime",2),d7:c(n,"longConnectTimeThreshold",200),n0:c(n,"additionalBufferingLongConnectTime",2E3),o0:c(n,"additionalBufferingPerFailure",8E3),IK:c(n,"rebufferCheckDuration",6E4),fqa:c(D,"enableLookaheadHints",!1),Tua:c(n,"lookaheadFragments",2),sp:c(D,"enableOCSideChannel",!0),eN:c(ja,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),dCa:c(D,"updateDrmRequestOnNetworkFailure",!1),FQ:c(D,"deferAseScheduling",!1),XS:c(n,"maxDiffAudioVideoEndPtsMs",16E3),TE:c(D,"useHeaderCache",!0),BQ:c(n,"defaultHeaderCacheSize",4),D2:c(n,"defaultHeaderCacheDataPrefetchMs",8E3),r5:c(n,"headerCacheMaxPendingData",6),i8:c(D,"neverWipeHeaderCache",!0),ulb:c(D,"recreateHeaderCacheDownloadTracks",!0),s5:c(n,"headerCachePriorityLimit",5),mbb:c(D,"headerCacheFlushForCircularBuffer",!0),oI:c(D,"enableUsingHeaderCount",!1),Vsa:c(D,"headerCacheTruncateHeaderAfterParsing",!0),H7a:c(D,g("flushHeaderCacheBeforePlayback"),!1),g8:c(n,"networkFailureResetWaitMs",2E3),f8:c(n,"networkFailureAbandonMs",6E4),cT:c(n,"maxThrottledNetworkFailures",3),DV:c(n,"throttledNetworkFailureThresholdMs",200),kr:c(D,"abortUnsentBlocks",!1),H7:c(n,"maxUnsentBlocks",2),b0:c(n,"abortStreamSelectionPeriod",2E3),j7:c(E,"lowThroughputThreshold",400),r3:c(D,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),gwa:c(D,"mp4ParsingInNative",!1),KAa:c(D,"sourceBufferInOrderAppend",!0),cn:c(D,"requireAudioStreamToEncompassVideo",!0),Bma:c(D,"allowAudioToStreamPastVideo",!0),Nkb:c(D,"pruneRequestsFromNative",!1),Xjb:c(D,"preciseBufferLevel",!1),We:c(D,"enableManagerDebugTraces",!1),gva:c(n,"managerDebugMessageInterval",1E3),fva:c(n,"managerDebugMessageCount",20),Ewa:c(D,"notifyManifestCacheEom",!1),TP:c(n,"bufferThresholdToSwitchToSingleConnMs",18E4),c1:c(n,"bufferThresholdToSwitchToParallelConnMs",12E4),ZT:c(n,"periodicHistoryPersistMs",3E5),LU:c(n,"saveVideoBitrateMs",18E4),A0:c(D,"appendMediaRequestOnComplete",!0),bW:c(D,"waitForDrmToAppendMedia",!1),Q3:c(D,g("forceAppendHeadersAfterDrm"),!1),HK:c(D,g("reappendRequestsOnSkip"),!0),Igb:c(n,"netIntrStoreWindow",36E3),mgb:c(n,"minNetIntrDuration",8E3),Z6a:c(n,"fastHistoricBandwidthExpirationTime",10368E3),WYa:c(n,"bandwidthExpirationTime",5184E3),X6a:c(n,"failureExpirationTime",86400),tbb:c(n,"historyTimeOfDayGranularity",4),L6a:c(D,"expandDownloadTime",!1),vgb:c(n,"minimumMeasurementTime",500),ugb:c(n,"minimumMeasurementBytes",131072),Dqb:c(n,"throughputMeasurementTimeout",2E3),hcb:c(n,"initThroughputMeasureDataSize",262144),Fqb:c(T,"throughputPredictor","ewma"),Cqb:c(n,"throughputMeasureWindow",5E3),Iqb:c(n,"throughputWarmupTime",5E3),Bqb:c(n,"throughputIQRMeasureWindow",5E3),$Ia:c(n,"IQRBucketizerWindow",15E3),t0a:c(n,"connectTimeHalflife",10),Kmb:c(n,"responseTimeHalflife",10),sbb:c(n,"historicBandwidthUpdateInterval",2E3),Eqb:c(V,"throughputMeasurementWindowCurve",null),Jbb:c(n,"httpResponseTimeWarmup",10),Lmb:c(n,"responseTimeWarmup",10),tgb:c(n,"minimumBufferToStopProbing",1E4),wbb:c(n,"holtWintersDiscretizeInterval",500),xbb:c(n,"holtWintersHalfLifeAlpha",6700),zbb:c(n,"holtWintersHalfLifeGamma",6700),Abb:c(n,"holtWintersInitialCounts",3),Bbb:c(n,"holtWintersMinInitialCounts",3),ybb:c(D,"holtWintersHalfLifeCurveEnabled",!1),Cbb:c(D,"holtWintersUpperBoundEnabled",!1),l$:c(T,"secondThroughputEstimator","none"),Oza:c(E,"secondThroughputMeasureWindowInMs",Infinity),x5a:c(P,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),n7a:c(ja,"filterDefinitionOverrides",{}),R3a:c(T,"defaultFilter","throughput-ewma"),nnb:c(T,"secondaryFilter","none"),S3a:c(ja,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),$J:c(D,"needMinimumNetworkConfidence",!0),X0:c(D,"biasTowardHistoricalThroughput",!0),zP:c(D,"addHeaderDataToNetworkMonitor",!1),faa:c(D,"startMonitorOnLoadStart",!1),M9:c(D,"reportFailedRequestsToNetworkMonitor",!1),B7:c(E,"maxFastPlayBufferInMs",Infinity),A7:c(E,"maxFastPlayBitThreshold",Infinity),z0:c(D,"appendFirstHeaderOnComplete",!0),iYa:c(T,"ase_stream_selector","optimized"),X5:c(T,"initBitrateSelectorAlgorithm","default"),f1:c(T,"bufferingSelectorAlgorithm","default"),v2:c(T,"ase_ls_failure_simulation",""),t2:c(D,"ase_dump_fragments",!1),u2:c(n,"ase_location_history",0),w2:c(n,"ase_throughput",0),fpa:c(D,"ase_simulate_verbose",!1),jhb:c(D,"notifyOpenConnectBlackBox",!0),Ojb:c(n,"pollingPeriod",150),Hua:c(n,"loadTimeMs",18E4),jva:c(n,"marginTimeMs",1E4),Zz:c(D,"useMediaCache",!1),nC:c(n,"diskCacheSizeLimit",52428800),fT:c(n,"mediaCachePrefetchMs",8E3),J7:c(ma,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),UXa:c(D,"appendCachedMediaAsMediaRequest",!0),II:c(D,"generateHardwareDeviceId",!1),j0:c(D,"addFailedLogBlobsToQueue",!0),Pob:c(D,"shouldSaveLogs",!1),a7:c(P,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),Lrb:{billboard:{sv:c(n,"billboardMinInitVideoBitrate",1050),Ly:c(n,"billboardMaxInitVideoBitrate",null),ri:c(n,"billboardMinPrebufSize",null),yD:c(n,"billboardMaxPrebufSize",null),gs:c(n,"billboardMaxBufferingTime",null),My:c(n,"billboardMaxPartialBuffersAtBufferingStart",null),Jy:c(n,"billboardLowestWaterMarkLevel",6E3),Iy:c(n,"billboardLowestBufForUpswitch",25E3),Yv:c(T,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{sv:c(n,"preplayMinInitVideoBitrate",1050),Ly:c(n,"preplayMaxInitVideoBitrate",null),ri:c(n,"preplayMinPrebufSize",null),yD:c(n,"preplayMaxPrebufSize",null),gs:c(n,"preplayMaxBufferingTime",null),My:c(n,"preplayMaxPartialBuffersAtBufferingStart",null),Jy:c(n,"preplayLowestWaterMarkLevel",6E3),Iy:c(n,"preplayLowestBufForUpswitch",25E3)},embedded:{sv:c(n,"embeddedMinInitVideoBitrate",1050),Ly:c(n,"embeddedMaxInitVideoBitrate",null),ri:c(n,"embeddedMinPrebufSize",null),yD:c(n,"embeddedMaxPrebufSize",null),gs:c(n,"embeddedMaxBufferingTime",null),My:c(n,"embeddedMaxPartialBuffersAtBufferingStart",null),Jy:c(n,"embeddedLowestWaterMarkLevel",6E3),Iy:c(n,"embeddedLowestBufForUpswitch",25E3)}},ZQ:c(D,"enablePsd",!1),p9:c(n,"psdCallFrequency",6E4),q9:c(D,"psdReturnToNormal",!1),AK:c(n,"psdThroughputThresh",0),aI:c(n,"discardLastNPsdBins",0),Mg:c(ja,"psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}),M5a:c(D,"enableVerbosePlaydelayLogging",!1),I5a:c(D,"enableRl",!1),Qmb:c(n,"rlLogParam",5),J5a:c(D,"enableSeamless",!1),D5:c(n,"hindsightDenominator",0),C5:c(n,"hindsightDebugDenominator",0),hS:c(ja,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),nI:c(D,"enableSessionHistoryReport",!1),a3:c(n,"earlyStageEstimatePeriod",1E4),uua:c(n,"lateStageEstimatePeriod",3E4),$S:c(n,"maxNumSessionHistoryStored",30),qT:c(n,"minSessionHistoryDuration",3E4),mI:c(D,"enableInitThroughputEstimate",!1),C0:c(D,"applyInitThroughputEstimate",!1),yta:c(ja,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),HJ:c(n,"maxActiveRequestsPerSession",3),VS:c(n,"maxActiveRequestsSABCell100",2),aT:c(n,"maxPendingBufferLenSABCell100",500),M6:c(D,"limitAudioDiscountByMaxAudioBitrate",!0),Xi:c(ja,"browserInfo",{}),EZa:c(n,g("busyGracePeriod"),199),Nnb:c(D,g("sendTransitionLogblob"),!0),Km:c(D,g("editAudioFragments"),!1),Pr:c(D,g("editVideoFragments"),!1),s5a:c(D,g("editAudioFragmentsBranching"),!0),Ypa:c(D,g("editVideoFragmentsBranching"),!0),WQ:c(D,g("earlyAppendSingleChildBranch"),!0),Zbb:c(D,g("includeSegmentInfoOnLogblobs"),!0),Q6a:c(D,"exposeTestData",!1),x2:c(D,"declareBufferingCompleteAtSegmentEnd",!0),Gx:c(D,"applyProfileTimestampOffset",!1),Hn:c(D,"applyProfileStreamingOffset",!1),OXa:c(D,g("allowSmallSeekDelta"),!1),cpb:c(n,g("smallSeekDeltaThresholdMilliseconds"),N.MY),NDb:c(D,"enableCDMAttestedDescriptors",!1),R9:c(D,"requireDownloadDataAtBuffering",!1),S9:c(D,"requireSetupConnectionDuringBuffering",!1),fmb:c(D,"renormalizeFirstFragment",!1),gmb:c(D,"renormalizeLastFragment",!1),B9:c(D,"recordFirstFragmentOnSubBranchCreate",!1),pZa:c(D,"branchingAudioTrackFrameDropSmallSeekFix",!0),ara:c(D,"forceL3WidevineCdm",!1)};Uc=!0;d.moa=function(a){var c;t._cad_global||(t._cad_global={});if(t._cad_global.logBatcher&&0<d.config.Nua&&0===A.CF%d.config.Nua)try{c=new z.qA(void 0,"config","info",{params:a});t._cad_global.logBatcher.Vb(c);}catch(jb){f.log.error("Failed to log config$apply",jb);}t._cad_global.config=d.config;t._cad_global.platformExtraInfo=u.hN;m.va(a);a&&(fa=B.Ma({},a,{uD:!0}),B.Ma(fa,w,{uD:!0}),b(ab,d.config),fa.istestaccount&&f.log.trace("Config applied for",ca(Uc?fa:a)),Uc=!1);};d.moa(fa);};d.KCb=function(a,b){return k.Vd(a)&&"%"==a[a.length-1]?y.Yf(parseFloat(a)*b/100):a|0;};d.o0a=function(a){return a?(a=B.Ma({},d.config),B.Ma(a,{exa:d.config.nib},{Sp:!0})):d.config;};d.LCb=function(a){var f;f=B.Ma({},d.config);return B.Ma(f,b(a),{Sp:!0});};d.ooa=function(f){f=b(f);return B.Ma({},a(148)(f),{Sp:!0});};d.noa=function(b,f,c){c=!!c&&(0<=c.indexOf("h264hpl")||0<=c.indexOf("vp9"));b={FD:b?d.config.dgb:d.config.FD,GD:b?d.config.pgb:c?d.config.ogb:d.config.GD,KB:b?!1:d.config.KB,Ny:b&&c?Math.max(d.config.yva,d.config.xva):b?d.config.yva:c?d.config.xva:d.config.Ny,xD:c?d.config.qfb:d.config.xD,Km:d.config.Km||b&&d.config.s5a,Pr:d.config.Pr||b&&d.config.Ypa,WQ:!f};return B.Ma({},a(148)(b),{Sp:!0});};d.NCb=b;d.MCb=c;d.JCb="";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Vh||(d.Vh={});g[g.IHa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.zia=2]="WARN";g[g.PX=3]="INFO";g[g.WY=4]="TRACE";g[g.sq=5]="DEBUG";d.Yea="LogFieldBuilderFactorySymbol";d.yb="LoggerFactorySymbol";d.qw={};},function(g,d,a){var b,c,h,l;b=a(78);c=a(992);h=a(237);l=a(991);g=function(){function a(a){this.Vq=!1;a&&(this.Ff=a);}a.prototype.Kf=function(b){var f;f=new a();f.source=this;f.fz=b;return f;};a.prototype.subscribe=function(a,b,f){var d;d=this.fz;a=c.$qb(a,b,f);d?d.call(a,this.source):a.add(this.source||!a.Tj?this.Ff(a):this.R_(a));if(a.Tj&&(a.Tj=!1,a.Kz))throw a.Lz;return a;};a.prototype.R_=function(a){try{return this.Ff(a);}catch(m){a.Kz=!0;a.Lz=m;a.error(m);}};a.prototype.forEach=function(a,f){var c;c=this;f||(b.root.Iw&&b.root.Iw.config&&b.root.Iw.config.Promise?f=b.root.Iw.config.Promise:b.root.Promise&&(f=b.root.Promise));if(!f)throw Error("no Promise impl found");return new f(function(b,f){var d;d=c.subscribe(function(b){if(d)try{a(b);}catch(y){f(y);d.unsubscribe();}else a(b);},f,b);});};a.prototype.Ff=function(a){return this.source.subscribe(a);};a.prototype[h.observable]=function(){return this;};a.prototype.ojb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:l.pjb(a)(this);};a.prototype.Paa=function(){var a,f;f=this;a||(b.root.Iw&&b.root.Iw.config&&b.root.Iw.config.Promise?a=b.root.Iw.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var c;f.subscribe(function(a){return c=a;},function(a){return b(a);},function(){return a(c);});});};a.create=function(b){return new a(b);};return a;}();d.sa=g;},function(g){var d;d={ka:function(a){return"number"===typeof a;},re:function(a){return"object"===typeof a;},Vd:function(a){return"string"===typeof a;},V:function(a){return"undefined"===typeof a;},ucb:function(a){return"boolean"===typeof a;},rb:function(a){return"function"===typeof a;},Na:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},vib:function(a){var b,c;c=[];if(!d.re(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&c.push([b,a[b]]);return c;}};d.Pc=d.forEach=function(a,b,c){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var h=0,l=a.length;h<l;h++)b.call(c,a[h],h,a);else for(h in a)d.has(a,h)&&b.call(c,a[h],h,a);return a;};g.M=d;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(3);a=a(136);d.LDa=function(){d.va();};d.oDb=!0;d.Ee=g.ba.get(a.kF);d.va=d.Ee.assert.bind(d.Ee);d.jDb=d.Ee.lYa.bind(d.Ee);d.kDb=d.Ee.mYa.bind(d.Ee);d.i3a=d.Ee.rYa.bind(d.Ee);d.TH=d.Ee.uYa.bind(d.Ee);d.nDb=d.Ee.sYa.bind(d.Ee);d.lDb=d.Ee.pYa.bind(d.Ee);d.xQ=d.Ee.oYa.bind(d.Ee);d.SH=d.Ee.tYa.bind(d.Ee);d.mDb=d.Ee.qYa.bind(d.Ee);d.iDb=d.Ee.jYa.bind(d.Ee);d.cpa=d.Ee.nYa.bind(d.Ee);d.pDb=d.Ee.pcb.bind(d.Ee);},function(g){g.M={Da:{Tg:0,Vs:1,xt:2,Df:3,LA:4,KA:5,Iq:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},eub:{zt:0,cAb:1,name:["STARTUP","STEADY"]},OM:{Tg:0,bAb:1,zQa:2,name:["STARTING","STABLE","UNSTABLE"]},G:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},vg:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},qf:{URL:0,Jw:1,Pea:2,Cq:3,name:["URL","SERVER","LOCATION","NETWORK"]},ld:{HAVE_NOTHING:0,et:1,Qo:2,tF:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ye:{$ba:0,HHa:1,czb:2,NEXT:3,Hyb:4,AAb:5,owb:6,$Ja:7,zt:8,ERROR:9,wY:10,iNa:11,qW:12,wJa:13,vJa:14,ROa:15,QOa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},Mvb:{Cq:0,$ub:1,name:["NETWORK","DECODE"]},POa:{PFa:"delayedSeamless",Kwb:"hideLongTransition"}};},function(g,d,a){(function(b){var k,N,E,n,O,K,q,t;function c(a,b){if(a===b)return 0;for(var f=a.length,c=b.length,d=0,p=Math.min(f,c);d<p;++d)if(a[d]!==b[d]){f=a[d];c=b[d];break;}return f<c?-1:c<f?1:0;}function d(a){return b.jca&&"function"===typeof b.jca.isBuffer?b.jca.isBuffer(a):!(null==a||!a.tBb);}function l(a){return d(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function f(a){if(N.rb(a))return O?a.name:(a=a.toString().match(q))&&a[1];}function p(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function m(a){if(O||!N.rb(a))return N.nJ(a);a=f(a);return"[Function"+(a?": "+a:"")+"]";}function r(a,b,f,c,d){throw new K.AssertionError({message:f,Cx:a,Om:b,fz:c,gpb:d});}function u(a,b){a||r(a,!0,b,"==",K.ok);}function x(a,b,f,p){var m;if(a===b)return!0;if(d(a)&&d(b))return 0===c(a,b);if(N.pJ(a)&&N.pJ(b))return a.getTime()===b.getTime();if(N.aua(a)&&N.aua(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!l(a)||!l(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(d(a)!==d(b))return!1;p=p||{Cx:[],Om:[]};m=p.Cx.indexOf(a);if(-1!==m&&m===p.Om.indexOf(b))return!0;p.Cx.push(a);p.Om.push(b);return v(a,b,f,p);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return f?a===b:a==b;}function v(a,b,f,c){var d,p,m;if(null===a||void 0===a||null===b||void 0===b)return!1;if(N.Yta(a)||N.Yta(b))return a===b;if(f&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;d="[object Arguments]"==Object.prototype.toString.call(a);p="[object Arguments]"==Object.prototype.toString.call(b);if(d&&!p||!d&&p)return!1;if(d)return a=n.call(a),b=n.call(b),x(a,b,f);d=t(a);m=t(b);if(d.length!==m.length)return!1;d.sort();m.sort();for(p=d.length-1;0<=p;p--)if(d[p]!==m[p])return!1;for(p=d.length-1;0<=p;p--)if(m=d[p],!x(a[m],b[m],f,c))return!1;return!0;}function B(a,b,f){x(a,b,!0)&&r(a,b,f,"notDeepStrictEqual",B);}function y(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(T){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function A(a,b,f,c){var d,p,m;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof f&&(c=f,f=null);try{b();}catch(V){d=V;}b=d;c=(f&&f.name?" ("+f.name+").":".")+(c?" "+c:".");a&&!b&&r(b,f,"Missing expected exception"+c);d="string"===typeof c;p=!a&&N.wS(b);m=!a&&b&&!f;(p&&d&&y(b,f)||m)&&r(b,f,"Got unwanted exception"+c);if(a&&b&&f&&!y(b,f)||!a&&b)throw b;}function z(a,b){a||r(a,!0,b,"==",z);}k=a(737);N=a(229);E=Object.prototype.hasOwnProperty;n=Array.prototype.slice;O=function(){return"foo"===function(){}.name;}();K=g.M=u;q=/s*functions+([^(s]*)s*/;K.AssertionError=function(a){var b;this.name="AssertionError";this.Cx=a.Cx;this.Om=a.Om;this.fz=a.fz;this.message=a.message?a.message:p(m(this.Cx))+" "+this.fz+" "+p(m(this.Om));b=a.gpb||r;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=f(b),b=a.indexOf("n"+b),0<=b&&(a=a.substring(a.indexOf("n",b+1)+1)),this.stack=a));};N.ccb(K.AssertionError,Error);K.fail=r;K.ok=u;K.equal=function(a,b,f){a!=b&&r(a,b,f,"==",K.equal);};K.FT=function(a,b,f){a==b&&r(a,b,f,"!=",K.FT);};K.lpa=function(a,b,f){x(a,b,!1)||r(a,b,f,"deepEqual",K.lpa);};K.mpa=function(a,b,f){x(a,b,!0)||r(a,b,f,"deepStrictEqual",K.mpa);};K.xwa=function(a,b,f){x(a,b,!1)&&r(a,b,f,"notDeepEqual",K.xwa);};K.ahb=B;K.aBa=function(a,b,f){a!==b&&r(a,b,f,"===",K.aBa);};K.ywa=function(a,b,f){a===b&&r(a,b,f,"!==",K.ywa);};K["throws"]=function(a,b,f){A(!0,a,b,f);};K.IDb=function(a,b,f){A(!1,a,b,f);};K.wFb=function(a){if(a)throw a;};K.oaa=k(z,K,{equal:K.aBa,lpa:K.mpa,FT:K.ywa,xwa:K.ahb});K.oaa.oaa=K.oaa;t=Object.keys||function(a){var b,f;b=[];for(f in a)E.call(a,f)&&b.push(f);return b;};}.call(this,a(169)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(121);d.is=g.zq;d.ab=function(a){return d.is.eh(a);};d.re=function(a){return d.is.Ex(a);};d.$cb=function(a){return d.is.uP(a);};d.isArray=function(a){return d.is.iu(a);};d.eua=function(a){return d.is.Ema(a);};d.ka=function(a,c,h){return d.is.Se(a,c,h);};d.Fcb=function(a,c,h){return d.is.t0(a,c,h);};d.dv=function(a,c,h){return d.is.kp(a,c,h);};d.Xta=function(a){return d.is.HB(a);};d.NFb=function(a){return d.is.PWa(a);};d.PFb=function(a){return d.is.QWa(a);};d.fua=function(a){return d.is.Fma(a);};d.Vd=function(a){return d.is.Ah(a);};d.ev=function(a){return d.is.Ti(a);};d.Mta=function(a){return d.is.GB(a);};d.rb=function(a){return d.is.YG(a);};},function(g,d){function a(){}function b(){}function c(){}function h(){}function l(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});f.leb="loadedtracks";f.keb="loadedmetadata";f.loaded="loaded";f.error="error";f.closed="closed";f.Jm="currenttimechanged";f.vna="bufferedtimechanged";f.n5a="durationchanged";f.Vsb="videosizechanged";f.$ib="pausedchanged";f.Mjb="playingchanged";f.q6a="endedchanged";f.i1="busychanged";f.$ma="audiotracklistchanged";f.PP="audiotrackchanged";f.Qz="timedtexttracklistchanged";f.KE="timedtexttrackchanged";f.JL="trickplayframeschanged";f.Ggb="mutedchanged";f.$sb="volumechanged";f.Vob="showsubtitle";f.cmb="removesubtitle";f.etb="watermark";f.n6="isReadyToTransition";f.aD="inactivated";f.Anb="segmentmaploaded";f.Bnb="segmentpresenting";f.LYa="autoplaywasallowed";f.MYa="autoplaywasblocked";d.lb=f;l.eAa="serverTimeChanged";d.Hea=l;h.Sza="playlistsegmenttransition";d.Zga=h;(function(a){a[a.GP=0]="aseException";a[a.HP=1]="aseReport";a[a.PBb=2]="aseSessionCreateRequest";a[a.dna=3]="authorized";a[a.ena=4]="autoplayWasAllowed";a[a.Jn=5]="autoplayWasBlocked";a[a.aZa=6]="bandwidthMeterAggregateUpdate";a[a.UB=7]="bufferUnderrun";a[a.closed=8]="closed";a[a.Fe=9]="closing";a[a.Jm=10]="currentTimeChanged";a[a.eI=11]="downloadComplete";a[a.aD=12]="inactivated";a[a.vua=13]="licenseAdded";a[a.OS=14]="licensed";a[a.mv=15]="locationSelected";a[a.t7=16]="manifestPresenting";a[a.eT=17]="mediaBufferChanged";a[a.e8=18]="needLicense";a[a.CT=19]="nextSegmentChosen";a[a.Oh=20]="playbackStart";a[a.Xp=21]="repositioned";a[a.zz=22]="repositioning";a[a.Cza=23]="safePlayRequested";a[a.unb=24]="segmentAborted";a[a.wnb=25]="segmentLastPts";a[a.u$=26]="segmentPresenting";a[a.znb=27]="segmentStarting";a[a.YU=28]="serverSwitch";a[a.CAa=29]="shouldUpdateVideoDiagInfo";a[a.Sj=30]="skipped";a[a.AV=31]="subtitleError";a[a.Eaa=32]="throttledMediaTimeChanged";a[a.GV=33]="timedTextRebuffer";a[a.Qz=34]="timedTextTrackListChanged";a[a.JL=35]="trickPlayFramesChanged";a[a.LL=36]="tryRecoverFromStall";a[a.lq=37]="updateNextSegmentWeights";a[a.Dsb=38]="userInitiatedPause";a[a.zCa=39]="userInitiatedResume";}(d.X||(d.X={})));c.aPa=0;c.Aha=1;c.Mq=2;c.OY=3;c.NY=4;d.wh=c;b.Lfa=1;b.Vs=2;b.ZOa=3;d.nM=b;a.gG=1;a.Df=2;a.Iq=3;a.WW=4;d.wn=a;(function(a){a[a.AF=0]="INITIAL";a[a.IA=1]="SEEK";a[a.XY=2]="TRACK_CHANGED";a[a.JA=3]="SEGMENT_CHANGED";}(d.Sg||(d.Sg={})));},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);c=a(18);h=a(5);l=a(15);d.tc=function(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f]);};d.Ma=d.Ma||function(a,b,m){var f,p,l;if(b)if(m){f=m.uD;p=m.prefix;l=m.Sp;d.tc(b,function(b,d){if(!l||c.ab(d))a[(p||"")+(f?b.toLowerCase():b)]=d;});}else d.tc(b,function(b,f){a[b]=f;});return a;};d.e_a=function(a,b,c,d){var f;if(a){f=a[b];l.rb(f)&&(c=f.apply(a,h.slice.call(arguments,3)));}};d.eYa=function(){for(var a=["info","warn","trace","error"],b={},c=a.length;c--;)b[a[c]]=!0;return b;};d.Dd=d.Dd||function(a){return parseInt(a,10);};d.gHb=function(a){return/^true$/i.test(a);};d.tya=function(a,b){return h.Yf(a+h.LF()*(b-a));};d.xV=function(a){return JSON.stringify(a,null,"  ");};d.G5=function(){var c,d;function a(a){b.va(void 0!==c[a]);return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=/[&'"<>]/g;return function(b){return b.replace(d,a);};}();d.trim=function(){var a;a=/^s+|s+$/gm;return function(b){return b.replace(a,"");};}();d.p7=function(a){return Array.isArray(a)?a:[a];};d.Cc=d.Cc||function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!=a.indexOf(c)&&(a=c+"n"+a)):a=c;f&&(a+="nnumber:"+f);return a;}};d.Gl=function(a){return l.ka(a)?a.toFixed(0):"";};d.gy=function(a){return l.ka(a)?(a/1E3).toFixed(0):"";};d.R7a=function(a){return l.ka(a)?a.toFixed():"";};d.E0a=function(a){for(var b=[],f=0;f<a.length;f++)b[f]=a[f];return b;};},function(g,d,a){var l,f;function b(a){return null!==a&&void 0!==a;}function c(a){return typeof a==d.TPa;}function h(a,c,d){var m,p,r;if(c)if(d){m=d.uD;p=d.prefix;r=d.Sp;f.tc(c,function(f,c){if(!r||b(c))a[(p||"")+(m?f.toLowerCase():f)]=c;});}else f.tc(c,function(b,f){a[b]=f;});return a;}Object.defineProperty(d,"__esModule",{value:!0});l=a(5);f=a(17);d.Tb=function(){};d.Yj=1E3;d.RF=Object.create;d.ILa=Object.keys;d.zM=Date.now;d.Aq=Math.floor;d.EKa=Math.ceil;d.Yf=Math.round;d.bl=Math.max;d.wj=Math.min;d.LF=Math.random;d.KF=Math.abs;d.qfa=Math.pow;d.Di="$attributes";d.eW="$children";d.fW="$name";d.pq="$text";d.QCa="$parent";d.$E="$sibling";d.TPa="string";d.EAb="number";d.DAb="function";d.SPa="object";d.ab=b;d.re=function(a){return typeof a==d.SPa;};d.Vd=c;d.ev=function(a){return c(a)&&a;};d.Dd=function(a){return parseInt(a,10);};d.Fq=function(a,b,f){return a>=b?a<=f?a:f:b;};d.Ma=h;d.eL=function(a){return h({},a);};d.fg=function(a){var d;for(var f=0;f<arguments.length;++f);for(var f=0,c=arguments.length;f<c;){d=arguments[f++];if(b(d))return d;}};d.dYa=function(a){for(var b,f=!0,c;f;)for(f=!1,b=a.length;--b;)c=a[b],c.startTime<a[b-1].startTime&&(a[b]=a[b-1],a[b-1]=c,f=!0);};d.yu=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};d.createElement=function(a,b,c,d){var m;m=l.yd.createElement(a);b&&(m.style.cssText=b);c&&(m.innerHTML=c);d&&f.tc(d,function(a,b){m.setAttribute(a,b);});return m;};d.IH=function(a){var b;b="";f.tc(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};d.uR=function(a,b,f){var c;a/b>f?(c=d.Yf(b*f),a=b):(c=a,a=d.Yf(a/f));return{width:c,height:a};};d.G5=function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};}();d.Cc=function(a){var b,f;if(a){b=a.stack;f=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"n"+b)):b=a;f&&(b+="nnumber:"+f);return b;}};d.H={Yh:1001,Pe:1003,KHa:1701,Cda:1713,LHa:1715,JHa:1721,FM:1723};},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,v,B,y,A,z;Object.defineProperty(d,"__esModule",{value:!0});g=a(378);b=a(8);c=a(6);a(29);h=a(20);l=a(3);f=a(115);p=a(56);m=a(12);r=a(2);u=a(648);x=a(114);d.Q6={};v=l.Bd("loadAsync");B=[];A=l.ba.get(f.Qw);z=p.ad.xj;d.Ye=function(a,b){m.va(!y);B.push({beb:b,On:a});};d.BJ=g.QHa(function(a){var m,p;function f(b){d.P6=h.Ac();f=c.Tb;p.Sf();a(b);}m=0;p=l.ba.get(x.Pw)(b.config.wYa,function(){v.error("Load timed out");f({errorCode:m,T:r.H.fDa});});u.skb(B).then(function(a){function b(){var d,l,h;if(d=a.shift())try{l=d.beb;m=h=d.On;p.Sf();p.up();l(function(a){a.O?b():(a.errorCode=a.errorCode||h,A.mark(z.iDa),f(a));});}catch(R){v.error("Exception while loading component",R);A.mark(z.hDa);f({errorCode:h,T:r.H.eDa,Ga:""+R});}else A.mark(z.gDa),f(c.Hb);}d.PS=h.Ac();A.mark(z.jDa);y=!0;b();},function(a){f({errorCode:a.On,T:a.ioa});});});d.CJ=function(a){m.va(void 0===d.Q6[a]);d.Q6[a]=h.Ac();};},function(g,d,a){var c,h,l,f;function b(){return d.JN.nD.ma(f.za);}Object.defineProperty(d,"__esModule",{value:!0});g=a(246);c=a(36);h=a(24);l=a(117);f=a(4);d.fja=g.Lb.get(c.Fi);d.JN=g.Lb.get(h.Oe);d.RSa=g.Lb.get(l.oA);d.CF=d.JN.id;d.Ac=function(){return d.JN.He().ma(f.za);};d.Ox=function(){return d.fja.hg.ma(f.jm);};d.U_a=function(){return d.JN.nD.ma(f.jm);};d.S_a=function(){return d.RSa.KH();};d.T_a=b;d.BH=function(){return d.fja.hg.ma(f.za);};d.V_a=function(){return b();};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ze="UtilitiesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.we="ConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ne="IsTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oe="ApplicationSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.xia=1]="Video";}(d.NF||(d.NF={})));(function(a){a[a.pw=0]="Default";a[a.Bq=1]="Microsoft";}(d.Us||(d.Us={})));(function(a){a[a.pw=0]="Default";a[a.yW=1]="Cast";a[a.Aca=2]="Chrome";a[a.Bq=3]="Microsoft";a[a.Kha=4]="Safari";}(d.yj||(d.yj={})));(function(a){a[a.aG=0]="SD";a[a.HM=1]="HD";a[a.wN=2]="UHD";a[a.tg=3]="DV";a[a.yq=4]="HDR10";a[a.At=5]="VP9";a[a.qh=6]="AV1";}(d.Ld||(d.Ld={})));(function(a){a[a.Ro=0]="Level_1_4";a[a.xw=1]="Level_2_2";}(d.th||(d.th={})));d.WAb=function(){};(function(a){a[a.mzb=0]="Platform";a[a.Xub=1]="CurrentTitle";}(d.KQa||(d.KQa={})));d.lF="DeviceCapabilitiesSymbol";d.svb=function(){};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.AW="ConfigurableInputsSymbol";d.Ki="ValidatingConfigurableInputsSymbol";d.dA="ConfigNameSymbol";d.VM="InitParamsSymbol";},function(g,d,a){g.M={RHa:a(743),Ja:a(60).Ja,$B:a(60).$B,Gr:a(60).Gr,GJ:a(60).GJ,t$:a(60).t$,LLa:a(742),kzb:a(208),VQa:a(741)};},function(g,d,a){g.M={EventEmitter:a(746),rF:a(745)};},function(g,d,a){var r,u,x,v,B,y,A;function b(){var a,b;if(a=d.T4.pla)return a;a=y.aN.search.substr(1);b=a.indexOf("#");0<=b&&(a=a.substr(0,b));a=c(a);return d.T4.pla=a;}function c(a){for(var b=/[+]/g,f=(a||"").split("&"),c={},d,m=0;m<f.length;m++)a=v.trim(f[m]),d=a.indexOf("="),0<=d?c[decodeURIComponent(a.substr(0,d).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(d+1).replace(b,"%20")):c[a.toLowerCase()]=null;return c;}function h(a){return(a=/function (.{1,})(/.exec(a.toString()))&&1<a.length?a[1]:"";}function l(a){return h(a.constructor);}function f(a){return y.sort.call(a,function(a,b){return a-b;});}function p(a){for(var b=0,f=a.length;f--;)b+=a[f];return b;}function m(){return A.rb(y.Zj.requestMediaKeySystemAccess);}Object.defineProperty(d,"__esModule",{value:!0});r=a(6);u=a(12);x=a(3);v=a(17);B=a(18);y=a(5);A=a(15);d.doa=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var f in a)if(a.hasOwnProperty(f)&&(!b.hasOwnProperty(f)||a[f]!==b[f]))return!1;return!0;};d.yu=d.yu||function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};d.PHb=function(a){var b;if(a){b=a.length;if(b)return b=v.tya(0,b-1),a[b];}};d.x0a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};d.xXa=function(a,b){function f(){a.removeEventListener("loadedmetadata",f);b.apply(this,arguments);}a.addEventListener("loadedmetadata",f);};d.dlb=function(){var a,b,f,c,d,m;a=y.yd.cookie.split("; ");b=a.length;m={};for(f=0;f<b;f++)if(c=v.trim(a[f]))d=c.indexOf("="),0<d&&(m[c.substr(0,d)]=c.substr(d+1));return m;};d.bFb=b;d.T4=Object.assign(b,{pla:void 0});d.TT=c;d.dK=function(a){var b;b="";v.tc(a,function(a,f){b&&(b+="&");u.va(B.Vd(f)||A.ka(f)||A.Mta(f));b+=encodeURIComponent(a)+"="+encodeURIComponent(f);});return b;};d.getFunctionName=h;d.Bra=l;d.Nwa=function(a){var b;b="";A.isArray(a)||A.eua(a)?b=y.reduce.call(a,function(a,b){return a+(32<=b&&128>b?y.JPa(b):".");},""):B.Vd(a)?b=a:v.tc(a,function(a,f){b+=(b?", ":"")+"{"+a+": "+(A.rb(f)?h(f)||"function":f)+"}";});return"["+l(a)+" "+b+"]";};d.GHb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};d.IH=d.IH||function(a){var b;b="";v.tc(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};d.GFb=function(a,b){var f;f=a[0];if(b<=f[0])return f.slice(1);for(var c=1,d;d=a[c++];){if(b<=d[0]){a=(b-f[0])/(d[0]-f[0]);b=[];for(c=1;c<f.length;c++)b.push((f[c]||0)+a*((d[c]||0)-(f[c]||0)));return b;}f=d;}return f.slice(1);};d.Itb=function(a,b){var d;for(var f={},c=0;c<b.length;c++){d=b[c];if("string"!=typeof d&&"number"!=typeof d)return!1;f[b[c]]=1;}for(c=0;c<a.length;c++)if(d=a[c],!f[d])return!1;return!0;};d.yDa=function(a,b){0>a.indexOf(b)&&a.push(b);};d.iW=f;d.Ktb=p;d.Tba=function(a,b){var f,c,d,m;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(d=a[f])&&d<=d);)d=void 0;for(;++f<c;)null!=(m=a[f])&&m>d&&(d=m);}else{for(;++f<c&&!(null!=(d=b.call(a,a[f],f))&&d<=d);)d=void 0;for(;++f<c;)null!=(m=b.call(a,a[f],f))&&m>d&&(d=m);}return d;};d.Jtb=function(a,b){var f,c,d,m;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(d=a[f])&&d<=d);)d=void 0;for(;++f<c;)null!=(m=a[f])&&d>m&&(d=m);}else{for(;++f<c&&!(null!=(d=b.call(a,a[f],f))&&d<=d);)d=void 0;for(;++f<c;)null!=(m=b.call(a,a[f],f))&&d>m&&(d=m);}return d;};d.mib=function(a){return A.rb(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};d.qEb=function(a,b){var d,m,p,r,l,h;function c(a){0>d.indexOf(a)&&A.ka(a)&&d.push(a);}a=a.slice();f(a);d=[];if(!b||!b.length)return a;if(!a.length)return[];m=b.length;try{for(;m--;){l=""+b[m];h=B.Dd(l);switch(l[l.length-1]){case"-":for(p=a.length;p--;)if(r=a[p],r<h){c(r);break;}break;case"+":for(p=0;p<a.length;p++)if(r=a[p],r>h){c(r);break;}break;default:0<=a.indexOf(h)&&c(h);}}}catch(ba){}d.length||d.push(a[0]);f(d);return d;};d.uR=d.uR||function(a,b,f){var c;a/b>f?(c=y.Yf(b*f),a=b):(c=a,a=y.Yf(a/f));return{width:c,height:a};};d.ICb=function(a,b,f){for(var c=[],d=0;d<b;d++)c.push(y.qfa(a[d]-f,2));return y.FKa(p(c)/c.length);};d.vu=function(a,b){var f;f=a.length;b=(f-1)*b+1;if(1===b)return a[0];if(b==f)return a[f-1];f=y.Aq(b);return a[f-1]+(b-f)*(a[f]-a[f-1]);};d.sEb=function(a,b){if(!A.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=A.isArray(b)?b:[b];for(var f=a.length,c=0;c<f;c++)for(var d=0;d<b.length;d++)if(a[c].type==b[d])return a[c];throw Error("Box not found "+b);};d.uub=function(a){return a.Vr("trak/mdia/minf/stbl/stsd/"+r.kEa+"|"+r.lEa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.K3.schm.fnb;})[0].Vr("schi/tenc").uJ;};d.tub=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};d.Qcb=m;d.BS=function(a){return m()||a.vaa;};d.zHb=function(a){return function(b){return b&&b[a];};};A.rb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);f=new ArrayBuffer(b-a);c=new Uint8Array(f);a=new Uint8Array(this,a,b-a);c.set(a);return f;});d.r6=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.r9a=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.QR=function(){var a,b,f;try{a=/playercore.*js/;b=y.Dq.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){f=y.Yf(b[0].duration);return JSON.stringify(f);}}catch(E){}};d.BHb=function(a,b,f){if(a&&a.length)if(f&&f.K_a)try{a.forEach(function(a,c){var d;d=(c=f.K_a[c])&&c.media;d&&B.Vd(d)?(d=x.Kn(d).buffer,a.media={arrayBuffer:d,length:d.byteLength,stream:b,Pb:c.cdn}):x.log.warn("chunk not in cache",a.Mf);});}catch(E){x.log.error("error reading cached chunks",E);}else x.log.warn("chunks not available in cached stream",f.type);else x.log.warn("chunks not available in mediabuffer",f.type);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ag="SchedulerSymbol";},function(g,d,a){var h;function b(a){return h.xN.apply(this,arguments)||this;}function c(a){return new h.Uo(a,d.aA);}Object.defineProperty(d,"__esModule",{value:!0});h=a(467);ia(b,h.xN);d.Eub=b;d.QP=c;d.Z=function(a){return new h.Uo(a,d.dm);};d.bGb=function(a){return new h.Uo(a,d.Nea);};d.xGb=function(a){return new h.Uo(a,d.SKa);};d.aA=new b(1,"b");d.dm=new b(8*d.aA.ve,"B",d.aA);d.Nea=new b(1024*d.dm.ve,"KB",d.aA);d.SKa=new b(1024*d.Nea.ve,"MB",d.aA);d.Vf=c(0);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ut="named";d.ZM="name";d.dG="unmanaged";d.Wfa="optional";d.BF="inject";d.Aw="multi_inject";d.Vha="inversify:tagged";d.Wha="inversify:tagged_props";d.qY="inversify:paramtypes";d.RFa="design:paramtypes";d.UF="post_construct";},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(752),d);b=a(5);g=a(25);c=a(751);h=a(750);l=a(422);f=a(3);a=a(132);d.zcb=/Edge/.test(b.vh);p=/ Edg//.test(b.vh);b=/Macintosh/.test(b.vh);d.Bba=!1;d.tLa=!0;d.gN={nudgeSourceBuffer:!0,enableCongestionService:!1,audioCapabilityDetectorType:g.Us.Bq,videoCapabilityDetectorType:g.yj.Bq,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,secureStopEnabled:!0,secureStopFromPersistedKeySession:!0,secureStopPersistedKeyMessageTimeoutMilliseconds:25E3,editAudioFragments:!0};d.zcb&&f.ba.get(l.bZ).YXa(d.gN);p&&(g=f.ba.get(l.bZ),g.Mma(77,d.gN,{}),b&&g.Mma(75,d.gN,{keySystemList:[a.bb.SQa],useTypescriptEme:!0}));d.ega=void 0;d.fga=function(){return{le:function(a,b,f,c){return new h.Dia(a,b,f,c);},request:c.UQa};};},function(g,d,a){var r,u,x,v,B,y,A,z,k,N,E,n,q,K,X,W;function b(a){var b,f,c,d;b=a.url.split("?");f=b[0];c="sc="+a.hnb;d=a.Bna?"random="+(1E17*n.LF()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(d?"&"+d:"");a.Pb&&!B.r6(f)&&(a=x.config&&x.config.u1)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function c(a){var b,f,c,d;b=a.url.split("?");f=b[0];c="bb_reason="+a.reason;d=a.Bna?"random="+(1E17*n.LF()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(d?"&"+d:"");a.Pb&&!B.r6(f)&&(a=x.config&&x.config.u1)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function h(a,b){var f,c,d,m,p;f=a.url.split("?");c=f[0];d=l(a);if(d){b.Vp=d;m=void 0===a.QL?[]:a.QL;X.href=c;p=X.host;m.some(function(a){return-1<p.indexOf(a);})?(a.headers=a.headers||{},a.headers.Range="bytes="+d):(b.Vp=d,c="/"==c[c.length-1]?c+"range/":c+"/range/",c+=d);}d=a.Bna?"random="+(1E17*n.LF()).toFixed(0):"";m="";x.config.sp&&a.gV&&(m="sc="+a.gV,d=m+(d?"&"+d:""));c=f[1]?c+("?"+f[1]+(d?"&"+d:"")):c+(d?"?"+d:"");a.Pb&&!B.r6(c)&&(a=x.config&&x.config.u1)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function l(a){var b;b=a.offset;if(void 0!==b)return N.xQ(b),void 0!==a.length?(a=a.offset+a.length-1,N.xQ(a),N.va(b<=a),b+"-"+a):b+"-";}function f(){return!1!==n.Zj.onLine;}function p(a,b,f,c){var m,p;m=c.Y8;p=c.headers;a.open(m?"POST":"GET",b,!f);switch(c.responseType){case d.YC:a.responseType="arraybuffer";break;case d.bta:E.e_a(a,"overrideMimeType",void 0,"text/xml");}m&&(b={"Content-Type":A.Vd(m)?"text/plain":"application/x-octet-stream"},p=p?A.Ma(b,p):b);p&&E.tc(p,function(b,f){a.setRequestHeader(b,f);});c.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");m?a.send(m):a.send();}function m(a,b){switch(b.type){case d.YC:return a.response||new ArrayBuffer(0);case d.bta:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});r=a(19);u=a(67);x=a(8);v=a(6);B=a(29);y=a(20);A=a(18);z=a(2);k=a(3);N=a(12);E=a(17);n=a(5);q=a(42);K=a(15);X=document.createElement("a");d.Bb=function(){var B,I,E,n;function a(a){var b;try{b=a.url;K.fua(b)?0===b.indexOf("https")?n.ssl++:0===b.indexOf("http")?n["non-ssl"]++:n.invalid++:n.invalid++;}catch(ma){}}function l(){I.Eb(d.Ibb);I.Eb(d.cta);}function g(){I.Eb(d.I5);I.Eb(d.cta);}B=k.Bd("Http");I=new u.Xj();E=0;n={ssl:0,"non-ssl":0,invalid:0};r.Ye(z.I.xea,function(a){x.config.vsb&&(t.addEventListener("online",l),t.addEventListener("offline",g),d.H5=f);a(v.Hb);});return{addEventListener:I.addListener,removeEventListener:I.removeListener,download:function(b,f){var qa,O,D,T,t,X,R,V,da,ja,ga;function c(){var a;c=A.Tb;ga&&(clearTimeout(ga),ga=null);I.removeListener(d.I5,u);da&&(da.onloadstart=null,da.onreadystatechange=null,da.onprogress=null,da.onerror=null,da.onload=null,da=da.onabort=null);V.O||(V.T!=z.H.ft?qa.warn("Download failed",O,z.sn(V)):qa.trace("Download aborted",O));a=D;D=void 0;for(var b=a.length;b--;)(function(){var f;f=a[b];q.ib(function(){f(V);});}());I.Eb(d.Gbb,V,!0);}function r(){ga&&(clearTimeout(ga),ga=null);ga=setTimeout(v,ja?R:X);}function l(a,b,f,d){var m,p;V.O=!1;V.T=a;m=y.Ac();p=V.ej;p.Pf=p.Pf||m;p.Sk=p.Sk||m;0<b&&(V.Ih=V.mc=b);f&&(V.Ga=f);d&&(V.nj=d);a!==z.H.xF&&a!==z.H.uw&&a!==z.H.zF||!da||(da.onabort=null,P());c();}function g(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f&&(b=JSON.parse(f));}catch(Ya){}return b;}function u(){d.H5()||l(z.H.xF);}function v(){l(ja?z.H.uw:z.H.zF);}function P(){try{da&&da.abort();}catch(ub){}}function n(){l(z.H.ft);}N.va(f);qa=b.j&&b.j.log&&k.yf(b.j,"Http")||B;O={Num:E++};D=[f];T={};X=b.hQ||x.config.hQ;R=b.n8||x.config.n8;a(b);V=function(){var a,f,d;a=A.Tb;f=A.Tb;d=A.Tb;return{request:b,type:b.responseType,ej:T,abort:P,timeout:v,ema:function(a){c!==A.Tb&&(N.va(D,"Callback should be added before download starts."),D&&D.unshift(a));},LT:function(a){d(a);},MT:function(b){a(b);},qs:function(a){f(a);},job:function(a){d=a;},tob:function(b){a=b;},hob:function(a){f=a;}};}();q.ib(function(){var a,f;if(K.fua(b.url))try{if(h(b,V),t=V.url,N.TH(t),O.Url=t,d.H5()){da=new XMLHttpRequest();a=x.config.zsb&&"undefined"!=typeof da.onloadstart;a&&(da.onloadstart=function(){var a;a=y.Ac();T.requestTime=a;V.LT({mediaRequest:b,timestamp:a});});da.onreadystatechange=function(){if(2==da.readyState){ja=!0;T.Pf=y.Ac();da.onreadystatechange=null;r();for(var a=V,f=da.getAllResponseHeaders().split("n"),c=f.length,d,m,p={};c--;)if(d=f[c])m=d.indexOf(": "),1<=m&&m<d.length-1&&(p[d.substr(0,m)]=d.substr(m+2));a.headers=p;V.MT({timestamp:T.Pf,connect:!0,mediaRequest:b,start:T.requestTime,rt:[T.Pf-T.requestTime]});}};da.onprogress=function(a){ja=!0;T.Hr=a.loaded;r();a={mediaRequest:b,bytes:a.loaded,tempstamp:y.Ac(),bytesLoaded:a.loaded};V.MT(a);};da.onload=function(){var a;if(c!==A.Tb){N.va(void 0===T.Sk);T.Sk=y.Ac();T.Pf=T.Pf||T.Sk;if(200<=da.status&&299>=da.status)if(a=m(da,V),b.u)try{V.content=b.u(a,V);V.O=!0;V.parsed=!0;V.raw=a;}catch(Ya){qa.warn("Exception parsing response",Ya,O);l(z.H.JX,void 0,A.Cc(Ya));}else V.parsed=!1,V.content=a,V.O=!0;else da.status==W?l(z.H.jA,da.status):l(z.H.yF,da.status,da.response,g(da));c();}};da.onabort=n;da.onerror=function(){var a,b;a=da.status;"undefined"!==typeof x.config.bra&&(a=x.config.bra);if(0<a)if(a==W)l(z.H.jA,a);else{try{b=da.responseText;}catch(Mb){}l(z.H.yF,a,b,g(da));}else l(z.H.kA);};f=y.Ac();p(da,t,!1,b);I.Eb(d.Hbb,V,!0);a||(T.requestTime=f,V.LT({mediaRequest:b,timestamp:f}));r();I.addListener(d.I5,u);}else q.ib(l.bind(void 0,z.H.xF));}catch(Va){qa.error("Exception starting download",Va,O);l(z.H.NX,void 0,A.Cc(Va));}else l(z.H.Sda);});return V;},dc:n,ihb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},Xob:function(a){var f;f=new XMLHttpRequest();a=b(a);f.open("HEAD",a);f.onreadystatechange=function(){};f.send();},xkb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.ukb;b.open("HEAD",f);b.timeout=Math.max(2*c.neb,x.config.i9);b.onreadystatechange=function(){2==b.readyState&&c&&c.gj({url:f});};b.ontimeout=b.onerror=function(){c&&c.u8({url:f});};b.send();}};}();d.tFb=b;d.qFb=c;d.sFb=h;d.rFb=l;d.H5=v.zOa;d.uFb=f;d.aBb=p;d.$Ab=m;d.Hbb=1;d.Gbb=2;d.Ibb=3;d.I5=4;d.cta=5;d.ata=1;d.bta=2;d.YC=3;W=420;t._cad_global||(t._cad_global={});t._cad_global.http=d.Bb;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);d.sq=!1;g=function(){function a(a,b,f,c){this.u=a;this.type=b;this.startOffset=f;this.length=c;this.level=0;this.$b={};a&&(this.level=a.level);this.LD=c;}a.prototype.Me=function(){var a,b,f;this.version=this.u.Xc();a=this.u.Xc();b=this.u.Xc();f=this.u.Xc();this.pe=a<<16|b<<8|f;};a.prototype.xI=function(a){var f;function b(b){b&&b.xI&&(b=b.xI(a),b.length&&(f=f.concat(b)));}f=[];this.type===a&&f.push(this);if(this.$b)for(var c in this.$b)this.$b[c].forEach(b);return f;};a.prototype.yI=function(a){return this.xI(a)[0];};a.prototype.parse=function(){return!0;};a.prototype.DI=function(a){this.u.Ja(a.type,a);};a.prototype.Rbb=function(){};a.prototype.Jo=function(a){return void 0!==this.$b[a]&&1===this.$b[a].length?this.$b[a][0]:void 0;};a.prototype.Bj=function(a,c){c=void 0===c?this.u.offset:c;b(c>=this.startOffset+8&&c+a<=this.startOffset+this.LD,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.LD).toString(16)+")");d.sq&&this.u.Jb("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length-a));this.length-=a;this.u.ql(this.length,!1,this.startOffset);this.u.Bj(a,c);};a.prototype.Dya=function(a,b,f){if(1<f){for(var c=[];0<f--;)c.push(this.sla(a,b));return c;}return this.sla(a,b);};a.prototype.Wp=function(a){var b,f;f=this;void 0===b&&(b={});a.forEach(function(a){var c,d;if("offset"===a.type){f.u.Jb("Adding offset:"+a.offset);c=a.offset;if(0<c%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");f.u.offset+=c/8;}else for(c in a){d=a[c];b[c]="string"===typeof d?f.Dya(d):f.Dya(d.type,d.length,d.cYa);}});return b;};a.prototype.Jr=function(a,b){var f,c;f=this.u.offset;c=this.length-(f-this.startOffset);0<c&&(b=this.u.i2(this,f,c,b),b.cp=void 0,b.addEventListener("error",this.DI.bind(this)),b.addEventListener("drmheader",this.DI.bind(this)),b.addEventListener("nflxheader",this.DI.bind(this)),b.addEventListener("keyid",this.DI.bind(this)),b.addEventListener("requestdata",this.Rbb.bind(this)),b.addEventListener("sampledescriptions",this.DI.bind(this)),this.$b=b.$b,b.parse(a));return!0;};a.prototype.rB=function(a,c,f){f=void 0===f?this.u.offset:f;b(f>=this.startOffset+8&&f+a<=this.startOffset+this.LD,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.LD).toString(16)+")");d.sq&&this.u.Jb("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length+(c?c.byteLength:0)-a));this.length+=(c?c.byteLength:0)-a;this.u.ql(this.length,!1,this.startOffset);this.u.rB(a,c,f);};a.prototype.sla=function(a,b){var f;f=this.length-this.u.offset+this.startOffset;"undefined"===typeof b&&(b=f);switch(a){case"int8":a=this.u.Xc();break;case"int64":a=this.u.yh();break;case"int32":a=this.u.gb();break;case"int16":a=this.u.sf();break;case"string":a=this.u.clb(Math.min(b,f));break;default:throw Error("Invalid type: "+a);}return a;};return a;}();d["default"]=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fi="ClockSymbol";},function(g,d,a){var h,l,f,p;function b(a,b){var f;f=p.call(this,a,b)||this;f.poa=b;f.debug=a.debug;f.ga=a.gf.qb(f.poa);return f;}function c(a,b){this.poa=b;this.o9={};this.cs=a.cs;this.cK=a.cK;this.rU=a.rU;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1001);l=a(1);f=a(135);d.RPa="isTestAccount";c.prototype.cra=function(){};c.prototype.Jmb=function(a,b){this.o9[a]=[b,this.cs.tza];};c.prototype.Scb=function(a){return h.Zfa.of(this.o9[a]).map(function(a){return a[1];}).hxa(-1)<this.cs.tza;};c.prototype.G$a=function(a){return h.Zfa.of(this.o9[a]).map(function(a){return a[0];}).hxa(function(){throw Error("Invalid State Error");});};na.Object.defineProperties(c.prototype,{NXa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.cs&&this.cs.data){a=this.cs.data[d.RPa];"undefined"!==typeof a&&(b=a.toString());a=this.cK.w9(b);a=a instanceof f.hm?!1:a;}else a=!1;return a;}}});p=c;p=g.__decorate([l.N(),g.__param(0,l.Og()),g.__param(1,l.Og())],p);d.jM=p;ia(b,p);b.prototype.cra=function(a,b){this.ga.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,l.Og()),g.__param(1,l.Og())],a);d.ae=a;},function(g,d,a){var l,f,p;function b(a){return function(b,f){return b.y9(f,a);};}function c(a,b){return a.rU.Vkb[b]||h(a,b);}function h(a,b){a=a.cs.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});l=a(31);f=a(4);p=a(135);d.config=function(a,b){return function(f,d,m){var r,l;r=void 0!==b?b:d;l=m.get;void 0!==l&&(m.get=function(){var b;if(!this.Scb(d))return this.G$a(d);a:{b=(this.NXa?c:h)(this,r.toString());if(void 0!==b)if(b=a(this.cK,b),b instanceof p.hm)this.cra(r,b);else break a;b=l.bind(this)();}this.Jmb(d,b);return b;});return m;};};d.e6=function(a,b){return a.zya(b);};d.Te=function(a,b){return a.w9(b);};d.cw=function(a,b){return a.Fa(b);};d.string=function(a,b){return a.y9(b);};d.qaa=function(a,b){return a.Le(b,d.string);};d.HFb=function(a,b){return a.Le(b,d.e6);};d.VBa=function(a,b){return a.Le(b,d.cw);};d.Jg=function(a,b){a=a.Fa(b);return a instanceof p.hm?a:f.sb(a);};d.Z=function(a,b){a=a.Fa(b);return a instanceof p.hm?a:l.Z(a);};d.url=b(/^S+$/);d.YDb=function(a){return function(b,f){return b.xya(f,a);};};d.object=function(){return function(a,b){return a.Aya(b);};};d.Pya=b;d.In=function(a,b){return function(f,c){return f.Le(c,a,b);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bia="WindowTimersSymbol";d.kt="JSONSymbol";d.yA="NavigatorSymbol";d.QKa="MediaSourceSymbol";d.Uea="LocationSymbol";d.Xca="DateSymbol";d.AY="PerformanceSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bk={Sua:"logblob",Ha:"manifest",ie:"license",events:"events",bind:"bind",rxa:"pair"};g=d.$f||(d.$f={});g[g.vw=20]="High";g[g.eY=10]="Medium";g[g.st=0]="Low";d.IY={$f:"reqPriority",HOa:"reqAttempt",IOa:"reqName"};},function(g,d,a){var c,h;function b(a,f){var p;p=d.Jq[0];p==f&&(p=d.Jq[1]);p?p.close(function(){b(a,f);}):a&&a(c.Hb);}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(12);g=a(16);d.Pga=b;d.Sga=function(a,b){switch(a){case d.Nga:d.Qga.push(b);return;case d.Oga:d.Rga.push(b);return;}h.va(!1);};d.Jq=[];d.Qga=[];d.Rga=[];d.Nga=1;d.Oga=3;d.CY={PNa:0,RNa:void 0,mN:void 0};d.Mga="network";d.Lga="media";d.NNa="timedtext";d.FA=g.wh.aPa;d.cl=g.wh.Aha;d.vn=g.wh.Mq;d.YF=g.wh.OY;d.XF=g.wh.NY;d.al=g.nM.Lfa;d.Xs=g.nM.Vs;d.lca=g.nM.ZOa;d.Ii=g.wn.gG;d.Wo=g.wn.Df;d.Kq=g.wn.Iq;d.Gw=g.wn.WW;d.ONa="playback";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ib=function(a){return setTimeout(a,0);};},function(g,d,a){var l,f;function b(a){return a&&a.Je&&a.inRange&&!a.Lh&&!1!==a.Fl;}function c(a,b,f){return!l.ka(a)||a<b?b:a>f?f:a;}function h(a){if(!(this instanceof h))return new h(a);this.Hd=l.ka(a)?a:void 0;}l=a(11);f=new(a(7)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.M={console:f,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",f.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},yy:b,J3:function(a,b,f){var m,p,r,h;function d(b){var c;c=a[b];if(!c.Je||!c.inRange||c.Lh||f&&!f(c,b))return!1;h=b;return!0;}m=a.length;p=0;r=m;l.isArray(b)&&(p=c(b[0],0,m),r=c(b[1],0,m),b=b[2]);b=c(b,p-1,r);for(m=b-1;m>=p;--m)if(d(m))return h;for(m=b+1;m<r;++m)if(d(m))return h;return-1;},ygb:function(a,b){return Math.floor(a/(125*b)*1E3);},GZa:function(a,b){return Math.ceil(a/1E3*b*125);},vR:function(a,b,f){var c;c=a.length-1;for(b=f?b.bind(f):b;0<=c;--c)b(a[c],c,a);},QFb:function(a,f){return!a.slice(f+1).some(b);},Xo:h,bYa:function(a,b){var f;return a.some(function(a,c,d){f=a;return b(a,c,d);})?f:void 0;},Rma:function(a,b){var f;return a.some(function(a,c,d){f=c;return b(a,c,d);})?f:-1;},$B:c};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tj="Base64EncoderSymbol";},function(g,d,a){var c;function b(a,b,f,d,m,r,g,x,v,B,y){this.code=void 0===a?c.I.Yh:a;this.eb=b;this.Jc=f;this.xk=d;this.Op=m;this.message=r;this.Ju=g;this.data=x;this.wf=v;this.Fjb=B;this.alert=y;this.O=!1;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);b.Cc=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!==a.indexOf(c)&&(a=c+"n"+a)):a=c;f&&(a+="nnumber:"+f);return a;}return"";};b.prototype.$H=function(a){this.Ju=b.Cc(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.eb,extCode:this.Jc,edgeCode:this.xk,mslCode:this.Op,message:this.message,details:this.Ju,data:this.data,errorDisplayMessage:this.wf,playbackServiceError:this.Fjb};};d.Yb=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$j="PboCommandContextSymbol";},function(g,d,a){var h;function b(){h(!1);}function c(a){a.set=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});h=a(14);d.gi=function(a,b){Object.defineProperties(a,b);};d.SGb=b;d.L=c;d.Do=function(a){a.set=b;return a;};d.MXa=function(a){var b;b={};Object.getOwnPropertyNames(a).forEach(function(f){b[f]=c(a[f]);});return b;};},function(g){g.M=function(d,a){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a;};},function(g,d,a){var b,c;b=a(111);c=a(156);g.M=function(a){return function f(d,m){switch(arguments.length){case 0:return f;case 1:return c(d)?f:b(function(b){return a(d,b);});default:return c(d)&&c(m)?f:c(d)?b(function(b){return a(b,m);}):c(m)?b(function(b){return a(d,b);}):a(d,m);}};};},function(g,d,a){var b,c,h,l,f,p;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(459);g=a(70);h=a(239);l=a(238);f=function(a){function c(b,c,d){var m;a.call(this);this.Lz=null;this.Jf=this.Tj=this.Kz=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!b){this.destination=h.empty;break;}if("object"===typeof b){if(b instanceof f||"syncErrorThrowable"in b&&b[l.Ez]){m=b[l.Ez]();this.Tj=m.Tj;this.destination=m;m.add(this);}else this.Tj=!0,this.destination=new p(this,b);break;}default:this.Tj=!0,this.destination=new p(this,b,c,d);}}b(c,a);c.prototype[l.Ez]=function(){return this;};c.create=function(a,b,f){a=new c(a,b,f);a.Tj=!1;return a;};c.prototype.next=function(a){this.Jf||this.Yg(a);};c.prototype.error=function(a){this.Jf||(this.Jf=!0,this.Ub(a));};c.prototype.complete=function(){this.Jf||(this.Jf=!0,this.wb());};c.prototype.unsubscribe=function(){this.closed||(this.Jf=!0,a.prototype.unsubscribe.call(this));};c.prototype.Yg=function(a){this.destination.next(a);};c.prototype.Ub=function(a){this.destination.error(a);this.unsubscribe();};c.prototype.wb=function(){this.destination.complete();this.unsubscribe();};c.prototype.yWa=function(){var a,b;a=this.xm;b=this.jx;this.jx=this.xm=null;this.unsubscribe();this.Jf=this.closed=!1;this.xm=a;this.jx=b;};return c;}(g.ck);d.Xh=f;p=function(a){function f(b,f,d,m){var p;a.call(this);this.HG=b;b=this;c.rb(f)?p=f:f&&(p=f.next,d=f.error,m=f.complete,f!==h.empty&&(b=Object.create(f),c.rb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.Zh=b;this.Yg=p;this.Ub=d;this.wb=m;}b(f,a);f.prototype.next=function(a){var b;if(!this.Jf&&this.Yg){b=this.HG;b.Tj?this.gZ(b,this.Yg,a)&&this.unsubscribe():this.hZ(this.Yg,a);}};f.prototype.error=function(a){var b;if(!this.Jf){b=this.HG;if(this.Ub)b.Tj?this.gZ(b,this.Ub,a):this.hZ(this.Ub,a),this.unsubscribe();else if(b.Tj)b.Lz=a,b.Kz=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};f.prototype.complete=function(){var a,b,f;a=this;if(!this.Jf){b=this.HG;if(this.wb){f=function(){return a.wb.call(a.Zh);};b.Tj?this.gZ(b,f):this.hZ(f);}this.unsubscribe();}};f.prototype.hZ=function(a,b){try{a.call(this.Zh,b);}catch(v){throw this.unsubscribe(),v;}};f.prototype.gZ=function(a,b,f){try{b.call(this.Zh,f);}catch(B){return a.Lz=B,a.Kz=!0;}return!1;};f.prototype.hr=function(){var a;a=this.HG;this.HG=this.Zh=null;a.unsubscribe();};return f;}(f);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rhb=function(a,b){return a-b;};d.HIb=function(a,b){return a.localeCompare(b);};d.Hk=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.dt||(d.dt={});g[g.bia=0]="Test";g[g.Gea=1]="Int";g[g.CPa=2]="Staging";g[g.qOa=3]="Prod";d.fm="GeneralConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rha="StorageValidatorSymbol";d.cm="AppStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wGa="Cannot apply @injectable decorator multiple times.";d.xGa="Metadata key was used more than once in a parameter:";d.PF="NULL argument";d.Lea="Key Not Found";d.VCa="Ambiguous match found for serviceIdentifier:";d.uEa="Could not unbind serviceIdentifier:";d.rLa="No matching bindings found for serviceIdentifier:";d.hKa="Missing required @injectable annotation in:";d.iKa="Missing required @inject or @multiInject annotation in:";d.xQa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.xEa="Circular dependency found:";d.fyb="Sorry, this feature is not fully implemented yet.";d.SIa="Invalid binding type:";d.sLa="No snapshot available to restore.";d.VIa="Invalid return type in middleware. Middleware must return!";d.Ywb="Value provided to function binding must be a function!";d.XIa="The toSelf function can only be applied when a constructor is used as service identifier";d.TIa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.WCa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.MEa="Invalid Container constructor argument. Container options must be an object.";d.KEa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.JEa="Invalid Container option. Auto bind injectable must be a boolean";d.LEa="Invalid Container option. Skip base check must be a boolean";d.uKa="Cannot apply @postConstruct decorator multiple times in the same class";d.fNa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};d.yEa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.YOa="Maximum call stack size exceeded";},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(67);b=a(42);c=a(5);d.he=new g.Xj();d.Ck=1;d.oy=2;d.n5=3;d.UI=4;d.m5=5;b.ib(function(){var b,f,p;function a(a,b){if(f)f.on(a,b);else t.addEventListener(a,b);}b=t.jQuery;f=b&&b(t);b=(b=t.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;p=c.yd.hidden;b?b(function(a){d.he.Eb(d.Ck,a);}):a("beforeunload",function(a){d.he.Eb(d.Ck,a);});a("keydown",function(a){d.he.Eb(d.oy,a);});a("resize",function(){d.he.Eb(d.n5);});c.yd.addEventListener("visibilitychange",function(){p!==c.yd.hidden&&(p=c.yd.hidden,d.he.Eb(d.UI));});});(function(){t.addEventListener("error",function(a){d.he.Eb(d.m5,a);return!0;});}());},function(g,d,a){var f;function b(){}function c(){}function h(){}function l(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(112);(function(a){a[a.dl=0]="STANDARD";a[a.ww=1]="LIMITED";a[a.bzb=2]="PREVIEW";}(f||(f={})));l.sca="created";l.yha="started";l.Iha="succeeded";l.xq="failed";l.bA="cancelled";l.qM="cancelled_on_create";l.cF="cancelled_on_start";l.pM="cancelled_not_encrypted";d.Zd=l;h.OAb="uirequest";h.azb="prefetch_start";h.Zyb="prefetch_complete";h.$yb="prefetch_delete";h.dMa="periodic_update";(function(a){a[a.qga=0]="PRE_FETCH";a[a.jha=1]="QC";a[a.dl=2]="STANDARD";a[a.Jha=3]="SUPPLEMENTAL";a[a.uGa=4]="DOWNLOAD";}(g=d.tn||(d.tn={})));a={manifest:a.$d.Ei.Fba,ldl:a.$d.Ei.ot,getHeaders:a.$d.Ei.uF,getMedia:a.$d.Ei.MEDIA};c.jDa="asl_start";c.gDa="asl_comp";c.hDa="asl_exc";c.iDa="asl_fail";c.bPa="stf_creat";c.qIa="idb_open";c.nIa="idb_block";c.xIa="idb_upgr";c.wIa="idb_succ";c.oIa="idb_error";c.pIa="idb_invalid_state";c.sIa="idb_open_timeout";c.uIa="idb_open_wrkarnd";c.vIa="idb_storelen_exc";c.rIa="idb_open_exc";c.tIa="idb_timeout_invalid_storelen";c.nKa="msl_load_data";c.pKa="msl_load_no_data";c.oKa="msl_load_failed";d.xj=c;b.uJa=f;b.xoa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Zd=l;b.gNa=h;b.tn=g;b.C0a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.VF=a;b.xj=c;d.ad=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.YX="LogBatcherConfigSymbol";d.qt="LogBatcherSymbol";d.Vea="LogBatcherProviderSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);d.AZ=function(a){b("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.jja=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.nBb=function(a,b){return Math.floor(1E3*a/b);};},function(g,d){var c;function a(a,b,f,c){var d;Object.getOwnPropertyNames(a).filter(function(a){return(!c||c(a))&&(f||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(f){d=Object.getOwnPropertyDescriptor(a,f);void 0!==d&&Object.defineProperty(b,f,d);});}function b(c,d,f){var p,m;p=f?[]:Object.keys(d);m=Object.getPrototypeOf(c);null!==m&&m!==Object.prototype&&b(m,d,f);a(c,d,!0,function(a){return"constructor"!==a&&-1===p.indexOf(a);});}Object.defineProperty(d,"__esModule",{value:!0});c=Object.getOwnPropertyNames(Function);d.Yk=function(d,l,f){void 0===f&&(f=!0);d.prototype?(b(d.prototype,l.prototype,f),a(d,l,f,function(a){return-1===c.indexOf(a);})):a(d,l.prototype,f,function(a){return-1===c.indexOf(a);});};},function(g,d,a){var u;function b(a,b){if(a.length==b.length){for(var c=a.length,d=0,m=f(a),p=f(b),r=0;r<c;r++)d+=a[r]*b[r];return(d-m*p/c)/c;}return!1;}function c(a){if(!Array.isArray(a))return!1;a=h(a);return Math.sqrt(a);}function h(a){var b;if(!Array.isArray(a))return!1;b=l(a);return f(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function l(a){return Array.isArray(a)?f(a)/a.length:!1;}function f(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function p(a,b,f){return Math.max(Math.min(a,f),b);}function m(a,b){return"number"===typeof a?a:b;}function r(a){return 1/(1+Math.exp(-a));}u=a(11);g.M={Ja:function(a,b,f){try{a.Ja(b,f);}catch(y){a.Ub("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",y,"Event:",f);}},Gr:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a+b.byteLength;},0);return f.buffer;},$B:p,N_a:function(a,b,f,c){return{min:p(m(a.min,b),f,c),max:p(m(a.max,b),f,c),Er:p(a.Er||6E4,0,6E5),Mna:p(a.Mna||0,-3E5,3E5),scale:p(a.scale||6E4,0,3E5),Jza:p(a.Jza||0,-3E5,3E5),gamma:p(a.gamma||1,.1,10)};},tc:function(a,b){void 0!==a&&u.vib(a).forEach(function(a){b(a[0],a[1]);});},C6a:function(a,b,f){return a.min+(a.max-a.min)*(1-Math.pow(r(6*(b-(a.Er+(a.Mna||0)*(1-f)))/(a.scale+(a.Jza||0)*(1-f))),a.gamma));},D6a:function(a,b){return a.min+(a.max-a.min)*Math.pow(r(6*(b-a.Er)/a.scale),a.gamma);},bab:f,v8a:l,yab:h,V$a:c,MEb:b,LEb:function(a,f){var d;if(a.length==f.length){d=b(a,f);a=c(a);f=c(f);return d/(a*f);}return!1;},GJ:function(a,b,f){return b.P2a?b.P2a(f):new a.Console("ASEJS","media|asejs",f);},t$:function(a){return a.length?"{"+a+"} ":"";},dnb:function(a,b,f){return{min:a.min*f+(1-f)*b.min,max:a.max*f+(1-f)*b.max,Er:a.Er*f+(1-f)*b.Er,scale:a.scale*f+(1-f)*b.scale,gamma:a.gamma*f+(1-f)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},Yob:r};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(749),d);d.Qeb=function(b){d.platform.eJ(b);return a(747);};d.REb=function(){return a(377);};d.IGb=function(){return a(201);};g=a(13);d.kc=g;g=a(649);d.Gu=g;g=a(7);d.platform=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uh={start:"start",stop:"stop",tJ:"keepAlive",resume:"resume",pause:"pause",pI:"engage",splice:"splice"};d.$W="EventPboCommandFactorySymbol";d.Oha="StartEventPboCommandSymbol";d.Pha="StopEventPboCommandSymbol";d.Mea="KeepAliveEventPboCommandSymbol";d.sga="PauseEventPboCommandSymbol";d.rha="ResumeEventPboCommandSymbol";d.Mha="SpliceEventPboCommandSymbol";d.vda="EngageEventPboCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ak="PlayerErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rn="EmeConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.un="PlatformSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.ut?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=g;},function(g,d,a){var c,h,l;function b(){var a,b;a=this;this.An={};this.YUa=h.ba.get(l.fha);this.on=function(b,f,c){a.addListener(b,f,c);};this.addListener=function(b,f,c){a.An&&(a.An[b]=a.An[b]||a.YUa()).add(f,c);};this.removeListener=function(b,f){a.An&&a.An[b]&&a.An[b].removeAll(f);};this.y4=function(b){return a.An&&a.An[b]?a.An[b].G7a():[];};b=this;this.Eb=function(a,f,d){var m;if(b.An){m=b.y4(a);for(a={mi:0};a.mi<m.length;a={mi:a.mi},a.mi++)d?function(a){return function(){var b;b=m[a.mi];c.ib(function(){b(f);});};}(a)():m[a.mi].call(this,f);}};}Object.defineProperty(d,"__esModule",{value:!0});c=a(42);h=a(3);l=a(426);b.prototype.oC=function(){this.An=void 0;};d.Xj=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EM="EventSourceSymbol";d.cX="GlobalEventSourceSymbol";d.jF="DebugEventSourceSymbol";},function(g,d){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});ia(a,Error);d.xn=a;d.GA="PromiseTimerSymbol";},function(g,d,a){var c,h,l,f,p,m;function b(a){return a.reduce(function(a,b){return a.concat(b instanceof m.yN?b.sI:b);},[]);}c=a(101);h=a(460);l=a(459);f=a(994);p=a(458);m=a(993);g=function(){function a(a){this.closed=!1;this.AB=this.jx=this.xm=null;a&&(this.hr=a);}a.prototype.unsubscribe=function(){var a,d,r,g,y,A;a=!1;if(!this.closed){r=this.xm;g=this.jx;y=this.hr;A=this.AB;this.closed=!0;this.AB=this.jx=this.xm=null;for(var z=-1,k=g?g.length:0;r;)r.remove(this),r=++z<k&&g[z]||null;l.rb(y)&&(r=f.RBa(y).call(this),r===p.Ou&&(a=!0,d=d||(p.Ou.e instanceof m.yN?b(p.Ou.e.sI):[p.Ou.e])));if(c.isArray(A))for(z=-1,k=A.length;++z<k;)r=A[z],h.re(r)&&(r=f.RBa(r.unsubscribe).call(r),r===p.Ou&&(a=!0,d=d||[],r=p.Ou.e,r instanceof m.yN?d=d.concat(b(r.sI)):d.push(r)));if(a)throw new m.yN(d);}};a.prototype.add=function(b){var f;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;f=b;switch(typeof b){case"function":f=new a(b);case"object":if(f.closed||"function"!==typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;"function"!==typeof f.Mia&&(b=f,f=new a(),f.AB=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.AB||(this.AB=[])).push(f);f.Mia(this);return f;};a.prototype.remove=function(a){var b;b=this.AB;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.Mia=function(a){var b,f;b=this.xm;f=this.jx;b&&b!==a?f?-1===f.indexOf(a)&&f.push(a):this.jx=[a]:this.xm=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.ck=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pba="AccountManagerSymbol";d.Ss="AccountManagerProviderSymbol";},function(g,d){function a(){}function b(){}function c(){}Object.defineProperty(d,"__esModule",{value:!0});c.Lda="playready-h264mpl30-dash";c.dX="playready-h264mpl31-dash";c.Mda="playready-h264mpl40-dash";c.xwb="playready-h264hpl30-dash";c.ywb="playready-h264hpl31-dash";c.zwb="playready-h264hpl40-dash";c.BX="hevc-main-L30-dash-cenc";c.CX="hevc-main-L31-dash-cenc";c.DX="hevc-main-L40-dash-cenc";c.EX="hevc-main-L41-dash-cenc";c.FX="hevc-main-L50-dash-cenc";c.GX="hevc-main-L51-dash-cenc";c.nX="hevc-main10-L30-dash-cenc";c.qX="hevc-main10-L31-dash-cenc";c.tX="hevc-main10-L40-dash-cenc";c.wX="hevc-main10-L41-dash-cenc";c.vF="hevc-main10-L50-dash-cenc";c.wF="hevc-main10-L51-dash-cenc";c.oX="hevc-main10-L30-dash-cenc-prk";c.rX="hevc-main10-L31-dash-cenc-prk";c.uX="hevc-main10-L40-dash-cenc-prk";c.xX="hevc-main10-L41-dash-cenc-prk";c.pX="hevc-main10-L30-dash-cenc-prk-do";c.sX="hevc-main10-L31-dash-cenc-prk-do";c.vX="hevc-main10-L40-dash-cenc-prk-do";c.yX="hevc-main10-L41-dash-cenc-prk-do";c.zX="hevc-main10-L50-dash-cenc-prk-do";c.AX="hevc-main10-L51-dash-cenc-prk-do";c.Gwb="hevc-main-L30-L31-dash-cenc-tl";c.Hwb="hevc-main-L31-L40-dash-cenc-tl";c.Iwb="hevc-main-L40-L41-dash-cenc-tl";c.Jwb="hevc-main-L50-L51-dash-cenc-tl";c.Cwb="hevc-main10-L30-L31-dash-cenc-tl";c.Dwb="hevc-main10-L31-L40-dash-cenc-tl";c.Ewb="hevc-main10-L40-L41-dash-cenc-tl";c.Fwb="hevc-main10-L50-L51-dash-cenc-tl";c.GW="hevc-dv-main10-L30-dash-cenc";c.HW="hevc-dv-main10-L31-dash-cenc";c.IW="hevc-dv-main10-L40-dash-cenc";c.JW="hevc-dv-main10-L41-dash-cenc";c.KW="hevc-dv-main10-L50-dash-cenc";c.Wca="hevc-dv-main10-L51-dash-cenc";c.uM="hevc-dv5-main10-L30-dash-cenc-prk";c.vM="hevc-dv5-main10-L31-dash-cenc-prk";c.wM="hevc-dv5-main10-L40-dash-cenc-prk";c.xM="hevc-dv5-main10-L41-dash-cenc-prk";c.yM="hevc-dv5-main10-L50-dash-cenc-prk";c.LW="hevc-dv5-main10-L51-dash-cenc-prk";c.eX="hevc-hdr-main10-L30-dash-cenc";c.fX="hevc-hdr-main10-L31-dash-cenc";c.gX="hevc-hdr-main10-L40-dash-cenc";c.hX="hevc-hdr-main10-L41-dash-cenc";c.iX="hevc-hdr-main10-L50-dash-cenc";c.kX="hevc-hdr-main10-L51-dash-cenc";c.IM="hevc-hdr-main10-L30-dash-cenc-prk";c.JM="hevc-hdr-main10-L31-dash-cenc-prk";c.KM="hevc-hdr-main10-L40-dash-cenc-prk";c.LM="hevc-hdr-main10-L41-dash-cenc-prk";c.jX="hevc-hdr-main10-L50-dash-cenc-prk";c.lX="hevc-hdr-main10-L51-dash-cenc-prk";c.wia="vp9-profile0-L21-dash-cenc";c.zN="vp9-profile0-L30-dash-cenc";c.AN="vp9-profile0-L31-dash-cenc";c.BN="vp9-profile0-L40-dash-cenc";c.qia="vp9-profile2-L30-dash-cenc-prk";c.ria="vp9-profile2-L31-dash-cenc-prk";c.sia="vp9-profile2-L40-dash-cenc-prk";c.tia="vp9-profile2-L50-dash-cenc-prk";c.uia="vp9-profile2-L51-dash-cenc-prk";c.Gba="av1-main-L20-dash-cbcs-prk";c.Hba="av1-main-L21-dash-cbcs-prk";c.Iba="av1-main-L30-dash-cbcs-prk";c.Jba="av1-main-L31-dash-cbcs-prk";c.Kba="av1-main-L40-dash-cbcs-prk";c.Lba="av1-main-L41-dash-cbcs-prk";c.Mba="av1-main-L50-dash-cbcs-prk";c.Nba="av1-main-L51-dash-cbcs-prk";c.NOa=[c.Lda];c.WHa=[c.dX,c.Mda];c.vQa=[c.BX,c.CX,c.DX,c.EX,c.FX,c.GX];c.wQa=[c.nX,c.qX,c.tX,c.wX,c.vF,c.wF];c.mia=[c.oX,c.rX,c.uX,c.xX,c.vF,c.wF];c.MAb=[c.pX,c.sX,c.vX,c.yX,c.zX,c.AX];c.VHa=[c.eX,c.fX,c.gX,c.hX,c.iX,c.kX];c.Nda=[c.IM,c.JM,c.KM,c.LM,c.jX,c.lX];c.yGa=[c.GW,c.IW,c.KW,c.HW,c.JW,c.Wca];c.Vca=[c.uM,c.wM,c.yM,c.vM,c.xM,c.LW];c.lvb=[c.GW,c.HW,c.IW,c.KW,c.JW];c.kvb=[c.uM,c.vM,c.wM,c.yM,c.xM];c.FQa=[c.zN,c.AN,c.BN];c.At=[c.wia,c.zN,c.AN,c.BN,c.qia,c.ria,c.sia,c.tia,c.uia];c.nDa=[c.Gba,c.Hba,c.Iba];c.mDa=[c.Jba,c.Kba,c.Lba];c.oDa=[c.Mba,c.Nba];c.qh=[].concat(c.nDa,c.mDa,c.oDa);c.Kda=c.NOa.concat(c.WHa);c.UHa=c.vQa;c.THa=c.wQa;c.rDa=[].concat(c.Kda,c.UHa,c.THa,c.mia,c.VHa,c.Nda,c.yGa,c.Vca,c.At,c.qh);d.ca=c;b.MM="heaac-2-dash";b.hF="ddplus-2.0-dash";b.BW="ddplus-5.1-dash";b.iF="ddplus-atmos-dash";b.mX="playready-heaac-2-dash";b.YHa="heaac-2-dash-enc";b.uFa="ddplus-2.0-dash-enc";b.vFa="ddplus-5.1-dash-enc";b.XHa="playready-heaac-2-dash-enc";b.rDa=[].concat(b.MM,b.hF,b.BW,b.iF,b.mX,b.YHa,b.uFa,b.vFa,b.XHa);d.sj=b;a.VOa="simplesdh";a.FW="dfxp-ls-sdh";a.vA="nflx-cmisc";a.Zzb="simplesdh-enc";a.dvb="dfxp-ls-sdh-enc";a.$M="nflx-cmisc-enc";d.dk=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tq="DeviceFactorySymbol";},function(g,d,a){var h;function b(a,b){var f,c,d;if("number"!==typeof a||"number"!==typeof b)a=!1;else if(a&&b){f=Math.abs(a);for(c=Math.abs(b);c;){d=c;c=f%c;f=d;}a=Math.abs(a*b/f);}else a=0;return a;}function c(){h(!1);}Object.defineProperty(d,"__esModule",{value:!0});h=a(14);g=a(47);a=function(){function a(a,b){"object"===typeof a?(this.K_=a.xd,this.bu=a.ha):(this.K_=a,this.bu=b);}a.aHb=function(b){return new a(1,b);};a.Z7a=function(b){return new a(b,1E3);};a.Oaa=function(a,b){return Math.floor(1E3*a/b);};a.hwa=function(a,b){return Math.floor(a*b/1E3);};a.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};a.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};a.prototype.Ho=function(b){b/=this.ha;return new a(Math.floor(this.xd*b),Math.floor(this.ha*b));};a.prototype.add=function(f){var c;if(this.ha===f.ha)return new a(this.xd+f.xd,this.ha);c=b(this.ha,f.ha);return this.Ho(c).add(f.Ho(c));};a.prototype.Jd=function(b){return this.add(new a(-b.xd,b.ha));};a.prototype.d8=function(b){return new a(this.xd*b,this.ha);};a.prototype.OQ=function(a){var f;if(this.ha===a.ha)return this.xd/a.xd;f=b(this.ha,a.ha);return this.Ho(f).OQ(a.Ho(f));};a.prototype.lab=function(a){return b(this.ha,a);};a.prototype.tlb=function(){return new a(this.ha,this.xd);};a.prototype.compare=function(a,c){var f;if(this.ha===c.ha)return a(this.xd,c.xd);f=b(this.ha,c.ha);return a(this.Ho(f).xd,c.Ho(f).xd);};a.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};a.prototype.FT=function(a){return this.compare(function(a,b){return a!==b;},a);};a.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};a.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};a.prototype.Gdb=function(a){return this.compare(function(a,b){return a<=b;},a);};a.prototype.YR=function(a){return this.compare(function(a,b){return a>=b;},a);};a.prototype.toJSON=function(){return{ticks:this.xd,timescale:this.ha};};a.prototype.toString=function(){return this.xd+"/"+this.ha;};a.Vf=new a(0,1);a.gK=new a(1,1E3);return a;}();d.gc=a;g.gi(a.prototype,{xd:{get:function(){return this.K_;},set:c},ha:{get:function(){return this.bu;},set:c},hf:{get:function(){return 1E3*this.K_/this.bu;},set:c}});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zf={audio:"audio",video:"video",HV:"timedtext",aba:"trickplay"};},function(g,d,a){var b,c,h,l,f,p,m,r;b=a(78);c=a(449);h=a(448);l=a(460);f=a(10);p=a(164);m=a(976);r=a(237);d.Js=function(a,d,g,B){var u;u=new m.Fea(a,g,B);if(u.closed)return null;if(d instanceof f.sa)if(d.Vq)u.next(d.value),u.complete();else return u.Tj=!0,d.subscribe(u);else if(c.Kta(d)){a=0;for(g=d.length;a<g&&!u.closed;a++)u.next(d[a]);u.closed||u.complete();}else{if(h.Zta(d))return d.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(d&&"function"===typeof d[p.iterator]){d=d[p.iterator]();do{a=d.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(d&&"function"===typeof d[r.observable])if(d=d[r.observable](),"function"!==typeof d.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new m.Fea(a,g,B));else d="You provided "+(l.re(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(d));}return null;};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);}b(c,a);c.prototype.bz=function(a,b){this.destination.next(b);};c.prototype.s8=function(a){this.destination.error(a);};c.prototype.gj=function(){this.destination.complete();};return c;}(a(50).Xh);d.Hq=g;},function(g,d,a){g=a(169);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof t&&t||"undefined"!==typeof g&&g||a;d.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pn={Request:"Request",SY:"Singleton",vN:"Transient"};d.rh={Eca:"ConstantValue",Fca:"Constructor",mda:"DynamicValue",bX:"Factory",Function:"Function",TX:"Instance",mJa:"Invalid",iha:"Provider"};d.Nq={Bca:"ClassProperty",Gca:"ConstructorArgument",dZ:"Variable"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ResponseType||(d.ResponseType={});g[g.Text=0]="Text";g[g.bBb=1]="Xml";g[g.kub=2]="Binary";d.Nwb="HttpClientSymbol";d.pt="LegacyHttpSymbol";},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);c=a(13);h=a(109);l=a(74);g=a(47);f=a(59);p=a(153);m=a(363);a=a(152);r=function(a){function f(b,f){var c;c=a.call(this,b,f)||this;c.bi=f.index;c.Zw=f.Kb;c.Oq=f.Qb;c.X_=f.qc?f.qc:b.qc;c.ola=f.Bo||0;c.pka=!!f.Ip;c.FTa=f.b8;c.$Qa=f.Ch;c.Qq=!!f.fd;c.cx=f.ee;c.Lla=f.Zv;c.fe=void 0===f.EI||void 0===f.U3||f.EI===f.Kb&&f.U3===f.Qb?c:new m.gM(c,{Kb:f.EI,Qb:f.U3});c.Dh=!1;return c;}b.__extends(f,a);f.prototype.uAa=function(a){this.ola=a.Ho(this.ha).xd;};f.prototype.v7=function(){this.pka=!0;};f.prototype.cL=function(a){this.Lla=a;};f.prototype.Ik=function(a,b){a?(this.fe===this&&(this.fe=new m.gM(this,this)),b?a.Mb<this.dra&&(this.Oq=this.EI+a.$c*this.La.xd,this.cx=a,this.Qq=!0):0<a.$c&&(this.Zw=this.EI+a.$c*this.La.xd,this.cx=a,this.Qq=!0)):this.Qq=!0;};f.prototype.Rpa=function(){var a;this.Qq&&this.cx?(a=this.cx,++a.$c,a.Mb+=this.stream.La.hf):a={Mb:this.V3+this.stream.La.hf,$c:1};this.Ik(a,!1);};f.prototype.e5a=function(){var a;this.Qq&&this.cx?(a=this.cx,--a.$c,a.Mb-=this.stream.La.hf):a={Mb:this.dra-this.stream.La.hf,$c:this.Hh/this.stream.La.xd-1};this.Ik(a,!0);};f.prototype.A7a=function(a){var f;if(!(a<this.U||a>=this.ea)&&this.Ch&&this.Ch.length){a=new l.gc(a+1-this.U,1E3).OQ(this.stream.La);for(var b=this.Ch.length-1;0<=b;--b){f=this.Ch[b];if(f.$c<=a)return f;}return{$c:0,Mb:this.Zn};}};f.prototype.z7a=function(a){var f;if(!(a<this.U||a>=this.ea)&&this.Ch&&this.Ch.length){a=new l.gc(a+1-this.U,1E3).OQ(this.stream.La);for(var b=this.Ch.length-1;0<=b;--b){f=this.Ch[b];if(f.$c<=a)return f;}return{$c:0,Mb:this.Zn};}};f.prototype.Iqa=function(a,b){var f,c,d;if(!(a<this.U||a>=this.ea)){f=this.La.xd;c=this.La.ha;d=Math.floor(this.Hh/f);a=Math.min((b?Math.ceil:Math.floor)((l.gc.hwa(a,c)-this.Kb+(b?-1:1)*(c/1E3-1))/f),d);f=l.gc.Oaa(this.Kb+a*f,c);return a===d?void 0:{$c:a,Mb:f};}};f.prototype.pR=function(a){return this.R===c.G.VIDEO?this.A7a(a):this.Iqa(a,!1);};f.prototype.x7a=function(a){return this.R===c.G.VIDEO?this.z7a(a):this.Iqa(a,!0);};f.prototype.r0=function(a){this.Ob+=a.Z;this.Oq=a.Qb;};f.prototype.toString=function(){return"["+this.Ya+", "+this.P+"kbit/s, "+("c:"+this.Oc+"-"+this.Od+",")+("p:"+this.cc+"-"+this.Ed+",d:"+this.duration+"]");};f.prototype.toJSON=function(){var a;a=p.kw.prototype.toJSON.call(this);h({index:this.index,startPts:this.U,endPts:this.ea,contentStartPts:this.Oc,contentEndPts:this.Od,fragmentStartPts:this.Zn!==this.U?this.Zn:void 0,fragmentEndPts:this.Ru!==this.ea?this.Ru:void 0,editStreamAccessPoint:this.ee},a);return a;};return f;}(p.kw);d.$k=r;g.gi(r.prototype,{JFb:g.L({get:function(){return!0;}}),k6:g.L({get:function(){return!0;}}),index:g.L({get:function(){return this.bi;}}),qc:g.L({get:function(){return this.X_;}}),Kb:g.L({get:function(){return this.Zw;}}),Qb:g.L({get:function(){return this.Oq;}}),Bo:g.L({get:function(){return this.ola;}}),Ip:g.L({get:function(){return this.pka;}}),b8:g.L({get:function(){return this.FTa;}}),Ch:g.L({get:function(){return this.$Qa;}}),fd:g.L({get:function(){return this.Qq;}}),ee:g.L({get:function(){return this.cx;}}),Zv:g.L({get:function(){return this.Lla;}}),EI:g.L({get:function(){return this.fe.Kb;}}),zEb:g.L({get:function(){return this.fe.Hh;}}),U3:g.L({get:function(){return this.fe.Qb;}}),fra:g.L({get:function(){return this.fe.sK;}}),BEb:g.L({get:function(){return this.fe.RD;}}),AEb:g.L({get:function(){return this.fe.Upa;}}),xEb:g.L({get:function(){return this.fe.voa;}}),wEb:g.L({get:function(){return this.fe.roa;}}),DEb:g.L({get:function(){return this.fe.fU;}}),CEb:g.L({get:function(){return this.fe.Qxa;}}),Zn:g.L({get:function(){return this.fe.cc;}}),Ru:g.L({get:function(){return this.fe.Ed;}}),era:g.L({get:function(){return this.fe.duration;}}),V3:g.L({get:function(){return this.fe.Oc;}}),dra:g.L({get:function(){return this.fe.Od;}})});f.Yk(a.hM,r);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Npa=0]="downloading";a[a.X4a=1]="downloaded";a[a.Dh=2]="appended";a[a.buffered=3]="buffered";a[a.$Hb=4]="removed";a[a.cJb=5]="unused";}(d.Wba||(d.Wba={})));(function(a){a[a.waiting=1]="waiting";a[a.ZGb=2]="ondeck";a[a.Npa=4]="downloading";a[a.X4a=8]="downloaded";a[a.kJ=6]="inprogress";}(d.Uba||(d.Uba={})));d.Ltb="AseBufferViewSymbol";d.jW="AseBufferAccountingSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yw="LoggerSinksSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nw="ThrottleFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ws="Base16EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.dl=0]="STANDARD";a[a.ww=1]="LIMITED";}(d.vj||(d.vj={})));d.Aua=function(a){return["STANDARD","LIMITED"][a];};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(70);d.aJa=g.aJa;g=a(10);d.sa=g.sa;g=a(165);d.Ji=g.Ji;g=a(455);d.$F=g.$F;g=a(453);d.Dca=g.Dca;g=a(983);d.cia=g.cia;a(979);a(975);a(969);a(967);a(964);a(960);a(957);a(953);a(950);a(948);a(946);a(944);a(941);a(937);a(934);a(933);a(930);a(926);a(923);a(922);a(920);a(918);a(915);a(913);a(912);a(910);a(907);a(904);a(901);a(898);a(897);g=a(239);d.MLa=g.MLa;a=a(70);d.ck=a.ck;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ts="ApiInfoSymbol";},function(g,d,a){var c,h;function b(a,b,d,m,r){a=void 0===a?c.I.Yh:a;return h.Yb.call(this,a,b,d,void 0,void 0,m,h.Yb.Cc(r),r)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(45);ia(b,h.Yb);d.pf=b;},function(g,d,a){var h,l;function b(a,b,c,d,l){var f,m,r;f={};m="number"===typeof l;l=void 0!==l&&m?l.toString():c;if(m&&void 0!==c)throw Error(h.TIa);Reflect.q5(a,b)&&(f=Reflect.getMetadata(a,b));c=f[l];if(Array.isArray(c))for(var m=0,p=c;m<p.length;m++){r=p[m];if(r.key===d.key)throw Error(h.xGa+" "+r.key.toString());}else c=[];c.push(d);f[l]=c;Reflect.I2(a,f,b);}function c(a,b){return function(f,c){b(f,c,a);};}Object.defineProperty(d,"__esModule",{value:!0});h=a(54);l=a(32);d.Mz=function(a,c,d,r){b(l.Vha,a,c,r,d);};d.yL=function(a,c,d){b(l.Wha,a.constructor,c,d);};d.Fu=function(a,b,d){"number"===typeof d?Reflect.Fu([c(d,a)],b):"string"===typeof d?Reflect.Fu([a],b,d):Reflect.Fu([a],b);};},function(g,d,a){var c,h,l;function b(a,b,c,d,g){b=l.Vj.call(this,a,b,d,h.bk.events,g,h.bk.events+"/"+c)||this;b.context=a;b.E6a=c;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(40);l=a(92);a(147);ia(b,l.Vj);b.prototype.Gg=function(a,b,c){var f,d;f=this;d=this.VP(c);return this.send(a,b,c.href,d).then(function(){return c;})["catch"](function(a){throw f.xp(a);});};b.prototype.wp=function(a,b,c,d){var f,m;f=this;m=this.VP(d);return this.send(a,b,c.K4("events").href,m).then(function(a){c.AP(a.result.links);return d;})["catch"](function(a){throw f.xp(a);});};b.prototype.VP=function(a){return{event:this.E6a,xid:a.ja,position:a.position||0,clientTime:a.AH,sessionStartTime:a.bL,mediaId:a.Oy,trackId:a.Wb,sessionId:a.sessionId,appId:a.dH,playTimes:this.DZa(a.pK),sessionParams:a.zi,mdxControllerEsn:a.I7};};b.prototype.g1=function(a){return{downloadableId:a.sd,duration:a.duration};};b.prototype.DZa=function(a){return{total:a.total,audio:a.audio.map(this.g1),video:a.video.map(this.g1),text:a.text.map(this.g1)};};a=b;a=g.__decorate([c.N(),g.__param(0,c.Og()),g.__param(1,c.Og()),g.__param(2,c.Og()),g.__param(3,c.Og()),g.__param(4,c.Og())],a);d.uj=a;},function(g,d,a){var c,h,l,f;function b(a,b,f,c,d,l){this.context=a;this.errorCode=b;this.Omb=f;this.P9=d;this.O9=l;this.name=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(297);l=a(4);f=a(45);b.prototype.send=function(a,b,f,c,d,l,h){var m;m=this;return this.f9a(a,b,f,c,d,l,h).then(function(a){return m.context.H4a.send(a.context,a.request);});};b.prototype.f9a=function(a,b,f,c,d,l,g){var m,p;try{m=h.BZa(this.context.qy.KH(),f,this.context.Lr().ig,this.context.Ym,this.context.platform,c,d);p=this.zZa(a,b,l,g);return Promise.resolve({context:p,request:m});}catch(z){return Promise.reject(z);}};b.prototype.zZa=function(a,b,f,c){return{Bb:this.context.Bb,log:a,uk:this.name,url:this.context.ssb(h.CZa(this.context.tf,this.context.Ym,this.name)),profile:b,b$:this.Omb,timeout:l.oh(59),headers:{"Content-Type":"text/plain"},O9:this.O9,P9:void 0!==f?f:this.P9,gZa:c};};b.prototype.xp=function(a){return a instanceof f.Yb?a:h.xp(this.errorCode,a);};b.prototype.Ona=function(a){var b;b=this;a.forEach(function(a){if(b.wS(a))throw a.error;});};b.prototype.wS=function(a){return void 0!==a.error;};a=b;a=g.__decorate([c.N(),g.__param(0,c.Og()),g.__param(1,c.Og()),g.__param(2,c.Og()),g.__param(3,c.Og()),g.__param(4,c.Og()),g.__param(5,c.Og())],a);d.Vj=a;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);d.RKa=function(a){var l;function c(){}l=[];this.Gs=function(a){var c;for(var b=[],f=l.length;f--;){c=l[f];c.Gs(a)&&b.push(c.wI);}if(b.length)return b;};d.xfa.forEach(function(b){(b=b(a))&&l.push(b);});0<l.length&&a.addEventListener(b.X.Oh,c);};d.MF=function(a){d.xfa.push(a);};d.xfa=[];},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);d.Fq=d.Fq||function(a,b,d){return a>=b?a<=d?a:d:b;};d.tyb=function(a,b,d,f,p){return(a-b)*(p-f)/(d-b)+f;};d.Rg=function(a){if(b.ka(a))return(a/1E3).toFixed(3);};},function(g){var d;d=function(){function a(a){this.wg=a;}a.prototype.uob=function(a){this.wg=a;};a.prototype.Una=function(){this.wg=void 0;};a.prototype.iy=function(a){this.wg&&this.wg.ez&&this.wg.ez(a);};a.prototype.hy=function(a){this.wg&&this.wg.xv&&this.wg.xv(a);};a.prototype.HC=function(a){this.wg&&this.wg.hK&&this.wg.hK(a);};a.prototype.Qu=function(a){this.wg&&this.wg.ti&&this.wg.ti(a);};a.prototype.AR=function(a){this.wg&&this.wg.KD&&this.wg.KD(a);};a.prototype.zR=function(a,c){this.wg&&this.wg.NT&&this.wg.NT(a,c);};return a;}();d.prototype.ez=d.prototype.iy;d.prototype.xv=d.prototype.hy;d.prototype.hK=d.prototype.HC;d.prototype.ti=d.prototype.Qu;d.prototype.KD=d.prototype.AR;d.prototype.NT=d.prototype.zR;g.M=d;},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,B,y;function b(a,b,d,g){var y,A;if(c.config.vCa)return l.ba.get(f.pA).Bu(b,d,g,a);g=g||{};p.va(void 0===g.jssid&&void 0===g.client_utc&&void 0===g.type&&void 0===g.sev&&void 0===g.lver&&void 0===g.xid&&void 0===g.mid&&void 0===g.esn&&void 0===g.snum&&void 0===g.lnum);g.clver="6.0015.328.031";c.config&&c.config.Xi&&(c.config.Xi.os&&(g.osplatform=c.config.Xi.os.name,g.osver=c.config.Xi.os.version),g.browsername=c.config.Xi.name,g.browserver=c.config.Xi.version);l.ba.get(m.fm).FS&&(g.tester=!0);c.config.Dp&&(g.groupname=c.config.Dp);c.config.Qs&&(g.uigroupname=c.config.Qs);y=h.Ox();this.timestamp=l.ba.get(r.Fi).hg;A=l.ba.get(u.Oe);d={type:b,sev:d,devmod:x.Pca};v.Ma(d,g);v.Ma(d,{jssid:h.CF,appId:A.id,appLogSeqNum:A.Vra(),jsoffms:h.Ac(),client_utc:y,lver:x.yJa||"2012.2-CAD"});g=l.ba.get(B.cZ);d.uniqueLogId=g.h4();g="startup"===b?"playbackxid":"xid";c.config.Cr&&(d.groupname=d.groupname?d.groupname+("|"+c.config.Cr):c.config.Cr);d.uigroupname&&(d.groupname=d.groupname?d.groupname+("|"+d.uigroupname):d.uigroupname);a&&(v.Ma(d,{soffms:a.my(),mid:a.S,lvpi:a.EJ,uiLabel:a.wc||""}),d[g]=a.ja,a.Ov&&(g=a.Ov,(a=a.Ov.split("."))&&1<a.length&&"S"!==a[0][0]&&(g="SABTest"+a[0]+".Cell"+a[1]),d.groupname=d.groupname?d.groupname+("|"+g):g));this.data=d;this.type=b;}Object.defineProperty(d,"__esModule",{value:!0});c=a(8);h=a(20);l=a(3);f=a(110);p=a(12);m=a(52);r=a(36);u=a(24);x=a(33);v=a(17);B=a(210);y=a(154);d.qA=b;b.prototype.U8a=function(){this.pja||(this.pja=y.q7(this.data));return this.pja;};},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var c;for(var f=1;f<arguments.length;++f);c=Array.prototype.slice.call(arguments,1);return a.replace(/{(d+)}/g,function(a,b){return"undefined"!=typeof c[b]?c[b]:a;});};b.prototype.paa=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c<b;c++)f[c]=a.charCodeAt(c);return f.buffer;};b.prototype.xV=function(a){return JSON.stringify(a,null,"  ");};c=b;c=g.__decorate([a.N()],c);d.Mw=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rw="Utf8EncoderSymbol";},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Hl:function(){return this.buffer.length-this.position;},kh:function(){return this.buffer[this.position++];},Le:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Xd:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Kv:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},hlb:function(){for(var a="",b;b=this.kh();)a+=String.fromCharCode(b);return a;},xb:function(){return this.Xd(2);},Fa:function(){return this.Xd(4);},Nf:function(){return this.Xd(8);},yya:function(){return this.Xd(2)/256;},x9:function(){return this.Xd(4)/65536;},Rk:function(a){for(var b,c="";a--;)b=this.kh(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},aE:function(){return this.Rk(4)+"-"+this.Rk(2)+"-"+this.Rk(2)+"-"+this.Rk(2)+"-"+this.Rk(6);},ilb:function(a){for(var b=0,c=0;c<a;c++)b+=this.kh()<<(c<<3);return b;},GK:function(){return this.ilb(4);},dW:function(a){this.xba(a,2);},gw:function(a){this.xba(a,4);},xba:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},fw:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},PCa:function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];}};g.M=d;},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(10);c=a(233);h=a(133);l=a(119);a=function(a){function f(b,f){a.call(this);this.In=b;(this.ia=f)||1!==b.length||(this.Vq=!0,this.value=b[0]);}b(f,a);f.create=function(a,b){return new f(a,b);};f.of=function(){var d;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];l.xy(b)?a.pop():b=null;d=a.length;return 1<d?new f(a,b):1===d?new c.QY(a[0],b):new h.qF(b);};f.ib=function(a){var b,f,c;b=a.In;f=a.index;c=a.mf;f>=a.count?c.complete():(c.next(b[f]),c.closed||(a.index=f+1,this.nb(a)));};f.prototype.Ff=function(a){var b,c,d;b=this.In;c=b.length;d=this.ia;if(d)return d.nb(f.ib,0,{In:b,index:0,count:c,mf:a});for(d=0;d<c&&!a.closed;d++)a.next(b[d]);a.complete();};return f;}(g.sa);d.iw=a;},function(g,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(6);h=a(8);g=a(2);l=a(12);f=a(3);p=a(338);m=a(33);r=a(5);b.Ye(g.I.QX,function(a){var g,u;l.va(h.config);l.va(r.Dw&&r.Dw.getDeviceId||r.kY||m.Ida);g=f.ba.get(p.bda);u=f.Bd("Device");b.CJ("devs");g.create({deviceId:h.config.deviceId,f4:m.Ida,JQ:"deviceid",ig:h.config.ig,Nm:m.Cf.XW,inb:m.Rca,userAgent:r.vh,X6:h.config.X6,v4a:m.Cf.Oca,IYa:h.config.cna.e,u4a:m.Cf.SFa,II:h.config.II,Hsa:h.config.Osb,Dgb:h.config.Lm?"mslstoretest":"mslstore"}).then(function(f){d.Eg=f;t._cad_global||(t._cad_global={});t._cad_global.device=d.Eg;u.info("Esn source: "+d.Eg.CC);b.CJ("devdone");a(c.Hb);})["catch"](function(b){b.O=void 0;a(b);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.mt||(d.mt={});g[g.iub=8]="Backspace";g[g.Tab=9]="Tab";g[g.Svb=13]="Enter";g[g.rAb=16]="Shift";g[g.Wub=17]="Ctrl";g[g.Gtb=18]="Alt";g[g.hzb=19]="PauseBreak";g[g.Oub=20]="CapsLock";g[g.Yvb=27]="Escape";g[g.tAb=32]="Space";g[g.gzb=33]="PageUp";g[g.fzb=34]="PageDown";g[g.Rvb=35]="End";g[g.Lwb=36]="Home";g[g.nxb=37]="LeftArrow";g[g.RAb=38]="UpArrow";g[g.Fzb=39]="RightArrow";g[g.vvb=40]="DownArrow";g[g.gxb=45]="Insert";g[g.ovb=46]="Delete";g[g.eBb=48]="Zero";g[g.Kyb=49]="One";g[g.KAb=50]="Two";g[g.GAb=51]="Three";g[g.swb=52]="Four";g[g.qwb=53]="Five";g[g.sAb=54]="Six";g[g.qAb=55]="Seven";g[g.Qvb=56]="Eight";g[g.pyb=57]="Nine";g[g.Atb=65]="A";g[g.Mtb=66]="B";g[g.Fub=67]="C";g[g.tFa=68]="D";g[g.E=69]="E";g[g.Zvb=70]="F";g[g.twb=71]="G";g[g.wwb=72]="H";g[g.fIa=73]="I";g[g.ixb=74]="J";g[g.VX=75]="K";g[g.sJa=76]="L";g[g.rxb=77]="M";g[g.iLa=78]="N";g[g.Eyb=79]="O";g[g.Nyb=80]="P";g[g.Q=81]="Q";g[g.zzb=82]="R";g[g.LOa=83]="S";g[g.QPa=84]="T";g[g.LAb=85]="U";g[g.SAb=86]="V";g[g.XAb=87]="W";g[g.ZAb=88]="X";g[g.cBb=89]="Y";g[g.dBb=90]="Z";g[g.oxb=91]="LeftWindowKey";g[g.Gzb=92]="RightWindowKey";g[g.oAb=93]="SelectKey";g[g.uyb=96]="Numpad0";g[g.vyb=97]="Numpad1";g[g.wyb=98]="Numpad2";g[g.xyb=99]="Numpad3";g[g.yyb=100]="Numpad4";g[g.zyb=101]="Numpad5";g[g.Ayb=102]="Numpad6";g[g.Byb=103]="Numpad7";g[g.Cyb=104]="Numpad8";g[g.Dyb=105]="Numpad9";g[g.Pxb=106]="Multiply";g[g.Ftb=107]="Add";g[g.zAb=109]="Subtract";g[g.nvb=110]="DecimalPoint";g[g.uvb=111]="Divide";g[g.$vb=112]="F1";g[g.dwb=113]="F2";g[g.ewb=114]="F3";g[g.fwb=115]="F4";g[g.gwb=116]="F5";g[g.hwb=117]="F6";g[g.iwb=118]="F7";g[g.jwb=119]="F8";g[g.kwb=120]="F9";g[g.awb=121]="F10";g[g.bwb=122]="F11";g[g.cwb=123]="F12";g[g.ryb=144]="NumLock";g[g.mAb=145]="ScrollLock";g[g.pAb=186]="SemiColon";g[g.Uvb=187]="Equals";g[g.Sub=188]="Comma";g[g.mvb=189]="Dash";g[g.lzb=190]="Period";g[g.rwb=191]="ForwardSlash";g[g.HAb=192]="Tilde";g[g.Lyb=219]="OpenBracket";g[g.hub=220]="BackSlash";g[g.Qub=221]="CloseBracket";g[g.yzb=222]="Quote";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bga="PboLinksManagerSymbol";d.EA="PboLinksManagerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.DA="PboConfigSymbol";},function(g,d,a){var f,p;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function c(a){return f.Vd(a);}function h(a){return f.ka(a);}function l(a){return!b(a)&&!c(a)&&!h(a)&&!Array.isArray(a)&&f.re(a);}f=a(11);p={ow:0,pN:1,vLa:2,OBJECT:3,Yh:4};g.M={j5:function(a){return b(a)?p.ow:c(a)?p.pN:h(a)?p.vLa:l(a)?p.OBJECT:p.Yh;},uS:b,Vd:c,ka:h,re:l,gm:p};},function(g){var d;d={eJ:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);}};g.M=d;},function(g){g.M=function a(b,c){var h;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,c);Object.getOwnPropertyNames(b).forEach(function(a){h=Object.getOwnPropertyDescriptor(b,a);void 0!==h&&Object.defineProperty(c,a,h);});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pA="LogMessageFactorySymbol";},function(g,d,a){var b;b=a(156);g.M=function(a){return function l(f){return 0===arguments.length||b(f)?l:a.apply(this,arguments);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function b(){}function c(){}function d(){}d.sEa="cache_start";d.tEa="cache_success";d.pEa="cache_abort";d.rEa="cache_fail";d.qEa="cache_evict";d.cMa="pb_request";d.$Oa="start_playback";a.rw=d;c.Fba="auth";c.ot="ldl";c.uF="hdr";c.MEDIA="media";a.Ei=c;b.oM="cached";b.LOADING="loading";b.mHa="expired";a.dM=b;}(d.$d||(d.$d={})));d.dha="PrefetchEventsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MA="SourceBufferTypeProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pw="TimeoutMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qw="TimingApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uha="SystemRandomSymbol";d.ZF="RandomGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oA="IdProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uA="MslSymbol";},function(g,d){d.xy=function(a){return a&&"function"===typeof a.nb;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bw="MediaKeySystemAccessServicesSymbol";},function(g,d){var b;function a(){}Object.defineProperty(d,"__esModule",{value:!0});b=/^S+$/;a.prototype.Al=function(a){return void 0!==a;};a.prototype.eh=function(a){return null!==a&&void 0!==a;};a.prototype.Ex=function(b){return a.Dma(b);};a.prototype.uP=function(b){return!(!b||!a.Dma(b));};a.prototype.iu=function(a){return Array.isArray(a);};a.prototype.Ema=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Se=function(b,d,l){return a.Zla(b,d,l);};a.prototype.$_=function(b){return a.$_(b);};a.prototype.t0=function(b,d,l){return a.CP(b,d,l)&&0===b%1;};a.prototype.kp=function(b,d,l){return a.CP(b,d||0,l);};a.prototype.HB=function(b){return a.CP(b,1);};a.prototype.PWa=function(b){return a.CP(b,0,255);};a.prototype.QWa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.Fma=function(a){return!(!a||!b.test(a));};a.prototype.Ah=function(b){return a.$la(b);};a.prototype.Ti=function(b){return!(!a.$la(b)||!b);};a.prototype.GB=function(a){return!0===a||!1===a;};a.prototype.YG=function(a){return"function"==typeof a;};a.$la=function(a){return"string"==typeof a;};a.Zla=function(a,b,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===d||a<=d);};a.$_=function(a){return"number"==typeof a&&isNaN(a);};a.CP=function(b,d,l){return a.Zla(b,d,l)&&0===b%1;};a.Dma=function(a){return"object"==typeof a;};d.zq=new a();},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,v,B,y,A;Object.defineProperty(d,"__esModule",{value:!0});b=a(61);g=a(19);c=a(175);h=a(558);l=a(140);f=a(8);p=a(6);m=a(143);r=a(280);u=a(20);x=a(2);v=a(3);B=a(186);y=a(5);A=a(124);g.Ye(x.I.cea,function(g){var x,z,k,n,q,K,t;x=v.ba.get(B.dN).d2();z=v.ba.get(m.eda).eA;k={};k.kz=v.FR("ASE");k.gYa=v.FR("JS-ASE",void 0,"Platform");k.Bd=v.FR;k.storage=A.storage;k.Mr=A.Mr;k.i$a=y.zM;k.getTime=u.Ac;k.oD={};k.Fb=c.Fb;k.Lq=h.Lq;k.eA=z;k.MediaSource=r.OKa;k.SourceBuffer=l.ufa;k.TEb=function(){};z=new Promise(function(a){A.storage.load("nh",function(b){k.oD.nh=b.O?b.data:void 0;a();});});n=new Promise(function(a){A.storage.load("lh",function(b){k.oD.lh=b.O?b.data:void 0;a();});});q=new Promise(function(a){A.storage.load("gh",function(b){k.oD.gh=b.O?b.data:void 0;a();});});K=new Promise(function(a){A.storage.load("sth",function(b){k.oD.sth=b.O?b.data:void 0;a();});});t=new Promise(function(a){A.storage.load("vb",function(b){k.oD.vb=b.O?b.data:void 0;a();});});Promise.all([z,n,t,K,q]).then(function(){var c;c=a(556)(k);d.pk=a(279);d.pk.declare(b.Gu);d.pk.declare({Zz:["useMediaCache",!1],nC:["diskCacheSizeLimit",0],fDb:["dailyDiskCacheWriteLimit",0],fT:["mediaCachePrefetchMs",8E3],J7:["mediaCachePartitionConfig",{}]});d.pk.set(a(148)(f.config),!0,v.FR("ASE"));c=b.Qeb(c);d.qk=new c(d.pk,x);d.qk.Dc(f.config.G0,f.config.I0,{kz:k.kz},f.config.DU);g(p.Hb);})["catch"](function(a){k.kz.error("Exception loading location history from local storage",a);});});},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(8);c=a(6);h=a(12);l=a(2);f=a(3);p=a(71);g.Ye(l.I.TM,function(a){h.va(b.config);h.va(t._cad_global.msl.Kg);f.ba.get(p.Ss)().then(function(b){d.ah=b;a(c.Hb);})["catch"](function(b){a(b);});});},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(8);c=a(6);h=a(291);l=a(2);f=a(290);p=a(288);d.storage=d.storage||void 0;d.Mr=d.Mr||void 0;g.Ye(l.I.pea,function(a){var m;switch(b.config.uV){case"idb":m=f.Fpb;break;case"none":m=h.Hpb;break;case"ls":m=p.Gpb;}m(function(b){b.O?(d.storage=b.storage,d.Mr=b.Mr,a(c.Hb)):a(b);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hga="PboPlaydataServicesSymbol";d.jN="PboPlaydataServicesProviderSymbol";},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(17);c=a(12);d.Di="$attributes";d.eW="$children";d.fW="$name";d.pq="$text";d.QCa="$parent";d.$E="$sibling";d.mHb=/^s*<?xml.*?>/i;d.c9a=function(a,b,f){for(var c=2;c<arguments.length;++c);for(c=1;(b=arguments[c++])&&(a=a[b]););return a;};d.iHb=function(a,l){var f;a?f=b.Dd(a[d.pq]):void 0!==l&&(f=l);c.xQ(f);return f;};d.Qib=function(a){var b;a&&(b=a[d.pq]);c.i3a(b);return b;};d.qGb=function(a,b){var f;f={};f[d.Di]=a;f[d.pq]=b;return f;};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(13);g=function(a){function d(b,c,d,r){d=a.call(this,d)||this;d.wVa=b.Ya;d.location=b.location||c.location;d.gd=b.Sb||c.Sb;d.H$=b.H$||c.H$;d.W=r;return d;}b.__extends(d,a);d.prototype.Dc=function(a,b){this.le=a;this.jf=b;this.q0=!1;this.W=b;};d.prototype.PO=function(a){var b,f,d;b={type:"logdata",target:"endplay",fields:{}};f=this.R===c.G.AUDIO?"audioedit":"videoedit";d=[this.Zn===this.U?this.Od:this.Oc,this.Zn===this.U?-this.duration:this.duration];a&&a.cq&&d.push(a.cq);b.fields[f]={type:"array",value:d};this.le&&this.le.emit(b.type,b);};d.prototype.HO=function(a){this.le.K.HK&&(this.gra=!0,this.$pa=a);};d.prototype.hsb=function(a,b){var f,c;if(this.complete)return 0;f=this.wVa;c=a[f];return c?c.url?this.url===c.url||(b(this,c.location,c.Sb),this.BV(c.url))?0:(this.W.fa("swapUrl failed: ",this.kR),3):(this.W.fa("updateurl, missing url for streamId:",f,"mediaRequest:",this,"stream:",c),2):(this.W.fa("updateUrl, missing stream for streamId:",f,"mediaRequest:",this,"streamMap:",a),1);};return d;}(a(95));d.jw=g;},function(g,d,a){function b(a,b){this.EB=a;this.$g=Math.floor((a+b-1)/b);this.ic=b;this.reset();}a(14);b.prototype.shift=function(){this.yc.shift();this.gp.shift();};b.prototype.OD=function(a){return this.Fna(this.yc[a],a);};b.prototype.update=function(a,b){this.yc[a]=(this.yc[a]||0)+b;};b.prototype.push=function(){this.yc.push(0);this.gp.push(0);this.Ea+=this.ic;};b.prototype.add=function(a,b,d){var f,c,m;if(null===this.Ea)for(f=Math.max(Math.floor((d-b+this.ic-1)/this.ic),1),this.Ea=b;this.yc.length<f;)this.push();for(;this.Ea<=d;)this.push(),this.yc.length>this.$g&&this.shift();if(null===this.ek||b<this.ek)this.ek=b;if(b>this.Ea-this.ic)this.update(this.yc.length-1,a);else if(b==d)f=this.yc.length-Math.max(Math.ceil((this.Ea-d)/this.ic),1),0<=f&&this.update(f,a);else for(f=1;f<=this.yc.length;++f){c=this.Ea-f*this.ic;m=c+this.ic;if(!(c>d)){if(m<b)break;this.update(this.yc.length-f,Math.round(a*(Math.min(m,d)-Math.max(c,b))/(d-b)));}}for(;this.yc.length>this.$g;)this.shift();};b.prototype.start=function(a){null===this.ek&&(this.ek=a);null===this.Ea&&(this.Ea=a);};b.prototype.stop=function(a){var b,c;if(null!==this.Ea)if(a-this.Ea>10*this.EB)this.reset();else{for(;this.Ea<=a;)this.push(),this.yc.length>this.$g&&this.shift();b=this.yc.length-Math.ceil((this.Ea-this.ek)/this.ic);0>b&&(this.ek=this.Ea-this.ic*this.yc.length,b=0);c=this.yc.length-Math.ceil((this.Ea-a)/this.ic);if(b===c)this.gp[b]+=a-this.ek;else if(c>b)for(this.gp[b]+=(this.Ea-this.ek)%this.ic,this.gp[c]+=this.ic-(this.Ea-a)%this.ic,a=b+1;a<c;++a)this.gp[a]=this.ic;this.ek=null;}};b.prototype.Fna=function(a,b){b=this.j4(b);return 0===b?null:8*a/b;};b.prototype.j4=function(a){var b;b=this.gp[a];null!==this.ek&&(a=this.Ea-(this.yc.length-a-1)*this.ic,a>this.ek&&(b=a-this.ek<=this.ic?b+(a-this.ek):this.ic));return b;};b.prototype.get=function(a,b){var c,f;c=this.yc.map(this.Fna,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.ic));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(f||0):f=void 0!==f?b*c[a]+(1-b)*f:c[a];}return c;};b.prototype.reset=function(){this.yc=[];this.gp=[];this.ek=this.Ea=null;};b.prototype.setInterval=function(a){this.$g=Math.floor((a+this.ic-1)/this.ic);};g.M=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(784);a=a(781);d.Qfb=g;d.Bv=a;},function(g,d,a){var c,h,l,f;function b(a,b,d){var m;m=l.sM.call(this,a,b,c.NF.xia)||this;m.config=a;m.M7=b;m.is=d;m.type=c.yj.pw;m.XE=f.xc.Noa();return m;}Object.defineProperty(d,"__esModule",{value:!0});c=a(25);h=a(72);l=a(408);g=a(97);f=a(131);new g.Mw();ia(b,l.sM);b.prototype.gq=function(){return Promise.resolve(!1);};b.prototype.Xu=function(){return Promise.resolve("");};b.prototype.LR=function(){return Promise.resolve("");};b.prototype.sL=function(){return!1;};b.prototype.qL=function(){return!1;};b.prototype.tL=function(){return Promise.resolve(!1);};b.prototype.pL=function(){return!1;};b.prototype.JR=function(a){return this.XE[a];};b.prototype.i0=function(a){return a;};b.prototype.hva=function(a){switch(a){case c.th.Ro:return"1.4";case c.th.xw:return"2.2";}};b.prototype.Tx=function(){var a;a={};a[h.ca.Lda]="avc1.4D401E";a[h.ca.dX]="avc1.4D401F";a[h.ca.Mda]="avc1.4D4028";a[h.ca.BX]="hev1.1.6.L90.B0";a[h.ca.CX]="hev1.1.6.L93.B0";a[h.ca.DX]="hev1.1.6.L120.B0";a[h.ca.EX]="hev1.1.6.L123.B0";a[h.ca.FX]="hev1.1.6.L150.B0";a[h.ca.GX]="hev1.1.6.L153.B0";a[h.ca.nX]="hev1.2.6.L90.B0";a[h.ca.qX]="hev1.2.6.L93.B0";a[h.ca.tX]="hev1.2.6.L120.B0";a[h.ca.wX]="hev1.2.6.L123.B0";a[h.ca.vF]="hev1.2.6.L150.B0";a[h.ca.wF]="hev1.2.6.L153.B0";a[h.ca.oX]="hev1.2.6.L90.B0";a[h.ca.rX]="hev1.2.6.L93.B0";a[h.ca.uX]="hev1.2.6.L120.B0";a[h.ca.xX]="hev1.2.6.L123.B0";a[h.ca.eX]="hev1.2.6.L90.B0";a[h.ca.fX]="hev1.2.6.L93.B0";a[h.ca.gX]="hev1.2.6.L120.B0";a[h.ca.hX]="hev1.2.6.L123.B0";a[h.ca.iX]="hev1.2.6.L150.B0";a[h.ca.kX]="hev1.2.6.L153.B0";a[h.ca.IM]="hev1.2.6.L90.B0";a[h.ca.JM]="hev1.2.6.L93.B0";a[h.ca.KM]="hev1.2.6.L120.B0";a[h.ca.LM]="hev1.2.6.L123.B0";a[h.ca.GW]=f.xc.tg;a[h.ca.HW]=f.xc.tg;a[h.ca.IW]=f.xc.tg;a[h.ca.JW]=f.xc.tg;a[h.ca.KW]=f.xc.tg;a[h.ca.Wca]=f.xc.tg;a[h.ca.uM]=f.xc.tg;a[h.ca.vM]=f.xc.tg;a[h.ca.wM]=f.xc.tg;a[h.ca.xM]=f.xc.tg;a[h.ca.yM]=f.xc.tg;a[h.ca.LW]=f.xc.wca;a[h.ca.wia]=f.xc.fG;a[h.ca.zN]=f.xc.fG;a[h.ca.AN]=f.xc.fG;a[h.ca.BN]=f.xc.fG;a[h.ca.qia]=f.xc.eG;a[h.ca.ria]=f.xc.eG;a[h.ca.sia]=f.xc.eG;a[h.ca.tia]=f.xc.eG;a[h.ca.uia]=f.xc.eG;a[h.ca.Gba]=f.xc.qh;a[h.ca.Hba]=f.xc.qh;a[h.ca.Iba]=f.xc.qh;a[h.ca.Jba]=f.xc.qh;a[h.ca.Kba]=f.xc.qh;a[h.ca.Lba]=f.xc.qh;a[h.ca.Mba]=f.xc.qh;a[h.ca.Nba]=f.xc.qh;return a;};b.prototype.S4=function(){return this.config().ZV;};b.prototype.PC=function(){return Promise.resolve(void 0);};b.prototype.QI=function(){return Promise.resolve(void 0);};b.prototype.LH=function(a){var b;b=[];this.is.eh(a)&&b.push(this.hva(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};b.PE="video/mp4;codecs={0};";d.em=b;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(25);b.Noa=function(a){var d;d={};d[c.Ld.aG]=b.GM;d[c.Ld.HM]=b.GM;d[c.Ld.wN]=b.sF;d[c.Ld.yq]=b.yq;d[c.Ld.tg]=a||b.tg;d[c.Ld.At]=b.fG;d[c.Ld.qh]=b.qh;return d;};b.GM="avc1.640028";b.sF="hev1.1.6.L93.B0";b.vca="dvhe.01000000";b.VEa="dvhe.dtr.uhd60";b.wca="dvhe.05.09";b.tg=b.vca;b.yq=b.sF;b.gW="mp4a.40.2";b.Yub="ec-3";b.VAb="vp9";b.fG="vp09.00.11.08.02";b.eG="vp09.02.31.10.01";b.qh="av01.0.04M.08";b.WEa=[b.wca,b.VEa,b.vca];d.xc=b;},function(g,d,a){var c,h,l;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(162);h=a(45);l=a(2);b.v4=function(a){if(a){if(a.includes(d.mF.mz))return c.qn.mz;if(a.includes("fps"))return c.qn.EC;if(a.includes(d.mF.cW))return c.qn.cW;}throw new h.Yb(l.I.eHa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.Gra=function(a){switch(a){case c.qn.mz:return d.mF.mz;case c.qn.EC:return d.mF.EC;default:return d.mF.cW;}};b.Vo="com.microsoft.playready";b.bd="com.microsoft.playready.hardware";b.WF="com.microsoft.playready.software";b.nzb="com.chromecast.playready";b.ozb="org.chromium.external.playready";b.pwb="com.apple.fps.2_0";b.SQa="com.widevine.alpha";b.pzb="com.microsoft.playready.recommendation";b.qzb="com.microsoft.playready.recommendation.3000";b.rzb="com.microsoft.playready.recommendation.2000";d.bb=b;d.mF={EC:"fairplay",cW:"widevine",mz:"playready"};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b){a.call(this);this.ia=b;}b(c,a);c.create=function(a){return new c(a);};c.ib=function(a){a.mf.complete();};c.prototype.Ff=function(a){var b;b=this.ia;if(b)return b.nb(c.ib,0,{mf:a});a.complete();};return c;}(a(10).sa);d.qF=g;},function(g,d,a){var b,c,h,l;b=a(119);c=a(447);h=a(446);l=a(443);d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return 1===a.length||2===a.length&&b.xy(a[1])?h.from(a[0]):l.FH()(c.of.apply(void 0,a));};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hm=function(){};d.UY="StringObjectReaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yca="DebugConfigSymbol";d.kF="DebugSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hda="DrmServicesSymbol";d.QW="DrmServicesProviderSymbol";},function(g,d,a){var p;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function c(a,b){return null===a.ss?!1:a.ss.ue===b?!0:c(a.ss,b);}function h(a){function f(a,c){void 0===c&&(c=[]);c.push(b(a.ue));return null!==a.ss?f(a.ss,c):c;}return f(a).reverse().join(" --x3e ");}function l(a){a.z1.forEach(function(a){if(c(a,a.ue))throw a=h(a),Error(p.xEa+" "+a);l(a);});}function f(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^functions*([^s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});p=a(54);d.SC=b;d.Dua=function(a,b,c){var d;d="";a=c(a,b);0!==a.length&&(d="nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.bj&&(b=f(a.bj));d=d+"n "+b;a.cC.Sva&&(d=d+" - "+a.cC.Sva);}));return d;};d.M_a=l;d.Idb=function(a,b){var f,c;if(b.p6()||b.l6()){f="";c=b.e$a();b=b.Z8a();null!==c&&(f+=c.toString()+"n");null!==b&&b.forEach(function(a){f+=a.toString()+"n";});return" "+a+"n "+a+" - "+f;}return" "+a;};d.getFunctionName=f;},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,B,y,A,z,k,N;function b(a){var d;d=this;this.createPlayer=function(a,b){var f,c;b=void 0===b?{}:b;b="number"===typeof b?{Tf:b}:b;f=b.manifest;if(f&&f.runtime)f.clientGenesis=f.clientGenesis||y.BH(),f=p.ba.get(B.bY).decode(f);else if(f){c=p.ba.get(N.EA)();c.dma(f);f.Ey=c;}a=p.ba.get(z.aha).L2a(a);return p.ba.get(A.EY).create(a,b,f).HCa;};this.createPlaylistPlayer=function(a,b,f){var c;c=p.ba.get(k.$ga);return p.ba.get(A.EY).create(c.rrb(a),b,f).HCa;};this.closeAllPlayers=function(a){f.Pga(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;c.BJ(function(f){f.O?(l.config.WU?d.Hnb().then(function(){h.KNa();})["catch"](function(a){p.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(d,b.KP);a(Object.assign({success:!0},b.KP));}):a({success:!1,error:p.Fw(f.errorCode||r.I.bea,f)});});};this.applyConfig=function(a){d.gCa(a);l.moa(a);};this.prepare=function(a,b){var f;a=d.e9.xpa(a)||[];f=new Set();a=a.filter(function(a){var b;b=f.has(a.S);f.add(a.S);return!b;});if(l.config.Ql&&t._cad_global.videoPreparer)try{t._cad_global.videoPreparer.Iv(a,b);}catch(W){p.log.warn("Prepare call failed",W);}};this.predownload=function(a,b){if((a=d.e9.xpa(a))&&l.config.Zz&&t._cad_global.videoPreparer)try{t._cad_global.videoPreparer.akb(a,b);}catch(X){p.log.warn("Predownload call failed",X);}};this.lookupPredownloaded=function(){return l.config.Zz&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.Hy():Promise.resolve([]);};this.ppmUpdate=function(a){t._cad_global.playerPredictionModel?((a=d.e9.q4a(a))&&t._cad_global.playerPredictionModel.update(a),t._cad_global.prefetchEvents&&t._cad_global.prefetchEvents.update(a)):p.log.error("ppmUpdate called but there is no ppmModel");};this.canFulfillUIIntent=function(a,b,f){if(l.config.Ql&&t._cad_global.videoPreparer)return t._cad_global.videoPreparer.p1(a,b,f);f(!1);};this.supportsHdr=function(a){var b;try{b=p.KC().sL();a(b);}catch(X){a(!1);}};this.supportsUltraHd=function(a){p.KC().tL().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=p.KC().pL();a(b);}catch(X){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=p.KC().qL();a(b);}catch(X){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=p.ba.get(x.dN).d2();return a?Promise.resolve(a.ao()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=p.ba.get(x.dN).d2();return a?Promise.resolve(a.h$a()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.J5a;};this.e9=p.ba.get(m.BY);this.gCa(a);l.p0a([a]);p.KC().tL();}Object.defineProperty(d,"__esModule",{value:!0});c=a(19);h=a(178);l=a(8);f=a(41);p=a(3);m=a(181);r=a(2);u=a(26);x=a(186);v=a(125);B=a(157);y=a(20);A=a(261);z=a(257);k=a(256);N=a(105);b.prototype.gCa=function(a){p.ba.get(u.VM).data=a;};b.prototype.Hnb=function(){return p.ba.get(v.jN)()["catch"](function(a){p.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){p.log.error("Unable to send deferred playdata",a);});};b.KP={};d.eZ=b;},function(g,d,a){var h,l,f,p,m,r,u,x,v,B,y,A;function b(a){b=B.Tb;d.KKa=a.appendBuffer?"appendBuffer":"append";d.WM=!f.config.TYa&&!!a.remove;d.cY=!!a.addEventListener;}function c(a,c,g,v,x,B){var y,z;y=this;this.j=a;this.Ria=x;this.gB=!1;this.$w={data:[],state:"",operation:""};this.type=c;this.Ni=new m.Xj();c=g(this.type);this.tka={Type:this.type};f.config.kv&&(z=!0,this.L3=new p.md(!1));B.trace("Adding source buffer",this.tka,{TypeId:c});this.dd=v.addSourceBuffer(c);b(this.dd);d.cY&&(this.dd.addEventListener("updatestart",function(){y.$w.state="updatestart";}),this.dd.addEventListener("update",function(){y.$w.state="update";}),this.dd.addEventListener("updateend",function(){y.gB=!1;y.Uia&&y.Uia();y.$w.state="updateend";z&&y.dd.buffered.length&&(z=!1,y.L3.set(!0));}),this.dd.addEventListener("error",function(b){var f;try{f=b.target.error&&b.target.error.message;(b.message||f)&&B.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(R){}b=r.ba.get(l.ak);a.qd(b(u.I.YMa,h.x4(y.type)));}),this.dd.addEventListener("abort",function(){}));a.addEventListener(A.X.closed,function(){y.dd=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});h=a(209);l=a(63);f=a(8);p=a(174);m=a(67);r=a(3);a(82);u=a(2);a(4);x=a(12);v=a(281);B=a(18);y=a(15);A=a(16);c.prototype.Ak=function(){return this.gB;};c.prototype.updating=function(){return this.dd?this.dd.updating:!1;};c.prototype.iAa=function(a){this.Uia=a;};c.prototype.buffered=function(){return this.dd.buffered;};c.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};c.prototype.toJSON=function(){return{type:this.type};};c.prototype.HR=function(){var a,b,f,c,d,m,p;try{a=this.dd.buffered;d=0;if(a)for(b=[],f=0,c=a.length,f=0;f<c;f++){m=a.start(f);p=a.end(f);d=d+(p-m);x.va(p>m);b.push(m+"-"+p);}if(b)return{Buffered:d.toFixed(3),Ranges:b.join("|")};}catch(X){}};c.prototype.Lma=function(a,b){x.va(this.dd.buffered&&1>=this.dd.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.HR()));x.va(!this.gB);this.AAa("append",a);b=b&&b.Qk/1E3;y.ka(b)&&this.dd.timestampOffset!==b&&(this.dd.timestampOffset=b);this.dd[d.KKa](a);d.cY&&(this.gB=!0);};c.prototype.remove=function(a,b){x.va(!this.gB);try{d.WM&&(this.AAa("remove"),this.dd.remove(a,b),d.cY&&(this.gB=!0));}catch(N){r.log.error("SourceBuffer remove exception",N,this.tka);}};c.prototype.AAa=function(a,b){this.$w.data=b||[];this.$w.state="init";this.$w.operation=a;};c.prototype.R$=function(){};c.prototype.appendBuffer=function(a){this.j.Nh.VXa(this,a);return!0;};c.prototype.DP=function(a){v.IPa("MediaRequest {0} readystate: {1}",a.aj(),a.readyState);this.j.Nh.DP(a);return!0;};c.prototype.endOfStream=function(){};c.prototype.addEventListener=function(a,b,f){this.Ni.addListener(a,b,f);};c.prototype.removeEventListener=function(a,b){this.Ni.removeListener(a,b);};na.Object.defineProperties(c.prototype,{R:{configurable:!0,enumerable:!0,get:function(){return this.type;}},SP:{configurable:!0,enumerable:!0,get:function(){return this.Ria.SP;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Ria.sourceId;}}});d.ufa=c;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kN="PboPublisherSymbol";},function(g){var l,f,p,m;function d(){d.Dc.call(this);}function a(a,b,f,c){var m,p;if("function"!==typeof f)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f);m=a.Vg;void 0===m?(m=a.Vg=Object.create(null),a.dx=0):(void 0!==m.NGb&&(a.emit("newListener",b,f.listener?f.listener:f),m=a.Vg),p=m[b]);void 0===p?(m[b]=f,++a.dx):("function"===typeof p?p=m[b]=c?[f,p]:[p,f]:c?p.unshift(f):p.push(f),f=void 0===a.FG?d.zDb:a.FG,0<f&&p.length>f&&!p.ctb&&(p.ctb=!0,f=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit"),f.name="MaxListenersExceededWarning",f.MDb=a,f.type=b,f.count=p.length,console&&console.warn&&console.warn(f)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.Sqa||(this.target.removeListener(this.type,this.OCa),this.Sqa=!0,f(this.listener,this.target,a));}function c(a,f,c){a={Sqa:!1,OCa:void 0,target:a,type:f,listener:c};f=b.bind(a);f.listener=c;return a.OCa=f;}function h(a){var b;b=this.Vg;if(void 0!==b){a=b[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}l="object"===typeof Reflect?Reflect:null;f=l&&"function"===typeof l.apply?l.apply:function(a,b,f){return Function.prototype.apply.call(a,b,f);};p=Number.isNaN||function(a){return a!==a;};g.M=d;d.EventEmitter=d;d.prototype.Vg=void 0;d.prototype.dx=0;d.prototype.FG=void 0;m=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(a){if("number"!==typeof a||0>a||p(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");m=a;}});d.Dc=function(){if(void 0===this.Vg||this.Vg===Object.getPrototypeOf(this).Vg)this.Vg=Object.create(null),this.dx=0;this.FG=this.FG||void 0;};d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||p(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.FG=a;return this;};d.prototype.emit=function(a){var d,c,m;for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);d="error"===a;c=this.Vg;if(void 0!==c)d=d&&void 0===c.error;else if(!d)return!1;if(d){0<b.length&&(m=b[0]);if(m instanceof Error)throw m;b=Error("Unhandled error."+(m?" ("+m.message+")":""));b.context=m;throw b;}c=c[a];if(void 0===c)return!1;if("function"===typeof c)f(c,this,b);else{m=c.length;for(var d=Array(m),p=0;p<m;++p)d[p]=c[p];for(c=0;c<m;++c)f(d[c],this,b);}return!0;};d.prototype.addListener=function(b,f){return a(this,b,f,!1);};d.prototype.on=d.prototype.addListener;d.prototype.iya=function(b,f){return a(this,b,f,!0);};d.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.on(a,c(this,a,b));return this;};d.prototype.kkb=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.iya(a,c(this,a,b));return this;};d.prototype.removeListener=function(a,b){var f,c,d,m,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);c=this.Vg;if(void 0===c)return this;f=c[a];if(void 0===f)return this;if(f===b||f.listener===b)0===--this.dx?this.Vg=Object.create(null):(delete c[a],c.removeListener&&this.emit("removeListener",a,f.listener||b));else if("function"!==typeof f){d=-1;for(m=f.length-1;0<=m;m--)if(f[m]===b||f[m].listener===b){p=f[m].listener;d=m;break;}if(0>d)return this;if(0===d)f.shift();else{for(;d+1<f.length;d++)f[d]=f[d+1];f.pop();}1===f.length&&(c[a]=f[0]);void 0!==c.removeListener&&this.emit("removeListener",a,p||b);}return this;};d.prototype.Ehb=d.prototype.removeListener;d.prototype.removeAllListeners=function(a){var b,f,c;f=this.Vg;if(void 0===f)return this;if(void 0===f.removeListener)return 0===arguments.length?(this.Vg=Object.create(null),this.dx=0):void 0!==f[a]&&(0===--this.dx?this.Vg=Object.create(null):delete f[a]),this;if(0===arguments.length){b=Object.keys(f);for(f=0;f<b.length;++f)c=b[f],"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.Vg=Object.create(null);this.dx=0;return this;}b=f[a];if("function"===typeof b)this.removeListener(a,b);else if(void 0!==b)for(f=b.length-1;0<=f;f--)this.removeListener(a,b[f]);return this;};d.prototype.listeners=function(a){var b;b=this.Vg;if(void 0===b)a=[];else if(a=b[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var b=Array(a.length),f=0;f<b.length;++f)b[f]=a[f].listener||a[f];a=b;}return a;};d.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):h.call(a,b);};d.prototype.listenerCount=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.RGa=function(){this.AUDIO=0;this.VIDEO=1;this.NM=2;this.Gg=function(){};};d.eda="DownloadTrackConstructorFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.VFa="display";a.IEa="console";a.Bzb="remote";a.$X="memory";a.RQa="writer";d.rA=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.GF="LicenseProviderSymbol";},function(g,d,a){var c,h;function b(a){switch(a){case c.H.yF:return"http";case c.H.zF:return"connectiontimeout";case c.H.uw:return"readtimeout";case c.H.JX:return"corruptcontent";case c.H.ft:return"abort";case c.H.kA:case c.H.NX:return"unknown";}}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(5);d.$ra=b;d.esa=function(a,f){a={errorcode:a+(f.errorCode||c.I.Yh)};f.T&&(a.errorsubcode=f.T);f.mc&&(a.errorextcode=f.mc);f.zC&&(a.erroredgecode=f.zC);f.Ga&&(a.errordetails=f.Ga);f.Ih&&(a.httperr=f.Ih);f.zT&&(a.aseneterr=f.zT);f.Mm&&(a.errordata=f.Mm);f.OJ&&(a.mediaerrormessage=f.OJ);(f=b(Number(f.T)))&&(a.nwerr=f);return a;};d.nsa=function(){return{screensize:h.Eq.width+"x"+h.Eq.height,screenavailsize:h.Eq.availWidth+"x"+h.Eq.availHeight,clientsize:t.innerWidth+"x"+t.innerHeight};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(d.Zca||(d.Zca={})).PboDebugEvent="PboDebugEvent";d.MW={vKa:"Manifest",Event:"Event",qxb:"Logblob"};},function(g){g.M=function(d){return{minInitVideoBitrate:d.sv,minHCInitVideoBitrate:d.T7,maxInitVideoBitrate:d.Ly,minInitAudioBitrate:d.UJ,maxInitAudioBitrate:d.IJ,minHCInitAudioBitrate:d.TJ,minAcceptableVideoBitrate:d.kT,minRequiredBuffer:d.VJ,minPrebufSize:d.ri,rebufferingFactor:d.A9,useMaxPrebufSize:d.lba,maxPrebufSize:d.yD,maxRebufSize:d.E7,maxBufferingTime:d.gs,minAudioMediaRequestSizeBytes:d.lT,minVideoMediaRequestSizeBytes:d.sT,initialBitrateSelectionCurve:d.pS,initSelectionLowerBound:d.wta,initSelectionUpperBound:d.xta,throughputPercentForAudio:d.EV,bandwidthMargin:d.S0,bandwidthMarginContinuous:d.T0,bandwidthMarginCurve:d.U0,conservBandwidthMargin:d.S1,switchConfigBasedOnInSessionTput:d.xaa,conservBandwidthMarginTputThreshold:d.GH,conservBandwidthMarginCurve:d.T1,switchAlgoBasedOnHistIQR:d.jBa,switchConfigBasedOnThroughputHistory:d.Yv,maxPlayerStateToSwitchConfig:d.D7,lowEndMarkingCriteria:d.f7,IQRThreshold:d.RX,histIQRCalcToUse:d.E5,bandwidthMarginScaledRatioUpperBound:d.ZYa,maxTotalBufferLevelPerSession:d.hs,highWatermarkLevel:d.Ysa,toStableThreshold:d.HBa,toUnstableThreshold:d.JV,skipBitrateInUpswitch:d.$$,watermarkLevelForSkipStart:d.tba,highStreamRetentionWindow:d.x5,lowStreamTransitionWindow:d.g7,highStreamRetentionWindowUp:d.z5,lowStreamTransitionWindowUp:d.i7,highStreamRetentionWindowDown:d.y5,lowStreamTransitionWindowDown:d.h7,highStreamInfeasibleBitrateFactor:d.w5,lowestBufForUpswitch:d.Iy,lockPeriodAfterDownswitch:d.SS,lowWatermarkLevel:d.k7,lowestWaterMarkLevel:d.Jy,lowestWaterMarkLevelBufferRelaxed:d.n7,mediaRate:d.L7,maxTrailingBufferLen:d.G7,audioBufferTargetAvailableSize:d.L0,videoBufferTargetAvailableSize:d.qba,maxVideoTrailingBufferSize:d.Cva,maxAudioTrailingBufferSize:d.pva,fastUpswitchFactor:d.mR,fastDownswitchFactor:d.B3,maxMediaBufferAllowed:d.ZS,simulatePartialBlocks:d.Y$,simulateBufferFull:d.HAa,considerConnectTime:d.U1,connectTimeMultiplier:d.R1,lowGradeModeEnterThreshold:d.Wua,lowGradeModeExitThreshold:d.Xua,maxDomainFailureWaitDuration:d.qva,maxAttemptsOnFailure:d.nva,exhaustAllLocationsForFailure:d.wqa,maxNetworkErrorsDuringBuffering:d.vva,maxBufferingTimeAllowedWithNetworkError:d.y7,fastDomainSelectionBwThreshold:d.A3,throughputProbingEnterThreshold:d.Gaa,throughputProbingExitThreshold:d.wBa,locationProbingTimeout:d.Kua,finalLocationSelectionBwThreshold:d.Gqa,throughputHighConfidenceLevel:d.uBa,throughputLowConfidenceLevel:d.vBa,locationStatisticsUpdateInterval:d.U6,enablePerfBasedLocationSwitch:d.tC,probeServerWhenError:d.xo,probeRequestTimeoutMilliseconds:d.i9,allowSwitchback:d.pr,probeDetailDenominator:d.pz,maxDelayToReportFailure:d.WS,countGapInBuffer:d.Boa,allowReissueMediaRequestAfterAbort:d.KB,bufferThresholdForAbort:d.b1,allowCallToStreamSelector:d.s0,pipelineScheduleTimeoutMs:d.O8,maxPartialBuffersAtBufferingStart:d.My,minPendingBufferLen:d.U7,maxPendingBufferLen:d.xD,maxPendingBufferLenSABCell100:d.aT,maxActiveRequestsSABCell100:d.VS,enableRequestPacing:d.aR,maxStreamingSkew:d.F7,maxPendingBufferPercentage:d.C7,maxRequestsInBuffer:d.Ny,headerRequestSize:d.gS,minBufferLenForHeaderDownloading:d.S7,reserveForSkipbackBufferMs:d.DU,numExtraFragmentsAllowed:d.v8,pipelineEnabled:d.uo,maxParallelConnections:d.LJ,socketReceiveBufferSize:d.JAa,audioSocketReceiveBufferSize:d.O0,videoSocketReceiveBufferSize:d.rba,headersSocketReceiveBufferSize:d.u5,updatePtsIntervalMs:d.PV,bufferTraceDenominator:d.d1,bufferLevelNotifyIntervalMs:d.TB,aseReportDenominator:d.NB,aseReportIntervalMs:d.H0,enableAbortTesting:d.cqa,abortRequestFrequency:d.ama,streamingStatusIntervalMs:d.naa,prebufferTimeLimit:d.VD,minBufferLevelForTrackSwitch:d.nT,penaltyFactorForLongConnectTime:d.H8,longConnectTimeThreshold:d.d7,additionalBufferingLongConnectTime:d.n0,additionalBufferingPerFailure:d.o0,rebufferCheckDuration:d.IK,enableLookaheadHints:d.fqa,lookaheadFragments:d.Tua,enableOCSideChannel:d.sp,OCSCBufferQuantizationConfig:d.eN,updateDrmRequestOnNetworkFailure:d.dCa,deferAseScheduling:d.FQ,maxDiffAudioVideoEndPtsMs:d.XS,useHeaderCache:d.TE,useHeaderCacheData:d.XQ,defaultHeaderCacheSize:d.BQ,defaultHeaderCacheDataPrefetchMs:d.D2,headerCacheMaxPendingData:d.r5,neverWipeHeaderCache:d.i8,recreateHeaderCacheDownloadTracks:d.ulb,headerCachePriorityLimit:d.s5,headerCacheFlushForCircularBuffer:d.mbb,enableUsingHeaderCount:d.oI,networkFailureResetWaitMs:d.g8,networkFailureAbandonMs:d.f8,maxThrottledNetworkFailures:d.cT,throttledNetworkFailureThresholdMs:d.DV,abortUnsentBlocks:d.kr,maxUnsentBlocks:d.H7,abortStreamSelectionPeriod:d.b0,lowThroughputThreshold:d.j7,excludeSessionWithoutHistoryFromLowThroughputThreshold:d.r3,mp4ParsingInNative:d.gwa,sourceBufferInOrderAppend:d.KAa,requireAudioStreamToEncompassVideo:d.cn,allowAudioToStreamPastVideo:d.Bma,pruneRequestsFromNative:d.Nkb,preciseBufferLevel:d.Xjb,enableManagerDebugTraces:d.We,managerDebugMessageInterval:d.gva,managerDebugMessageCount:d.fva,bufferThresholdToSwitchToSingleConnMs:d.TP,bufferThresholdToSwitchToParallelConnMs:d.c1,netIntrStoreWindow:d.Igb,minNetIntrDuration:d.mgb,fastHistoricBandwidthExpirationTime:d.Z6a,bandwidthExpirationTime:d.WYa,failureExpirationTime:d.X6a,historyTimeOfDayGranularity:d.tbb,expandDownloadTime:d.L6a,minimumMeasurementTime:d.vgb,minimumMeasurementBytes:d.ugb,throughputMeasurementTimeout:d.Dqb,initThroughputMeasureDataSize:d.hcb,throughputMeasureWindow:d.Cqb,throughputIQRMeasureWindow:d.Bqb,IQRBucketizerWindow:d.$Ia,connectTimeHalflife:d.t0a,responseTimeHalflife:d.Kmb,historicBandwidthUpdateInterval:d.sbb,throughputMeasurementWindowCurve:d.Eqb,httpResponseTimeWarmup:d.Jbb,responseTimeWarmup:d.Lmb,throughputWarmupTime:d.Iqb,minimumBufferToStopProbing:d.tgb,throughputPredictor:d.Fqb,holtWintersDiscretizeInterval:d.wbb,holtWintersHalfLifeAlpha:d.xbb,holtWintersHalfLifeGamma:d.zbb,holtWintersInitialCounts:d.Abb,holtWintersMinInitialCounts:d.Bbb,holtWintersHalfLifeCurveEnabled:d.ybb,holtWintersUpperBoundEnabled:d.Cbb,ase_stream_selector:d.iYa,enableFilters:d.x5a,filterDefinitionOverrides:d.n7a,defaultFilter:d.R3a,secondaryFilter:d.nnb,defaultFilterDefinitions:d.S3a,initBitrateSelectorAlgorithm:d.X5,bufferingSelectorAlgorithm:d.f1,debugLocationSelectorFailureSimulation:d.v2,debugDumpFragments:d.t2,debugLocationHistoryThroughput:d.u2,debugNetworkMonitorThroughput:d.w2,debugVerboseSimulation:d.fpa,secondThroughputEstimator:d.l$,secondThroughputMeasureWindowInMs:d.Oza,marginPredictor:d.u7,simplePercentilePredictorPercentile:d.GAa,simplePercentilePredictorCalcToUse:d.EAa,simplePercentilePredictorMethod:d.FAa,IQRBandwidthFactorConfig:d.Aea,networkMeasurementGranularity:d.h8,HistoricalTDigestConfig:d.Wda,TputTDigestConfig:d.kQa,maxIQRSamples:d.sva,minIQRSamples:d.awa,useResourceTimingAPI:d.mba,ignoreFirstByte:d.lta,resetHeuristicStateAfterSkip:d.zmb,periodicHistoryPersistMs:d.ZT,saveVideoBitrateMs:d.LU,needMinimumNetworkConfidence:d.$J,biasTowardHistoricalThroughput:d.X0,maxFastPlayBufferInMs:d.B7,maxFastPlayBitThreshold:d.A7,headerCacheTruncateHeaderAfterParsing:d.Vsa,minAudioMediaRequestDuration:d.FD,minVideoMediaRequestDuration:d.GD,minAudioMediaRequestDurationCache:d.FD,minVideoMediaRequestDurationCache:d.GD,notifyOpenConnectBlackBox:d.jhb,addHeaderDataToNetworkMonitor:d.zP,useMediaCache:d.Zz,mediaCachePartitionConfig:d.J7,diskCacheSizeLimit:d.nC,mediaCachePrefetchMs:d.fT,appendCachedMediaAsMediaRequest:d.UXa,enablePsd:d.ZQ,psdCallFrequency:d.p9,psdReturnToNormal:d.q9,psdThroughputThresh:d.AK,discardLastNPsdBins:d.aI,psdPredictor:d.Mg,enableRl:d.I5a,rlLogParam:d.Qmb,hindsightDenominator:d.D5,hindsightDebugDenominator:d.C5,hindsightParam:d.hS,minimumTimeBeforeBranchDecision:d.tT,enableSessionHistoryReport:d.nI,earlyStageEstimatePeriod:d.a3,lateStageEstimatePeriod:d.uua,maxNumSessionHistoryStored:d.$S,minSessionHistoryDuration:d.qT,enableInitThroughputEstimate:d.mI,applyInitThroughputEstimate:d.C0,initThroughputPredictor:d.yta,appendMediaRequestOnComplete:d.A0,waitForDrmToAppendMedia:d.bW,forceAppendHeadersAfterDrm:d.Q3,startMonitorOnLoadStart:d.faa,reportFailedRequestsToNetworkMonitor:d.M9,reappendRequestsOnSkip:d.HK,maxActiveRequestsPerSession:d.HJ,limitAudioDiscountByMaxAudioBitrate:d.M6,appendFirstHeaderOnComplete:d.z0,maxAudioFragmentOverlapMs:0,maxNumberTitlesScheduled:d.Zxa?d.Zxa.maxNumberTitlesScheduled:1,editAudioFragments:d.Km,editVideoFragments:d.Pr,declareBufferingCompleteAtSegmentEnd:d.x2,applyProfileTimestampOffset:d.Gx,applyProfileStreamingOffset:d.Hn,requireDownloadDataAtBuffering:d.R9,requireSetupConnectionDuringBuffering:d.S9,renormalizeFirstFragment:d.fmb,renormalizeLastFragment:d.gmb,recordFirstFragmentOnSubBranchCreate:d.B9,earlyAppendSingleChildBranch:d.WQ};};},function(g,d,a){(function(b,c){var l;function d(a,b){var f;f=Date.now();this.lpb=f;this.dR=f+a;this.jjb=a;this.h3a=f+b;this.debug=!1;}l=new(a(7)).Console("ASEJS_QOE_EVAL","media|asejs");d.prototype.constructor=d;d.prototype.Ua=function(a,b){a=((a-this.lpb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;l.debug(a+" "+this.j3a+b);};d.prototype.JVa=function(a){this.j3a=a;this.Ua(Date.now(),"starting");};d.prototype.AWa=function(a){var f;f=new Date().getTime();if(f>=this.h3a)throw Error("Execution deadline exceeded");if(3221225472<b.yGb().kFb)throw Error("Heap total limit exceeded");if(this.debug&&!(f<=this.dR)){for(;f>this.dR;)this.dR+=this.jjb;this.Ua(f,a);}};d.Dc=function(){c.mU=new d(5E3,12E5);};d.J$=function(a){c.mU&&c.mU.JVa(a);};d.update=function(a){c.mU&&c.mU.AWa(a);};g.M=d;}.call(this,a(228),a(169)));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,c,d){this.u=a;this.tag=c;this.length=d;this.tag=c;this.startOffset=a.offset;this.length=d;}a.prototype.parse=function(){this.u.offset=this.startOffset+this.length;this.u.Vy=0;return!0;};a.prototype.Kqa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.Hu)for(var d=0;d<this.Hu.length;d++)b=b.concat(this.Hu[d].Kqa(a));return b;};a.prototype.yI=function(a){for(a=this.Kqa(a);0<a.length;)return a[0];};a.prototype.rla=function(){for(this.Hu=[];this.u.offset<this.startOffset+this.length;)this.Hu.push(this.u.qla(this));};return a;}();g.prototype.skip=g.prototype.parse;d["default"]=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mLa="6674654e-696c-5078-6966-665374726d21";d.nLa="6674654e-696c-4878-6165-6465722e7632";d.Ifa="6674654e-696c-5078-6966-66496e646578";d.jY="6674654e-696c-4d78-6f6f-6653697a6573";d.hY="6674654e-696c-5378-6565-6b506f696e74";d.eMa="cedb7489-e77b-514c-84f9-7148f9882554";d.dga="524f39a2-9b5a-144f-a244-6c427c648df4";d.iY="6674654e-696c-4678-7261-6d6552617465";},function(g,d,a){var h;function b(a,b){return void 0===a||void 0===b?void 0:a+b;}function c(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(74);g=a(47);a=function(){function a(){}a.prototype.BB=function(a){return void 0===a?void 0:0===a?h.gc.Vf:new h.gc(a,this.ha);};a.prototype.au=function(a){return a&&Math.floor(h.gc.Oaa(a,this.ha));};return a;}();d.hM=a;g.gi(a.prototype,{Hh:g.L({get:function(){return c(this.Qb,this.Kb)||0;}}),sK:g.L({get:function(){return b(this.Kb,this.Bo);}}),RD:g.L({get:function(){return b(this.Qb,this.Bo);}}),Upa:g.L({get:function(){return this.BB(this.Hh);}}),voa:g.L({get:function(){return this.BB(this.Kb);}}),roa:g.L({get:function(){return this.BB(this.Qb);}}),fU:g.L({get:function(){return this.BB(this.sK);}}),Qxa:g.L({get:function(){return this.BB(this.RD);}}),OHb:g.L({get:function(){return this.BB(this.Bo);}}),U:g.L({get:function(){return this.au(this.sK);}}),ea:g.L({get:function(){return this.au(this.RD);}}),duration:g.L({get:function(){return c(this.ea,this.U)||0;}}),Qk:g.L({get:function(){return this.au(this.Bo);}}),Rn:g.L({get:function(){return this.au(this.Kb);}}),Oc:g.L({get:function(){return this.au(this.Kb);}}),Od:g.L({get:function(){return this.au(this.Qb);}}),cc:g.L({get:function(){return this.au(this.sK);}}),Ed:g.L({get:function(){return this.au(this.RD);}}),Or:g.L({get:function(){return this.duration;}}),zs:g.L({get:function(){return this.U;}}),ZD:g.L({get:function(){return this.ea;}})});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(14);g=a(47);a=function(){function a(a,b){this.Hc=a;this.Ob=b.Z;this.od=b.offset;}a.prototype.toJSON=function(){return{movieId:this.S,streamId:this.Ya,offset:this.offset,bytes:this.Z};};return a;}();d.kw=a;g.gi(a.prototype,{stream:g.Do({get:function(){return this.Hc;}}),Z:g.Do({get:function(){return this.Ob;}}),offset:g.Do({get:function(){return this.od;}}),na:g.Do({get:function(){return this.Hc.na;}}),S:g.Do({get:function(){return this.Hc.S;}}),R:g.Do({get:function(){return this.Hc.R;}}),Ya:g.Do({get:function(){return this.Hc.Ya;}}),P:g.Do({get:function(){return this.Hc.P;}}),profile:g.Do({get:function(){return this.Hc.profile;}}),ha:g.Do({get:function(){return this.Hc.ha;}}),Ty:g.Do({get:function(){return this.Hc.Ty;}}),La:g.L({get:function(){return this.Hc.La;}}),jH:g.L({get:function(){return this.Hc.jH;}}),kH:g.L({get:function(){return this.Hc.kH;}}),f6:g.L({get:function(){return this.Hc.f6;}})});},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);c=a(17);h=a(15);(function(){var f,p,m;function a(a){b.va(void 0!==f[a]);return f[a];}f={'"':'""',"r":"","n":" "};p=/["rn]/g;m=/[", ]/;d.Y2a=function(b){return h.ab(b)?h.ka(b)?b:h.Vd(b)?b.replace(p,a):h.Mta(b)?b:isNaN(b)?"NaN":"":"";};d.q7=function(a){var b,f;b=d.Y2a;f="";c.tc(a,function(a,c){a=b(a)+"="+b(c);m.test(a)&&(a='"'+a+'"');f=f?f+(","+a):a;});return f;};}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yo={CA:"PRIMARY",Eba:"ASSISTIVE",oca:"COMMENTARY"};d.$Y={assistive:d.Yo.Eba,closedcaptions:d.Yo.Eba,directorscommentary:d.Yo.oca,commentary:d.Yo.oca,subtitles:d.Yo.CA,primary:d.Yo.CA};},function(g){g.M=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mfa="ManifestEncoderSymbol";d.bY="ManifestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yda="IDBDatabaseFactorySymbol";d.Dea="IndexedDBFactorySymbol";d.SX="IndexedDBStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wLa="NativeLocalStorageSymbol";d.Nfa="NativeLocalStorageFactorySymbol";d.Zda="IDBFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(25);d.pvb=function(){this.NP=[];this.ZV=[];this.N0=b.Us.pw;this.YV=b.yj.pw;};d.AM="DeviceCapabilitiesConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rN="StringUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.qn||(d.qn={});g[g.mz=0]="playready";g[g.cW=1]="widevine";g[g.EC=2]="fairplay";g[g.zCb=3]="clearkey";d.YGa="DrmTypeSymbol";},function(g,d,a){g=a(236);a=a(235);d.async=new a.pW(g.oW);},function(g,d,a){function b(a){var b,f;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){f=b[c];if("entries"!==f&&"size"!==f&&a.prototype[f]===a.prototype.entries)return f;}return"@@iterator";}g=a(78);d.JIb=b;d.iterator=b(g.root);d.xtb=d.iterator;},function(g,d,a){var b,c,h,l,f,p,m,r;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(10);g=a(50);h=a(70);l=a(457);f=a(456);p=a(238);m=function(a){function f(b){a.call(this,b);this.destination=b;}b(f,a);return f;}(g.Xh);d.LPa=m;a=function(a){function d(){a.call(this);this.ps=[];this.WI=this.Jf=this.closed=!1;this.Haa=null;}b(d,a);d.prototype[p.Ez]=function(){return new m(this);};d.prototype.Kf=function(a){var b;b=new r(this,this);b.fz=a;return b;};d.prototype.next=function(a){if(this.closed)throw new l.AA();if(!this.Jf)for(var b=this.ps,f=b.length,b=b.slice(),c=0;c<f;c++)b[c].next(a);};d.prototype.error=function(a){if(this.closed)throw new l.AA();this.WI=!0;this.Haa=a;this.Jf=!0;for(var b=this.ps,f=b.length,b=b.slice(),c=0;c<f;c++)b[c].error(a);this.ps.length=0;};d.prototype.complete=function(){if(this.closed)throw new l.AA();this.Jf=!0;for(var a=this.ps,b=a.length,a=a.slice(),f=0;f<b;f++)a[f].complete();this.ps.length=0;};d.prototype.unsubscribe=function(){this.closed=this.Jf=!0;this.ps=null;};d.prototype.R_=function(b){if(this.closed)throw new l.AA();return a.prototype.R_.call(this,b);};d.prototype.Ff=function(a){if(this.closed)throw new l.AA();if(this.WI)return a.error(this.Haa),h.ck.EMPTY;if(this.Jf)return a.complete(),h.ck.EMPTY;this.ps.push(a);return new f.Sha(this,a);};d.prototype.F0=function(){var a;a=new c.sa();a.source=this;return a;};d.create=function(a,b){return new r(a,b);};return d;}(c.sa);d.Ji=a;r=function(a){function f(b,f){a.call(this);this.destination=b;this.source=f;}b(f,a);f.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};f.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};f.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};f.prototype.Ff=function(a){return this.source?this.source.subscribe(a):h.ck.EMPTY;};return f;}(a);d.Htb=r;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qha="ReportSyncSymbol";d.pha="ReportApiErrorSyncSymbol";d.Gda="FtlProbeConfigSymbol";d.Hda="FtlProbeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xW="CachedDrmDataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lN="PlatformConfigDefaultsSymbol";},function(g){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof t&&(d=t);}g.M=d;},function(g){g.M={rq:{YY:0,vha:1,Wh:2,name:["transient","semiTransient","permanent"]},qq:{Bda:0,sha:1,oN:2,SF:3,Gq:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},UAb:{BAb:0,Axb:1,Mub:2,Gq:100,name:["trailer","montage","content"]},So:{Oea:0,mha:1,AQa:2,tGa:3,Gq:100,name:["left","right","up","down"]},DF:{NEa:0,oN:1,vwb:2,Pvb:3,Ptb:4,uwb:5,MDa:6,Gq:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},nA:{SF:0,Nca:1,Gq:100,name:["playFocused","detailsOpened"]}};},function(g,d,a){d=a(228);g.M="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.da:Date.now;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oha=function(a,b){var c;this.Q$=function(){c||(c=setInterval(b,a));};this.D1=function(){c&&(clearInterval(c),c=void 0);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.uh||(d.uh={});g[g.MAa=1]="sourceopen";g[g.Jm=2]="currentTimeChanged";g[g.WK=3]="seeked";g[g.JGb=4]="needlicense";g[g.Bua=5]="licenseadded";g[g.LAa=6]="sourceBuffersAdded";g[g.x8=7]="onNeedKey";},function(g,d,a){var c,h,l;function b(a,b){this.Oi=b?[b]:[];this.eB="$op$"+l++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(12);l=0;b.prototype.addListener=function(a,b){var f;f=this;h.cpa(a);h.va(0>this.Oi.indexOf(a));a[c.oY+this.eB]=b;this.Oi=this.Oi.slice();this.Oi.push(a);this.Oi.sort(function(a,b){return f.fpb(a,b);});};b.prototype.removeListener=function(a){var b;h.cpa(a);this.Oi=this.Oi.slice();0<=(b=this.Oi.indexOf(a))&&this.Oi.splice(b,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Du:b};this.o=a;a=this.Oi;for(var f=a.length,c=0;c<f;c++)a[c](b);}};b.prototype.fpb=function(a,b){return(a[c.oY+this.eB]||0)-(b[c.oY+this.eB]||0);};na.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.md=b;},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,B;function b(a,b){var m;m=new l.Xj();this.kJ=this.uH=this.vH=void 0;this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.Eb.bind(this);this.Si=a;this.yG=b;this.lx=B++;this.Ua=f.Bd("MediaRequest");"notification"===b?h.config.sp&&(this.Ut=v.PLa):this.Ut=c.Mfb;p.va(void 0!==this.Ut);this.ON=this.dg=this.SO=void 0;this.cf=d.Fb.Gb.UNSENT;this.Hka=this.Ija=this.OZ=this.$O=void 0;this.wi=this.Xw=0;this.hja=this.RZ=this.Yw=this.St=this.$Z=this.xg=this.zO=this.bf=this.nx=void 0;this.D_=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(284);h=a(8);l=a(67);f=a(3);p=a(12);m=a(18);r=a(5);u=a(6);x=a(15);v=a(282);g=a(300);B=0;(function(){function a(){var a;a={requestId:this.lx,segmentId:this.en,isHeader:this.Ec,ptsStart:this.zs,ptsOffset:this.Qk,responseType:this.SO,duration:this.Or,readystate:this.cf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);}m.Ma(b.prototype,{ghb:function(a){this.cf===d.Fb.Gb.OPENED&&(this.kJ=!0,this.zO=this.xg=a.timestamp,this.cf=d.Fb.Gb.yt,this.emit(d.Fb.kd.Ufa,a));},t8:function(a){var b;if(this.cf<d.Fb.Gb.Hw){this.D_=[];b=a.timestamp-this.zO;!this.Ec&&0<b&&(this.hja=!0,this.D_.push(b));!0!==h.config.lta&&(this.xg=a.timestamp);this.cf=d.Fb.Gb.Hw;this.emit(d.Fb.kd.Tfa,a);}},khb:function(a){this.cf===d.Fb.Gb.Hw&&(this.$Z=this.xg=a.timestamp,a.newBytes=a.bytesLoaded-this.Xw,this.Xw=a.bytesLoaded,x.ab(this.$Z)&&this.emit(d.Fb.kd.Vfa,a));},gj:function(a){if(this.cf===d.Fb.Gb.yt||this.cf===d.Fb.Gb.Hw)this.kJ=!1,this.xg=a.timestamp,this.cf=d.Fb.Gb.DONE,a.newBytes=this.nn-this.Xw,this.Xw=this.nn,x.ab(this.Yw)&&(this.xg=this.Yw,0===a.newBytes&&(this.$Z=this.Yw)),x.ab(this.St)&&(this.zO=this.St),this.nx=a.response,this.emit(d.Fb.kd.QF,a);},bhb:function(a){this.kJ=!1;this.emit(d.Fb.kd.GLa,a);},u8:function(a){this.xg=a.timestamp;this.$O=a.httpcode;this.OZ=a.errorcode;this.Ija=d.Fb.ct.name[this.OZ];this.Hka=a.nativecode;this.emit(d.Fb.kd.Ew,a);this.kJ=!1;},open:function(a,b,f,c,m,p,r){this.Hz=!1;this.ON=b;this.dg=a;this.SO=f;if(!a)return!1;this.cf=d.Fb.Gb.OPENED;this.Ut.GI(this,b,r);return!0;},Nd:function(){-1!==[d.Fb.Gb.OPENED,d.Fb.Gb.yt,d.Fb.Gb.Hw].indexOf(this.cf)&&this.abort();return!0;},Rna:function(){this.nx=void 0;this.EH.response=void 0;this.dta=this.EH.cadmiumResponse.content=void 0;},BV:function(a){this.dg=a;this.Ut.Zaa(this);return!0;},abort:function(){this.cf=d.Fb.Gb.hw;this.Ut.a0(this);return!0;},pause:u.Tb,getResponseHeader:u.Tb,getAllResponseHeaders:u.Tb,aj:function(){return this.lx;},toString:a,toJSON:a,mab:function(){var a,b;if(h.config.mba&&r.Dq&&r.Dq.getEntriesByType&&(!x.ab(this.St)||!x.ab(this.Yw))){a=this.url.split("nflxvideo.net")[0].split("//").pop()+"";a=a+("*nflxvideo.net/range/"+this.vH+"-"+this.uH+"*");b=new RegExp(a);a=r.Dq.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];x.ab(a)&&(0<a.startTime&&(this.St=a.startTime,0<a.requestStart&&(this.St=Math.max(this.St,a.requestStart))),0<a.responseStart&&(this.RZ=a.responseStart),0<a.responseEnd&&(this.Yw=a.responseEnd));}},Tcb:function(){return x.ab(this.St)&&x.ab(this.Yw)&&x.ab(this.RZ);}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.cf;},set:function(){}},status:{get:function(){return this.$O;}},zk:{get:function(){return this.OZ;}},kR:{get:function(){return this.Ija;}},Ol:{get:function(){return this.Hka;}},De:{get:function(){return this.Xw;}},response:{get:function(){return this.nx;}},track:{get:function(){return this.Si;}},label:{get:function(){return this.yG;}},byteLength:{get:function(){return this.uH-this.vH+1;}},url:{get:function(){return this.dg;}},responseType:{get:function(){return this.SO;}},FZa:{get:function(){return this.ON;}},nn:{get:function(){return this.ON.end-this.ON.start+1;}},Lf:{get:function(){return this.zO;}},vd:{get:function(){return this.xg;}},heb:{get:function(){return this.St;}},D7a:{get:function(){return this.RZ;}},j0a:{get:function(){return this.Yw;}},connect:{get:function(){return this.hja;}},Cs:{get:function(){return this.D_;}},Msa:{get:function(){return this.response&&0<this.response.byteLength;}}});}());d.Fb=Object.assign(b,g.Gi);},function(g,d,a){var b,c,h,l,f,p,m,r,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(287);c=a(8);h=a(6);l=a(2);f=a(12);p=a(3);m=a(17);r=a(68);u=a(88);d.Gh={};t._cad_global||(t._cad_global={});t._cad_global.controlProtocol=d.Gh;g.Ye(l.I.eea,function(a){var r,l,g;f.va(c.config);r=p.Bd("ControlProtocol");l=c.config.Fg;f.va(l);g=p.ba.get(u.Ts);r.info("Creating EDGE instance",{Endpoint:g.endpoint+l.iwa,Path:l.Xpa});m.Ma(d.Gh,new b.nFa(r));a(h.Hb);});d.VCb=p.ba.get(r.EM);d.UCb="1";d.WCb="2";d.XCb="3";d.TCb="4";},function(g,d,a){var h,l,f,p,m,r,u,x,v,B,y,A,z,k,N;function b(a,b,f){var d;d=m.ba.get(z.GF);return a.ja&&c(a.Cb)?d.release(Object.assign({},f,{ja:a.ja,Cb:a.Cb}),b):f.ja&&c(f.Cb)?d.release(f,b):Promise.resolve({O:!0});}function c(a){return a&&0<a.length&&a[0].jv;}Object.defineProperty(d,"__esModule",{value:!0});h=a(176);l=a(6);f=a(8);p=a(20);m=a(3);r=a(12);u=a(465);x=a(2);v=a(56);B=a(33);y=a(42);A=a(15);z=a(145);k=a(125);N=a(16);d.oFa=function(a){var I,E,n,q;function c(){c=l.Tb;a.fireEvent(N.X.dna);m.ba.get(k.jN)().then(function(b){b.mpb(a);});}function g(){g=l.Tb;d.oCa(E,I);a.fireEvent(N.X.OS);}function B(b){return new Promise(function(f,c){var d,p,r;d=[];p=v.ad.xoa(b.Hg);b.Nn.forEach(function(a){d.push({sessionId:a.sessionId,dataBase64:m.V0(a.data)});});r=a.s$a(b.Nn[0].sessionId);p={kf:r.kf,Hg:A.is.Ti(b.Hg)?b.Hg:p,QQ:[r.Ij],Nn:d,ja:a.ja,$i:b.$i};a.iQ&&(p.NJ=a.iQ);q.IB(p,E).then(function(b){a.Cb=b.Cb;f(b);g();})["catch"](function(a){c(a);});});}I=m.yf(a,"Playback");E={Bb:a.aJ,log:m.yf(a,"MSLContext"),profile:a.profile};q=m.ba.get(z.GF);r.va(f.config);r.va(h.Gh);r.va(E.Bb);f.config.Mo||(n=m.ba.get(u.fda));return{ks:E,lH:function(b){var g,h;function d(f){try{a.ST(f);b(l.Hb);c();}catch(P){I.error("Exception processing authorization response",P);b({O:!1,T:x.H.jNa});}}function m(){a.Wza().then(function(a){d(a);})["catch"](function(a){b(a);});}r.SH(a.S);r.SH(a.Tf);g=a.Ha;if(g){h=g.expiration;h?(h-=p.BH(),18E5<h?y.ib(function(){d(g);a.uu="ui";}):(I.error("manifest is expired",{gap:h}),m())):y.ib(function(){d(g);a.uu="ui";});}else f.config.Ql&&t._cad_global.videoPreparer?(h=t._cad_global.videoPreparer.Mj(a.S,"manifest"))&&h.then(function(b){d(b);a.uu="videopreparer";})["catch"](function(a){I.warn("manifest not in cache",a);m();}):m();},$n:B,release:function(f){return b(a,E,f);},ie:function(a,b){B(a).then(function(a){b(a);})["catch"](function(a){b(a);});},Doa:function(){var b;b=n.create();b.profileId=a.profile.id;a.gg&&(b.Wd=a.gg.Xu());b.Cb=a.Cb;b.ja=a.ja;b.S=a.S;return b;}};};d.oCa=function(a,b){d.oCa=l.Tb;B.uLa&&f.config.osb&&h.Gh.Y0(a).then(function(){b.trace("Updated NetflixId");})["catch"](function(a){b.error("NetflixId upgrade failed",x.sn(a));});};d.Vlb=b;},function(g,d,a){var l,f,p,m,r,u,x,v,B,y,A,z,k,N,E;function b(a,b){var I,E;function d(b){return f.Vlb(a,I,b);}function g(){var a,b,f;b=B.Bd("Eme");a=new v.Cf.$s(b,void 0,d,{uc:!1,If:!1});f=B.ba.get(A.MA);return v.Cf.Po(b,"cenc",void 0,{uc:!1,If:!1,eD:r.config.Rh,mE:{hT:r.config.rnb,bQ:r.config.n$,aJb:r.config.qnb},Pj:a,nU:r.config.n9,SE:r.config.SE,dw:r.config.e3,uHb:r.config.snb,Yma:f.nQ(),GCa:f.NH([]),bD:r.config.bD});}function u(a,b){var f;f={ja:b.xid,my:function(){return 0;},S:b.movieId,EJ:!1};r.config.Rh&&(E.info("secure stop is enabled"),b=a.O?{success:a.O,persisted:!0,ss_km:a.RJ,ss_sr:a.Nv,ss_ka:a.DH}:{success:a.O,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.eb,ErrorExternalCode:a.Jc,ErrorEdgeCode:a.xk,ErrorDetails:a.cause&&a.cause.Ga},b.browserua=k.vh,a=new x.qA(f,"securestop",a.O?"info":"error",b),t._cad_global.logBatcher.Vb(a));}function z(){function a(a,b){var f,m;f=l.ah.Yu(b.profileId);if(!f)return E.warn("profile not found in release drm session, this is an orphan drmSession"),c(a,b);if(!b.Cb||0===b.Cb.length||!b.Cb[0].jv)return E.error("releaseDrmSession exception: missing valid keySessionData"),c(a,b);I={Bb:p.Bb,log:E,profile:f};if(0<b.Cb.length){E.info("Sending the deferred playdata and secure stop data");m=g();return m.create(r.config.Wd).then(function(){return m.b4a(b);}).then(function(f){E.info("Sent the deferred playdata and secure stop data");u(f,b);return c(a,b);})["catch"](function(f){f&&f.code===y.I.OOa&&c(a,b);f&&f.code===y.I.JY&&c(a,b);E.error("Unable to send last stop",f);u(f,b);throw f;});}E.info("No key session so just send the playdata");return d(b).then(function(){E.trace("Successfully sent stop command for previous session");return c(a,b);})["catch"](function(a){E.error("Unable to send stop command for previous session",a);throw a;});}h(E).then(function(f){var c;c=f.RQ.filter(function(a){return!1===a.active;}).map(function(b){return a(f,b);});Promise.all(c).then(function(){E.info("release drm session completed for "+c.length+" entries");b(m.Hb);})["catch"](function(a){a=a||{};a.DrmCacheSize=c.length;E.error("Unable to release one or more DRM session data",a);b(m.Hb);});})["catch"](function(a){E.error("Unable to load DRM session data",a);b(m.Hb);});}E=B.Bd("PlayDataManager");b=b||m.Tb;r.config.Mo?b(m.Hb):z();}function c(a,b){return a?a.I9(b):Promise.resolve();}function h(a){var b;if(!d.Ppa){b=B.ba.get(z.xW);d.Ppa=new Promise(function(f,c){b.wya().then(function(){f(b);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);c(b);});});}return d.Ppa;}Object.defineProperty(d,"__esModule",{value:!0});g=a(19);l=a(123);f=a(177);p=a(34);m=a(6);r=a(8);u=a(55);x=a(96);v=a(33);B=a(3);y=a(2);A=a(113);z=a(167);k=a(5);N=a(125);E=a(16);d.JNa=function(a){var p,l,g,x,y;function f(){l||(a.ke("pdsb"),l=B.ba.get(N.jN)().then(function(b){x=b;a.ke("pdsc");return b;})["catch"](function(b){p.error("Unable to initialize the playdata services",b);a.ke("pdse");throw b;}));return l;}function d(){g=!0;x&&x.close();u.he.removeListener(u.Ck,d);}p=B.yf(a,"PlayDataManager");g=!1;if(!v.Cf.Po||!v.Cf.$s){y=v.fga();v.Cf.Po=y.le;v.Cf.$s=y.request;}a.ke("pdctor");a.addEventListener(E.X.Fe,function(){u.he.removeListener(u.Ck,d);});a.addEventListener(E.X.OS,function(){var b;if(!r.config.Mo&&a.gg){b=a.Gh.Doa();h(p).then(function(a){return a.ima(b);})["catch"](function(){p.error("Unable to load/add cached DRM data");});}});a.addEventListener(E.X.Fe,function(){var b;if(!g){a.atb();b=[function(){return r.config.Mo||!a.gg?Promise.resolve():new Promise(function(b){var f;p.info("Sending the expedited playdata and secure stop data");f=a.Gh.Doa();a.gg.M6a(f).then(function(b){p.info("Sent the expedited playdata and secure stop data");r.config.Rh&&a.rD.SU({success:b.O,persisted:!1,ss_km:b.RJ,ss_sr:b.Nv,ss_ka:b.DH});return h(p);}).then(function(a){return c(a,f);}).then(function(){b();})["catch"](function(f){p.error("Unable to send the expedited playdata and secure stop data",f);r.config.Rh&&a.rD.SU({success:f.O,state:f.state,ErrorCode:f.code,ErrorSubCode:f.eb,ErrorExternalCode:f.Jc,ErrorEdgeCode:f.xk,ErrorDetails:f.cause&&f.cause.Ga});b();});});}(),function(){return f().then(function(b){return b.Apb(a);}).then(function(){p.info("Sent the playdata");})["catch"](function(a){p.error("Unable to send the playdata",a);});}(),function(){if(t._cad_global.logBatcher)return new Promise(function(a){t._cad_global.logBatcher.flush(!1)["catch"](function(){p.error("Unable to send logblob");a();}).then(function(){a();});});Promise.resolve();}()];Promise.all(b).then(function(){a.Cwa();})["catch"](function(){a.Cwa();});}});u.he.addListener(u.Ck,d);return{Gnb:function(c){a.ke("pdpb");r.config.WU||f().then(function(b){return b.send(a.S);}).then(function(){r.config.Mo?(a.ke("pdpc"),c(m.Hb)):b(a,function(){a.ke("pdpc");c(m.Hb);});})["catch"](function(){a.ke("pdpe");c(m.Hb);});}};};d.KNa=function(){new Promise(function(a){b({},function(b){a(b);});});};g.Ye(y.I.ht,function(a){a(m.Hb);});},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,v;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(6);c=a(8);h=a(55);l=a(20);f=a(2);p=a(12);m=a(3);r=a(17);u=a(5);x=a(124);v=a(15);g.Ye(f.I.qea,function(a){var z,k,N;function g(){var a;g=b.Tb;a=setInterval(B,c.config.qeb);h.he.addListener(h.Ck,function(b){b&&b.isPopStateEvent?z.trace("popstate event, Lock timers can stay"):(r.tc(k,function(a,b){localStorage.removeItem(b.Tm);}),clearInterval(a));},b.zA);}function B(){var a;a=l.Ox();r.tc(k,function(b,f){b=localStorage.getItem(f.Tm);b=JSON.parse(b);b.updated=a;localStorage.setItem(f.Tm,JSON.stringify(b));});}p.va(x.storage);z=m.Bd("StorageLock");k={};N=Date.now()+"-"+Math.floor(1E6*Math.random());d.BE={IB:function(a,d){var p,h,x,B,y,A,I;function m(a){localStorage.setItem(h,JSON.stringify(a));a={Tm:h};k[h]=a;z.trace("Lock acquired",{Name:a.Tm});g();d({O:!0,TS:a});}if(localStorage){p=l.Ox();h="lock-"+a;a={updated:p,sessionId:N,count:1};try{if(h in localStorage){x=localStorage.getItem(h);y=JSON.parse(x);v.dv(y.updated)&&(B=y.updated);A=u.KF(p-B)*b.Yj<c.config.peb;I=N===y.sessionId;A?I?(y.count+=1,z.debug("Incremented lock count for existing playbackSession",{id:N,count:y.count}),y.updated=p,m(y)):d({O:!1}):(z.error("Lock was expired or invalid, ignoring",{Epoch:p,LockEpoch:B}),m(a));}else m(a);}catch(ja){z.error("Error acquiring Lock",{errorSubCode:f.H.Pe,errorDetails:r.Cc(ja)});d({O:!0});}}else u.Iua?z.error("Local storage access exception",{errorSubCode:f.H.iPa,errorDetails:r.Cc(u.Iua)}):z.error("No localstorage",{errorSubCode:f.H.jPa}),d({O:!0});},release:function(a,f){var c,d;p.va(k[a.Tm]==a);if(localStorage){try{c=localStorage.getItem(a.Tm);d=JSON.parse(c);1<d.count?(--d.count,localStorage.setItem(a.Tm,JSON.stringify(d)),z.trace("Lock count decremented",{Name:a.Tm,count:d.count})):(localStorage.removeItem(a.Tm),delete k[a.Tm],z.trace("Lock released",{Name:a.Tm}));}catch(X){z.error("Unable to release Lock",{Name:a.Tm},X);}f&&f(b.Hb);}}};c.config.cR?d.BE.IB("session",function(f){d.BE.gAa=f;a(b.Hb);}):a(b.Hb);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.DY="PlaybackMilestoneStoreSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BY="PlayPredictionDeserializerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.NS=function(a,b,c){var d;if(c.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=c.get;c.get=function(){var l,f;l=d.apply(this,arguments);f={enumerable:c.enumerable,value:l};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,f):Object.defineProperty(this,b,f);return l;};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iga="PboPlaydataValidatorSymbol";d.Fga="PboPlaydataArrayValidatorSymbol";d.Gga="PboPlaydataCollectionValidatorSymbol";},function(g,d,a){var f,p,m,r,u;function b(a,b,f){this.Ka=a;this.Bsa=b;this.Va=f;}function c(){}function h(){}function l(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);p=a(36);m=a(4);r=a(22);a=a(24);l.prototype.encode=function(a){return{downloadableId:a.sd,duration:a.duration};};l.prototype.decode=function(a){return{sd:a.downloadableId,duration:a.duration};};h.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new l().encode),video:a.video.map(new l().encode),text:a.text.map(new l().encode)};};h.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new l().decode),video:a.video.map(new l().decode),text:a.text.map(new l().decode)};};c.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.ja,movieId:a.S,position:a.position,clientTime:a.AH,sessionStartTime:a.bL,mediaId:a.Oy,playTimes:new h().encode(a.pK),trackId:a.Wb,sessionId:a.sessionId,appId:a.dH,sessionParams:a.zi,mdxControllerEsn:a.I7};};c.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,ja:a.xid,S:a.movieId,position:a.position,AH:a.clientTime,bL:a.sessionStartTime,Oy:a.mediaId,pK:new h().decode(a.playTimes),Wb:a.trackId,sessionId:a.sessionId,dH:a.appId,zi:a.sessionParams,I7:a.mdxControllerEsn};};d.yY=c;b.prototype.Au=function(a,b){var f;f={href:a.Ha&&a.Ha.Ey?a.Ha.Ey.K4("events").href:"",type:"online",profileId:a.profile.id,ja:a.ja.toString(),S:a.S,position:a.ly()||0,AH:this.Ka.G$.ma(m.za),bL:a.cD?a.cD.ma(m.za):-1,Oy:this.W8a(a),pK:this.q$a(a),Wb:void 0!==a.Tf?a.Tf.toString():"",sessionId:this.Bsa().sessionId||this.Va.id,dH:this.Bsa().dH||this.Va.id,zi:a.Ta.zi||{}};b&&(f=Object.assign({},f,{I7:a.iQ}));return f;};b.prototype.load=function(a){return new c().decode(a);};b.prototype.W8a=function(a){var b,f,c;b=a.Mc.value;f=a.af.value;c=a.pc.value;return b&&f&&c?(a=a.Ha.media.find(function(a){return a.tracks.AUDIO===b.Wb&&a.tracks.VIDEO===f.Wb&&a.tracks.TEXT===c.Wb;}))?a.id:"":"";};b.prototype.Q4=function(a){return a.map(function(a){return{sd:a.downloadableId,duration:a.duration};});};b.prototype.q$a=function(a){return(a=a.vo)?(a=a.p$a(),{total:a.total,audio:this.Q4(a.audio),video:this.Q4(a.video),text:this.Q4(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=g.__decorate([f.N(),g.__param(0,f.l(p.Fi)),g.__param(1,f.l(r.we)),g.__param(2,f.l(a.Oe))],u);d.CNa=u;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aY="ManifestProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dN="NetworkMonitorFactorySymbol";},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(34);c=a(8);h=a(6);l=a(20);f=a(2);p=a(3);m=a(325);r=a(88);g.Ye(f.I.wea,function(a){var f;f=p.ba.get(r.Ts);c.config.b3&&(d.qoa=new m.tM({v0:f.endpoint+c.config.s0a,Bb:b.Bb,Ka:{MR:l.Ox},rT:600,log:p.Bd("Congestion")}));a(h.Hb);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zea="LogMessageRulerConfigSymbol";d.$ea="LogMessageRulerSymbol";},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(2);h=a(345);l=a(344);f=a(42);d.RCa=function(a,d){var m,p;try{m=h.qtb(a);}catch(x){b.log.error("xml2xmlDoc exception",x);}f.ib(function(){if(m&&m.documentElement)try{p=l.rtb(m);}catch(x){b.log.error("xmlDoc2js exception",x);}f.ib(function(){p?d({O:!0,object:p}):d({O:!1,T:c.H.Cda});});});};},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);c=a(18);h=a(6);l=a(126);f=a(5);p=a(15);m=a(17);d.xib=function(){var ba,R,T,D,ja,da,ga,V,P,ma,ca,la;function a(a){if(c.ev(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.Dib[a];}}function g(a,b,c){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return f.wj(b,c);}function x(a,b){var f,c;f=a.length;c=a[f-1];if("t"===c)return parseFloat(a)*b|0;if("s"===c)return"m"===a[f-2]?parseFloat(a)|0:parseFloat(a)*h.Yj|0;if((a=a.match(P))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*h.Yj|0;throw Error("dfxp-badtime");}function v(a,b,f,c,d){var m,p,l,r,g,h,u,v;if(a){p=a.style;f=p?f[p]:void 0;c=(p=a.region)?c[p]:void 0;p=d.length;for(l=0;l<p;l++)if(r=d[l],g=a[r],void 0===g&&f&&(g=f[r]),void 0===g&&c&&(g=c[r]),void 0!==g&&g!==b[r]){if(!m)for(m={},h=0;h<p;h++)u=d[h],v=b[u],void 0!==v&&(m[u]=v);m[r]=g;}}return m||b;}function B(a,b,f,d,m,p,r,g,h){var x,B;function u(a,y,A){var z,I,P,E,N,n;z=a[l.Di];I=z.style||y.style||"";P=z.region||y.region||"";I||P?(E=I+"/"+P,N=f[E]):N=b;if(!N){N=b;n=c.eL(d);c.Ma(n,m[I]);N=k(N,n,r,g,h);f[I+"/"]=N;P&&(c.Ma(n,p[P]),c.Ma(n,m[I]),N=k(N,n,r,g,h),f[E]=N);}if(!A)a:{for(A=da.length;A--;)if(void 0!==z[da[A]]){A=!0;break a;}A=void 0;}A&&(z=v(z,y,m,p,ga),N=k(N,z,r,g,h));y=(a=a[l.eW])&&a.length;for(I=0;I<y;I++)P=a[I],c.re(P)?ma.test(P[l.fW])?B++:u(P,z,A):(x.push({text:P,lineBreaks:B,style:N}),B=0);}x=[];B=0;u(a,d,!1);0<B&&x.push({text:"",lineBreaks:B,style:b});return x;}function y(a,b,f,c,d,m,p,l){var r,g;f&&(f=R[f]||"top",a.verticalAlignment!==f&&(a.verticalAlignment=f));c&&(f=T[c]||"left",a.horizontalAlignment!==f&&(a.horizontalAlignment=f));d?((g=l[d])?(c=g.marginLeft,f=g.marginTop):(r=d.split(" "),c=n(r[0],p.x)||0,f=n(r[1],p.y)||0,g={vp:0,marginLeft:c,marginTop:f,GXa:c*b.p5+b.VI,IXa:f*b.oba+b.WV},30>l.vp&&(l.vp++,l[d]=g)),a.marginLeft=g.GXa,a.marginTop=g.IXa):(f=c=0,(g=l["default"])||(l["default"]=g={vp:0}));m&&(d=g[m],d||(r=m.split(" "),d={HXa:(1-(c+(n(r[0],p.x)||0)))*b.p5+b.VI,FXa:(1-(f+(n(r[1],p.y)||0)))*b.oba+b.WV},30>g.vp&&(g.vp++,g[m]=d)),a.marginRight=d.HXa,a.marginBottom=d.FXa);}function A(a,b,f,d,m){var p,l,r;p=a.displayAlign;l=a.textAlign;r=a.origin;a=a.extent;f=c.eL(f);y(f,b,p,l,r,a,d,m);f.id=ba++;return f;}function z(b,f,m,p){var l,r,h,u,v,x;l=g(m.characterSize||f.characterSize,d.Eib,2)||1;r=(r=b.fontSize)&&ca.test(r)?c.Fq(c.Dd(r),25,200):void 0;l*=r/100||1;r=b.textOutline;if(r&&"none"!=r){u=r.split(" ");la.test(u)?(x=0,v=b.color):(x=1,v=a(u[0]));h=E(u[x]);u=E(u[x+1]);}return{characterStyle:m.characterStyle||d.Fib[b.fontFamily]||f.characterStyle,characterSize:l*p,characterColor:a(m.characterColor||b.color||f.characterColor),characterOpacity:g(c.fg(m.characterOpacity,b.opacity,f.characterOpacity),d.F8,1),characterEdgeAttributes:m.characterEdgeAttributes||r&&("none"===r?d.Bib:u?d.E8:d.txa)||f.characterEdgeAttributes,characterEdgeColor:a(m.characterEdgeColor||v||f.characterEdgeColor),characterEdgeWidth:h,characterEdgeBlur:u,characterItalic:"italic"===b.fontStyle,characterUnderline:"underline"===b.textDecoration,backgroundColor:a(m.backgroundColor||b.backgroundColor||f.backgroundColor),backgroundOpacity:g(c.fg(m.backgroundOpacity,b.opacity,f.backgroundOpacity),d.F8,1)};}function k(a,b,c,d,p){var r;b=z(b,c,d,p);m.tc(b,function(b,c){c!==a[b]&&(r||(r=f.RF(a)),r[b]=c);});return r||a;}function N(a,b,c,d,m,p,r,g){var h;h=a[l.Di];c=v(a[l.Di],b,c,m,V);b=c.region;a=h.displayAlign;c=c.textAlign;m=h.origin;h=h.extent;b||a||c||m||h?((d=d[b])?d=f.RF(d):a||m||h?(d=f.RF(ja),d.id=ba++):d=f.RF(D),y(d,p,a,c,m,h,r,g)):d=D;return d;}function E(a){a=c.Dd(a);return p.dv(a,0,100)?a:0;}function n(a,b){var f;f=a[a.length-1];if("%"===f)return c.Fq(.01*parseFloat(a),0,1);if("c"===f)return c.Fq(c.Dd(a)/b,0,1);}function q(a){for(var b=a.length,c=a[--b].endTime;b--;)c=f.wj(a[b].endTime,c);return c;}function K(b){m.tc(b,function(f,c){0<=f.toLowerCase().indexOf("color")&&(b[f]=a(c));});}function t(a,c){var d,m,p,r;d=a.pixelAspectRatio;r={VI:0,p5:1,WV:0,oba:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(d=(d||"").split(" "),m=parseFloat(a[0])*(parseFloat(d[0])||1),p=parseFloat(a[1])*(parseFloat(d[1])||1));m=0<m&&0<p?m/p:1280/720;c=c||1280/720;d=m/c;.01<f.KF(c-m)&&(c>=m?(r.VI=(1-d)/2,r.p5=d):b.va(!1,"not implemented"));return r;}function W(a){var b,f,m,p,r;if(b=a.cellResolution)if(b=b.split(" "),2<=b.length){f=c.Dd(b[0]);b=c.Dd(b[1]);if(0<f&&0<b)return{x:f,y:b};}b=a.extent;if(b&&(b=b.split(" "),2<=b.length)){f=c.Dd(b[0]);r=c.Dd(b[1]);if(a=a.pixelAspectRatio)b=a.split(" "),m=c.Dd(b[0]),p=c.Dd(b[1]);if(f&&r&&1.5<f*(m||1)/(r*(p||1)))return d.zib;}return d.yib;}ba=1;R={before:"top",center:"center",after:"bottom"};T={left:"left",start:"left",center:"center",right:"right",end:"right"};D={id:ba++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};ja={id:ba++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};da="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");ga=da.concat(["style","region"]);V=["region","textAlign","displayAlign","extent","origin"];P=/^([0-9]+):([0-9]+):([0-9.]+)$/;ma=/^br$/i;ca=/^[0-9]{1,3}%$/;la=/^[0-9]/;return function(b,m,p,r,u){var P,E,ma,n,qa,ca,O,D,T,la,R,X,ta,da,fa,w,Ta,La,$a,J,Vc,U,Y,aa,ea,ha,Me,ia,ka,na;function y(){try{for(var a;Y;)if(T=Y[l.Di],aa.push({id:ba++,startTime:x(T.begin,ma),endTime:x(T.end,ma),region:N(Y,ha,ca,D,O,n,da,La),textNodes:B(Y,Me,ia,ea,ca,O,w,Ta,fa)}),Y=Y[l.$E],a=f.zM(),100<a-ka){ka=Date.now();na=setTimeout(y,1);return;}}catch(rf){I({T:c.H.FM,Ga:c.Cc(rf)});return;}na=setTimeout(k,1);}function k(){var b,f,d,m,p,r,l;function a(a,d){for(var m,p=[],r={},l,g=f.length;g--;)m=f[g],l=m.region.id,r[l]||(r[l]=1,p.unshift(m));(m=b[b.length-1])&&m.endTime==a&&c.yu(m.blocks,p)?m.endTime=d:b.push({id:ba++,startTime:a,endTime:d,blocks:p});}try{if(!aa.length){I({O:!0,entries:[]});return;}c.dYa(aa);b=[];f=[];d=aa[0];p=aa[0].startTime;for(r=1;f.length||d;){for(;!f.length||d&&d.startTime==p;)f.push(d),p=d.startTime,d=aa[r++];m=q(f);if(!d||m<=d.startTime)for(a(p,m),p=m,l=f.length;l--;)f[l].endTime<=p&&f.splice(l,1);else a(p,d.startTime),p=d.startTime,f.push(d),d=aa[r++];}for(r=b.length;r--;)b[r].index=r,b[r].previous=b[r-1],b[r].next=b[r+1];}catch(sf){I({T:c.H.FM,Ga:c.Cc(sf)});return;}I({O:!0,entries:b});}function I(a){setTimeout(function(){P.abort=c.Tb;u(a);},1);}P={abort:function(){na&&clearTimeout(na);}};try{E=b[l.Di];ma=h.Yj/(c.Dd(E.tickRate)||1);n=t(E,m);qa=c.Ma(ja,{marginLeft:n.VI,marginTop:n.WV,marginRight:n.VI,marginBottom:n.WV});ca={};O={};D={};X=b.head;ta=b.body;da=W(E);fa=1/da.y*n.oba;w=c.Ma({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.E8,characterEdgeColor:"#000000",characterSize:1},p,{Sp:!0});Ta=r||{};La={vp:0};if(X){$a=X.styling;if($a)for(R=$a.style;R;)T=R[l.Di],K(T),ca[T.id]=T,R=R[l.$E];J=X.layout;if(J)for(var Yb=J.region;Yb;){T=Yb[l.Di];Vc=T.id;la=c.eL(ca[T.style]);la=c.Ma(la,T);for(R=Yb.style;R;)c.Ma(la,R[l.Di]),R=R[l.$E];K(la);O[Vc]=la;D[Vc]=A(la,n,qa,da,La);Yb=Yb[l.$E];}}U=ta.div;Y=U.p;aa=[];ea={};ea=v(ta[l.Di],ea,ca,O,ga);ea=v(U[l.Di],ea,ca,O,ga);ha={};ha=v(ta[l.Di],ha,ca,O,V);ha=v(U[l.Di],ha,ca,O,V);Me=z(ea,w,Ta,fa);c.Ma(Me,{windowColor:a(Ta.windowColor||w.windowColor),windowOpacity:g(c.fg(Ta.windowOpacity,w.windowOpacity),d.F8,1),cellResolution:da},{Sp:!0});ia={};U.p=void 0;U[l.eW]=[];}catch(pf){I({T:c.H.FM,Ga:c.Cc(pf)});return;}ka=f.zM();na=setTimeout(y,1);return P;};}();d.Fib={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.Eib={SMALL:.5,MEDIUM:1,LARGE:2};d.F8={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.Dib={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.Bib="NONE";d.Cib="RAISED";d.Aib="DEPRESED";d.txa="UNIFORM";d.E8="DROP_SHADOW";d.yib={x:40,y:19};d.zib={x:52,y:19};},function(g,d,a){var l;function b(){}function c(a,b){this.Im=a;void 0!==b?(l(b<=a.dn,"require remain_sec <= chunk.sec but has "+b+" and "+a.dn),this.Qh=b):this.Qh=a.dn;}function h(a){void 0===a&&(a=[]);this.yi=[];this.nf=this.Bi=0;for(var b in a)this.add(a[b],void 0);}l=a(14);b.prototype=Error();c.prototype.constructor=c;c.prototype.qp=function(){return new c(this.Im,this.Qh);};h.prototype.constructor=h;h.prototype.add=function(a,b){a=new c(a,b);this.yi.push(a);this.nf+=a.Qh;this.Bi+=a.Im.Xr()*a.Qh;};h.prototype.qp=function(){var a,b;a=new h(void 0);for(b in this.yi)a.add(this.yi[b].Im,this.yi[b].Qh);return a;};h.prototype.co=function(){try{return this.yi[0];}catch(f){}};h.prototype.Kxa=function(a){var f;for(l(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.co())throw new b();if(a<this.co().Qh){f=this.co().Im.Xr()*a;this.co().Qh-=a;this.nf-=a;this.Bi-=f;a=0;}else f=this.yi.shift(),this.nf-=f.Qh,this.Bi-=f.Im.Xr()*f.Qh,a-=f.Qh;}};h.prototype.Bjb=function(a){var c;l(0<=a,"unexpected play_y_kb: y="+a);for(var f=0;0<a;){if(void 0===this.co())throw new b();if(a<this.co().Qh*this.co().Im.Xr()){c=a/this.co().Im.Xr();this.co().Qh-=c;this.nf-=c;this.Bi-=a;f+=c;a=0;}else c=this.yi.shift(),this.nf-=c.Qh,this.Bi-=c.Im.Xr()*c.Qh,f+=c.Qh,a-=c.Im.Xr()*c.Qh;}return f;};g.M={kca:h,oEa:b};},function(g,d,a){var b,c;b=a(193);c={};g.M={iEb:function(a){a=a.map(b.oo);return a.slice(0,a.length/2);},hEb:function(a,b){var f;f=b/a.length;return a.slice(0,a.length/2).map(function(a,b){return b*f;});},u3:function(a,b){var f;f=a/b*Math.PI*-2;c[b]=c[b]||{};c[b][a]=c[b][a]||[Math.cos(f),Math.sin(f)];return c[b][a];}};},function(g){g.M={add:function(d,a){return[d[0]+a[0],d[1]+a[1]];},Jd:function(d,a){return[d[0]-a[0],d[1]-a[1]];},multiply:function(d,a){return[d[0]*a[0]-d[1]*a[1],d[0]*a[1]+d[1]*a[0]];},oo:function(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1]);}};},function(g,d,a){var b,c,h;b=a(193);c=a(192);h=a(682);g.M={D3:function f(a){var d,p,g,v,B;d=[];p=a.length;if(1==p)return Array.isArray(a[0])?[[a[0][0],a[0][1]]]:[[a[0],0]];g=f(a.filter(function(a,b){return 0==b%2;}));a=f(a.filter(function(a,b){return 1==b%2;}));for(var h=0;h<p/2;h++){v=g[h];B=b.multiply(c.u3(h,p),a[h]);d[h]=b.add(v,B);d[h+p/2]=b.Jd(v,B);}return d;},Eqa:function(a){var g,x,v;for(var f=a.length,d=h.J0a(f),r=0;r<f;r++){g=h.reverse(r)>>>h.RIa-d;if(g>r){x=[a[r],0];a[r]=a[g];a[g]=x;}else a[g]=[a[g],0];}for(d=2;d<=f;d+=d)for(r=0;r<d/2;r++)for(g=c.u3(r,d),x=0;x<f/d;x++){v=b.multiply(g,a[x*d+r+d/2]);a[x*d+r+d/2]=b.Jd(a[x*d+r],v);a[x*d+r]=b.add(a[x*d+r],v);}}};},function(g,d,a){(function(){var F6h,B,y,A,z,k,N,E,n,q,K,t,W,ba,R,T,D,ja,K1e;function l(a,b){var Y6h,c,f,Z7e,d7e;Y6h=2;while(Y6h!==12){Z7e="hi";Z7e+="st_";Z7e+="t";Z7e+="hrough";Z7e+="put";d7e="hist_td";d7e+="i";d7e+="g";d7e+="e";d7e+="st";switch(Y6h){case 9:a=D(f.Ek,{});Y6h=7;break;case 7:Y6h=(c=B.ka(b.VU)&&0<=b.VU&&100>=b.VU&&!B.V(a)&&!B.Na(a))?6:14;break;case 6:a.kg=T.o$a(a),c=B.rb(a.kg)?!0:!1;Y6h=14;break;case 2:f=new t();f.Eo=a;a=f.Eo.Ia||{};f.Ek=a.nk&&a.Zl;f.Jl=a.nk?a.nk:0;Y6h=9;break;case 14:c?(b=a.kg(b.VU/100)||f.Eo.pa,f.as=b,f.reason=d7e):f.Eo.pa&&(b=f.Eo.pa,f.as=b,f.reason=Z7e);return f;break;}}}function x(a,b,f,c,d,m){var p6h,R,X,V,ba,l,h,v,x,A,z,k,I,P,n,ma,qa,q,K,ca,O,D,T,L7e,B7e;p6h=2;while(p6h!==21){L7e="player";L7e+=" ";L7e+="missing";L7e+=" streamingInde";L7e+="x";B7e="Must h";B7e+="av";B7e+="e at least one se";B7e+="lected s";B7e+="tream";switch(p6h){case 7:return u.call(this,f);break;case 18:R=p(d,k,a.z5),X=p(d,k+R,a.i7);p6h=17;break;case 25:ca=!0;p6h=16;break;case 20:p6h=c+1<f.length?19:25;break;case 19:p6h=g.call(this,I,A)?18:16;break;case 6:d.Y&&d.Y.length||(d.maa=!0);P=ja.from(b.buffer.Y);ma=b.buffer.xu;p6h=12;break;case 24:p6h=d.Y&&d.Y.length?23:16;break;case 8:p6h=ma==y.OM.zQa||!d.pa?7:6;break;case 26:return l;break;case 22:(d=W(f.slice(0,c).reverse(),function(a,b){var V6h;V6h=2;while(V6h!==1){switch(V6h){case 2:return r(a,f[Math.max(c-b-2,0)],h,V,ba,!0);break;}}}))||(d=f[0],ca=!0);p6h=16;break;case 16:l.Eo=d||h;l.HH=ca;l.a3a=!O;p6h=26;break;case 10:p6h=(O=r(d,f[Math.max(c-1,0)],d,O,T,!1))?20:24;break;case 17:d=W(f.slice(c+1,a.$$&&I>=a.tba?f.length:c+2),function(a,b){var s6h;s6h=2;while(s6h!==1){switch(s6h){case 2:return r(a,f[c+b],h,R,X,!1);break;case 4:return r(a,f[c*b],h,R,X,+3);break;s6h=1;break;}}});p6h=16;break;case 23:V=p(d,k,a.y5),ba=p(d,k+V,a.h7);p6h=22;break;case 12:0<a.AD&&(ma=Math.min(ma,a.AD));n=ma-P.Z;p6h=10;break;case 2:E(!B.V(c),B7e);E(B.ka(b.Uv),L7e);l=new t(),h=d=f[c],v=b.buffer.U,x=b.buffer.uf,A=b.buffer.Ra,z=b.buffer.yl,k=b.Uv,I=z-x,ma=this.oO||y.OM.Tg,qa=b.state===y.Da.Df||b.state===y.Da.Iq?b.buffer.Av:0,q=a.G7,K=a.Jy?a.Jy:1E3;O=p(d,k,a.x5);F6hh.f7e(1);T=p(d,F6hh.v7e(O,k),a.g7);this.Cka||(this.Cka=Math.min(d.P,a.kT));p6h=8;break;}}function g(b,f){var t6h;t6h=2;while(t6h!==1){switch(t6h){case 2:return b>a.Iy&&(B.V(this.Hp)||this.mD>this.Hp||f-this.Hp>a.SS&&b>a.k7);break;}}}function r(f,c,d,p,r,g){var A7X=F6hh;var O6h,R,X,W,V,B,y,I,u,ma,ca,ta,t,T,la,ba,ja,da,h,O,W7e,q7e,a7e,N7e,M7e,b7e,S7e,C7e,m7e,t7e;O6h=2;while(O6h!==49){W7e="Seco";W7e+="nd stream ha";W7e+="s f";W7e+="ail";W7e+="ed";q7e="Second stream n";q7e+="ot i";q7e+="n";q7e+=" range";a7e="First";a7e+=" str";a7e+="eam un";a7e+="available";N7e="Fir";N7e+="st ";N7e+="strea";N7e+="m und";N7e+="efined";M7e="Seco";M7e+="nd";M7e+=" stream un";M7e+="availab";M7e+="le";b7e="Seco";b7e+="nd stream ";b7e+="undefined";S7e="First ";S7e+="stream";S7e+=" has failed";C7e="First stream not";C7e+=" in r";C7e+="ang";C7e+="e";switch(O6h){case 6:O6h=h>=f.P*u?14:13;break;case 30:r=!1;O6h=29;break;case 23:E(f.inRange,C7e);E(!f.Lh,S7e);E(B,b7e);E(B.Je,M7e);O6h=34;break;case 16:R=b.Meb;p=f.pa;X=y.length,W=f.Y&&f.Y.length,V=B.Y&&B.Y.length;a.n7&&(t=Math.min(t,ma-I));E(f,N7e);E(f.Je,a7e);O6h=23;break;case 1:O6h=D&&!D.g7a&&D.pa>=h&&D.P<=f.P?5:4;break;case 40:R=T;O6h=39;break;case 13:d=!a.U1||f===d||f.Sb===d.Sb&&m?0:(d=f.Ia)&&d.pg&&d.pg.Aa?d.pg.Aa+a.R1*(d.pg.Pg?Math.sqrt(d.pg.Pg):0):0;B=c,y=P,I=x+d-v,u=q,ma=z-v;A7X.E7e(0);d=A7X.v7e(A,v);ca=k;O6h=20;break;case 5:return!1;break;case 50:T=Math.max(0,Math.min(T,f.Y.length-ca)),la=Math.max(0,Math.min(la,B.Y.length-ca-T)),0<T&&X.push(f.Y.tE.subarray(ca,ca+T)),0<la&&X.push(B.Y.tE.subarray(ca+T,ca+T+la));O6h=53;break;case 8:O6h=h>=Math.max(f.bT,f.P*u)&&!f.hV?7:13;break;case 7:return!0;break;case 53:O6h=0<T||0<la?52:51;break;case 38:W=Math.min(R,f.Y.length-ca),X.push(f.Y.tE.subarray(ca,ca+W)),R-=W,ca+=W,ca>=f.Y.length&&(ca=0);O6h=39;break;case 41:O6h=R?40:50;break;case 52:a:{m7e=" >";m7e+="= fragmentsLe";m7e+="ngth: ";t7e="St";t7e+="reamingIndex";t7e+=": ";X=y.concat(X);V=I;A7X.f7e(1);B=A7X.v7e(T,c);W=t;ta=a.VJ;t=a.lL;y=X.ha;T=Math.min(X.length,c+T+la);la=X.Td;I=X.sizes;A7X.E7e(0);da=A7X.v7e(ma,V);ma=Infinity;ca=R=0;X=X.Td[0];A7X.f7e(2);u=A7X.v7e(1E3,y,u,X);A7X.E7e(3);X=A7X.v7e(0,p,g,8);A7X.f7e(4);g=A7X.v7e(p,8,0);A7X.f7e(5);p=A7X.k7e(1E3,y);c>=T&&N.error(t7e+c+m7e+T);V+=X;0===d&&(V=0);A7X.f7e(5);V*=A7X.k7e(1E3,y);A7X.f7e(5);d*=A7X.v7e(1E3,y);A7X.f7e(5);ta*=A7X.v7e(1E3,y);A7X.E7e(5);W*=A7X.k7e(1E3,y);for(da*=y/1E3;c<T;){ba=I[c];ja=la[c];if(O<ba){for(R=Math.max(ba,r);O<R;){V=u;O+=I[ca];++ca;X=la[ca];u+=X;}if(!t&&(X=d-V,X<ta)){r={result:!1,l7:X/(y/1E3),Fl:!1};break a;}A7X.f7e(0);X=A7X.v7e(d,V);}else if(X=Math.max(d-V,0),X<W&&X<R){r={result:!1,l7:Math.min(X,ma)/(y/1E3),Fl:!0};break a;}A7X.f7e(6);V+=A7X.k7e(ba,g,p,0);d+=ja;for(O-=ba;u<V&&ca<c;){O+=I[ca];++ca;u+=la[ca];}++c;if(c>=B&&X>da)break;R=X;ma=Math.min(X,ma);}r={result:!0,l7:ma/(y/1E3),Fl:!0};}O6h=29;break;case 4:g||B||(f.maa=!0);O6h=3;break;case 43:V||(B=f);X=[];O6h=41;break;case 29:r&&(r.result&&(l.m7=r.l7),a.lL||(f.Fl=!!r.Fl));D={g7a:r&&r.result,pa:h,P:f.P};return r&&r.result;break;case 2:h=f.pa,u=g?a.B3:a.mR,B=f.Y&&f.Y.length;O6h=1;break;case 34:E(B.inRange,q7e);E(!B.Lh,W7e);A7X.E7e(7);E(A7X.v7e(X,c));O6h=31;break;case 14:return!0;break;case 51:r=p>f.bT?{result:!0,Neb:0,Fl:!0}:{result:!1,Neb:0,Fl:!0};O6h=29;break;case 9:O6h=B&&!a.lL?8:6;break;case 39:O6h=0<R?38:37;break;case 36:O6h=0<R?54:53;break;case 54:W=Math.min(R,B.Y.length-ca),X.push(B.Y.tE.subarray(ca,ca+W)),R-=W,ca+=W,ca>=B.Y.length&&(ca=0);O6h=36;break;case 20:c=P.length;g=qa;O=n,T=p,la=r,t=K;r=b.Z4a;O6h=16;break;case 3:O6h=!g||!B?9:13;break;case 37:R=la;O6h=36;break;case 31:O6h=!p||p<f.P*a.w5||!W?30:43;break;}}}function p(a,b,f){var l6h;l6h=2;while(l6h!==1){switch(l6h){case 4:return a.Y?a.Y.Z1(b,f):4;break;l6h=1;break;case 2:return a.Y?a.Y.Z1(b,f):0;break;}}}}function p(a,f,d){var w6h,m,p;w6h=2;while(w6h!==3){switch(w6h){case 2:m=new t();p=Math.max(a.sv,a.kT,f.j6?a.T7:-Infinity);m.Eo=W(d.filter(function(b){var f6h;f6h=2;while(f6h!==1){switch(f6h){case 4:return b.P>=a.Ly;break;f6h=1;break;case 2:return b.P<=a.Ly;break;}}}).reverse(),function(f){var L6h,d,r,g,x1e,s1e,u1e,g1e;L6h=2;while(L6h!==7){x1e="no_his";x1e+="torical_l";x1e+="te_minbitrate";s1e="hist_tp";s1e+="ut_lt_min";s1e+="bitrate";u1e="lt_his";u1e+="t_lte_";u1e+="mi";u1e+="nbit";u1e+="rate";g1e="h";g1e+="ist_b";g1e+="u";g1e+="fftim";g1e+="e";switch(L6h){case 2:d={pa:f.pa,nk:f.Ia&&f.Ia.nk,Zl:f.Ia&&f.Ia.Zl};L6h=1;break;case 1:L6h=f.P>p?5:8;break;case 9:return d;break;case 5:f=f.P;g=d.pa;L6h=3;break;case 3:g?(r=b(a,f),c(f,g,a)<=r?(m.as=g,d&&(m.Jl=d.nk?d.nk:0,m.Ek=d.nk&&d.Zl),m.reason=g1e,d=!0):d=!1):d=!1;L6h=9;break;case 8:r=d.pa,f.P<=r?(m.as=r,d&&(m.Jl=d.nk?d.nk:0,m.Ek=d.nk?d.Zl:void 0),m.reason=u1e,d=!0):r?(m.as=r,d&&(m.Jl=d.nk?d.nk:0,m.Ek=d.nk?d.Zl:void 0),m.reason=s1e,d=!1):(m.reason=x1e,d=!0);L6h=9;break;}}})||d[0];return m;break;}}}function r(a,b,f){var z6h,d,m,p,r,e1e,G1e;z6h=2;while(z6h!==7){e1e="no";e1e+="_";e1e+="feasible_s";e1e+="tream";G1e="Must have";G1e+=" at least one selecte";G1e+="d stream";switch(z6h){case 2:E(!B.V(f),G1e);d=b[f],m=d;d.pa&&(d=W(b.slice(0,Math.min(f+(a.PXa?2:1),b.length)).reverse(),c),void 0===d&&(d=b[0],r=e1e,p=d.pa));z6h=4;break;case 4:b=new t();b.Eo=d;m!==d&&(b.reason=r,b.as=p);return b;break;}}function c(b){var I6h,f,w1e;I6h=2;while(I6h!==8){w1e="b";w1e+="uff_lt_";w1e+="hi";w1e+="st";switch(I6h){case 5:return!1;break;case 2:f=b.pa;I6h=1;break;case 1:I6h=!f||(b.P>d.P?a.rsb:1)*b.P>f?5:4;break;case 4:r=w1e;p=f;return!0;break;}}}}function d(a,b){var q6h,f,V1e,Q1e,n6h;q6h=2;while(q6h!==9){V1e="s";V1e+="ig";V1e+="m";V1e+="oid";Q1e="l";Q1e+="o";Q1e+="g";switch(q6h){case 2:F6hh.f7e(8);n6h=F6hh.k7e(100019,4,15);a=K(a,0,n6h)/1E3;q6h=1;break;case 5:f=b.Tza[b.UU];return f&&2==f.length?1E3*(f[0]+f[1]*Math.log(1+a)):b.gs;break;case 1:q6h=0===b.UU.lastIndexOf(Q1e,0)?5:3;break;case 3:return 0===b.UU.lastIndexOf(V1e,0)?(f=b.Tza[b.UU])&&2==f.length?1E3*(f[0]+f[1]*R(a)):b.gs:b.gs;break;}}}function f(a,b){var i6h,f,m,p,r,g,h,n1e,T1e,R1e,j1e,Y1e;i6h=2;while(i6h!==8){n1e="no_su";n1e+="itabl";n1e+="e_";n1e+="s";n1e+="tream";T1e="De";T1e+="la";T1e+="yTarget";R1e="B";R1e+="i";R1e+="t";R1e+="ra";R1e+="te";j1e="VM";j1e+="A";j1e+="F";Y1e="no_";Y1e+="v";Y1e+="a";Y1e+="l";Y1e+="id_";switch(i6h){case 4:h--;i6h=1;break;case 2:f=a.V7&&a.Bva,f=f&&b.filter(function(a){var M6h;M6h=2;while(M6h!==1){switch(M6h){case 2:return 110>=a.qc&&0<a.qc;break;case 4:return 581<a.qc||7<=a.qc;break;M6h=1;break;}}}).length==b.length,m=null,p=!1,r=!1,g=!1,h=b.length-1;i6h=1;break;case 5:g=[Y1e],!p&&f&&g.push(j1e),p||f||g.push(R1e),r||g.push(T1e),m.reason=g.join("");i6h=4;break;case 3:B.Na(m)&&(m=l(b[0],a),m.reason=n1e);return m;break;case 1:i6h=0<=h&&(f?b[h].qc>=a.V7:b[h].P>=a.sv)&&!(p=b[h],m=l(p,a),r=c(p.P,m.as,a),g=d(m.as,a),m.gJ=r,r=r<g,p=f?p.qc>=a.V7&&p.qc<=a.Bva:p.P>=a.sv&&p.P<=a.Ly,g=r&&p)?5:3;break;}}}F6h=2;function v(a,b,f,c){var r6h,c1e;r6h=2;while(r6h!==1){c1e="p";c1e+="la";c1e+="y";c1e+="in";c1e+="g";switch(r6h){case 2:return c1e===a.f1?x(a,b,f,c):r(a,f,c);break;}}}function b(a,b){var W6h,f,c;W6h=2;while(W6h!==13){switch(W6h){case 5:W6h=0===c?4:3;break;case 4:return f[0].d;break;case 2:W6h=a.pS?1:14;break;case 1:f=a.pS,c=ba(f,function(a){var v6h;v6h=2;while(v6h!==1){switch(v6h){case 2:return b<=a.r;break;case 4:return b>=a.r;break;v6h=1;break;}}});W6h=5;break;case 8:F6hh.f7e(0);a=f[F6hh.v7e(c,1)];f=f[c];return Math.floor(a.d+(f.d-a.d)*(b-a.r)/(f.r-a.r));break;case 9:return f[f.length-1].d;break;case 14:return a.gs;break;case 3:W6h=-1===c?9:8;break;}}}while(F6h!==4){K1e="1SI";K1e+="Yb";K1e+="Zr";K1e+="NJCp9";switch(F6h){case 2:B=a(11),y=a(13),A=a(43),z=a(7),k=a(205),N=A.console,E=A.assert,n=A.ygb,q=A.GZa,K=A.$B,t=A.Xo,W=A.bYa,ba=A.Rma,R=a(60).Yob,T=a(206),D=a(48),ja=k.yPa;g.M={STARTING:function(a,b,c){var T6h,I1e;T6h=2;while(T6h!==1){I1e="histor";I1e+="i";I1e+="cal";switch(T6h){case 2:return I1e===a.X5?m(a,b,c):a.cma?f(a,c):p(a,b,c);break;}}},BUFFERING:v,REBUFFERING:v,PLAYING:x,PAUSED:x};K1e;F6h=4;break;}}function u(a){var o6h,b,f;o6h=2;while(o6h!==3){switch(o6h){case 2:b=new t(),f=this.Cka;b.Eo=W(a,function(a){var G6h;G6h=2;while(G6h!==1){switch(G6h){case 4:return a.P<f;break;G6h=1;break;case 2:return a.P>=f;break;}}})||a[a.length-1];b.HH=!0;return b;break;}}}function c(a,b,f){var C6h;C6h=2;while(C6h!==5){switch(C6h){case 2:a=q(f.ri,a*f.L7);return n(a,b);break;}}}function m(a,b,c){var U6h,d,U1e,o1e;U6h=2;while(U6h!==7){U1e="h";U1e+="is";U1e+="t_";U1e+="bitr";U1e+="ate";o1e="v";o1e+="b";switch(U6h){case 8:return a;break;case 1:U6h=void 0===d?5:4;break;case 2:d=z.storage.get(o1e);U6h=1;break;case 5:return a.cma?f(a,c):p(a,b,c);break;case 4:a=new t();a.Eo=W(c.reverse(),function(a){var y6h;y6h=2;while(y6h!==1){switch(y6h){case 4:return a.P<d;break;y6h=1;break;case 2:return a.P<=d;break;}}})||c[0];a.reason=U1e;U6h=8;break;}}}}());},function(g){g.M={Csa:function(d){var a;if(d&&0!==d.length){a=[];d.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.PK.push(b.mj):a.push({error:b.error,PK:[b.mj]});});return a;}},zra:function(d){var a;a={freeSize:d.ki,dailyBytesRemaining:d.jC,bytesWritten:d.Eh,time:d.time,duration:d.duration};d.items&&(a.items=d.items.map(function(a){return{key:a.key,operation:a.Ze,itemBytes:a.GS,error:a.error};}));return a;},Up:function(d){return d["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.M={dfa:{code:-1,description:"MediaCache is not supported."},Dzb:{code:100,description:"Resource was not found"},cKa:{code:101,description:"Resource Metadata was not found"},HA:{code:102,description:"Read failed",bm:function(d,a){return{code:this.code,description:d,cause:a};}},DN:{code:200,description:"Daily write limit exceeded"},cA:{code:201,description:"Capacity has been exceeded"},CN:{code:202,description:"Write failed, cause unknown",bm:function(d,a){return{code:this.code,description:d,cause:a};}},YAb:{code:203,description:"Write failed, cause unknown"},QFa:{code:300,description:"Failed to delete resource",bm:function(d,a){return{code:this.code,description:d,cause:a};}},jt:{code:900,description:"Invalid partition name"},WIa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Sca:{code:701,description:"Failed to initialize underlying disk cache."},bKa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fH=function(a,b){return""+a===""+b;};},function(g,d,a){var h,l,f,p;function b(a,b,f){l.call(this,a,b,f);}function c(a,b){l.call(this,a,b,void 0);}a(14);a(27);h=a(151);l=a(201).cLa;f=a(709);a(58);p=a(58).jja;a(58);b.prototype=Object.create(l.prototype);b.prototype.i2=function(a,f,c){return new b(this.stream,{data:this.data,offset:f,length:c},a);};c.prototype=Object.create(b.prototype);c.prototype.CSa=function(a,b){return"string"===typeof b?f[b]:b?f.reset[a]||f.PAa[a]:f.PAa[a];};c.prototype.Uya=function(a,b,f,c){return this.fd(a,b,!1,f,c);};c.prototype.Xya=function(a,b,f,c){return this.fd(a,b,!0,f,c);};c.prototype.fd=function(a,b,f,c,d){var p,r,g,l,u,v,x,k,n,q,t,ba,R,T;function m(a){g=r[a];l=g.Jo("traf");if(void 0===l||void 0===l.vr)return!1;u=l.Jo("tfdt");if(void 0===u)return!1;v=l.Jo("trun");return void 0===v?!1:!0;}p=[];if(!this.parse())return!1;r=this.$b.moof;if(!r||0===r.length)return!1;if(void 0!==a)for(x=a,a=0;a<r.length;++a){if(!m(a))return!1;if(v.Gd>x||f&&v.Gd===x)break;x-=v.Gd;}else if(a=f?r.length-1:0,!m(a))return!1;f&&a<r.length-1?(p=r[a+1],this.Bj(this.q2-p.startOffset,p.startOffset)):!f&&0<a&&this.Bj(g.startOffset,0);p=l.Jo("tfhd");if(void 0===p)return!1;u=l.Jo("tfdt");k=v.Gd;n=l.Jo("saiz");q=l.Jo("saio");t=l.Jo(h.dga);ba=l.Jo("sbgp");if(!(!n&&!q||n&&q))return!1;R=l.Jo("sdtp");if(this.$b.mdat&&a<this.$b.mdat.length)T=this.$b.mdat[a];else if(a!==r.length-1)return!1;void 0===x&&(x=f?v.Gd:0);if(v.fd(l,p,T||this,b,x,l.vr,f))v.Zpa&&(!f&&u&&u.fd(v.apb),n&&q&&(n.fd(v.wE,f),q.fd(t?0:n.f$,l.vr,f)),t&&t.fd(v.wE,f),R&&R.fd(v.wE,k,f),ba&&ba.fd(v.wE,f));else if(!f){if(a===r.length-1)return!1;this.Bj(r[a+1].startOffset-g.startOffset,g.startOffset);}else if(0===v.wE)return!1;c&&(b=this.CSa(this.profile,d))&&v.kmb(l,p,T,f,c,b);p=this.Qq();v.Zpa&&!T&&(p.cE=l.vr+v.cE,p.As=v.As);return p;};g.M={YM:c,Reb:function(a){var b,f;b=new ArrayBuffer(8);f=new DataView(b);f.setUint32(0,a+8);f.setUint32(4,p("mdat"));return b;}};},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);h=a(109);g=a(59);l=a(360);f=a(81);a=function(a){function d(b,c,d,m){d=a.call(this,b,c,d,m)||this;f.$k.call(d,b,c);d.Ob=0;d.Ik();d.Dh=!1;return d;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ec:{get:function(){return!1;},enumerable:!0,configurable:!0}});d.prototype.push=function(b){this.Ob+=b.Z;a.prototype.push.call(this,b);};d.prototype.vy=function(){return!this.Dh&&!!this.oa.length&&this.oa.every(function(a){return a.vy();});};d.prototype.MB=function(a){c(!this.Dh);return this.Dh=this.oa.every(function(b){return b.vy()?b.MB(a,void 0,void 0):!1;});};d.prototype.Wlb=function(){this.oa.forEach(function(a){a.xU();});};d.prototype.xv=function(a){l.eM.prototype.xv.call(this,a);};d.prototype.ti=function(a){l.eM.prototype.ti.call(this,a);};d.prototype.aj=function(){return this.oa?this.oa[0].aj()+"-"+this.oa[this.oa.length-1].aj():"empty";};d.prototype.toString=function(){return f.$k.prototype.toString.call(this)+"(aggregate)";};d.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);h(f.$k.prototype.toJSON.call(this),b);return b;};return d;}(l.eM);d.kW=a;g.Yk(f.$k,a);},function(g,d,a){var f,p,m,r,u,x,v,B;function b(a,b,f,c,d,m,p,r,g){this.pRa=a;this.cp=b;this.ax=f;this.iP=c;this.ix=g;this.stream=m;p instanceof ArrayBuffer?(this.data=p,this.offset=0,this.q2=p.byteLength):(this.data=p.data,this.offset=p.offset||0,this.q2=p.length||this.data.byteLength);this.level=g?g.level+1:0;this.rH={};this.GE=void 0;d&&(this.$b={});this.config=r||{};this.truncate=this.config.truncate;this.sE=this.config.sE;this.Vib=this.offset;this.kK=this.Vib+this.q2;this.view=new DataView(this.data);this.Vy=this.QP=0;this.apa=[];this.Lu=[];}function c(a,b){return{type:"done",moovEnd:a,parsedEnd:b};}function h(a,c,d,p,g,l){var h;p=p?[r.jY,r.hY]:void 0;h=Object.create(m.$b);g&&((g.Pib||g.Xaa)&&f(m.g$,h),g.Yaa&&f(m.wrb,h),g.Xaa&&f(m.qrb,h));b.call(this,h,d,p,g&&g.KIb||["moof",r.Ifa],!(!g||!g.GIb),a,c,g,l);}function l(a,f,c){b.call(this,m.$b,void 0,void 0,void 0,!0,a,f,void 0,c);}a(14);f=a(48);d=a(28).EventEmitter;p=new(a(7)).Console("MP4","media|asejs");m=a(725);r=a(151);u=a(368);x=a(27).Gr;u.P6a();v=a(58).AZ;B=a(58).jja;a(58);b.prototype=Object.create(d);b.prototype.constructor=b;Object.defineProperties(b.prototype,{R:{get:function(){return this.stream.R;}},url:{get:function(){return this.stream.url;}},profile:{get:function(){return this.stream.profile;}},P:{get:function(){return this.stream.P;}}});b.prototype.Jb=function(a){p.trace("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.fa=function(a){p.warn("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.l2a=function(a,b,f){var c;c=this.pRa[a];if(c)return new c(this,a,b,f);};b.prototype.Zya=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.rH[b]=a[b],this.iP&&-1!==this.iP.indexOf(b)&&(void 0===this.GE||a[b].offset<this.GE)&&(this.GE=a[b].offset));};b.prototype.parse=function(a){var f,c,d;function b(a,b,f,c,d){var m;if(a){m=a.indexOf(b);-1!=m&&(d.Jb(c+" box "+b+" found at offset: 0x"+f.toString(16)),a.splice(m,1));}}for(this.fk=a||{};;){this.Jx=this.offset;if(8>this.kK-this.Jx){this.cp&&0<this.cp.length&&this.wla();break;}this.$0=this.gb();f=this.gb();a=v(f);if(0===this.$0){this.p_("MP4: invalid zero length box for "+a);break;}if(null===a){this.p_("MP4: invalid box type: "+f);break;}f=this.Jx+this.$0;if(f>this.kK){this.Jb("more data needed: 0x"+f.toString(16)+" > 0x"+this.kK.toString(16));this.wla(a,f);break;}"uuid"===a&&(a=this.OG());c=!1;if(this.iP&&-1!==this.iP.indexOf(a)&&(this.GE=this.Jx,c=!0,!this.config.lHb))break;d=this.l2a(a,this.Jx,this.$0);if(d){if(!d.parse(this.fk)){this.Jb("box parser failed: "+a);break;}this.$b&&(void 0===this.$b[a]&&(this.$b[a]=[]),this.$b[a].push(d));}b(this.ax,a,this.Jx,"desired",this);b(this.cp,a,this.Jx,"required",this);if(this.cp&&0===this.cp.length&&!(this.ax&&this.ax.length&&this.ax.some(function(a){return this.rH[a];}.bind(this))))return this.Jb("done: moov end offset: "+this.ZJ+", parsing end offset: "+f),this.$ka(this.ZJ,f),!0;if(c)break;this.offset=f;if(this.GE===this.offset)break;}if(this.offset>=this.GE||this.offset>this.kK-8)return this.$ka(this.ZJ,this.offset),!0;this.offset=this.Jx;return!1;};b.prototype.O_=function(a){this.data=this.data.slice(0,a);this.view=new DataView(this.data);};b.prototype.wla=function(a,b){a?(this.cp&&this.cp.length&&(1<this.cp.length||this.cp[0]!==a)?b=this.zBb||b+4096:this.ax&&this.ax.length&&(b=this.ax.filter(function(a){return this.rH[a];}.bind(this)).reduce(function(a,b){return Math.max(a,this.rH[b].offset+this.rH[b].size||0);}.bind(this),b)),this.config.UE&&(b+=12),this.ala(b-this.kK)):this.ala(4096);};b.prototype.clb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var f=this.Xc();0!==f&&0<--a;)b.push(f),f=this.Xc();return String.fromCharCode.apply(null,b);};b.prototype.p_=function(a){this.fa("ERROR: "+a);a={type:"error",ctxt:this.fk,errormsg:a};this.Ja(a.type,a);};b.prototype.$ka=function(a,b){var f;if(this.oq){f={type:"vmafs",ctxt:this.fk,vmafs:this.oq};this.Ja(f.type,f);}this.Y&&(f={type:"fragments",ctxt:this.fk,fragments:this.Y,truncated:this.Ps,movieDataOffsets:this.uv,additionalSAPs:this.Ch,timescale:this.ha,defaultSampleDuration:this.Xx},this.Ja(f.type,f));f=c(a,b);this.Ja(f.type,f);};b.prototype.ala=function(a){a={type:"requestdata",ctxt:this.fk,bytes:a};this.Ja(a.type,a);};b.prototype.rx=function(a){if(this.ix)this.ix.u.rx(a);else for(var b in a)this[b]=a[b];};b.prototype.Ef=function(a){for(;this.Vy<a;)this.QP=(this.QP<<8)+this.Xc(),this.Vy+=8;this.Vy-=a;return this.QP>>>this.Vy&(1<<a)-1;};b.prototype.Xc=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};b.prototype.sf=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};b.prototype.gb=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};b.prototype.z_=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};b.prototype.ql=function(a,b,f){this.view.setUint32(void 0!==f?f:this.offset,a,b);this.offset+=4;};b.prototype.Yla=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};b.prototype.QUa=function(a,b){var f;f=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);!b&&f&1&&this.fa("Warning: read unsigned value > 56 bits");return 4294967296*f+a;};b.prototype.yh=function(a,b){a=this.QUa(a,b);this.offset+=8;return a;};b.prototype.RUa=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);(0<a?a:-a)&1&&this.fa("Warning: read signed value > 56 bits");return 4294967296*a+b;};b.prototype.hVa=function(){var a;a=this.RUa();this.offset+=8;return a;};b.prototype.NWa=function(a,b){var f;f=Math.floor(a/4294967296);a&=4294967295;void 0!==b?(this.view.setUint32(b,f,!1),this.view.setUint32(b+4,a,!1)):(this.view.setUint32(this.offset,f,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};b.prototype.MG=function(){return v(this.gb());};b.prototype.Xla=function(a){this.ql(B(a));};b.prototype.OG=function(){var b,f,c,d,m,p;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.gb(!0);f=this.sf(!0);c=this.sf(!0);d=this.sf();m=this.sf();p=this.gb();return[a(b,4),a(f,2),a(c,2),a(d,2),a(m,2)+a(p,4)].join("-");};b.prototype.xI=function(a){return m.ica.prototype.xI.call(this,a);};b.prototype.yI=function(a){return m.ica.prototype.yI.call(this,a);};b.prototype.OO=function(a){var b;b=(this.config.UE&&u.uab||u.VC)(this.view,this.offset,a,void 0);this.offset+=1*a;return b;};b.prototype.fVa=function(a){a=(this.config.UE&&u.rab||u.VR)(this.view,this.offset,a,10,void 0);this.offset+=2;return a;};b.prototype.NO=function(a,b,f){var c;c=(this.config.UE&&u.sab||u.UC)(this.view,this.offset,a,b,void 0);this.offset=f||!b||4===b?this.offset+a*(b||4):this.offset+4;return c;};b.prototype.qla=function(a){for(var b=this.Xc(),f=this.Xc(),c=f&127;f&128;)f=this.Xc(),c=(c<<7)+(f&127);b=new(m.Hu[b]||m.Hu.base)(this,b,c);b.parse(a);return b;};b.prototype.Bj=function(a,b){this.rB(a,void 0,b);};b.prototype.rB=function(a,b,f){f=void 0!==f?f:this.offset;this.ix?this.ix.rB(a,b,f):this.Lu.push({offset:f,remove:a,replace:b});};b.prototype.BO=function(a,b){b=void 0!==b?b:this.offset;this.ix?this.ix.u.BO(a,b):this.apa.push({offset:b,Qa:a});};b.prototype.Qq=function(){var a,b,f,c;if(this.Lu&&0<this.Lu.length){this.apa.forEach(function(a){var b,f;b=a.Qa+this.view.getUint32(a.offset);f=this.Lu.reduce(function(f,c){return c.offset>a.Qa&&c.offset<b?f+(c.remove-(c.replace?c.replace.byteLength:0)):f;},0);this.view.setUint32(a.offset,b-a.Qa-f);}.bind(this));a=[];this.Lu.sort(function(a,b){return a.offset-b.offset;});this.Lu=this.Lu.reduce(function(a,b){var f,c;if(0===a.length)return a.push(b),a;f=a[a.length-1];c=f.offset+f.remove;b.offset>=c?a.push(b):b.offset+b.remove>c&&(f.remove+=b.offset+b.remove-c,b.replace&&(f.replace=f.replace?x(f.replace,b.replace):b.replace));return a;},[]);b=0;f=this.data.byteLength;c=0;this.Lu.filter(function(a){return a.offset<f;}).forEach(function(f){f.offset>b&&(a.push(this.data.slice(b,f.offset)),c+=f.offset-b);f.replace&&(a.push(f.replace),c+=f.replace.byteLength);b=f.offset+f.remove;}.bind(this));a.push(this.data.slice(b));c+=f-b;return{fe:a,length:c,LD:this.data.byteLength};}return{fe:[this.data],length:this.data.byteLength,LD:this.data.byteLength};};h.prototype=Object.create(b.prototype);h.prototype.i2=function(a,b,f,c){a=new h(this.stream,{data:this.data,offset:b,length:f},void 0,!1,this.config,a);c&&(a.$b={});return a;};h.prototype.Frb=function(a){this.O_(a);return this.config&&this.config.Xaa?(a=this.Qq(),x(a.fe)):this.data;};l.prototype=Object.create(b.prototype);l.prototype.i2=function(a,b,f){return new l(this.stream,{data:this.data,offset:b,length:f},a);};g.M={dLa:h,cLa:l,JEb:c};},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(28);c=a(11);h=g.rF;l=a(7);f=l.Fb;g=a(47);p=a(59);m=a(127);r=a(153);a=function(a){function d(b,c,d,p,g,l){c=a.call(this,c,d)||this;m.jw.call(c,b,p,g,l);r.kw.call(c,b,p);c.FN=b.url||p.url;c.EN=p.responseType;c.Fia=p.gV;void 0===c.EN&&(c.EN=f.jc&&!f.jc.gE.Kw?0:1);c.bg=new h();c.bg.on(c,f.kd.Ufa,c.GO);c.bg.on(c,f.kd.Tfa,c.Tka);c.bg.on(c,f.kd.Vfa,c.Vka);c.bg.on(c,f.kd.QF,c.FO);c.bg.on(c,f.kd.Ew,c.GG);c.NA=!1;c.Gc=!1;c.Ag=!1;return c;}b.__extends(d,a);d.prototype.Dc=function(a,b){m.jw.prototype.Dc.call(this,a,b);this.Wa||!a.K.zP&&this.Ec||(this.Wa=a.$a.Wa,this.active&&(this.Wa.zU(l.time.now(),this.Lt()),this.Ag&&(this.Wa.Q9(l.time.now()),this.connect&&0<this.Cs.length&&this.Wa.or(this.Cs[0]))));};d.prototype.vy=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};d.prototype.MB=function(a){return this.Dh=a.appendBuffer(this.response,this);};d.prototype.Jta=function(){return this.rl;};d.prototype.yv=function(){return f.prototype.open.call(this,this.FN,{start:this.offset,end:this.offset+this.Z-1},this.EN,{},void 0,void 0,this.Fia);};d.prototype.abort=function(){var a;if(this.rl)return!0;a=this.Gc;this.Wa&&a&&this.Wa.BU(l.time.da(),this.Ag,this.Lt());this.NA=!0;this.Ag=this.Gc=!1;f.prototype.abort.call(this);this.zR(this,a);return!0;};d.prototype.Nd=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.W.fa("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.bg&&this.bg.clear();f.prototype.Nd.call(this);};d.prototype.GG=function(){var a,b,f,d;this.W.fa("AseMediaRequest._onError:",this.toString());a=this.vd;this.kl=l.time.da()-this.vd;b=this.status;f=this.zk;d=this.Ol;this.complete?this.W.fa("Error on a done request "+this.toString()+", failurecode: "+f):this.rl?this.W.fa("Error on an aborted request "+this.toString()+", failurecode: "+f):c.ka(f)?(this.Wa&&this.le&&this.le.K.M9&&this.Lf&&void 0===b&&this.Wa.xP(this.wi?this.De-this.wi:this.De,this.kj?this.kj:this.Lf,a),this.AR(this)):this.W.fa("ignoring undefined request error (nativecode: "+d+")");};d.prototype.GO=function(){var a;a=this.vd||this.Lf;this.Gc||(this.Gc=!0,this.jo=this.track.jo(),this.stream.K.kva||this.Wa&&this.Wa.zU(a,this.Lt()),this.iy(this),this.wi=0,this.kj=this.vd);};d.prototype.Tka=function(){var a,b,f;a=this.vd;b=this.connect;f=this.Cs;this.kl=l.time.da()-this.vd;this.Ag||(this.Ag=!0,this.stream.K.kva&&this.Wa&&this.Wa.zU(a,this.Lt()),this.Wa&&this.Wa.Q9(),b&&0<f.length&&this.Wa&&this.Wa.or(f[0]),this.hy(this),this.kj=a);};d.prototype.Vka=function(){var a,b,f;a=this;b=this.vd;f=this.De-this.wi;this.kl=l.time.da()-this.vd;this.Wa&&(this.Wa.xP(f,this.kj,b),this.Cs&&this.Cs.length&&this.Cs.forEach(function(b){a.Wa.mr(b);}));this.HC(this);this.kj=b;this.wi=this.De;};d.prototype.FO=function(){var a,b,f;a=this;b=this.vd;f=this.De-this.wi;this.kl=l.time.da()-this.vd;this.Wa&&(0<f&&this.Wa.xP(f,this.kj,b),this.Cs&&this.Cs.length&&this.Cs.forEach(function(b){a.Wa.mr(b);}),this.Wa.BU(b,this.Ag,this.Lt()));this.Ag=this.Gc=!1;this.Qu(this);this.kj=b;this.wi=this.De;this.Nd();};d.prototype.Lt=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.FZa;b&&(a+=",range "+b.start+"-"+b.end);return a;};Object.defineProperties(d.prototype,{IS:{get:function(){return this.kl;},enumerable:!0,configurable:!0}});return d;}(f);d.aF=a;g.gi(a.prototype,{active:g.L({get:function(){return this.Gc;}}),Hya:g.L({get:function(){return this.Ag;}}),complete:g.L({get:function(){return!this.NA&&5===this.readyState;}}),rl:g.L({get:function(){return this.NA;}})});p.Yk(m.jw,a,!1);p.Yk(r.kw,a,!1);},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(109);c=a(202);h=a(153);a=function(a){function f(b,f,c,d,g,l){f=a.call(this,b,f,c,d,g,l)||this;h.kw.call(f,b,d);return f;}b.__extends(f,a);return f;}(c.aF);d.fM=a;g(h.kw.prototype,a.prototype);},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(74);h=a(366);g=a(47);a(14);l=a(13);a=function(){function a(a,b){this.Cn=a.Ha;this.zc=a.na||0;this.YQa=a.hp;this.rWa=a.Bf;this.um=a.S;this.ik=a.R;this.lO=a.La;this.uka=a.Ueb;this.bu=a.ha||a.La&&a.La.ha;this.Fka=a.Ty;this.Fja=!1;this.Db=a.$l||a.Y&&a.Y.$l;this.A5=-Infinity;this.Yua=Infinity;!1;this.W=b;}a.CR=function(f,d,g,h,x,v){var m,p,r,u,k,N;m=d[["audio_tracks","video_tracks"][g]][h].streams[0];p=g===l.G.AUDIO?d.video_tracks.length+h:h;r=x&&x.La;if(g===l.G.VIDEO&&void 0!==m.framerate_value&&void 0!==m.framerate_scale){u=m.framerate_value;m=m.framerate_scale;k=Math.floor(1E3*u/m);N=1E3*Math.round(k/1E3);u=new c.gc(N,Math.abs(Math.floor(1001*u/m)-N)>Math.abs(k-N)?1E3:1001).tlb();}return new a(b.__assign({},x,{Ha:d,S:""+d.movieId,La:r||u,Ueb:u,na:f,R:g,hp:p,Bf:h}),v);};a.prototype.KT=function(a,b,f,c,d){if(c&&void 0!==c.Xl&&(this.Qc||void 0!==c.Td&&c.Td.length))if(a.Ll&&(this.Fja=!0),this.Qc)c.Td&&c.Td.length>this.$l.length&&(this.Db=new h.fia(this.R,this.La,c,d),this.A5=-Infinity);else{this.Gla(b);if(f=f||this.uka)this.Fla(f||this.uka),void 0===this.ha&&this.Ila(f.ha);this.Db=new h.fia(this.R,this.La,c,d);}else this.W&&this.W.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.F0a=function(a){this.Qc||(this.Ila(a.ha),this.Gla(a.Ty),this.Fla(a.La),this.Db=a.$l);};a.prototype.toJSON=function(){return{movieId:this.S,mediaType:this.R,trackIndex:this.Bf};};a.prototype.toString=function(){return(0===this.R?"a":"v")+":"+this.Bf;};a.prototype.Ila=function(a){this.bu=a;};a.prototype.Gla=function(a){this.Fka=a;};a.prototype.Fla=function(a){this.lO=a;};return a;}();d.nW=a;g.gi(a.prototype,{Qc:g.L({get:function(){return!!this.$l;}}),Y2:g.L({get:function(){return this.Fja;}}),LFb:g.L({get:function(){return!0;}}),Ha:g.L({get:function(){return this.Cn;}}),na:g.L({get:function(){return this.zc;}}),hp:g.L({get:function(){return this.YQa;}}),Bf:g.L({get:function(){return this.rWa;}}),S:g.L({get:function(){return this.um;}}),R:g.L({get:function(){return this.ik;}}),La:g.L({get:function(){return this.lO;}}),ha:g.L({get:function(){return this.bu;}}),Ty:g.L({get:function(){return this.Fka;}}),$l:g.L({get:function(){return this.Db;}}),Y3:g.L({get:function(){return this.La.ha;}}),X3:g.L({get:function(){return this.La.xd;}}),jH:g.L({get:function(){return this.La.xd;}}),kH:g.L({get:function(){return this.La.ha;}}),f6:g.L({get:function(){return this.La.hf;}}),U:g.L({get:function(){return 0;}})});},function(g,d,a){var b,c,h,l,f,p,m,r,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);h=a(368);l=a(367);f=a(7);g=a(366);a=a(47);p=new f.Console("FRAGMENTS","media|asejs");try{m=!0;}catch(x){m=!1;}r=function(a){function f(b,f){f=a.call(this,b.$l,f)||this;f.sx=b;return f;}b.__extends(f,a);f.prototype.toJSON=function(){return{index:this.index,bytes:this.Z,offset:this.offset,contentStartTicks:this.Kb,contentEndTicks:this.Qb,durationTicks:this.Hh,timescale:this.ha,startPts:this.U,endPts:this.ea,duration:this.duration,additionalSAPs:this.Ch};};return f;}(g.lQa);d.uAb=r;a.gi(r.prototype,{Z:a.L({get:function(){return this.sx.sizes(this.bi);}}),offset:a.L({get:function(){return this.sx.Pl(this.bi);}}),b8:a.L({get:function(){return this.sx.uv&&this.sx.uv[this.bi];}}),Ch:a.L({get:function(){return this.sx.n8a(this.bi);}}),qc:a.L({get:function(){return this.sx.oq&&this.sx.oq[this.bi];}})});u=function(){function a(a,b,f){this.ha=f;this.Td=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Ob=void 0;}a.from=function(b){for(var f=new Uint32Array(b.length),c=new Uint32Array(b.length),d=0,m,p,g=0;g<b.length;++g)m=b[g],p=m.Ob,f[g]=m.Oq-m.Zw,c[g]=p,d+=p;b=new a(f,c,b.length?b[0].ha:1E3);b.Ob=d;return b;};a.prototype.subarray=function(b,f){return new a(this.Td.subarray(b,f),this.sizes.subarray(b,f),this.ha);};a.prototype.concat=function(){var f,b,c,d;for(var b=[],f=0;f<arguments.length;f++)b[f]=arguments[f];f=[this];b=f.concat.apply(f,b);f=b.reduce(function(a,b){return a+b.length;},0);c=new Uint32Array(f);d=new Uint32Array(f);f=b.reduce(function(a,b){return a||b.ha;},void 0);b.reduce(function(a,b){l.set(c,b.Td,a);l.set(d,b.sizes,a);return a+b.length;},0);return new a(c,d,f);};a.prototype.uZ=function(){for(var a=this.sizes,b=this.length,f=0,c=0;c<b;++c)f+=a[c];return this.Ob=f;};return a;}();d.yPa=u;a.gi(u.prototype,{Z:a.L({get:function(){return void 0!==this.Ob?this.Ob:this.uZ();}})});f=function(){function a(a,b,f,c,d,m){this.nB=16;this.Db=a;this.od=b.offset;this.En=b.sizes;this.XVa=new u(a.qm,b.sizes,a.ha);this.TA=this.nG=this.cg=this.Mla=void 0;this.GTa=f;this.jZ=c&&c.Pl;this.Vla=d;this.Rt=Math.min(this.Db.length,this.En.length);this.rTa=this.yRa();this.$l.qm.length!==this.En.length&&p.error("Mis-matched stream duration ("+this.$l.qm.length+","+this.En.length+") for movie id "+m);this.$l.BP&&!this.jZ&&p.error("Mis-matched additional SAPs information for movie id "+m);}a.ZCb=function(a,b){var f,c;b=b.ha;f=b/1E3;c=new DataView(a);a=Math.floor(a.byteLength/16);return{ha:b,Xl:c.getUint32(4)*f,offset:65536*c.getUint32(8)+c.getUint16(12),sizes:h.UC(c,0,a,16),Td:l.from(Uint32Array,{length:a},function(a,b){return c.getUint16(16*b+14)*f;})};};a.prototype.sizes=function(a){return this.En[a];};a.prototype.Rf=function(a){return this.Db.Rf(a);};a.prototype.xC=function(a){return this.Db.Rf(a)+this.Db.Td(a);};a.prototype.Pl=function(a){if(this.nG!==a||void 0===this.TA){if(0===a)return this.od;if(this.nG===a-1&&void 0!==this.TA)this.TA+=this.En[this.nG],++this.nG;else{for(var b=this.cg||this.BRa(),f=Math.floor(a/this.nB),c=f*this.nB,b=b[f];c<a;++c)b+=this.En[c];this.nG=a;this.TA=b;}}return this.TA;};a.prototype.Td=function(a){return this.Db.Td(a);};a.prototype.get=function(a){return new r(this,a);};a.prototype.n8a=function(a){var b,f,d;c(0<=a);b=this.$l.BP;f=this.$l.yma;d=this.jZ;if(!d||!b||!f||a>=b.length)return[];for(var m=[],p=a===b.length-1?f.length:b[a+1],b=b[a];b<p;++b)m.push({$c:f[b],Mb:this.Rf(a)+this.La.d8(f[b]).hf,offset:d[b]});return m;};a.prototype.Aob=function(a){this.Vla=a;};a.prototype.Kj=function(a,b,f){return this.Db.Kj(a,b,f);};a.prototype.H3=function(a,b,f){return this.Db.H3(a,b,f);};a.prototype.Z1=function(a,b){return this.Db.Z1(a,b);};a.prototype.ES=function(a,b,f){var c,d,m,p,g,r,l,h,u;c=!0;d=0;p=this.Db.qm;g=this.En;r=Math.floor(a*this.ha/1E3);l=0;h=0;u=0;if(this.Db.fba&&this.Db.eba)for(d=this.Db.fba;d<=this.Db.eba;++d)l+=p[d],h+=g[d];if(h>b)c=!1;else for(;d<this.length&&(!f||d<f);){m=g[d];a=p[d];if(h+m>b&&l<r){c=!1;this.Db.fba=u;this.Db.eba=d;break;}for(;0<d-u&&h+m>b;)l-=p[u],h-=g[u],++u;l+=a;h+=m;++d;}return c;};a.prototype.subarray=function(b,f){c(void 0===b||0<=b&&b<this.length);c(void 0===f||f>b&&f<=this.length);return new a(this.Db.subarray(b,f),{offset:this.Pl(b),sizes:this.En.subarray(b,f)},this.uv&&this.uv.subarray(b,f),this.xma&&{Pl:this.xma});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],f=0;f<this.length;++f)b.push(a(this.get(f),f,this));return b;};a.prototype.reduce=function(a,b){for(var f=0;f<this.length;++f)b=a(b,this.get(f),f,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.np};};a.prototype.dump=function(){var b;p.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.np+"ms");for(var a=0;a<this.length;++a){b=this.get(a);p.trace("StreamFragments: "+a+": ["+b.U+"-"+b.ea+"] @ "+b.offset+", "+b.Z+" bytes");}};a.prototype.uZ=function(){for(var a=0,b=0;b<this.length;++b)a+=this.En[b];return this.Mla=a;};a.prototype.BRa=function(){var a;if(!this.cg){a=m?new Float64Array(Math.ceil(this.length/this.nB)):Array(Math.ceil(this.length/this.nB));for(var b=this.od,f=0;f<a.length;++f){a[f]=b;for(var c=0;c<this.nB;++c)b+=this.En[f*this.nB+c];}this.cg=a;}return this.cg;};a.prototype.yRa=function(){var a,b,f,c,d;b=0;f=this.Db.rva;c=this.Db.qm;d=this.En;if(void 0===f||f>=this.length){for(var m=0;m<this.length;++m)a=d[m]/c[m],a>b&&(b=a,f=m);void 0===this.Db.rva&&(this.Db.rva=f);}else b=d[f]/c[f];return Math.floor(b*this.ha/125);};return a;}();d.HPa=f;a.gi(f.prototype,{R:a.L({get:function(){return this.Db.R;}}),length:a.L({get:function(){return this.Rt;}}),Xl:a.L({get:function(){return this.Db.Xl;}}),mqa:a.L({get:function(){return this.Db.mqa;}}),U:a.L({get:function(){return this.Db.U;}}),ea:a.L({get:function(){return this.Db.ea;}}),np:a.L({get:function(){return this.Db.np;}}),YS:a.L({get:function(){return this.Db.YS;}}),bT:a.L({get:function(){return this.rTa;}}),La:a.L({get:function(){return this.Db.La;}}),ha:a.L({get:function(){return this.Db.ha;}}),nn:a.L({get:function(){return this.Mla||this.uZ();}}),uv:a.L({get:function(){return this.GTa;}}),xma:a.L({get:function(){return this.jZ;}}),oq:a.L({get:function(){return this.Vla;}}),$l:a.L({get:function(){return this.Db;}}),tE:a.L({get:function(){return this.XVa;}})});f.prototype.UAa=g.p7(f.prototype.Rf);},function(g,d,a){var c,h;function b(a){this.K={JJ:a.maxc||25,P1:a.c||.5,plb:a.rc||"none",Lab:a.hl||7200};this.SG();this.jVa=this.K.plb;this.uG=this.K.Lab;this.nZ=Math.exp(Math.log(2)/this.uG);this.nZ=Math.max(this.nZ,1);this.$N=1;}c=a(11);h=a(207).TDigest;new(a(7)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.Ie=function(){var a;if(0===this.Md.size())return null;a=this.Md.kg([.25,.75]);if(a[0]===a[1])return null;this.Md.size()>this.K.JJ&&this.Md.Fr();a=this.Md.Rz(!1).reduce(function(a,b){c.ka(b.se)&&c.ka(b.n)&&a.push({mean:b.se,n:b.n/this.$N});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Sh=function(a){var b;if(c.Na(a)||!c.has(a,"tdigest")||!c.Vd(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(p){return!1;}b.forEach(function(a){c.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{se:a.mean,n:a.n};});this.$N=1;this.Md.r9(a);void 0===this.Md.kg(0)&&this.SG();};b.prototype.get=function(){var a,b;a=this.Md;b=a.kg([0,.1,.25,.5,.75,.9,1]);return{min:b[0],C8:b[1],Lk:b[2],hj:b[3],Mk:b[4],D8:b[5],max:b[6],eg:a.Rz(!1)};};b.o$a=function(a){var f;f=new b({});c.Na(a)||c.V(a)||!c.isArray(a.eg)||(f.Md.r9(a.eg),void 0===f.Md.kg(0)&&f.SG());a=f.Md.kg([.25,.75]);return a[0]===a[1]?null:function(a){return f.Md.kg(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.jVa&&(this.$N=b=this.$N*this.nZ);this.Md.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.Md.summary()+")";};b.prototype.SG=function(){this.Md=new h(this.K.P1,this.K.JJ);};g.M=b;},function(g,d,a){var f;function b(a,b,d){this.mC=!1===a;this.YH=a||.01;this.VX=void 0===b?25:b;this.tca=void 0===d?1.1:d;this.eg=new f(c);this.reset();}function c(a,b){return a.se>b.se?1:a.se<b.se?-1:0;}function h(a,b){return a.Lp-b.Lp;}function l(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.YH:!1);this.z4a=this.config.ratio||.9;this.A4a=this.config.tBa||1E3;this.xT=0;}f=a(736).xOa;b.prototype.reset=function(){this.eg.clear();this.J6=this.n=0;};b.prototype.size=function(){return this.eg.size;};b.prototype.Rz=function(a){var b;b=[];a?(this.aO(!0),this.eg.Pc(function(a){b.push(a);})):this.eg.Pc(function(a){b.push({se:a.se,n:a.n});});return b;};b.prototype.summary=function(){return[(this.mC?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.kg(0),"Q1  = "+this.kg(.25),"Q2  = "+this.kg(.5),"Q3  = "+this.kg(.75),"max = "+this.kg(1)].join("n");};b.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var f=0;f<a.length;f++)this.yja(a[f],b);};b.prototype.r9=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.yja(a[b].se,a[b].n);};b.prototype.aO=function(a){var b;if(!(this.n===this.J6||!a&&this.tca&&this.tca>this.n/this.J6)){b=0;this.eg.Pc(function(a){a.Lp=b+a.n/2;b=a.hC=b+a.n;});this.n=this.J6=b;}};b.prototype.B7a=function(a){var b,f;if(0===this.size())return null;b=this.eg.lowerBound({se:a});f=null===b.data()?b.oz():b.data();return f.se===a||this.mC?f:(b=b.oz())&&Math.abs(b.se-a)<Math.abs(f.se-a)?b:f;};b.prototype.mB=function(a,b,f){a={se:a,n:b,hC:f};this.eg.Kl(a);this.n+=b;return a;};b.prototype.HN=function(a,b,f){b!==a.se&&(a.se+=f*(b-a.se)/(a.n+f));a.hC+=f;a.Lp+=f/2;a.n+=f;this.n+=f;};b.prototype.yja=function(a,b){var f,c,d;f=this.eg.min();c=this.eg.max();d=this.B7a(a);d&&d.se===a?this.HN(d,a,b):d===f?this.mB(a,b,0):d===c?this.mB(a,b,this.n):this.mC?this.mB(a,b,d.hC):(f=d.Lp/this.n,Math.floor(4*this.n*this.YH*f*(1-f))-d.n>=b?this.HN(d,a,b):this.mB(a,b,d.hC));this.aO(!1);!this.mC&&this.VX&&this.size()>this.VX/this.YH&&this.Fr();};b.prototype.nZa=function(a){var b,f;this.eg.zj=h;b=this.eg.upperBound({Lp:a});this.eg.zj=c;f=b.oz();a=f&&f.Lp===a?f:b.next();return[f,a];};b.prototype.kg=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.TUa,this);return Array.isArray(a)?b:b[0];};b.prototype.TUa=function(a){var b,f;if(0!==this.size()){this.aO(!0);this.eg.min();this.eg.max();a*=this.n;b=this.nZa(a);f=b[0];b=b[1];return b===f||null===f||null===b?(f||b).se:this.mC?a<=f.hC?f.se:b.se:f.se+(a-f.Lp)*(b.se-f.se)/(b.Lp-f.Lp);}};b.prototype.Fr=function(){var a;if(!this.joa){a=this.Rz();this.reset();for(this.joa=!0;0<a.length;)this.r9(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.aO(!0);this.joa=!1;}};l.prototype=Object.create(b.prototype);l.prototype.constructor=l;l.prototype.push=function(a){b.prototype.push.call(this,a);this.E_a();};l.prototype.mB=function(a,f,c){this.xT+=1;b.prototype.mB.call(this,a,f,c);};l.prototype.HN=function(a,f,c){1===a.n&&--this.xT;b.prototype.HN.call(this,a,f,c);};l.prototype.E_a=function(){!("auto"!==this.mode||this.size()<this.A4a)&&this.xT/this.size()>this.z4a&&(this.mode="cont",this.mC=!1,this.YH=this.config.YH||.01,this.Fr());};g.M={TDigest:b,Digest:l};},function(g){function d(a){this.qTa=a;this.zm=[];this.du=!1;this.I_=void 0;this.Aj={};}d.prototype.k0=function(a){this.zm.length===this.qTa&&this.zm.shift();Array.isArray(a)?this.zm=this.zm.concat(a):this.zm.push(a);this.du=!0;};d.prototype.RC=function(){return this.zm.length;};d.prototype.Gna=function(){var a;a=this.zm;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.zm.length:void 0;};d.prototype.c_a=function(){var a,b;a=this.zm;if(0<a.length){b=this.Gna();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};d.prototype.vu=function(a){var b,c,d;if(this.du||void 0===this.I_)this.I_=this.zm.slice(0).sort(function(a,b){return a-b;}),this.Aj={},this.du=!1;if(void 0===this.Aj[a]){b=this.I_;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.Aj[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.Aj[a];};g.M=d;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(61);c=a(2);d.x4=function(a){return a===b.kc.vg.AUDIO?c.H.ffa:c.H.gfa;};d.MY=50;d.AOa=1E3;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cZ="UuidProviderSymbol";},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,B,y,A;function b(a,b,c,d,g,l,r,h,u,v,x,B,y,k,n){this.j=a;this.Wb=b;this.uy=c;this.sd=d;this.Nr=g;this.V2=l;this.Fj=r;this.displayName=h;this.Ci=u;this.vz=v;this.profile=x;this.ro=B;this.Wgb=y;this.Q7a=k;this.rJ=n;this.type=f.Zf.HV;this.Gp=!(!x||x!=m.dk.vA&&x!=m.dk.$M);this.Mf={bcp47:r,trackId:b,downloadableId:d,isImageBased:this.Gp};this.log=p.yf(a,"TimedTextTrack");this.state=A.cN;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);h=a(34);l=a(8);f=a(75);p=a(3);m=a(72);r=a(12);u=a(346);x=a(15);v=a(647);B=a(16);y=a(2);(function(a){a[a.cN=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.EF=3]="LOAD_FAILED";}(A||(A={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(b,f){function c(){a.j.state.removeListener(c);a.download().then(b)["catch"](f);}a.state=A.LOADING;a.j.state.value!==B.wh.Aha?a.download().then(b)["catch"](f):a.j.state.addListener(c);});};b.prototype.Ie=function(){return this.state;};b.prototype.sJ=function(){return this.Wgb;};b.prototype.yS=function(){return this.Q7a;};b.prototype.Zu=function(a,b){var f;f=[];try{this.Gp?f=this.ef&&this.ef.Zu(a,b)||[]:this.entries&&(f=this.entries.filter(function(f){var c;c=Aa([f.startTime,f.endTime]);f=c.next().value;c=c.next().value;return f>=a&&f<=b||f<=a&&a<=c;}));}catch(E){this.log.error("error in getSubtitles",E,{start:a,end:b,isImageBased:this.Gp});}return f;};b.prototype.W$a=function(){var a;if(!x.ab(this.U))try{this.U=this.Gp?(a=this.Zu(0,b.XJa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(I){this.log.error("exception in getStartPts",I);}return this.U;};b.prototype.eV=function(a){return this.j.state.value===B.wh.OY||this.j.state.value===B.wh.NY?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.pc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(b,f){a.j.state.value==B.wh.Mq?a.Gp?a.icb(function(c){c.O?(a.log.info("Loaded image subtitle manager"),b(c)):(a.log.error("Unable to load image subtitles manager",c),a.state=A.EF,f(c));}):a.Lpa().then(function(b){return a.Hib(b);}).then(b)["catch"](f):f({O:!1});});};b.prototype.icb=function(a){var f,c,d,m,g,r,h,u;function b(d){var v;if(x.ab(d))if(u||f.eV(f.Bp(f.Un,"","image"))){u=!1;f.ro.url=f.Nr[f.Un];c.url=f.ro.url;h[d]=(h[d]||0)+1;v=new p.NPa(m,c);v.on("ready",function(){f.ef=v;a({O:!0,track:f});});v.on("error",function(c){var m;c=Object.assign({O:!1},c);m=f.Bp(f.Un,f.ro.url,"image");m.details={midxoffset:f.ro.offset,midxsize:f.ro.length};m.errorstring=c.errorString;h[d]<=l.config.ABa?(f.qR(m,!0,"retry with current cdn"),f.R0(h[d]).then(function(a){f.log.trace("retry timed text download after "+a,f.Bp(f.Un,"","image"));b(f.Un);})):(f.Un=g[r++],f.Un?(f.qR(m,!0,"retry with next cdn"),f.R0(h[d]).then(function(a){f.log.trace("retry timed text download after "+a,f.Bp(f.Un,"","image"));b(f.Un);})):(f.qR(m,!1,"all cdns tried"),a({O:!1,Agb:"all cdns failed for image subs",track:f})));});v.start();}else a({O:!1,rl:!0});else a({O:!1,Agb:"cdnId is not defined for image subs downloadUrl"}),f.qR(f.Bp(0,"","image"),!1,"cdnId is undefined");}f=this;c={NYa:!1,profile:this.profile,SJ:this.ro.offset,jT:this.ro.length,Mb:this.j.wd.value||0,bufferSize:l.config.Tbb,vIb:{$e:this.j.IR()}};d=p.yf(this.j,"TimedTextTrack");d.warn=d.trace.bind(d);d.info=d.debug.bind(d);m=v.Q2a(this.j,d,this.request);g=(this.V2||[]).filter(function(a){return a.id in f.Nr;}).sort(function(a,b){return a.Sd-b.Sd;}).map(function(a){return a.id;});r=0;h={};u=!0;this.Un=g[r++];b(this.Un);};b.prototype.qR=function(a,b,f){a=Object.assign({},a,{qJb:b,status:f});this.j.fireEvent(B.X.AV,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,b){var f;f=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:h.YC,headers:{},Pb:this.o4(this.Un)};this.j.aJ.download(a,function(a){f.log.trace("imgsub: request status "+a.O);a.O?b(null,new Uint8Array(a.content)):b({T:a.T,mc:a.mc});});};b.prototype.Bp=function(a,b,f){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.sd,subtitletype:f,bcp47:this.Fj,trackId:this.Wb,cdnCount:Object.keys(this.Nr).length,isImageBased:this.Gp};};b.prototype.o4=function(a){return(this.V2||[]).find(function(b){return b.id===a;});};b.prototype.Lpa=function(){var d,m;function a(a){return c.__awaiter(d,void 0,void 0,function(){var d,p,g,l,r;function c(){for(;;)switch(d){case 0:g=f();p=l.Bp(a.Pb.id,a.url,"text");p.errorstring=a.reason;if(!g||!l.eV(p)){d=1;break;}d=-1;return{value:l.R0(m[g.id]).then(b),done:!0};case 1:return d=-1,{value:Promise.reject({O:!1,rl:!0}),done:!0};default:return{value:void 0,done:!0};}}d=0;l=this;r={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};Za();r[Symbol.iterator]=function(){return this;};return r;});}function b(){return c.__awaiter(d,void 0,void 0,function(){var c,d,p,g,l;function b(){for(;;)switch(c){case 0:d=(p=f())&&g.Nr[p.id];if(!p||!d){c=1;break;}m[p.id]=(m[p.id]||0)+1;c=-1;return{value:g.P4a(d,p)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;g=this;l={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};Za();l[Symbol.iterator]=function(){return this;};return l;});}function f(){return(d.V2||[]).find(function(a){return!!((m[a.id]||0)<l.config.ABa&&d.Nr[a.id]);});}d=this;m={};return b();};b.prototype.R0=function(a){return new Promise(function(b){var f;f=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(f);},f);});};b.prototype.Hib=function(a){var b,f;b=this;f=this.j.WE;r.va(f);return u.Gib(a,f.width/f.height,l.config.CBa,l.config.Laa).then(function(a){var f;if(l.config.DBa){f=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:f,endTime:f+=l.config.DBa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Mf);b.state=A.LOADED;return{O:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",y.sn(a),b.Mf,{url:a.url});b.state=A.EF;a.reason="parseerror";a.track=b;throw a;});};b.prototype.P4a=function(a,b){var f;f=this;this.log.trace("Downloading",b&&{Pb:b.id},this.Bp(b.id,a,"text"));return new Promise(function(c,d){var m;m={responseType:h.ata,url:a,track:f,Pb:b,Zx:"tt-"+f.Fj};f.j.aJ.download(m,function(a){a.O?c(a.content):(a.reason="downloadfailed",a.url=m.url,a.track=f,a.Pb=b,d(a));});});};b.XJa=72E7;b.zha=A;d.cG=b;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(5);b.R4=function(){var a;a=c.Eq&&c.Eq.height;return a?1080<=a?1080:720:720;};d.VY=b;},function(g){g.M=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,c){return a.apply(this,arguments);};case 3:return function(b,c,d){return a.apply(this,arguments);};case 4:return function(b,c,d,g){return a.apply(this,arguments);};case 5:return function(b,c,d,g,f){return a.apply(this,arguments);};case 6:return function(b,c,d,g,f,p){return a.apply(this,arguments);};case 7:return function(b,c,d,g,f,p,m){return a.apply(this,arguments);};case 8:return function(b,c,d,g,f,p,m,r){return a.apply(this,arguments);};case 9:return function(b,c,d,g,f,p,m,r,u){return a.apply(this,arguments);};case 10:return function(b,c,d,g,f,p,m,r,u,x){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,d,a){var h,l,f,p;function b(a,b,f){for(var c=f.next();!c.done;){if((b=a["@@transducer/step"](b,c.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}c=f.next();}return a["@@transducer/result"](b);}function c(a,b,c,d){return a["@@transducer/result"](c[d](f(a["@@transducer/step"],a),b));}h=a(778);l=a(776);f=a(775);Oa();Oa();Za();p="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.M=function(a,f,d){"function"===typeof a&&(a=l(a));if(h(d)){for(var m=0,g=d.length;m<g;){if((f=a["@@transducer/step"](f,d[m]))&&f["@@transducer/reduced"]){f=f["@@transducer/value"];break;}m+=1;}return a["@@transducer/result"](f);}if("function"===typeof d["fantasy-land/reduce"])return c(a,f,d,"fantasy-land/reduce");if(null!=d[p])return b(a,f,d[p]());if("function"===typeof d.next)return b(a,f,d);if("function"===typeof d.reduce)return c(a,f,d,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.M=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(g,d,a){var b,c,h;b=a(111);c=a(49);h=a(156);g.M=function(a){return function p(d,g,l){switch(arguments.length){case 0:return p;case 1:return h(d)?p:c(function(b,c){return a(d,b,c);});case 2:return h(d)&&h(g)?p:h(d)?c(function(b,c){return a(b,g,c);}):h(g)?c(function(b,c){return a(d,b,c);}):b(function(b){return a(d,g,b);});default:return h(d)&&h(g)&&h(l)?p:h(d)&&h(g)?c(function(b,c){return a(b,c,l);}):h(d)&&h(l)?c(function(b,c){return a(b,g,c);}):h(g)&&h(l)?c(function(b,c){return a(d,b,c);}):h(d)?b(function(b){return a(b,g,l);}):h(g)?b(function(b){return a(d,b,l);}):h(l)?b(function(b){return a(d,g,b);}):a(d,g,l);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lM="BookmarkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.fF||(d.fF={});g[g.aga=0]="PAUSE";g[g.lha=1]="RESUME";g[g.Jub=2]="CAPTIONS_ON";g[g.Iub=3]="CAPTIONS_OFF";g[g.Kub=4]="CAPTION_LANGUAGE_CHANGED";g[g.Dtb=5]="AUDIO_LANGUAGE_CHANGED";g[g.cyb=6]="NEXT_EP";g[g.dzb=7]="PREV_EP";g[g.IA=8]="SEEK";g[g.Bha=9]="STOP";d.xca="CastInteractionTrackerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qha="load save remove removeAll loadAll loadKeys".split(" ");d.Sba="AppStorageStatsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.tw||(d.tw={});g.Unknown="unknown";g.Absent="absent";g.Present="present";g.Error="error";d.zda="ExternalDisplayLogHelperSymbol";},function(g,d,a){var c,h,l;function b(){this.type=c.Us.Bq;}Object.defineProperty(d,"__esModule",{value:!0});c=a(25);g=a(97);h=a(132);l=new g.Mw();b.b2=function(){return{isTypeSupported:function(a){var f;try{if(-1==a.toLowerCase().indexOf("codec"))return t.MSMediaKeys.isTypeSupported(a);f=a.split("|");return 1===f.length?t.MSMediaKeys.isTypeSupported(h.bb.Vo,a):"probably"===b.taa(f[0],f[1]);}catch(m){return!1;}}};};b.qQ=function(a,c,d){c=l.format(b.PE,c);if(0===d.length)return c;d=l.format('features="{0}"',d.join());return l.format("{0}|{1}{2}",a,c,d);};b.taa=function(a,b){var f;try{f=t.MSMediaKeys.isTypeSupportedWithFeatures?t.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(r){f="exception";}return f;};b.PE='video/mp4;codecs="{0},mp4a";';d.Cw=b;},function(g,d,a){var c,h,l,f,p,m;function b(a,c,d,p){var g;g=h.em.call(this,a,c,d)||this;g.cast=p;g.type=l.yj.yW;a=b.uQa;g.XE[l.Ld.wN]=f.xc.sF+"; "+a;g.XE[l.Ld.yq]=f.xc.yq+"; "+a;a=f.xc.WEa.find(function(a){return g.Br(m(b.PE,a));});g.XE[l.Ld.tg]=a;return g;}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);h=a(130);l=a(25);g=a(97);f=a(131);p=a(407);m=new g.Mw().format;ia(b,h.em);b.b2=function(a,f){return(f=b.oza(f))?{isTypeSupported:f}:a;};b.oza=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.gq=function(a){var c,d;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().sCa){d={};if(c)return d[l.th.Ro]="1.4",d[l.th.xw]="2.2",c().then(function(b){return b===d[a];});c=this.hva(a);c=m(b.PE,f.xc.sF)+" hdcp="+c;c=this.Br.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};b.prototype.JR=function(a){return this.XE[a];};b.prototype.PC=function(){var a;a=this;return this.config().sCa?this.gq(l.th.xw).then(function(b){return b?Promise.resolve(l.th.xw):a.gq(l.th.Ro).then(function(a){return a?Promise.resolve(l.th.Ro):Promise.resolve(void 0);});}).then(function(b){return a.LH(b);}):Promise.resolve(void 0);};b.prototype.Tx=function(){var a,f;a=h.em.prototype.Tx.call(this);f=b.Usa;a[c.ca.eX]=["hev1.2.6.L90.B0",f];a[c.ca.fX]=["hev1.2.6.L93.B0",f];a[c.ca.gX]=["hev1.2.6.L120.B0",f];a[c.ca.hX]=["hev1.2.6.L123.B0",f];a[c.ca.iX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+f];a[c.ca.kX]=["hev1.2.6.L153.B0","width=3840; height=2160; "+f];a[c.ca.IM]=["hev1.2.6.L90.B0",f];a[c.ca.JM]=["hev1.2.6.L93.B0",f];a[c.ca.KM]=["hev1.2.6.L120.B0",f];a[c.ca.LM]=["hev1.2.6.L123.B0",f];a[c.ca.jX]=["hev1.2.6.L150.B0","width=3840; height=2160; "+f];a[c.ca.lX]=["hev1.2.6.L153.B0","width=3840; height=2160; "+f];a[c.ca.BX]="hev1.1.6.L90.B0";a[c.ca.CX]="hev1.1.6.L93.B0";a[c.ca.DX]="hev1.1.6.L120.B0";a[c.ca.EX]="hev1.1.6.L123.B0";a[c.ca.FX]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[c.ca.GX]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[c.ca.nX]="hev1.2.6.L90.B0";a[c.ca.qX]="hev1.2.6.L93.B0";a[c.ca.tX]="hev1.2.6.L120.B0";a[c.ca.wX]="hev1.2.6.L123.B0";a[c.ca.vF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[c.ca.wF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[c.ca.pX]="hev1.2.6.L90.B0";a[c.ca.sX]="hev1.2.6.L93.B0";a[c.ca.vX]="hev1.2.6.L120.B0";a[c.ca.yX]="hev1.2.6.L123.B0";a[c.ca.zX]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[c.ca.AX]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.c6=function(){h.em.prototype.c6.call(this);!b.oza(this.cast)&&this.bn.push(p.Wj.yq);};b.Usa="eotf=smpte2084";b.iFb="video/mp4;codecs={0}; "+b.Usa;b.uQa="width=3840; height=2160; ";d.yca=b;d.zW="CastSDKSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jea="IsTypeSupportedProviderFactorySymbol";d.Kga="PlatformIsTypeSupportedSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eia="ThroughputTrackerSymbol";d.ZY="ThroughputTrackerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zY="PboPlaydataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.RY="SegmentManagerFactorySymbol";},function(g,d,a){var c,h,l;function b(a,b,c,d){this.Va=a;this.zr=b;this.pj=c;this.Hm=void 0===d?"General":d;this.L1={};}Object.defineProperty(d,"__esModule",{value:!0});c=a(9);h=a(419);l=a(846);b.prototype.gma=function(a,b){this.L1[a]=b;};b.prototype.fatal=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.gu(c.Vh.IHa,a,l.VB(this.zr,this.JC(f)));};b.prototype.error=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.gu(c.Vh.ERROR,a,l.VB(this.zr,this.JC(f)));};b.prototype.warn=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.gu(c.Vh.zia,a,l.VB(this.zr,this.JC(f)));};b.prototype.info=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.gu(c.Vh.PX,a,l.VB(this.zr,this.JC(f)));};b.prototype.trace=function(a,b){for(var f=[],d=1;d<arguments.length;++d)f[d-1]=arguments[d];this.gu(c.Vh.WY,a,l.VB(this.zr,this.JC(f)));};b.prototype.debug=function(a,b){for(var f=1;f<arguments.length;++f);};b.prototype.log=function(a,b){for(var f=1;f<arguments.length;++f);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,c){for(var f=[],d=2;d<arguments.length;++d)f[d-2]=arguments[d];this.gu(a,b,l.VB(this.zr,this.JC(f)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Hm};};b.prototype.g2=function(a){return new b(this.Va,this.zr,this.pj,a);};b.prototype.gu=function(a,b,c){a=new h.Xea(a,this.Hm,this.Va.He(),b,c);b=Aa(this.pj.pj);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.JC=function(a){return 0<Object.keys(this.L1).length?[].concat([this.L1],xb(a)):a;};d.HF=b;},function(g){var m,r,u,x,v,B;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(m===setTimeout)return setTimeout(a,0);if((m===d||!m)&&setTimeout)return m=setTimeout,setTimeout(a,0);try{return m(a,0);}catch(A){try{return m.call(null,a,0);}catch(z){return m.call(this,a,0);}}}function c(b){if(r===clearTimeout)clearTimeout(b);else if(r!==a&&r||!clearTimeout)try{r(b);}catch(A){try{r.call(null,b);}catch(z){r.call(this,b);}}else r=clearTimeout,clearTimeout(b);}function h(){x&&v&&(x=!1,v.length?u=v.concat(u):B=-1,u.length&&l());}function l(){var a;if(!x){a=b(h);x=!0;for(var f=u.length;f;){v=u;for(u=[];++B<f;)v&&v[B].iE();B=-1;f=u.length;}v=null;x=!1;c(a);}}function f(a,b){this.e8a=a;this.In=b;}function p(){}g=g.M={};try{m="function"===typeof setTimeout?setTimeout:d;}catch(y){m=d;}try{r="function"===typeof clearTimeout?clearTimeout:a;}catch(y){r=a;}u=[];x=!1;B=-1;g.twa=function(a){var c;c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];u.push(new f(a,c));1!==u.length||x||b(l);};f.prototype.iE=function(){this.e8a.apply(null,this.In);};g.title="browser";g.fCb=!0;g.w6a={};g.NBb=[];g.version="";g.kJb={};g.on=p;g.addListener=p;g.once=p;g.Ehb=p;g.removeListener=p;g.removeAllListeners=p;g.emit=p;g.iya=p;g.kkb=p;g.listeners=function(){return[];};g.bCb=function(){throw Error("process.binding is not supported");};g.cDb=function(){return"/";};g.yCb=function(){throw Error("process.chdir is not supported");};g.$Ib=function(){return 0;};},function(g,d,a){(function(b){var R,T,D,ja,da,ga;function c(a,b){var f;f={q$:[],Ai:l};3<=arguments.length&&(f.depth=arguments[2]);4<=arguments.length&&(f.bC=arguments[3]);y(b)?f.U$=b:b&&d.Hja(f,b);k(f.U$)&&(f.U$=!1);k(f.depth)&&(f.depth=2);k(f.bC)&&(f.bC=!1);k(f.Zoa)&&(f.Zoa=!0);f.bC&&(f.Ai=g);return p(f,a,f.depth);}function g(a,b){return(b=c.Upb[b])?"u001b["+c.bC[b][0]+"m"+a+"u001b["+c.bC[b][1]+"m":a;}function l(a){return a;}function f(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function p(a,b,c){var g,l,h,A,y;if(a.Zoa&&b&&K(b.nJ)&&b.nJ!==d.nJ&&(!b.constructor||b.constructor.prototype!==b)){g=b.nJ(c,a);z(g)||(g=p(a,g,c));return g;}if(g=m(a,b))return g;l=Object.keys(b);h=f(l);a.U$&&(l=Object.getOwnPropertyNames(b));if(q(b)&&(0<=l.indexOf("message")||0<=l.indexOf("description")))return r(b);if(0===l.length){if(K(b))return a.Ai("[Function"+(b.name?": "+b.name:"")+"]","special");if(N(b))return a.Ai(RegExp.prototype.toString.call(b),"regexp");if(n(b))return a.Ai(Date.prototype.toString.call(b),"date");if(q(b))return r(b);}g="";A=!1;y=["{","}"];B(b)&&(A=!0,y=["[","]"]);K(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");N(b)&&(g=" "+RegExp.prototype.toString.call(b));n(b)&&(g=" "+Date.prototype.toUTCString.call(b));q(b)&&(g=" "+r(b));if(0===l.length&&(!A||0==b.length))return y[0]+g+y[1];if(0>c)return N(b)?a.Ai(RegExp.prototype.toString.call(b),"regexp"):a.Ai("[Object]","special");a.q$.push(b);l=A?u(a,b,c,h,l):l.map(function(f){return x(a,b,c,h,f,A);});a.q$.pop();return v(l,g,y);}function m(a,b){if(k(b))return a.Ai("undefined","undefined");if(z(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\'").replace(/\"/g,'"')+"'",a.Ai(b,"string");if(A(b))return a.Ai(""+b,"number");if(y(b))return a.Ai(""+b,"boolean");if(null===b)return a.Ai("null","null");}function r(a){return"["+Error.prototype.toString.call(a)+"]";}function u(a,b,f,c,d){for(var m=[],p=0,g=b.length;p<g;++p)Object.prototype.hasOwnProperty.call(b,String(p))?m.push(x(a,b,f,c,String(p),!0)):m.push("");d.forEach(function(d){d.match(/^d+$/)||m.push(x(a,b,f,c,d,!0));});return m;}function x(a,b,f,c,d,m){var g,l;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?l=b.set?a.Ai("[Getter/Setter]","special"):a.Ai("[Getter]","special"):b.set&&(l=a.Ai("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,d)||(g="["+d+"]");l||(0>a.q$.indexOf(b.value)?(l=null===f?p(a,b.value,null):p(a,b.value,f-1),-1<l.indexOf("n")&&(l=m?l.split("n").map(function(a){return"  "+a;}).join("n").substr(2):"n"+l.split("n").map(function(a){return"   "+a;}).join("n"))):l=a.Ai("[Circular]","special"));if(k(g)){if(m&&d.match(/^d+$/))return l;g=JSON.stringify(""+d);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.Ai(g,"name")):(g=g.replace(/'/g,"\'").replace(/\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.Ai(g,"string"));}return g+": "+l;}function v(a,b,f){var c;c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("n")&&c++;return a+b.replace(/u001b[dd?m/g,"").length+1;},0)?f[0]+(""===b?"":b+"n ")+" "+a.join(",n  ")+" "+f[1]:f[0]+b+" "+a.join(", ")+" "+f[1];}function B(a){return Array.isArray(a);}function y(a){return"boolean"===typeof a;}function A(a){return"number"===typeof a;}function z(a){return"string"===typeof a;}function k(a){return void 0===a;}function N(a){return E(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function E(a){return"object"===typeof a&&null!==a;}function n(a){return E(a)&&"[object Date]"===Object.prototype.toString.call(a);}function q(a){return E(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function K(a){return"function"===typeof a;}function t(a){return 10>a?"0"+a.toString(10):a.toString(10);}function W(){var a,b;a=new Date();b=[t(a.getHours()),t(a.getMinutes()),t(a.getSeconds())].join(":");return[a.getDate(),da[a.getMonth()],b].join(" ");}function ba(a,b){var f;if(!a){f=Error("Promise was rejected with a falsy value");f.reason=a;a=f;}return b(a);}R=Object.YEb||function(a){for(var b=Object.keys(a),f={},c=0;c<b.length;c++)f[b[c]]=Object.getOwnPropertyDescriptor(a,b[c]);return f;};T=/%[sdj%]/g;d.format=function(a){if(!z(a)){for(var b=[],f=0;f<arguments.length;f++)b.push(c(arguments[f]));return b.join(" ");}for(var f=1,d=arguments,m=d.length,b=String(a).replace(T,function(a){if("%%"===a)return"%";if(f>=m)return a;switch(a){case"%s":return String(d[f++]);case"%d":return Number(d[f++]);case"%j":try{return JSON.stringify(d[f++]);}catch(Ta){return"[Circular]";}default:return a;}}),p=d[f];f<m;p=d[++f])b=null!==p&&E(p)?b+(" "+c(p)):b+(" "+p);return b;};d.h4a=function(a,f){var c;if("undefined"!==typeof b&&!0===b.RGb)return a;if("undefined"===typeof b)return function(){return d.h4a(a,f).apply(this,arguments);};c=!1;return function(){if(!c){if(b.MIb)throw Error(f);b.PIb?console.trace(f):console.error(f);c=!0;}return a.apply(this,arguments);};};D={};d.rDb=function(a){var f;k(ja)&&(ja=b.w6a.eyb||"");a=a.toUpperCase();if(!D[a])if(new RegExp("\b"+a+"\b","i").test(ja)){f=b.wHb;D[a]=function(){var b;b=d.format.apply(d,arguments);console.error("%s %d: %s",a,f,b);};}else D[a]=function(){};return D[a];};d.nJ=c;c.bC={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};c.Upb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=B;d.ucb=y;d.Na=function(a){return null===a;};d.SFb=function(a){return null==a;};d.ka=A;d.Vd=z;d.WFb=function(a){return"symbol"===typeof a;};d.V=k;d.aua=N;d.re=E;d.pJ=n;d.wS=q;d.rb=K;d.Yta=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(865);da="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",W(),d.format.apply(d,arguments));};d.ccb=a(864);d.Hja=function(a,b){if(!b||!E(b))return a;for(var f=Object.keys(b),c=f.length;c--;)a[f[c]]=b[f[c]];return a;};Oa();Oa();ga="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;d.Gkb=function(a){function b(){for(var b,f,c=new Promise(function(a,c){b=a;f=c;}),d=[],m=0;m<arguments.length;m++)d.push(arguments[m]);d.push(function(a,c){a?f(a):b(c);});try{a.apply(this,d);}catch(Ta){f(Ta);}return c;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(ga&&a[ga]){b=a[ga];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,ga,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));ga&&Object.defineProperty(b,ga,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,R(a));};d.Gkb.bDb=ga;d.tCb=function(a){function f(){var m,p;function f(){return m.apply(p,arguments);}for(var c=[],d=0;d<arguments.length;d++)c.push(arguments[d]);m=c.pop();if("function"!==typeof m)throw new TypeError("The last argument must be of type Function");p=this;a.apply(this,c).then(function(a){b.twa(f,null,a);},function(a){b.twa(ba,a,f);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(f,Object.getPrototypeOf(a));Object.defineProperties(f,R(a));return f;};}.call(this,a(228)));},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.IBa(a.substr(2*c,2));return b;};b.prototype.encode=function(a){for(var b="",c=a.length,d=0;d<c;d++)var g=a[d],b=b+("0123456789ABCDEF"[g>>>4]+"0123456789ABCDEF"[g&15]);return b;};b.prototype.Ur=function(a,b){var f;f="";for(b<<=1;b--;)f=("0123456789ABCDEF"[a&15]||"0")+f,a>>>=4;return f;};b.prototype.IBa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var d=0,m=0;m<b;m++)d=16*d+c[a[m]];return d;};h=b;h=g.__decorate([a.N()],h);d.sW=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tt='video/mp4; codecs="avc1.640028"';d.sA='audio/mp4; codecs="mp4a.40.5"';d.WGa="DrmTraitsSymbol";},function(g,d,a){var b,c;b=a(442);c=a(970);d.qv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.DD(c.Obb,null,a);};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,f){a.call(this);this.value=b;this.ia=f;this.Vq=!0;f&&(this.Vq=!1);}b(c,a);c.create=function(a,b){return new c(a,b);};c.ib=function(a){var b,c;b=a.value;c=a.mf;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.nb(a)));};c.prototype.Ff=function(a){var b,d;b=this.value;d=this.ia;if(d)return d.nb(c.ib,0,{done:!1,value:b,mf:a});a.next(b);a.closed||a.complete();};return c;}(a(10).sa);d.QY=g;},function(g,d,a){a(10);g=function(){function a(a,b,d){this.kind=a;this.value=b;this.error=d;this.eo="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.dI=function(a,b,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,b,d){return a&&"function"===typeof a.next?this.observe(a):this.dI(a,b,d);};a.e2=function(b){return"undefined"!==typeof b?new a("N",b):a.Orb;};a.Foa=function(b){return new a("E",void 0,b);};a.a2=function(){return a.i0a;};a.i0a=new a("C");a.Orb=new a("N",void 0);return a;}();d.Notification=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);this.Ej=[];this.active=!1;}b(c,a);c.prototype.flush=function(a){var b,c;b=this.Ej;if(this.active)b.push(a);else{this.active=!0;do if(c=a.Gg(a.state,a.rd))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return c;}(a(985).nPa);d.pW=g;},function(g,d,a){var b,c;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(78);g=function(a){function d(b,c){a.call(this,b,c);this.ia=b;this.lK=!1;this.aM=c;}b(d,a);d.prototype.nb=function(a,b){var f;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.lK=!0;a=this.id;f=this.ia;null!=a&&(this.id=this.vU(f,a,b));this.rd=b;this.id=this.id||this.AU(f,this.id,b);return this;};d.prototype.AU=function(a,b,d){void 0===d&&(d=0);return c.root.setInterval(a.flush.bind(a,this),d);};d.prototype.vU=function(a,b,d){void 0===d&&(d=0);return null!==d&&this.rd===d&&!1===this.lK?b:(c.root.clearInterval(b),void 0);};d.prototype.Gg=function(a,b){if(this.closed)return Error("executing a cancelled action");this.lK=!1;if(a=this.hO(a,b))return a;!1===this.lK&&null!=this.id&&(this.id=this.vU(this.ia,this.id,null));};d.prototype.hO=function(a){var b,f;b=!1;f=void 0;try{this.aM(a);}catch(r){b=!0;f=!!r&&r||Error(r);}if(b)return this.unsubscribe(),f;};d.prototype.hr=function(){var a,b,c,d;a=this.id;b=this.ia;c=b.Ej;d=c.indexOf(this);this.state=this.aM=null;this.lK=!1;this.ia=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.vU(b,a,null));this.rd=null;};return d;}(a(987).qDa);d.oW=g;},function(g,d,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(78);d.fFb=b;d.observable=b(g.root);d.ytb=d.observable;},function(g,d,a){g=a(78).root.Symbol;d.Ez="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";d.ztb=d.Ez;},function(g,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dY="MediaKeysStorageFactorySymbol";},function(g,d,a){var h;function b(){}function c(a){a?(this.active=!1,this.d4(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.d4=function(a){this.profileId=a.profileId;this.Cb=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,jv:a.licenseContextId,pD:a.licenseId};}):[];this.ja=a.xid;this.S=a.movieId;};c.prototype.iq=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.Cb?this.Cb.map(function(a){return{id:a.id,licenseContextId:a.jv,licenseId:a.pD};}):[],xid:this.ja,movieId:this.S}));};d.PW=c;b.prototype.create=function(){return new c();};b.prototype.load=function(a){return new c(a);};h=b;h=g.__decorate([a.N()],h);d.SGa=h;},function(g,d,a){var b,c,h,l,f,p,m,r,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(137);c=a(465);h=a(241);l=a(167);f=a(1006);p=a(1005);m=a(120);r=a(240);u=a(463);d.eme=new g.Zb(function(a){a(c.fda).to(h.SGa).$();a(l.xW).to(f.SEa).$();a(b.QW).FL(p.Ikb);a(m.Bw).Sz(function(a){d.jI.parent=a.ac;return d.jI.get(m.Bw);});a(r.dY).ph(function(){return function(){return new u.wfa();};});});d.jI=new g.gF({Rv:!0});},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(71);c=a(1007);d.Bh=new g.Zb(function(a){a(b.Ss).FL(c.Hkb);});d.d0=new g.gF({Rv:!0});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(245);a(469);g=function(){function a(a){this.ub=a;}a.prototype.$L=function(){this.ub.cC=function(a){return null!==a.target&&!a.target.l6()&&!a.target.p6();};return new b.uW(this.ub);};return a;}();d.vW=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(244);g=function(){function a(a){this.ub=a;}a.prototype.Rp=function(a){this.ub.Rp=a;return new b.vW(this.ub);};return a;}();d.uW=g;},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(468);c=a(1008);h=a(243);l=a(242);f=a(1004);p=a(996);m=a(890);r=a(875);a=a(516);d.Lb=new g.gF({Rv:!0});r.$db(d.Lb);d.Lb.load(c.platform);d.Lb.load(f.config);h.d0.load(p.Bh);l.jI.load(m.u5a);d.Lb.load(a.w0);d.Lb.bind(b.Eea).Ng(d.Lb);},function(g,d,a){var l;function b(a,b,c,d,g,l,h){this.UL=d;this.SCa=a;this.uwa=b;this.Z7=c;this.cdb=l;this.Mv=h;this.split=g;}function c(){this.J={};this.J["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new b("7","8","7","10","1.5",0,0);this.J["7"]=new b("15","16","15","9","4.5",0,0);this.J["15"]=new b("31","32","31","2","5.5",0,0);this.J["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new b("123","124","123","0","0",1,.207298);this.J["124"]=new b("123","124","123","0","0",1,.49076);this.J["64"]=new b("125","126","125","4","40.5",0,0);this.J["125"]=new b("125","126","125","0","0",1,-.00157835);this.J["126"]=new b("125","126","125","0","0",1,.934205);this.J["32"]=new b("65","66","65","135","5.5",0,0);this.J["65"]=new b("127","128","128","4","1272.5",0,0);this.J["127"]=new b("127","128","128","0","0",1,-.510333);this.J["128"]=new b("127","128","128","0","0",1,.18363);this.J["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new b("129","130","129","0","0",1,-.0464542);this.J["130"]=new b("129","130","129","0","0",1,.458833);this.J["16"]=new b("33","34","34","10","2.00001",0,0);this.J["33"]=new b("67","68","67","0","29.5",0,0);this.J["67"]=new b("131","132","131","2","39.5",0,0);this.J["131"]=new b("131","132","131","0","0",1,-.37577);this.J["132"]=new b("131","132","131","0","0",1,.512087);this.J["68"]=new b("133","134","134","140","1.5",0,0);this.J["133"]=new b("133","134","134","0","0",1,.321272);this.J["134"]=new b("133","134","134","0","0",1,-.675396);this.J["34"]=new b("69","70","70","2","24.5",0,0);this.J["69"]=new b("135","136","136","9","28.5",0,0);this.J["135"]=new b("135","136","136","0","0",1,-.0573845);this.J["136"]=new b("135","136","136","0","0",1,-.507455);this.J["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new b("137","138","137","0","0",1,-.503909);this.J["138"]=new b("137","138","137","0","0",1,.450886);this.J["8"]=new b("17","18","17","4","44189.5",0,0);this.J["17"]=new b("35","36","35","2","21.5",0,0);this.J["35"]=new b("71","72","72","0","19.5",0,0);this.J["71"]=new b("139","140","140","9","2.5",0,0);this.J["139"]=new b("139","140","140","0","0",1,.00403497);this.J["140"]=new b("139","140","140","0","0",1,-.312656);this.J["72"]=new b("141","142","141","135","96",0,0);this.J["141"]=new b("141","142","141","0","0",1,-.465786);this.J["142"]=new b("141","142","141","0","0",1,.159633);this.J["36"]=new b("73","74","73","130","89.5",0,0);this.J["73"]=new b("143","144","144","10","4.5",0,0);this.J["143"]=new b("143","144","144","0","0",1,-.76265);this.J["144"]=new b("143","144","144","0","0",1,-.580804);this.J["74"]=new b("145","146","146","10","16.5",0,0);this.J["145"]=new b("145","146","146","0","0",1,.296357);this.J["146"]=new b("145","146","146","0","0",1,-.691659);this.J["18"]=new b("37","38","38","9","1.5",0,0);this.J["37"]=new b("37","38","38","0","0",1,.993951);this.J["38"]=new b("75","76","75","0","19",0,0);this.J["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new b("147","148","147","0","0",1,-.346535);this.J["148"]=new b("147","148","147","0","0",1,-.995745);this.J["76"]=new b("147","148","147","0","0",1,-.99978);this.J["4"]=new b("9","10","9","5","4.5",0,0);this.J["9"]=new b("19","20","19","2","4.5",0,0);this.J["19"]=new b("39","40","39","140","7.5",0,0);this.J["39"]=new b("77","78","78","134","6.5",0,0);this.J["77"]=new b("149","150","150","7","11.5",0,0);this.J["149"]=new b("149","150","150","0","0",1,.729843);this.J["150"]=new b("149","150","150","0","0",1,.383857);this.J["78"]=new b("151","152","151","133","4.5",0,0);this.J["151"]=new b("151","152","151","0","0",1,.39017);this.J["152"]=new b("151","152","151","0","0",1,.0434342);this.J["40"]=new b("79","80","79","133","3.5",0,0);this.J["79"]=new b("153","154","154","8","4.5",0,0);this.J["153"]=new b("153","154","154","0","0",1,-.99536);this.J["154"]=new b("153","154","154","0","0",1,-.00943396);this.J["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new b("155","156","155","0","0",1,.266272);this.J["156"]=new b("155","156","155","0","0",1,.959904);this.J["20"]=new b("41","42","42","10","65.5",0,0);this.J["41"]=new b("81","82","82","7","10.5",0,0);this.J["81"]=new b("157","158","158","2","37.5",0,0);this.J["157"]=new b("157","158","158","0","0",1,-.701873);this.J["158"]=new b("157","158","158","0","0",1,.224649);this.J["82"]=new b("159","160","159","133","9.5",0,0);this.J["159"]=new b("159","160","159","0","0",1,.0955181);this.J["160"]=new b("159","160","159","0","0",1,-.58962);this.J["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new b("161","162","161","135","31",0,0);this.J["161"]=new b("161","162","161","0","0",1,-.229692);this.J["162"]=new b("161","162","161","0","0",1,.88595);this.J["84"]=new b("163","164","164","1","13.5",0,0);this.J["163"]=new b("163","164","164","0","0",1,-.992157);this.J["164"]=new b("163","164","164","0","0",1,.922159);this.J["10"]=new b("21","22","22","4","486",0,0);this.J["21"]=new b("43","44","44","133","4.5",0,0);this.J["43"]=new b("85","86","86","10","4.5",0,0);this.J["85"]=new b("165","166","166","4","158.5",0,0);this.J["165"]=new b("165","166","166","0","0",1,-.127778);this.J["166"]=new b("165","166","166","0","0",1,.955189);this.J["86"]=new b("165","166","166","0","0",1,-.994012);this.J["44"]=new b("87","88","88","1","3.5",0,0);this.J["87"]=new b("167","168","168","135","7",0,0);this.J["167"]=new b("167","168","168","0","0",1,-.997015);this.J["168"]=new b("167","168","168","0","0",1,.400821);this.J["88"]=new b("169","170","169","130","36",0,0);this.J["169"]=new b("169","170","169","0","0",1,-.898638);this.J["170"]=new b("169","170","169","0","0",1,.56129);this.J["22"]=new b("45","46","45","9","2.5",0,0);this.J["45"]=new b("89","90","90","9","1.5",0,0);this.J["89"]=new b("171","172","171","10","10.5",0,0);this.J["171"]=new b("171","172","171","0","0",1,.573986);this.J["172"]=new b("171","172","171","0","0",1,-.627266);this.J["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new b("173","174","173","0","0",1,.925273);this.J["174"]=new b("173","174","173","0","0",1,-.994805);this.J["46"]=new b("91","92","91","136","5.5",0,0);this.J["91"]=new b("175","176","175","10","10.5",0,0);this.J["175"]=new b("175","176","175","0","0",1,.548352);this.J["176"]=new b("175","176","175","0","0",1,-.879195);this.J["92"]=new b("177","178","178","8","14.5",0,0);this.J["177"]=new b("177","178","178","0","0",1,.457305);this.J["178"]=new b("177","178","178","0","0",1,-.998992);this.J["2"]=new b("5","6","5","10","2.5",0,0);this.J["5"]=new b("11","12","11","9","4.5",0,0);this.J["11"]=new b("23","24","24","10","4.00001",0,0);this.J["23"]=new b("47","48","48","133","5.5",0,0);this.J["47"]=new b("93","94","93","3","13.5",0,0);this.J["93"]=new b("179","180","179","138","15.5",0,0);this.J["179"]=new b("179","180","179","0","0",1,.658398);this.J["180"]=new b("179","180","179","0","0",1,-.927007);this.J["94"]=new b("181","182","182","3","15.5",0,0);this.J["181"]=new b("181","182","182","0","0",1,-.111351);this.J["182"]=new b("181","182","182","0","0",1,-.99827);this.J["48"]=new b("95","96","95","7","167",0,0);this.J["95"]=new b("183","184","183","132","36.5",0,0);this.J["183"]=new b("183","184","183","0","0",1,.895161);this.J["184"]=new b("183","184","183","0","0",1,-.765217);this.J["96"]=new b("185","186","186","137","6.00001",0,0);this.J["185"]=new b("185","186","186","0","0",1,-.851095);this.J["186"]=new b("185","186","186","0","0",1,.674286);this.J["24"]=new b("49","50","49","137","5.5",0,0);this.J["49"]=new b("97","98","97","5","23.5",0,0);this.J["97"]=new b("187","188","187","3","28.5",0,0);this.J["187"]=new b("187","188","187","0","0",1,.951654);this.J["188"]=new b("187","188","187","0","0",1,-.993808);this.J["98"]=new b("187","188","187","0","0",1,-.99705);this.J["50"]=new b("187","188","187","0","0",1,-.997525);this.J["12"]=new b("25","26","25","8","8.5",0,0);this.J["25"]=new b("51","52","52","10","4.00001",0,0);this.J["51"]=new b("99","100","100","133","5.5",0,0);this.J["99"]=new b("189","190","190","7","40.5",0,0);this.J["189"]=new b("189","190","190","0","0",1,.151839);this.J["190"]=new b("189","190","190","0","0",1,-.855517);this.J["100"]=new b("191","192","192","133","14.5",0,0);this.J["191"]=new b("191","192","192","0","0",1,.86223);this.J["192"]=new b("191","192","192","0","0",1,.544394);this.J["52"]=new b("101","102","101","135","47.5",0,0);this.J["101"]=new b("193","194","194","4","24.5",0,0);this.J["193"]=new b("193","194","194","0","0",1,.946185);this.J["194"]=new b("193","194","194","0","0",1,.811859);this.J["102"]=new b("193","194","194","0","0",1,-.991561);this.J["26"]=new b("53","54","54","132","6.5",0,0);this.J["53"]=new b("103","104","103","131","85",0,0);this.J["103"]=new b("195","196","196","134","16.5",0,0);this.J["195"]=new b("195","196","196","0","0",1,.0473538);this.J["196"]=new b("195","196","196","0","0",1,-.999401);this.J["104"]=new b("197","198","198","8","15.5",0,0);this.J["197"]=new b("197","198","198","0","0",1,.816129);this.J["198"]=new b("197","198","198","0","0",1,-.99322);this.J["54"]=new b("105","106","105","133","3.5",0,0);this.J["105"]=new b("105","106","105","0","0",1,-.998783);this.J["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new b("199","200","199","0","0",1,.528588);this.J["200"]=new b("199","200","199","0","0",1,-.998599);this.J["6"]=new b("13","14","14","10","7.5",0,0);this.J["13"]=new b("27","28","28","133","7.5",0,0);this.J["27"]=new b("55","56","56","10","4.5",0,0);this.J["55"]=new b("107","108","107","3","3.5",0,0);this.J["107"]=new b("201","202","201","4","17.5",0,0);this.J["201"]=new b("201","202","201","0","0",1,-.379512);this.J["202"]=new b("201","202","201","0","0",1,.15165);this.J["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new b("203","204","203","0","0",1,-.884606);this.J["204"]=new b("203","204","203","0","0",1,.265406);this.J["56"]=new b("109","110","109","136","6.5",0,0);this.J["109"]=new b("205","206","205","4","157.5",0,0);this.J["205"]=new b("205","206","205","0","0",1,-.0142737);this.J["206"]=new b("205","206","205","0","0",1,.691279);this.J["110"]=new b("205","206","205","0","0",1,-.998086);this.J["28"]=new b("57","58","58","138","11.5",0,0);this.J["57"]=new b("111","112","112","2","6.5",0,0);this.J["111"]=new b("207","208","208","7","67.5",0,0);this.J["207"]=new b("207","208","208","0","0",1,.763925);this.J["208"]=new b("207","208","208","0","0",1,-.309645);this.J["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new b("209","210","209","0","0",1,-.306635);this.J["210"]=new b("209","210","209","0","0",1,.556696);this.J["58"]=new b("113","114","113","138","50.5",0,0);this.J["113"]=new b("211","212","212","8","25.5",0,0);this.J["211"]=new b("211","212","212","0","0",1,.508234);this.J["212"]=new b("211","212","212","0","0",1,.793551);this.J["114"]=new b("211","212","212","0","0",1,-.998438);this.J["14"]=new b("29","30","29","134","27.5",0,0);this.J["29"]=new b("59","60","60","7","17.5",0,0);this.J["59"]=new b("115","116","115","135","5.5",0,0);this.J["115"]=new b("213","214","214","137","5.5",0,0);this.J["213"]=new b("213","214","214","0","0",1,.401747);this.J["214"]=new b("213","214","214","0","0",1,.0367503);this.J["116"]=new b("215","216","216","8","5.5",0,0);this.J["215"]=new b("215","216","216","0","0",1,-.0241984);this.J["216"]=new b("215","216","216","0","0",1,-.999046);this.J["60"]=new b("117","118","117","0","12.5",0,0);this.J["117"]=new b("217","218","218","132","5.5",0,0);this.J["217"]=new b("217","218","218","0","0",1,-.997294);this.J["218"]=new b("217","218","218","0","0",1,.210398);this.J["118"]=new b("219","220","219","137","1.5",0,0);this.J["219"]=new b("219","220","219","0","0",1,-.55763);this.J["220"]=new b("219","220","219","0","0",1,.074493);this.J["30"]=new b("61","62","62","133","42.5",0,0);this.J["61"]=new b("119","120","119","135","5.5",0,0);this.J["119"]=new b("221","222","222","4","473.5",0,0);this.J["221"]=new b("221","222","222","0","0",1,-.920213);this.J["222"]=new b("221","222","222","0","0",1,-.17615);this.J["120"]=new b("223","224","224","5","144",0,0);this.J["223"]=new b("223","224","224","0","0",1,-.954295);this.J["224"]=new b("223","224","224","0","0",1,-.382538);this.J["62"]=new b("121","122","121","133","50",0,0);this.J["121"]=new b("225","226","226","10","18.5",0,0);this.J["225"]=new b("225","226","226","0","0",1,-.0731343);this.J["226"]=new b("225","226","226","0","0",1,.755454);this.J["122"]=new b("227","228","228","0","30",0,0);this.J["227"]=new b("227","228","228","0","0",1,.25);this.J["228"]=new b("227","228","228","0","0",1,-.997101);}function h(a,b,c,d,g,l){this.HU=g;this.dQ=l;}d=a(279);l=a(171);a={};a.AYa=new function(){this.sSa=l();this.o=0;this.update=function(){this.o=l()-this.sSa;};this.getValue=function(){return this.o;};this.type="num";}();a.Jdb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.xa[a].context||null;};this.type="cat";}();a.Kdb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.xa[a].context||null;};this.type="cat";}();a.Mdb=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.xa[a].context||null;};this.type="cat";}();a.Ndb=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.xa[a].context||null;};this.type="cat";}();a.Ldb=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.xa[a].context||null;};this.type="cat";}();a.Odb=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.xa[a].context||null;};this.type="cat";}();a.Pdb=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.xa[a].context||null;};this.type="cat";}();a.Qdb=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.xa[a].context||null;};this.type="cat";}();a.Rdb=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.xa[a].context||null;};this.type="cat";}();a.Sdb=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.xa[a].context||null;};this.type="cat";}();a.Tdb=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.xa[a].context||null;};this.type="cat";}();a.Udb=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.xa[a].context||null;};this.type="cat";}();a.Wdb=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.xa[a].context||null;};this.type="cat";}();a.Xdb=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.xa[a].context||null;};this.type="cat";}();a.Ydb=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.xa[a].context||null;};this.type="cat";}();a.Vdb=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.xa[a].context||null;};this.type="cat";}();a.cZa=new function(){this.update=function(a){for(var b in a.xa)if("becauseYouAdded"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dZa=new function(){this.update=function(a){for(var b in a.xa)if("becauseYouLiked"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.fZa=new function(){this.update=function(a){for(var b in a.xa)if("billboard"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.z0a=new function(){this.update=function(a){for(var b in a.xa)if("continueWatching"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.eZa=new function(){this.update=function(a){for(var b in a.xa)if("bigRow"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.i8a=new function(){this.update=function(a){for(var b in a.xa)if("genre"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Mgb=new function(){this.update=function(a){for(var b in a.xa)if("netflixOriginals"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Qgb=new function(){this.update=function(a){for(var b in a.xa)if("newRelease"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Pjb=new function(){this.update=function(a){for(var b in a.xa)if("popularTitles"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.yi=new function(){this.update=function(a){for(var b in a.xa)if("queue"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.qlb=new function(){this.update=function(a){for(var b in a.xa)if("recentlyAdded"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Zob=new function(){this.update=function(a){for(var b in a.xa)if("similars"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.zrb=new function(){this.update=function(a){for(var b in a.xa)if("trendingNow"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Mrb=new function(){this.update=function(a){for(var b in a.xa)if("ultraHD"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dtb=new function(){this.update=function(a){for(var b in a.xa)if("watchAgain"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.drb=new function(){this.update=function(a){for(var b in a.xa)if("topTen"===a.xa[b].context){this.o=Math.max(a.xa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.L0a=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.ya||null;};this.type="cat";}();a.M0a=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.ya||null;};this.type="cat";}();a.N0a=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.ya||null;};this.type="cat";}();a.O0a=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.ya||null;};this.type="cat";}();a.P0a=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.ya||null;};this.type="cat";}();a.Q0a=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.ya||null;};this.type="cat";}();a.R0a=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.ya||null;};this.type="cat";}();a.S0a=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.ya||null;};this.type="cat";}();a.T0a=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.ya||null;};this.type="cat";}();a.U0a=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.ya||null;};this.type="cat";}();a.V0a=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.ya||null;};this.type="cat";}();a.W0a=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.ya||null;};this.type="cat";}();a.X0a=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.ya||null;};this.type="cat";}();a.Y0a=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.ya||null;};this.type="cat";}();a.Z0a=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.ya||null;};this.type="cat";}();a.$0a=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.ya||null;};this.type="cat";}();a.a1a=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.ya||null;};this.type="cat";}();a.b1a=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.ya||null;};this.type="cat";}();a.c1a=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.ya||null;};this.type="cat";}();a.d1a=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.ya||null;};this.type="cat";}();a.e1a=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.ya||null;};this.type="cat";}();a.f1a=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.ya||null;};this.type="cat";}();a.g1a=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.ya||null;};this.type="cat";}();a.h1a=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.ya||null;};this.type="cat";}();a.i1a=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.ya||null;};this.type="cat";}();a.j1a=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.ya||null;};this.type="cat";}();a.k1a=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.ya||null;};this.type="cat";}();a.l1a=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.ya||null;};this.type="cat";}();a.m1a=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.ya||null;};this.type="cat";}();a.n1a=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.ya||null;};this.type="cat";}();a.o1a=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.ya||null;};this.type="cat";}();a.p1a=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.ya||null;};this.type="cat";}();a.q1a=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.ya||null;};this.type="cat";}();a.r1a=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.ya||null;};this.type="cat";}();a.s1a=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.ya||null;};this.type="cat";}();a.t1a=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.ya||null;};this.type="cat";}();a.u1a=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.ya||null;};this.type="cat";}();a.v1a=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.ya||null;};this.type="cat";}();a.w1a=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.ya||null;};this.type="cat";}();a.x1a=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.ya||null;};this.type="cat";}();a.y1a=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.ya||null;};this.type="cat";}();a.z1a=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.ya||null;};this.type="cat";}();a.A1a=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.ya||null;};this.type="cat";}();a.B1a=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.ya||null;};this.type="cat";}();a.C1a=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.ya||null;};this.type="cat";}();a.D1a=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.ya||null;};this.type="cat";}();a.E1a=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.ya||null;};this.type="cat";}();a.F1a=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.ya||null;};this.type="cat";}();a.G1a=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.ya||null;};this.type="cat";}();a.H1a=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.ya||null;};this.type="cat";}();a.I1a=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.ya||null;};this.type="cat";}();a.J1a=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.ya||null;};this.type="cat";}();a.K1a=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.ya||null;};this.type="cat";}();a.L1a=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.ya||null;};this.type="cat";}();a.M1a=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.ya||null;};this.type="cat";}();a.N1a=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.ya||null;};this.type="cat";}();a.O1a=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.ya||null;};this.type="cat";}();a.P1a=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.ya||null;};this.type="cat";}();a.Q1a=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.ya||null;};this.type="cat";}();a.R1a=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.ya||null;};this.type="cat";}();a.S1a=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.ya||null;};this.type="cat";}();a.T1a=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.ya||null;};this.type="cat";}();a.U1a=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.ya||null;};this.type="cat";}();a.V1a=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.ya||null;};this.type="cat";}();a.W1a=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.ya||null;};this.type="cat";}();a.X1a=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.ya||null;};this.type="cat";}();a.Y1a=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.ya||null;};this.type="cat";}();a.Z1a=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.ya||null;};this.type="cat";}();a.$1a=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.ya||null;};this.type="cat";}();a.a2a=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.ya||null;};this.type="cat";}();a.b2a=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.ya||null;};this.type="cat";}();a.c2a=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.ya||null;};this.type="cat";}();a.d2a=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.ya||null;};this.type="cat";}();a.e2a=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.ya||null;};this.type="cat";}();a.f2a=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.ya||null;};this.type="cat";}();a.g2a=new function(){this.getValue=function(a,b,c){return this.o="US"===c.ya||null;};this.type="cat";}();a.h2a=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.ya||null;};this.type="cat";}();a.i2a=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.ya||null;};this.type="cat";}();a.j2a=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.ya||null;};this.type="cat";}();a.vlb=new function(){this.getValue=function(a,b,c){return this.o=1===c.Of||null;};this.type="cat";}();a.wlb=new function(){this.getValue=function(a,b,c){return this.o=10===c.Of||null;};this.type="cat";}();a.xlb=new function(){this.getValue=function(a,b,c){return this.o=11===c.Of||null;};this.type="cat";}();a.ylb=new function(){this.getValue=function(a,b,c){return this.o=12===c.Of||null;};this.type="cat";}();a.zlb=new function(){this.getValue=function(a,b,c){return this.o=13===c.Of||null;};this.type="cat";}();a.Alb=new function(){this.getValue=function(a,b,c){return this.o=14===c.Of||null;};this.type="cat";}();a.Blb=new function(){this.getValue=function(a,b,c){return this.o=15===c.Of||null;};this.type="cat";}();a.Clb=new function(){this.getValue=function(a,b,c){return this.o=16===c.Of||null;};this.type="cat";}();a.Dlb=new function(){this.getValue=function(a,b,c){return this.o=17===c.Of||null;};this.type="cat";}();a.Elb=new function(){this.getValue=function(a,b,c){return this.o=18===c.Of||null;};this.type="cat";}();a.Flb=new function(){this.getValue=function(a,b,c){return this.o=19===c.Of||null;};this.type="cat";}();a.Glb=new function(){this.getValue=function(a,b,c){return this.o=2===c.Of||null;};this.type="cat";}();a.Hlb=new function(){this.getValue=function(a,b,c){return this.o=20===c.Of||null;};this.type="cat";}();a.Ilb=new function(){this.getValue=function(a,b,c){return this.o=21===c.Of||null;};this.type="cat";}();a.Jlb=new function(){this.getValue=function(a,b,c){return this.o=22===c.Of||null;};this.type="cat";}();a.Klb=new function(){this.getValue=function(a,b,c){return this.o=23===c.Of||null;};this.type="cat";}();a.Llb=new function(){this.getValue=function(a,b,c){return this.o=3===c.Of||null;};this.type="cat";}();a.Mlb=new function(){this.getValue=function(a,b,c){return this.o=4===c.Of||null;};this.type="cat";}();a.Nlb=new function(){this.getValue=function(a,b,c){return this.o=5===c.Of||null;};this.type="cat";}();a.Olb=new function(){this.getValue=function(a,b,c){return this.o=6===c.Of||null;};this.type="cat";}();a.Plb=new function(){this.getValue=function(a,b,c){return this.o=7===c.Of||null;};this.type="cat";}();a.Qlb=new function(){this.getValue=function(a,b,c){return this.o=8===c.Of||null;};this.type="cat";}();a.Rlb=new function(){this.getValue=function(a,b,c){return this.o=9===c.Of||null;};this.type="cat";}();a.aqb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.cqb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bqb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dqb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.sfb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.vfb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.J1);};this.getValue=function(){return this.o;};this.type="num";}();a.Cfb=new function(){this.pG=this.o=0;this.update=function(a){this.pG++;this.o=1*(this.o+a.rowIndex)/this.pG;};this.getValue=function(){return this.o;};this.type="num";}();a.Dfb=new function(){this.pG=this.o=0;this.update=function(a){this.pG++;return this.o=1*(this.o+a.J1)/this.pG;};this.getValue=function(){return this.o;};this.type="num";}();a.mkb=new function(){this.getValue=function(a,b,c){return this.o=c.J1+b;};this.type="num";}();a.nkb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();c.prototype.Mv=function(a){return this.Bla(this.J["0"].Nza(a),a);};c.prototype.Bla=function(a,b){return"string"==typeof a?this.Bla(this.J[a].Nza(b),b):a;};b.prototype.Nza=function(a){switch(this.cdb){case 0:switch(a.Yc[this.UL].type){case"cat":return null===a.Yc[this.UL].value?this.uwa:"missing"==a.Yc[this.UL].value?this.Z7:this.SCa;case"num":return null===a.Yc[this.UL].value?this.Z7:a.Yc[this.UL].value<this.split?this.SCa:this.uwa;default:return this.Z7;}case 1:return this.Mv;default:return this.Mv;}};d.declare({WJ:["modelSelector","modelone"],Y_a:["colEpisodeList",5],vbb:["holdDuration",15E3],xza:["rowFirst",2],$na:["colFirst",5],zza:["rowScroll",2],aoa:["colScroll",6],Tmb:["rowScrollHorizontal",6],mnb:["searchTop",3],$oa:["cwFirst",2],ZI:["horizontalItemsFocusedMode",3],ddb:["itemsPerRank",1],ofb:["maxNumberPayloadsStored",10],wva:["maxNumberTitlesScheduled",5],ODb:["enableDetailedLogging",!0],gIb:["rowStep",20],BCb:["colStep",15],dHb:["pageRows",100],cHb:["pageColumns",75],w7:["maskParamsList",new function(){var a,b;this.w7=[];this.Uxa={};this.HU=20;this.dQ=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.HU)+"_"+Math.floor(b/this.dQ)in this.Uxa||(this.Uxa[Math.floor(a/this.HU)+"_"+Math.floor(b/this.dQ)]=1,this.w7.push(new h(0,0,0,0,Math.floor(a/this.HU),Math.floor(b/this.dQ))));}().w7],J:["nodes",new c().J],mapping:["mapping",{vfb:"0",Dfb:"1",sfb:"2",Cfb:"3",AYa:"4",dqb:"5",bqb:"6",cqb:"7",aqb:"8",nkb:"9",mkb:"10",Jdb:"11",Kdb:"12",Mdb:"13",Ndb:"14",Ldb:"15",Odb:"16",Pdb:"17",Qdb:"18",Rdb:"19",Sdb:"20",Tdb:"21",Udb:"22",Vdb:"23",Wdb:"24",Xdb:"25",Ydb:"26",vlb:"27",wlb:"28",xlb:"29",ylb:"30",zlb:"31",Alb:"32",Blb:"33",Clb:"34",Dlb:"35",Elb:"36",Flb:"37",Glb:"38",Hlb:"39",Ilb:"40",Jlb:"41",Klb:"42",Llb:"43",Mlb:"44",Nlb:"45",Olb:"46",Plb:"47",Qlb:"48",Rlb:"49",L0a:"50",M0a:"51",N0a:"52",O0a:"53",P0a:"54",Q0a:"55",R0a:"56",S0a:"57",T0a:"58",U0a:"59",V0a:"60",W0a:"61",X0a:"62",Y0a:"63",Z0a:"64",$0a:"65",a1a:"66",b1a:"67",c1a:"68",d1a:"69",e1a:"70",f1a:"71",g1a:"72",h1a:"73",i1a:"74",j1a:"75",k1a:"76",l1a:"77",m1a:"78",n1a:"79",o1a:"80",p1a:"81",q1a:"82",r1a:"83",s1a:"84",t1a:"85",u1a:"86",v1a:"87",w1a:"88",x1a:"89",y1a:"90",z1a:"91",A1a:"92",B1a:"93",C1a:"94",D1a:"95",E1a:"96",F1a:"97",G1a:"98",H1a:"99",I1a:"100",J1a:"101",K1a:"102",L1a:"103",M1a:"104",N1a:"105",O1a:"106",P1a:"107",Q1a:"108",R1a:"109",S1a:"110",T1a:"111",U1a:"112",V1a:"113",W1a:"114",X1a:"115",Y1a:"116",Z1a:"117",$1a:"118",a2a:"119",b2a:"120",c2a:"121",d2a:"122",e2a:"123",f2a:"124",g2a:"125",h2a:"126",i2a:"127",j2a:"128",dtb:"129",qlb:"130",Zob:"131",yi:"132",z0a:"133",i8a:"134",zrb:"135",drb:"136",fZa:"137",Qgb:"138",Mrb:"139",Pjb:"140",cZa:"141",eZa:"142",dZa:"143",Mgb:"144"}],Yc:["features",a],wBb:["_modelName","tree"],oBb:["_format","xgboost"],vBb:["_itemsToKeep",5],uBb:["_itemsThreshold",null],oCb:["cacheLimit",20]});g.M={config:d,rGb:h,dDb:b};},function(g,d,a){var c;function b(a){for(var b="",f=0;f<a.length;f++)b+=a[f].Ne+"|";return b;}c=a(170);g.M={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},CFb:function(a,b,f){Array.prototype.splice.apply(a,[b,0].concat(f));},Q8a:function(a){for(var b=[],f=0;f<a.length;f++)if(a[f].context===c.DF.NEa){b=a[f].list;break;}return b;},D8a:function(a){for(var b=[],f=0;f<a.length;f++)if(a[f].context===c.DF.MDa){b=a[f].list;break;}return b;},s4a:function(a,c){for(var f=0,d,g,l,h=0,x=a.length-1;h<x;h++){d=b(a[h].list||[]);l=!1;for(var v=0,B=c.length;v<B;v++)if(g=b(c[v].list||[]),g==d){l=!0;break;}if(!1===l){f=h;break;}}return f;},Dhb:function(a,b,f){for(var c=[],d,g=0;g<Math.min(b,a.length);g++)d=a[g].list||[],c=c.concat(d.slice(0,f));return c;},Chb:function(a,b){for(var f=[],c,d=0;d<a.length&&(c=a[d].list||[],c=c.slice(0,Math.min(c.length,b)),b-=c.length,f=f.concat(c),0!==b);d++);return f;},Bhb:function(a,b,f){var c;b<a.length&&0<=b&&(a=a[b].list||[],f<a.length&&(c=a[f]));return c;},Pqa:function(a){for(var b={},f=a.length,d,g=0;g<f;g++){d=a[g].list||[];for(var r=0;r<d.length;r++)if(d[r].property===c.nA.SF||d[r].property===c.nA.Nca){b.mh=g;b.Yi=r;break;}}void 0===b.mh&&void 0===b.Yi&&(b.mh=0,b.Yi=0);return b;}};},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,v,B,y,A,z,k,N;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(179);h=a(103);l=a(8);f=a(6);g=a(33);p=a(2);m=a(12);r=a(3);u=a(115);x=a(56);v=a(53);B=a(17);y=a(5);A=a(15);z=a(29);k=a(84);N=a(4);d.Xm={};t._cad_global||(t._cad_global={});t._cad_global.msl=d.Xm;g.hfa&&b.Ye(p.I.lea,function(a){var n,q,ba,R,T,D,ja,da,ga,V,P,ma,ca,la;function g(f){f&&f.userList&&l.config.Mob&&(f.userList=[]);R({esn:h.Eg.ig,esnPrefix:h.Eg.Nm,authenticationType:l.config.QB,authenticationKeyNames:l.config.cna,systemKeyWrapFormat:l.config.qqb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ca,storeState:f,notifyMilestone:b.CJ,log:ja,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:p.H.rKa,MSL_READ_TIMEOUT:p.H.qKa}},{result:function(a){I(a);},timeout:function(){a({T:p.H.lfa});},error:function(b){a(E(p.H.lfa,void 0,b));}});}function I(b){var g,h,u;function c(){ma&&r.ba.get(v.cm).create().then(function(a){return a.save(V,h,!1);})["catch"](function(a){ja.error("Error persisting msl store",p.sn(a));});}g=r.ba.get(k.Nw)(N.sb(100));u=T.extend({init:function(a){this.Gka=a;},getResponse:function(a,b,f){var c,d;b=this.Gka;c=b.ks.Bb||c;a=A.eua(a.body)?r.BCa(a.body):a.body;m.TH(a,"Msl should not be sending empty request");a={url:b.url,Y8:a,withCredentials:!0,Zx:"nq-"+b.method,headers:b.headers};b=this.Gka.timeout;a.hQ=b;a.n8=b;d=c.download(a,function(a){try{if(a.O)f.result({body:a.content});else if(400===a.Ih&&a.Ga)f.result({body:a.Ga});else throw B.Ma(new D("HTTP error, SubCode: "+a.T+(a.Ih?", HttpCode: "+a.Ih:"")),{cadmiumResponse:a});}catch(jb){f.error(jb);}});return{abort:function(){d.abort();}};}});ga&&b.addEventHandler("shouldpersist",function(a){h=a.storeState;g.nb(c);});B.Ma(d.Xm,{yFb:function(){P=!0;},send:function(a){function f(){var b,f;b=a.ks;f={method:a.method,nonReplayable:a.o8,encrypted:a.j3,userId:a.RL,body:a.body,timeout:2*a.timeout,url:new u(a),allowTokenRefresh:ma,sendUserAuthIfRequired:la,shouldSendUserAuthData:l.config.Rob};b.cy?(f.email=b.cy,f.password=b.password||""):b.JBa?(f.token=b.JBa,f.mechanism=b.Ffb,b.Xy&&(f.netflixId=b.Xy,f.secureNetflixId=b.QU),b.jh&&(f.profileGuid=b.jh)):b.Xy?(f.netflixId=b.Xy,f.secureNetflixId=b.QU):b.Gva?(f.mdxControllerToken=b.Gva,f.mdxPin=b.Afb,f.mdxNonce=b.zfb,f.mdxEncryptedPinB64=b.yfb,f.mdxSignature=b.Bfb):P||b.useNetflixUserAuthData?f.useNetflixUserAuthData=!0:b.jh&&(f.profileGuid=b.jh);return f;}return new Promise(function(a,c){var d;d=f();b.send(d).then(function(b){P&&(P=!1);a({O:!0,body:b.body});})["catch"](function(a){var f,d;if(a.error){f=a.error.cadmiumResponse&&a.error.cadmiumResponse.T?a.error.cadmiumResponse.T:b.isErrorReauth(a.error)?p.H.kfa:b.isErrorHeader(a.error)?p.H.kKa:p.H.ifa;d=b.getErrorCode(a.error);c(E(f,d,a.error));}else ja.error("Unknown MSL error",a),a.eb=a.subCode,c({T:a.eb?a.eb:p.H.sKa});});});},Kg:b});a(f.Hb);}function E(a,b,f){var c,d,g,m;m={T:a,Nu:b};if(f){c=function(a){var b;a=a||""+f;if(f.stack){b=""+f.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(g=f.cadmiumResponse){if(d=g.mc&&g.mc.toString())g.mc=d;g.T=a;g.Nu=b;g.Ga=c(f.message);g.error={eb:a,Jc:d,Op:b,data:f.cause,message:f.message};return g;}c=c(f.errorMessage);d=B.Dd(f.internalCode)||B.Dd(f.error&&f.error.internalCode);g=void 0!==f.A6a?z.Nwa(f.A6a):void 0;}c&&(m.Ga=c);d&&(m.mc=d);m.error={eb:a,Jc:d.toString(),Op:b,data:g,message:c};return m;}m.va(l.config);n=r.ba.get(u.Qw);q=x.ad.xj;if(y.Dw&&y.Ux&&y.Ux.unwrapKey){try{ba=t.netflix.msl;R=ba.createMslClient;T=ba.IHttpLocation;D=ba.MslIoException;}catch(ta){a({T:p.H.lKa});return;}ja=r.Bd("Msl");da=l.config.Bgb;ga=l.config.Cgb;V=l.config.Lm?"mslstoretest":"mslstore";ba=c.BE.gAa;P=l.config.Ybb;ma=!ba||ba.O;ca=r.Kn(l.config.Lm?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");la=!!l.config.D$;r.ba.get(v.cm).create().then(function(b){da?b.remove(V).then(function(){g();})["catch"](function(a){ja.error("Unable to delete MSL store",p.sn(a));g();}):ga?b.load(V).then(function(a){n.mark(q.nKa);g(a.value);})["catch"](function(f){f.T==p.H.im?(n.mark(q.pKa),g()):(ja.error("Error loading msl store",p.sn(f)),n.mark(q.oKa),b.remove(V).then(function(){g();})["catch"](function(b){a(b);}));}):g();})["catch"](function(b){ja.error("Error creating app storage while loading msl store",p.sn(b));a(b);});}else a({T:p.H.mKa});});},function(g,d,a){var b,c,h,l,f,p,m,r,u,x;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(251);c=a(8);h=a(6);l=a(2);f=a(3);p=a(12);m=a(5);g.Ye(l.I.fea,function(a){var g;g=f.Bd("FileSystem");"fs"!=c.config.uV?a(h.Hb):(p.va(0<b.M8),m.pLa(m.PERSISTENT,b.M8,function(b){d.E3=b;a(h.Hb);},function(){g.error("Error calling requestFileSystem");a({T:l.H.Dha});}));});r={};u={create:!0};x={create:!0,exclusive:!0};d.lEb=function(a,b){d.E3.root.getDirectory(a,u,function(a){b({O:!0,EDb:a});},function(){b({T:l.H.fPa});});};d.mEb=function(a,b){a.createReader().readEntries(function(a){var d;for(var f=[],c=a.length;c--;){d=a[c];d.isFile&&f.push(d.name);}b({O:!0,kEb:f});},function(){b({T:l.H.gPa});});};d.nEb=function(a,b,f){function c(){f({T:l.H.cPa});}a.getFile(b,r,function(a){a.file(function(b){var d;d=new FileReader();d.onloadend=function(){f({O:!0,text:d.result,i7a:a});};d.onerror=c;d.readAsText(b);},c);},c);};d.pEb=function(a,b,f,c,d){function g(){d&&d({T:l.H.ePa});}function p(a){a.createWriter(function(b){try{b.onwriteend=function(){b.onwriteend=null;b.onerror=null;b.truncate(b.position);d&&d({O:!0,i7a:a});};b.onerror=g;b.write(new m.Jfa([f]));}catch(O){g();}},g);}b.createWriter?p(b):a.getFile(b,c?x:u,p,g);};d.oEb=function(a,b,f){function c(){f&&f({T:l.H.dPa});}function d(a){a.remove(function(){f&&f(h.Hb);},c);}b.remove?d(b):a.getFile(b,r,d,c);};},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(8);c=a(6);h=a(2);l=a(12);f=a(3);p=a(5);g.Ye(h.I.oea,function(a){var v,B,y;function g(){p.bN?p.bN.requestQuota(B,m,x):p.Kfa.requestQuota(p.PERSISTENT,B,m,x);}function m(b){b>=B?(d.M8=b,a(c.Hb)):y?(v.error("Quota request granted insufficent bytes"),a({T:h.H.Gha})):(y=!0,g());}function x(){v.error("Request quota error");a({T:h.H.Fha});}v=f.Bd("RequestQuota");B=b.config.jaa;0<B?(l.va(p.bN||p.Kfa),g()):(d.M8=0,a(c.Hb));});},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,v,B,y;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);c=a(6);h=a(19);l=a(8);f=a(29);p=a(20);m=a(33);r=a(3);u=a(2);x=a(17);v=a(115);B=a(5);y=a(88);d.hrb=function(){var g,k;function a(a){var b,c,m;b="info";c="";m=r.ba.get(v.Qw).Wra();a.O||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.T||""));c="type=startup&sev="+b+c+"&"+f.dK(x.Ma({},m,{prefix:"m_"}));d(c,g);}function d(a,d){d&&(a=k+"&jsoffms="+p.Ac()+"&do="+B.Zj.onLine+"&"+a+"&"+f.dK(x.Ma({},h.Q6,{prefix:"im_"})),b.Bb.download({url:d,Y8:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},Zx:"track"},c.Tb));}k="cat=cadplayback&dev="+encodeURIComponent(m.Pca)+"&ep="+encodeURIComponent(m.Cf.XW)+"&ver="+encodeURIComponent("6.0015.328.031")+"&jssid="+p.CF;r.Bd("TrackingLog");k+="&browserua="+B.vh;h.Ye(u.I.rea,function(b){var d,p;g=r.ba.get(y.Ts).host+l.config.Uaa;if(l.config.LV&&l.config.Uaa){l.config.Dp&&(k+="&groupname="+encodeURIComponent(l.config.Dp));l.config.Qs&&(k+="&uigroupname="+encodeURIComponent(l.config.Qs));d=k;p="";m.hN&&(p=x.Ma({},m.hN,{prefix:"pi_"}),p="&"+f.dK(p));k=d+p;h.BJ(a);}b(c.Hb);});return d;}();},function(g,d,a){var l;function b(a,b,d){b=b||0;d=d||a.length;for(var f,g=b,m,p,l,h={};g<b+d;){f=a[g];m=f&7;p=f>>3;l=c(a,g);if(!l.count)throw Error("Parsing error. bytes length is 0 for the tag "+f);g+=l.count+1;2==m&&(g+=l.value);h[p]={jEb:p,rJb:m,value:l.value,count:l.count,start:l.start};}return h;}function c(a,b){var f,c,d,g,p,h,y,A;f=b+1;c=a.length;d=f;g=0;p={};h=[];A=0;if(f>=c)throw Error("Invalid Range for Protobuf - start: "+f+" , len: "+c);for(;d<c;){g++;f=a[d];y=f&127;h.push(y);if(!(f&128))break;d++;}l.va(h.length);for(a=h.length-1;0<=a;a--)A<<=7,A|=h[a];p.count=g;p.value=A;p.start=b+g+1;return p;}function h(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});l=a(12);d.Rcb=function(a){a=b(a);if(1==h(a,1)&&a[5]&&a[5].value)return!0;};d.VFb=function(a){var f;f=b(a);if(2==h(f,1)&&(a=b(a,f[2].start,f[2].value),h(a,5)))return!0;};d.fEb=b;d.$Eb=c;d.aFb=h;},function(g){function d(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.M=function(a){var l,f,p;function b(a,b,f){throw new TypeError(("undefined"!==typeof f.key?"Types: expected "+f.key:"Types: expected argument "+f.index)+(" to be '"+a+"' but found '"+b+"'"));}function c(a,c,d){var g;g=f[a];"undefined"!==typeof g?g(c)||b(a,c,d):a!==typeof c&&b(a,c,d);}function g(a,b){var f;f=a.filter(function(a){return"object"!==typeof a&&-1===p.indexOf(a);});f=f.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===p.indexOf(a);}));},[]));if(0<f.length)throw Error(f.join(",")+" are invalid types");return function(){var f;f=Array.prototype.slice.call(arguments);if(f.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var d;d=f[b];if("string"===typeof a)c(a,d,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){c(a[b],d[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,f);};}l="number boolean string object function symbol".split(" ");f={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof f[b]||-1<l.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);f[b]=a[b];});}p=Object.keys(f).concat(l);return g(["array","function"],g);};},function(g,d,a){var v,B,y;function b(a,b,f){this.type=a;this.size=b;this.Hr=f;}function c(a){var f,c,d,g,m;a:{f=a.position;if(8<=a.Hl()){c=a.Fa();d=a.Kv(4);if(!B.test(d))throw a.seek(f),Error("mp4-badtype");if(1==c){if(8>a.Hl()){a.seek(f);f=void 0;break a;}c=a.Nf();}if(!(8<=c))throw a.seek(f),Error("mp4-badsize");if("uuid"==d){if(16>a.Hl()){a.seek(f);f=void 0;break a;}d=a.aE();}f={type:d,offset:f,size:c,Hr:f+c-a.position};}else f=void 0;}if(f&&f.Hr<=a.Hl()){g=f.type;c=f.size;m=f.Hr;d=new b(g,c,m);g=y[g];if(a.Hl()<m)throw Error("mp4-shortcontent");g?(m=new v(a.Le(m)),g(d,m)):a.skip(m);a.seek(f.offset);d.raw=a.Le(c);return d;}}function h(a,b){for(var f=[],d={},g,m;0<b.Hl();){g=c(b);if(!g)throw Error("mp4-badchildren");m=g.type;f.push(g);d[m]||(d[m]=g);}a.children=f;a.K3=d;}function l(a,b){a.version=b.Xd(1);a.pe=b.Xd(3);}function f(a,b){b.skip(6);a.d3a=b.xb();b.skip(8);a.channelCount=b.xb();a.kE=b.xb();b.skip(4);a.sampleRate=b.xb();b.skip(2);h(a,b);}function p(a,b){var f;b.skip(6);a.d3a=b.xb();b.skip(16);a.width=b.xb();a.height=b.xb();a.lFb=b.Fa();a.lJb=b.Fa();b.skip(4);a.T7a=b.xb();f=b.kh();a.m0a=b.Kv(f);b.skip(31-f);a.depth=b.xb();b.skip(2);h(a,b);}function m(a,b){l(a,b);a.xDb=b.Xd(3);a.yDb=b.kh();a.uJ=b.Le(16);}function r(a,b){for(var f=[],c;b--;)c=a.xb(),f.push(a.Le(c));return f;}function u(a){var b;b=a.Le(2);a={qIb:b[1]>>1&7,Xmb:!!(b[1]&1),kIb:a.xb()};x(a,(b[0]<<8|b[1])>>4);return a;}function x(a,b){a.lIb=b>>4&3;a.pIb=b>>2&3;a.nIb=b&3;return a;}v=a(99);B=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.Vr=function(a){var b,f,c,d,g;b=this;a=a.split("/");for(d=0;d<a.length&&b;d++){c=a[d].split("|");f=void 0;for(g=0;g<c.length&&!f;g++)f=c[g],f=b.K3&&b.K3[f];b=f;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};y={ftyp:function(a,b){a.nGb=b.Kv(4);a.FGb=b.Fa();for(a.e0a=[];4<=b.Hl();)a.e0a.push(b.Kv(4));},moov:h,sidx:function(a,b){l(a,b);a.UHb=b.Fa();a.Iaa=b.Fa();a.Z2=1<=a.version?b.Nf():b.Fa();a.M3=1<=a.version?b.Nf():b.Fa();b.skip(2);for(var f=b.xb(),c=[],d,g;f--;){d=b.Fa();g=d>>31;if(0!==g)throw Error("mp4-badsdix");d&=2147483647;g=b.Fa();b.skip(4);c.push({size:d,duration:g});}a.VHb=c;},moof:h,mvhd:function(a,b){var f;l(a,b);f=1<=a.version?8:4;a.Bg=b.Xd(f);a.modificationTime=b.Xd(f);a.Iaa=b.Fa();a.duration=b.Xd(f);a.QHb=b.x9();a.volume=b.yya();b.skip(70);a.QGb=b.Fa();},pssh:function(a,b){var f;l(a,b);a.c5a=b.aE();f=b.Fa();a.data=b.Le(f);},trak:h,mdia:h,minf:h,stbl:h,stsd:function(a,b){l(a,b);b.Fa();h(a,b);},encv:p,avc1:p,hvcC:p,hev1:p,mp4a:f,enca:f,"ec-3":f,avcC:function(a,b){a.version=b.kh();a.VBb=b.kh();a.LHb=b.kh();a.UBb=b.kh();a.fGb=(b.kh()&3)+1;a.xIb=r(b,b.kh()&31);a.vHb=r(b,b.kh());},pasp:function(a,b){a.hFb=b.Fa();a.jJb=b.Fa();},sinf:h,frma:function(a,b){a.gDb=b.Kv(4);},schm:function(a,b){l(a,b);a.fnb=b.Kv(4);a.tIb=b.Fa();a.pe&1&&(a.sIb=b.hlb());},schi:h,tenc:m,mvex:h,trex:function(a,b){l(a,b);a.Wb=b.Fa();a.T3a=b.Fa();a.E2=b.Fa();a.ppa=b.Fa();a.F2=u(b);},traf:h,tfhd:function(a,b){var f;l(a,b);a.Wb=b.Fa();f=a.pe;f&1&&(a.$Bb=b.Nf());f&2&&(a.mIb=b.Fa());f&8&&(a.E2=b.Fa());f&16&&(a.ppa=b.Fa());f&32&&(a.F2=u(b));},saio:function(a,b){l(a,b);a.pe&1&&(a.PYa=b.Fa(),a.QYa=b.Fa());for(var f=1<=a.version?8:4,c=b.Fa(),d=[];c--;)d.push(b.Xd(f));a.Dza=d;},mdat:function(a,b){a.data=b.Le(b.Hl());},tkhd:function(a,b){var f;l(a,b);f=1<=a.version?8:4;a.Bg=b.Xd(f);a.modificationTime=b.Xd(f);a.Wb=b.Fa();b.skip(4);a.duration=b.Xd(f);b.skip(8);a.Cdb=b.xb();a.QXa=b.xb();a.volume=b.yya();b.skip(2);b.skip(36);a.width=b.x9();a.height=b.x9();},mdhd:function(a,b){var f;l(a,b);f=1<=a.version?8:4;a.Bg=b.Xd(f);a.modificationTime=b.Xd(f);a.Iaa=b.Fa();a.duration=b.Xd(f);f=b.xb();a.language=String.fromCharCode((f>>10&31)+96)+String.fromCharCode((f>>5&31)+96)+String.fromCharCode((f&31)+96);b.skip(2);},mfhd:function(a,b){l(a,b);a.wIb=b.Fa();},tfdt:function(a,b){l(a,b);a.nH=b.Xd(1<=a.version?8:4);8==b.Hl()&&b.skip(8);},saiz:function(a,b){l(a,b);a.pe&1&&(a.PYa=b.Fa(),a.QYa=b.Fa());for(var f=b.kh(),c=b.Fa(),d=[];c--;)d.push(f||b.kh());a.oIb=d;},trun:function(a,b){var f,c;l(a,b);f=b.Fa();c=a.pe;c&1&&(a.hDb=b.Fa());c&4&&(a.rEb=u(b));for(var d=[],g;f--;)g={},c&256&&(g.duration=b.Fa()),c&512&&(g.size=b.Fa()),c&1024&&(g.pe=b.Fa()),c&2048&&(g.HCb=b.Fa()),d.push(g);a.Tl=d;},sdtp:function(a,b){l(a,b);for(var f=[];0<b.Hl();)f.push(x({},b.kh()));a.Tl=f;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){l(a,b);a.fileSize=b.Nf();a.Iaa=b.Nf();a.duration=b.Nf();a.Qwa=b.Nf();a.BIb=b.Nf();1<=a.version&&(a.KGb=b.Nf(),a.LGb=b.Fa(),a.Rwa=b.Nf(),a.Tqa=b.Fa(),a.Fqa=b.aE());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){l(a,b);a.pe&1&&(a.KBb=b.Xd(3),a.YFb=b.kh(),a.ndb=b.aE());a.jIb=b.Fa();a.OYa=b.Le(b.Hl());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){l(a,b);a.IT=b.Fa();a.ZH=b.xb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":m,"636F6D2E-6E65-7466-6C69-782E6974726B":h,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){l(a,b);a.Tma=b.aE();a.Bg=b.Nf();a.S=b.Nf();a.ij=b.Nf();a.FU=b.xb();a.GU=b.xb();a.pdb=b.Le(16);a.Zpb=b.Le(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){l(a,b);a.mCb=b.Le(b.Hl());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var f;l(a,b);a.ynb=b.Nf();f=b.Fa();a.$e=[];for(var c=0;c<f;c++)a.$e.push({duration:b.Fa(),size:b.xb()});},"636F6D2E-6E65-7466-6C69-782E69736567":h,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var f;l(a,b);a.Tma=b.aE();a.duration=b.Fa();f=b.Fa();a.Tl=[];for(var c=0;c<f;c++)a.Tl.push({hi:b.Fa(),duration:b.Fa(),OT:b.xb(),PT:b.xb(),kV:b.xb(),lV:b.xb(),Ep:b.Nf(),ZC:b.Fa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var f,c,g,m;l(a,b);f=b.Fa();c=b.kh();a.Tl=[];for(var d=0;d<f;d++){g=b.kh();m=g>>6;g=g&63;0!=m&&0===g&&(g=c);a.Tl.push({lqa:m,iD:b.Le(g)});}}};g.M={SHb:function(a,b){a=new v(a);b&&a.seek(b);return c(a);},v9:function(a,b){var f;if(!a)throw Error("mp4-badinput");a=new v(a);f=[];for(b&&a.seek(b);b=c(a);)f.push(b);return f;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ga="PlaylistMapTranslatorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aha="PlaylistShimSymbol";},function(g,d,a){var c;function b(a,b,f,d,g,r){var m;m=this;this.Zm=g;this.vi=r;this.addEventListener=function(a,b,f){return m.vi.addListener(a,m.kpa(a,b),f);};this.removeEventListener=function(a,b){return m.vi.removeListener(a,m.kpa(a,b));};this.getReady=function(){return m.vi.U4();};this.getXid=function(){return m.Za().k5();};this.getMovieId=function(){return m.Za().d$a();};this.getElement=function(){return m.Za().ky();};this.isPlaying=function(){return m.Za().wy();};this.isPaused=function(){return m.Za().Kcb();};this.isMuted=function(){return m.Za().Jcb();};this.isReady=function(){return m.Za().isReady();};this.isBackground=function(){return m.Za().tcb();};this.setBackground=function(a){return m.Za().hAa(a);};this.startInactivityMonitor=function(){return m.Za().iL();};this.setTransitionTime=function(a){return m.Za().cV(a);};this.getDiagnostics=function(){return m.Za().d9a();};this.getTextTrackList=function(){return m.Za().wsa();};this.getTextTrack=function(){return m.Za().vsa();};this.setTextTrack=function(a){return m.Za().xAa(a);};this.getVolume=function(){return m.Za().Cab();};this.isEnded=function(){return m.Za().Bcb();};this.getBusy=function(){return m.Za().Ak();};this.getError=function(){return m.Za().getError();};this.getCurrentTime=function(){return m.Za().yp();};this.getBufferedTime=function(){return m.Za().E8a();};this.getSegmentTime=function(){return m.Za().SI();};this.getDuration=function(){return m.Za().Jra();};this.getVideoSize=function(){return m.Za().Aab();};this.getAudioTrackList=function(){return m.Za().s8a();};this.getAudioTrack=function(){return m.Za().r8a();};this.getTimedTextTrackList=function(){return m.Za().wsa();};this.getTimedTextTrack=function(){return m.Za().vsa();};this.getAdditionalLogInfo=function(){return m.Za().m8a();};this.getTrickPlayFrame=function(a){return m.Za().oab(a);};this.getSessionSummary=function(){return m.Za().psa();};this.getCongestionInfo=function(a){return m.B0(m.Za().u4(),a);};this.getTimedTextSettings=function(){return m.Za().UR();};this.setMuted=function(a){return m.Za().nob(a);};this.setVolume=function(a){return m.Za().Bob(a);};this.setPlaybackRate=function(a){return m.Za().rob(a);};this.setAudioTrack=function(a){return m.Za().cob(a);};this.setTimedTextTrack=function(a){return m.Za().xAa(a);};this.setTimedTextSettings=function(a){return m.Za().dL(a);};this.prepare=function(){return m.Za().Iv();};this.load=function(){return m.Za().load();};this.close=function(a){return m.B0(m.vi.close(),a);};this.play=function(){return m.Za().play();};this.pause=function(){return m.Za().pause();};this.seek=function(a){return m.Za().seek(a);};this.engage=function(a,b){return m.B0(m.Za().pI(a),b);};this.induceError=function(a){return m.Za().bcb(a);};this.loadCustomTimedTextTrack=function(a,b,f){return m.Za().aeb(a,b,f);};this.tryRecoverFromStall=function(){return m.Za().LL();};this.addEpisode=function(a){var b;m.log.info("Next episode added",a);b=a.playbackParams;return m.vi.l0({S:a.movieId,bK:a.nextStartPts,iC:a.currentEndPts,cb:b&&m.iva(b)||void 0,wc:b&&b.uiLabel||a.uiLabel,je:a.manifestData,Zm:m.Zm});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=m.iva(a);m.log.info("Playing the next episode",a);return m.vi.transition(a);};this.playSegment=function(a){return m.Za().Ajb(a);};this.queueSegment=function(a){return m.Za().Ykb(a);};this.updateNextSegmentWeights=function(a,b){return m.Za().lq(a,b);};this.getCropAspectRatio=function(){return m.Za().S8a();};this.getCurrentSegmentId=function(){return m.vi.X8a();};this.getPlaylistMap=function(){return m.vi.fsa();};this.setNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];return m.vi.M$.apply(m.vi,[].concat(xb(b)));};this.clearNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];return m.vi.P_a.apply(m.vi,[].concat(xb(b)));};this.updatePlaylistMap=function(a){return m.vi.csb(a);};this.goToNextSegment=function(a,b){return m.vi.Eab(a,b);};this.getPlaying=function(){return m.isPlaying();};this.getPaused=function(){return m.isPaused();};this.getMuted=function(){return m.isMuted();};this.getEnded=function(){return m.isEnded();};this.getTimedTextVisibility=function(){return m.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!m.Za().UR().visibility;};this.setTimedTextVisibility=function(a){return m.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return m.Za().dL({size:a});};this.setTimedTextBounds=function(a){return m.Za().dL({bounds:a});};this.setTimedTextMargins=function(a){return m.Za().dL({margins:a});};this.setTimedTextVisible=function(a){return m.Za().dL({visibility:a});};this.p3=new Map();this.log=c.Bd("VideoPlayer");this.addEpisode({movieId:a,playbackParams:b,uiLabel:f,manifestData:d});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});c=a(3);a(82);b.prototype.Za=function(){return this.vi.Cp();};b.prototype.kpa=function(a,b){var f;this.p3.has(a)||this.p3.set(a,new Map());f=this.p3.get(a);f.has(b)||f.set(b,this.P3a(a,b));return f.get(b);};b.prototype.P3a=function(a,b){var f;f=this;return function(c){return b(Object.assign({},c,{type:a,target:f}));};};b.prototype.B0=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.iva=function(a){return{Tf:a.trackingId,PB:a.authParams,zi:a.sessionParams,R2:a.disableTrackStickiness,OV:a.uiPlayStartTime,wR:a.forceAudioTrackId,xR:a.forceTimedTextTrackId,ff:a.isBranching,sba:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,uC:a.enableTrickPlay,v5:a.heartbeatCooldown,m6:a.isPlaylist,QS:a.loadImmediately||!1,na:a.manifestIndex||0,iz:a.pin,vK:a.preciseSeeking,U:a.startPts,ea:a.endPts,ij:a.packageId,dE:a.renderTimedText};};d.HQa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yga="PlaylistConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bha="PlaylistVideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EY="PlaylistManagerFactorySymbol";},function(g,d,a){var c,h,l,f,p,m;function b(a,b,f){this.mg=a;this.kb=b;this.j=f;this.yJ=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(1);l=a(15);f=a(18);p=a(3);m=a(16);b.prototype.I3=function(){this.yJ.forEach(function(a){return a();});};b.prototype.qd=function(a,b,f){this.j.qd(this.mg(a,b,f));};b.prototype.ZR=function(a){this.j.fireEvent(m.X.e8,{Mn:a});};b.prototype.nXa=function(a){-1===this.yJ.indexOf(a)&&this.yJ.push(a);};b.prototype.Zlb=function(a){a=this.yJ.indexOf(a);0<=a&&this.yJ.splice(a,1);};b.prototype.zsa=function(a){var b,d;b={};l.ab(a.code)?b.T=c.xda(a.code):b.T=c.H.Pe;try{d=a.message.match(/((d*))/)[1];b.mc=p.hna(d,4);}catch(v){}b.Ga=f.Cc(a);return b;};a=b;a=g.__decorate([h.N()],a);d.kM=a;},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);c=a(55);h=a(17);l=a(2);f=a(63);p=a(3);m=a(16);d.EHa=function(a,d){function g(c){var g,m;g=c.error||c;m=h.Cc(g);d.error("uncaught exception",g,m);(g=(g=g&&g.stack)&&b.config.YBa&&b.config.Qrb?0<=g.indexOf(b.config.YBa):void 0)&&(c&&c.stopImmediatePropagation&&c.stopImmediatePropagation(),c=p.ba.get(f.ak),a.qd(c(l.I.yQa)));}function r(){c.he.removeListener(c.m5,g);a.removeEventListener(m.X.Fe,r);a.removeEventListener(m.X.Oh,r);}try{c.he.addListener(c.m5,g);a.addEventListener(m.X.Fe,r);b.config.Sbb&&a.addEventListener(m.X.Oh,r);}catch(B){d.error("exception in exception handler ",B);}};},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(8);c=a(6);h=a(20);l=a(2);f=a(5);p=a(15);g.Ye(l.I.kea,function(a){var m,l,v,B,y;function g(){var a;a=f.Aq(h.Ac()/v);if(a!=y){for(var b=f.wj(a-y,30);b--;)B.push(0);(b=f.bl(B.length-31,0))&&B.splice(0,b);y=a;}B[B.length-1]++;}m=b.config.Peb;l=-6/(m-2-2);v=c.Yj;B=[];y=f.Aq(h.Ac()/v);p.Xta(m)&&(setInterval(g,1E3/m),d.cva={G9a:function(){var c;for(var a=[],b=B.length-1;b--;){c=B[b];a.unshift(0>=c?9:1>=c?8:c>=m-1?0:f.Yf((c-2)*l+7));}return a;}});a(c.Hb);});},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,v,B,y,k,z,I,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(61);c=a(103);h=a(264);l=a(41);f=a(55);p=a(18);m=a(94);r=a(3);u=a(113);x=a(154);v=a(17);B=a(5);y=a(15);k=a(16);z=a(104);I=a(4);n=a(84);d.UNa=function(a){var D,ja,da,ga,V,P,ma,ca,la,ta,fa,w,La,$a,Gb;function d(){if(!V){la=setInterval(q,1E3);a.zf.appendChild(ja);for(var b=P.length;b--;)P[b].addListener(t);for(b=ma.length;b--;)a.addEventListener(ma[b],t);V=!0;}N();}function g(){if(V){clearInterval(la);fa=ta=void 0;a.zf.removeChild(ja);for(var b=P.length;b--;)P[b].removeListener(t);for(b=ma.length;b--;)a.removeEventListener(ma[b],t);D.nb();V=!1;}}function A(){V?g():d();}function E(){var f,d,g,p,k,A,z,P,E,n,N,ma,q,qa,K,D,O,T,t,la,R,X,W,ba,ja;f=[];f.push({Version:"6.0015.328.031",Esn:c.Eg?c.Eg.ig:"UNKNOWN",PBCID:a.lQ,UserAgent:B.vh});try{g={MovieId:a.S,TrackingId:a.Tf,Xid:a.ja+" ("+l.Jq.map(function(a){return a.ja;}).join(", ")+")",Position:m.Rg(a.wd.value),Duration:m.Rg(a.Rx.ma(I.za)),Volume:B.Yf(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};a.Ta.ff&&(g["Segment Position"]=m.Rg(a.ly()),g.Segment=a.P4());f.push(g);}catch(lc){}try{p=a.Mp?a.Mp.Ebb():void 0;f.push({"Player state":w[a.state.value],"Buffering state":La[a.Dm.value]+(y.ka(p)?", ETA:"+m.Rg(p):""),"Rendering state":$a[a.Uc.value]});}catch(lc){}try{k=a.pba()+a.K0();A=a.ih.value;z=A&&A.stream;P=a.ng.value;E=P&&P.stream;n=E?E.qc:"";N=a.me.value?a.me.value.qc:"";ma=a.Wi.value?a.Wi.value.P:"";q=a.me.value?a.me.value.P:"";qa=a.Pb[b.kc.G.VIDEO].value;K=a.Pb[b.kc.G.AUDIO].value;f.push({"Playing bitrate (a/v)":z&&E?z.P+" / "+E.P+" ("+E.width+"x"+E.height+")":"?","Playing/Buffering vmaf":n+"/"+N,"Buffering bitrate (a/v)":ma+" / "+q,"Buffer size in Bytes (a/v)":a.K0()+" / "+a.pba(),"Buffer size in Bytes":""+k,"Buffer size in Seconds (a/v)":m.Rg(a.iH())+" / "+m.Rg(a.XL()),"Current CDN (a/v)":(K?K.name+", Id: "+K.id:"")+" / "+(qa?qa.name+", Id: "+qa.id:"")});}catch(lc){}try{if(a.ih.value&&a.ng.value){D=a.ih.value.stream.track;O=a.ng.value.stream;T=a.Ui.value;t=a.af.value?a.af.value.vc:[];la=r.ba.get(u.MA);R=la.NH(t);X=la.nQ();W=O.Ue;ba=/hevc/.test(W)?"hevc":/vp9/.test(W)?"vp9":/h264hpl/.test(W)?"avchigh":"avc";/hdr/.test(W)&&(ba+=", hdr");/dv/.test(W)&&(ba+=", dv");/prk/.test(W)&&(ba+=", prk");f.push({"Audio Track":D.Fj+", Id: "+D.Wb+", Channels: "+D.tk+", Codec: "+X,"Video Track":"Codec: "+R+" ("+ba+")","Timed Text Track":T?T.Fj+", Profile: "+T.profile+", Id: "+T.Wb:"none"});}}catch(lc){}try{ja=a.Nh;f.push({Framerate:(a.me.value?a.me.value.BR:0).toFixed(3),"Current Dropped Frames":y.ka(ta)?ta:"","Total Frames":ja.NR(),"Total Dropped Frames":ja.jy(),"Total Corrupted Frames":ja.JI(),"Total Frame Delay":ja.OR(),"Main Thread stall/sec":h.cva?h.cva.G9a().join(" "):"DISABLED",VideoDiag:x.q7(a.WR())});}catch(lc){}try{f.push({Throughput:a.pa+" kbps"});}catch(lc){}try{v.tc(ca,function(a,b){d=d||{};d[a]=JSON.stringify(b);});d&&f.push(d);}catch(lc){}return f;}function N(){var a;if(da.selectionStart==da.selectionEnd){a="";E().forEach(function(b){a=a?a+"n":"";v.tc(b,function(f){a+=f+": "+b[f]+"n";});});da.style.fontSize=m.Fq(B.Aq(ja.clientHeight/60),8,18)+"px";da.value=a;}}function q(){var b;if(a.Nh){b=a.Nh.jy();b&&(ta=b-fa,fa=b,t());}}function t(){D.nb(N);}function T(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==z.mt.tFa||a.keyCode==z.mt.Q)&&A();}D=r.ba.get(n.Nw)(I.oh(1));ja=p.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});da=p.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");ga=p.createElement("DIV","position:absolute;top:2px;right:2px");ma=[k.X.eT,k.X.aZa];ca={};P=[a.wd,a.Pb[b.kc.G.AUDIO],a.Pb[b.kc.G.VIDEO],a.ih,a.ng,a.Wi,a.me,a.Ui,a.state,a.Dm,a.Uc,a.volume,a.muted];this.fob=function(a){ca.DFR=a;};w={};w[l.FA]="Not Loaded";w[l.cl]="Loading";w[l.vn]="Normal";w[l.YF]="Closing";w[l.XF]="Closed";La={};La[l.al]="Normal";La[l.Xs]="Pre-buffering";La[l.lca]="Network stalled";$a={};$a[l.Ii]="Waiting for decoder";$a[l.Wo]="Playing";$a[l.Kq]="Paused";$a[l.Gw]="Media ended";da.setAttribute("readonly","readonly");ja.appendChild(da);ja.appendChild(ga);Gb=p.createElement("BUTTON",null,"X");Gb.addEventListener("click",g,!1);ga.appendChild(Gb);f.he.addListener(f.oy,T);a.addEventListener(k.X.Fe,function(){f.he.removeListener(f.oy,T);g();});v.Ma(this,{toggle:A,show:d,py:g,B9a:E});};},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,B,y,k,z,I,n,E,q,O,K,t,W,ba,R;function b(a){var b;b=this;this.j=a;this.kb=this.j.kb;this.Ua=B.yf(this.j,"MediaPresenterASE");this.Kka=this.wja=this.ml=0;this.ed=this.kb.Ca;this.fla=this.cla=this.J_=this.s_=this.qP=this.LN=this.v_=!1;this.gl={type:x.Zf.audio,kC:[],qo:[]};this.Gn={type:x.Zf.video,kC:[],qo:[]};this.wx={};this.Dka=p.config.kgb;this.Xka=p.o0a(!!this.j.Ta.ff).exa;this.f_=p.config.z7;this.mWa=B.ba.get(ba.Nw)(W.sb(K.MY));this.Re={};this.Aka={};this.sG={};this.j.Jn=!1;this.wx[c.kc.vg.AUDIO]=this.gl;this.wx[c.kc.vg.VIDEO]=this.Gn;z.va(this.f_>this.Dka,"bad config");z.va(this.f_>this.Xka,"bad config");this.kb.addEventListener(t.uh.LAa,function(){b.Ua.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.SSa();}catch(ja){b.Ua.error("Exception while initializing",ja);b.jl(y.I.IMa);}});}Object.defineProperty(d,"__esModule",{value:!0});c=a(61);h=a(140);l=a(63);f=a(6);p=a(8);m=a(41);r=a(55);u=a(29);x=a(75);v=a(20);B=a(3);a(82);y=a(2);k=a(428);z=a(12);I=a(94);n=a(18);E=a(42);q=a(16);O=a(15);K=a(209);t=a(173);W=a(4);ba=a(84);R=a(114);b.prototype.Kra=function(){return this.kb.yp(!1);};b.prototype.NR=function(){return this.kb.NR();};b.prototype.jy=function(){return this.kb.jy();};b.prototype.JI=function(){return this.kb.JI();};b.prototype.OR=function(){return this.kb.OR();};b.prototype.SSa=function(){var a,b;a=this;this.Ua.trace("Video element initializing");b=this.kb.sourceBuffers;b.forEach(function(b){return a.OVa(b);});p.config.mtb&&(b.filter(function(a){return a.type===c.kc.vg.AUDIO;})[0]||this.Ua.error("unexpected: audio source buffer is not available yet"));a.TSa(a.j.fv);};b.prototype.TSa=function(a){var d;function b(){function a(){var a,b;b=d.j.hb&&d.j.hb.XI();d.j.Uc.value==m.Ii&&d.j.state.value==m.vn&&d.j.Dm.value==m.al&&d.j.qj.value==m.al&&b?(d.DZ.up(),a="ensureTimer"):(d.DZ.Sf(),a="stopTimer");d.Ua.trace("Timer update: "+a,{presentingState:d.j.Uc.value,playbackState:d.j.state.value,avBufferingState:d.j.Dm.value,textBufferingState:d.j.qj.value,hasLicense:b});}p.config.jpa&&(z.va(!d.DZ),d.DZ=B.ba.get(R.Pw)(p.config.jpa,function(){var a;a=B.ba.get(k.$ca).x4a(d.j);d.jl(a.code,a);}),d.j.Uc.addListener(a),d.j.Dm.addListener(a),d.j.qj.addListener(a),d.j.state.addListener(a),d.j.addEventListener(q.X.vua,a),a());}function c(){d.WN||(c=z.LDa,d.kb.addEventListener(t.uh.WK,d.Re[t.uh.WK]=function(){return d.n_();}),d.kb.addEventListener(t.uh.Jm,d.Re[t.uh.Jm]=function(){return d.BUa();}),d.ed.addEventListener("ended",d.Re.ended=function(){return d.CUa();}),d.ed.addEventListener("play",d.Re.play=function(){return d.FUa();}),d.ed.addEventListener("pause",d.Re.pause=function(){return d.EUa();}),d.ed.addEventListener("playing",d.Re.playing=function(){return d.GUa();}),d.wG=!0,0===d.j.na&&(d.mP(),d.Ua.trace("Video element initialization complete"),d.j.ke("vi"),p.config.upa?setTimeout(function(){d.m_=!0;d.Ri();},p.config.upa):d.m_=!0,b(),E.ib(function(){return d.Ri();})));}d=this;a?this.Ua.trace("Waiting for needkey"):this.Ua.warn("Movie is not DRM protected",{MovieId:this.j.S});this.Ua.trace("Waiting for loadedmetadata");a?this.kb.addEventListener(t.uh.Bua,function(){d.j.ke("ld");d.j.hb.SQ(""+d.j.S);d.j.fireEvent(q.X.vua);}):this.j.hb.SQ(""+this.j.S);u.xXa(this.ed,function(){d.Ua.trace("Video element event: loadedmetadata");d.j.ke("md");});r.he.addListener(r.Ck,this.sG[r.Ck]=function(){return d.gja();},f.zA);this.j.addEventListener(q.X.Fe,function(){return d.gja();},f.zA);this.j.addEventListener(q.X.Cza,function(){return d.F_();});this.j.paused.addListener(function(){return d.Ri();});this.j.muted.addListener(function(){return d.V_();});this.j.volume.addListener(function(){return d.V_();});this.j.playbackRate.addListener(function(){return d.DWa();});this.j.Dm.addListener(function(){return d.Ri();});this.j.qj.addListener(function(){return d.Ri();});this.V_();this.gl.Vl.iAa(function(){return d.DO();});this.Gn.Vl.iAa(function(){return d.DO();});this.DO();E.ib(function(){c();});};b.prototype.DP=function(a){var b,f;b=this;f=this.wx[a.R];f?f.qo.push(a):z.va(!1);this.JRa(a).then(function(){b.DO();b.j.fireEvent(q.X.eT);})["catch"](function(a){b.jl(y.I.NMa,{Ga:n.Cc(a)});});};b.prototype.VXa=function(a,b){var f;b={R:a.type,Ec:!0,response:b,aj:function(){return"header";}};f=this.wx[a.type];f?f.qo.push(b):z.va(!1);this.cla||a.type!==c.kc.vg.VIDEO||(this.seek(this.j.U,q.Sg.AF),this.cla=!0);};b.prototype.OVa=function(a){var b;b=this.wx[a.type];if(b)try{b.Vl=a;}catch(ja){this.jl(y.I.vY,{T:K.x4(a.type),Ga:n.Cc(ja)});}};b.prototype.DO=function(){this.wG?this.Ri():p.config.WXa&&this.mP();};b.prototype.mhb=function(){var a;a=this.j.ly()||0;this.j.Ta.ff?p.config.pZa&&(a=Math.max(a-(this.kb.p$+1)-p.config.o$,this.j.hb.hsa().Oc)):a=Math.max(a-p.config.tnb,this.aTa);this.seek(a,q.Sg.XY);};b.prototype.r8=function(a){var b;b=this;a.mediaType===c.kc.vg.AUDIO?this.LN=!0:a.mediaType===c.kc.vg.VIDEO&&(this.qP=!0);E.ib(function(){return b.Ri();});};b.prototype.M9a=function(){return{O3a:this.wja,Ogb:this.Kka};};b.prototype.JRa=function(a){var b;b=this.kb&&this.kb.Xra();return void 0===this.r_&&b&&a.jf&&a.jf.Ic&&a.jf.Ic.qa&&Infinity!=a.jf.Ic.qa.ea&&(a=a.jf.Ic.qa.ea+a.Qk,b.b9(W.za)<a)?(this.r_=b.scale(2),this.dVa()):Promise.resolve();};b.prototype.dVa=function(){var a;a=this;return new Promise(function(b,f){function c(){return d().then(function(a){if(!1===a)return c();});}function d(){return new Promise(function(b){setTimeout(function(){if(!a.gl.Vl.Ak()&&!a.Gn.Vl.Ak())try{a.kb.mob(a.r_);a.J_=!1;a.r_=void 0;b(!0);}catch(P){b(!1);}b(!1);},0);});}a.J_=!0;c().then(function(){b();})["catch"](function(b){a.Ua.error("Unable to change the duration",b);f(b);});});};b.prototype.Ri=function(){var a,b,f,c,d,g,l;a=this;this.j.vL=v.Ac();if(!this.oe()&&this.wG){b=this.kb.K$a();b||this.mP();h.WM||this.mP();f=this.j.Dm.value==m.al&&this.j.qj.value==m.al;c=this.j.Uc.value;d=c==m.Ii?this.Xka:this.Dka;g=this.Aja(this.gl,d)&&this.Aja(this.Gn,d);this.j.paused.value||!g||!f||b||this.jk?this.E_():this.v_||this.F_();if(!b)if(this.jk&&f&&g)this.kb.seek(this.ml),this.jk=!1,h.WM||this.B_(),E.ib(function(){return a.Ri();});else{l=this.kb.yp(!0);this.oe()||(this.jk||b?c=m.Ii:this.ed&&this.ed.ended?c==m.Wo&&(this.ml=this.j.R8.ma(W.za),c=m.Gw,this.E_()):f&&g?this.kb.y4a()?c=this.ed&&this.ed.paused?m.Kq:m.Wo:this.mWa.nb(function(){return a.lWa();}):c=m.Ii,c!=m.Ii&&c!=m.Gw&&(l<this.ml?(b=this.ml-l,p.config.ijb&&l&&b>K.MY&&(l={ElementTime:I.Rg(l),MediaTime:I.Rg(this.ml)},b>K.AOa?(this.Ua.error("VIDEO.currentTime became much smaller",l),this.jl(y.I.ZMa)):this.Ua.warn("VIDEO.currentTime became smaller",l))):this.ml=n.Fq(l,0,this.j.R8.ma(W.za))),this.Sla(),this.UN(),l=c==m.Ii&&0<=[m.Wo,m.Kq].indexOf(this.j.Uc.value),this.j.Uc.set(c),l&&(c=this.qWa()>d,this.j.qj.value!==m.al?this.j.Ui.value?(c=m.NNa,this.j.fireEvent(q.X.UB,{cause:c}),this.Ua.warn("rebuffer due to timed text",this.j.Ui.value.Mf)):this.j.fireEvent(q.X.GV):(c?(c=m.Lga,this.wja++):(c=m.Mga,this.Kka++),this.j.fireEvent(q.X.UB,{cause:c}))));}}};b.prototype.qWa=function(){var a,b;a=this.Gn.qo.filter(function(a){return!a.Ec;}).reduce(function(a,b){return a+b.Or;},0);b=this.gl.qo.filter(function(a){return!a.Ec;}).reduce(function(a,b){return a+b.Or;},0);return Math.min(a,b);};b.prototype.lWa=function(){this.oe()||(p.config.nhb&&(this.gl.Vl.Ak()||this.gl.Vl.Lma(new Uint8Array([0,0,0,8,102,114,101,101]))),this.Ri());};b.prototype.Aja=function(a,b){var f;f=a.zQ;f=f&&f.PJ;return 0===a.qo.length&&(a.type===x.Zf.audio&&this.LN||a.type===x.Zf.video&&this.qP)?!0:f&&f.ZD-this.ml>=b;};b.prototype.n_=function(){this.Ri();};b.prototype.BUa=function(){this.Ri();this.j.fireEvent(q.X.Jm);};b.prototype.CUa=function(){this.Ua.trace("Video element event: ended");this.Ri();};b.prototype.FUa=function(){this.Ua.trace("Video element event: play");this.Ri();};b.prototype.EUa=function(){this.Ua.trace("Video element event: pause");this.Ri();};b.prototype.GUa=function(){this.Ua.trace("Video element event: playing");this.Ri();};b.prototype.V_=function(){this.oe()||(this.ed&&this.ed.volume!==this.j.volume.value&&(this.ed.volume=this.j.volume.value),this.ed&&this.ed.muted!==this.j.muted.value&&(this.ed.muted=this.j.muted.value));};b.prototype.DWa=function(){!this.oe()&&this.ed&&(this.ed.playbackRate=this.j.playbackRate.value);};b.prototype.mP=function(){this.J_||(this.Qla(this.gl),this.Qla(this.Gn));this.oe()||!this.LN||!this.qP||this.gl.Vl.Ak()||this.Gn.Vl.Ak()||this.LZ||(this.LZ=!0,this.kb.endOfStream());};b.prototype.Qla=function(a){var b,f;if(!this.oe()&&a.Vl){b=a.Vl;f=a.kC;!b.Ak()&&0<f.length&&(a.zQ=f[f.length-1]);if(a.T$){if(b.Ak())return;a.T$=!1;b.remove(0,this.kb.Xra().b9(W.jm));}for(var c=a.qo[0];c&&c.response&&(c.Ec||c.zs-this.ml<=this.f_);)if(this.LZ=!1,this.wWa(c))a.qo.shift(),c=a.qo[0];else break;!b.Ak()&&0<f.length&&(a.zQ=f[f.length-1]);}};b.prototype.wWa=function(a){var b,f,c;z.va(a&&a.response);b=a.response;f=a.R;c=this.wx[f];if(!this.oe()&&!c.Vl.Ak()){try{this.Ua.trace("Feeding media segment to decoder",{Bytes:b.byteLength});c.Vl.Lma(b,a);a.Ec||c.kC.push(this.SRa(a));p.config.F4a&&!a.Ec&&(this.jk&&!h.WM||a.Rna());}catch(ga){"QuotaExceededError"!=ga.name?(this.Ua.error("Exception while appending media",a,ga),this.jl(y.I.XMa,K.x4(f))):this.j.AQ=this.j.AQ?this.j.AQ+1:1;return;}return!0;}};b.prototype.RRa=function(a){var b;b=this.j.bbb(a.gd);b||(this.Ua.error("Could not find CDN",{cdnId:a.gd}),b={id:a.gd,T6:a.location});return b;};b.prototype.TRa=function(a){var b,f;f=a.Ya;a.R===c.kc.vg.AUDIO?b=this.j.Jsa(f):a.R===c.kc.vg.VIDEO&&(b=this.j.Psa(f));b||this.Ua.error("Could not find stream",{stream:f});return b;};b.prototype.SRa=function(a){var b;b=this.TRa(a);return{PJ:a,stream:b,Im:{startTime:Math.floor(a.zs),endTime:Math.floor(a.ZD)},Pb:this.RRa(a)};};b.prototype.F_=function(){var a;a=this;this.oe()||!O.ab(this.ed)||this.ed.ended||!this.m_||!this.DB&&void 0!==this.DB||(this.Ua.trace("Calling play on element"),Promise.resolve(this.ed.play()).then(function(){a.DB=!1;a.v_=!1;a.ed.style.display=null;a.j.Jn=!1;a.j.fireEvent(q.X.ena,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.Ua.warn("Playback is blocked by the browser settings",b),a.j.Jn=!0,a.v_=!0,a.ed.style.display="none",a.j.fireEvent(q.X.Jn,{player:{play:function(){return a.F_();}}})):(a.DB=!1,a.fla||(a.fla=!0,a.Ua.error("Play promise rejected",b)));}));};b.prototype.E_=function(){this.oe()||!O.ab(this.ed)||this.ed.ended||!this.m_||this.DB&&void 0!==this.DB||(this.Ua.trace("Calling pause on element"),this.ed.pause(),this.DB=!0);};b.prototype.UN=function(a){if(O.ab(a)){for(var b=this.wx[a],f=b.kC,d,g;(d=f[0])&&d.PJ.zs<=this.ml;)if(this.ml<d.PJ.ZD){a=a===c.kc.vg.AUDIO?this.j.ih:this.j.ng;u.doa(d,a.value)||(g=!0,a.set(d));break;}else f.shift();!g&&!this.s_||this.LZ||(d=d&&d.PJ.zs-d.PJ.Or-1,0<d&&(b=b.Vl,b.Ak()?this.s_=!0:(b.remove(0,d/n.Yj),this.s_=!1)));}else this.UN(c.kc.vg.AUDIO),this.UN(c.kc.vg.VIDEO);};b.prototype.Sla=function(a){this.j.wd.set(this.ml);a&&this.j.K7a();};b.prototype.YP=function(a,b){return b===q.Sg.JA||this.j.Ta.ff&&this.jk?!1:(b=this.j.hb)&&b.YP(a)||!1;};b.prototype.seek=function(a,b,f){var c,d,g,l,r;b=void 0===b?q.Sg.IA:b;f=void 0===f?this.j.na:f;if(!this.oe()&&this.j.hb){c=b===q.Sg.JA;c?d=a:(d=this.j.QC(f).Rx.ma(W.za)-p.config.otb,d=n.Fq(a,0,d));d=this.YSa()?Math.round(d):this.DSa(d);p.config.o$&&(d+=p.config.o$);b===q.Sg.AF&&(this.j.pna=d);c=c||this.j.Ta.ff?d:this.j.hb.zoa(f,d);g=this.YP(c,b);this.UN();l=this.ml;this.Ua.info("Seeking",{Requested:I.Rg(a),Actual:I.Rg(d),Cause:b,Skip:g});this.j.fireEvent(q.X.zz,{JT:l,j8:c,cause:b,skip:g});this.j.Uc.set(m.Ii);b!==q.Sg.AF&&(this.B_(),this.gl.T$=!0,this.Gn.T$=!0);this.aTa=this.ml=c;a=this.j.ih.value;r=this.j.ng.value;this.j.ih.set(null);this.j.ng.set(null);this.Sla(!0);this.j.fireEvent(q.X.Xp,{JT:l,j8:c,Rn:d,cause:b,skip:g,ih:a,ng:r,na:f});this.jk=!0;this.Ri();}};b.prototype.YSa=function(){return"boolean"===typeof this.j.Ta.vK?this.j.Ta.vK:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?p.config.vK&&p.config.Zjb:p.config.vK;};b.prototype.B_=function(){this.gl.kC=[];this.gl.zQ=void 0;this.gl.qo=[];this.Gn.kC=[];this.Gn.zQ=void 0;this.Gn.qo=[];this.qP=this.LN=!1;this.j.fireEvent(q.X.eT);};b.prototype.DSa=function(a){var b;b=this.j.hb.Cu.jb[c.kc.vg.VIDEO].Y.ea;return this.j.Ta.ff&&a<b?a:this.j.hb.d_a(a,this.j.Ta.ff?p.config.Ypa:p.config.Pr);};b.prototype.jl=function(a,b,f){var c;if(!this.WN){c=B.ba.get(l.ak);this.j.qd(c(a,b,f));}};b.prototype.gja=function(){if(!this.WN){this.Ua.info("Closing.");this.kb.removeEventListener(t.uh.WK,this.Aka[t.uh.WK]);this.kb.removeEventListener(t.uh.Jm,this.Aka[t.uh.Jm]);this.ed.removeEventListener("ended",this.Re.ended);this.ed.removeEventListener("play",this.Re.play);this.ed.removeEventListener("pause",this.Re.pause);this.ed.removeEventListener("playing",this.Re.playing);r.he.removeListener(r.Ck,this.sG[r.Ck]);this.WN=!0;try{p.config.Fgb&&(this.ed.volume=0,this.ed.muted=!0);this.E_();this.kb.close();}catch(T){}this.ed=void 0;this.B_();}};b.prototype.oe=function(){return this.WN?!0:O.ab(this.ed)?!1:(this.Ua.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.NKa=b;},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(41);h=a(8);l=a(20);f=a(94);p=a(5);m=a(42);r=a(15);d.QNa=function(a){var y,k,z,I,n,E;function d(){return a.state.value==c.cl||a.state.value==c.vn&&a.Uc.value==c.Ii;}function g(){d()?E||(E=setInterval(u,100)):E&&(clearInterval(E),E=void 0,m.ib(u));}function u(){var b,g,m,u,v,x,B,A;b=l.Ac();g=y.value;m=g?g.xi:0;v=a.state.value==c.cl||d()&&b-k>h.config.EZa;v&&a.state.value==c.vn?(a.UP.value==c.lca?(B=m,x=!0):(u=b+(a.Mp&&a.Mp.Ebb()||0),z=z||b,I=I||z+h.config.fgb+1,r.ka(u)&&(u=p.bl(u,I),B=a.Mp?a.Mp.SEb():.99,B=p.Yf(1E3*f.Fq((b-z)/(u-z),0,B))/1E3)),B<m&&(m-B<h.config.Ekb/100?(B=m,n=void 0):n?b-n>h.config.Dkb?(A=!0,n=void 0):B=m:(n=b,B=m))):n=I=z=void 0;b=v?{oV:x,xi:B,Fkb:A}:null;(!b||!y||!g||r.ka(b.xi)&&!r.ka(g.xi)||r.ka(b.xi)&&r.ka(g.xi)&&.01<p.KF(b.xi-g.xi)||b.oV!==g.oV)&&y.set(b);}y=a.h1;k=0;a.state.addListener(function(){g();u();},b.pY);a.Uc.addListener(function(a){if(a.oldValue!=c.Ii||a.newValue!=c.Ii)k=l.Ac();g();});a.UP.addListener(function(){g();});a.Dm.addListener(function(){g();});a.qj.addListener(function(){g();});E||(E=setInterval(u,100));};},function(g,d,a){var p,m,r,u;function b(a,b,f,c,d){var g;g={};"right"==a.horizontalAlignment?g.right=100*(f-b.left-b.width-d)/f+"%":g.left=100*(b.left-d)/f+"%";"bottom"==a.verticalAlignment?g.bottom=100*(c-b.top-b.height-d)/c+"%":g.top=100*(b.top-d)/c+"%";return g;}function c(a,b){var f;if(a&&b){40===b.x&&19===b.y?f=4/3/(40/19):52===b.x&&19===b.y&&(f=16/9/(52/19));if(f)return a.width/a.fontSize/f;}}function h(a,b,f,c,d){var g,m;g=a.style;m=r.G5(a.text);for(a=a.lineBreaks;a--;)m="<br />"+m;return l(m,g,b,f,c,d);}function l(a,b,d,g,l,r){var h;h=b.characterStyle;l=l[h];g=b.characterSize*g.height/((0<=h.indexOf("MONOSPACE")?c(l,b.cellResolution)||l.lineHeight:l.lineHeight)||1);g=0<r?u.Aq(g*r):u.Yf(g);r={"font-size":g+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(r["font-style"]="italic");b.characterUnderline&&(r["text-decoration"]="underline");b.characterColor&&(r.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(r["background-color"]=f(b.backgroundColor,b.backgroundOpacity));g=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case m.E8:r["text-shadow"]=g+" 0px 0px 7px";break;case m.txa:r["text-shadow"]="-1px 0px "+g+",0px 1px "+g+",1px 0px "+g+",0px -1px "+g;break;case m.Cib:r["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case m.Aib:r["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}r=p.IH(r);(d=d[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(r+=";"+d);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+r+'">'+a+"</span>";}function f(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});p=a(29);m=a(190);r=a(17);u=a(5);d.sqa=function(a,b,f,c,d){var g;g="";a.textNodes.forEach(function(a){g+=h(a,f,b,c,d);});return g;};d.v6a=function(a,f,c,d,g){var m,p,h,v,x;m="";p=g.width;g=g.height;for(var l=f.length;l--;){h=f[l];v=a[l];v=v&&v.region;x="position:absolute;background:"+d+";width:"+u.Yf(h.width+2*c)+"px;height:"+u.Yf(h.height+2*c)+"px;";r.tc(b(v,h,p,g,c),function(a,b){x+=a+":"+b+";";});m+='<div style="'+x+'"></div>';}return m;};d.u6a=b;d.VDb=c;d.XDb=h;d.UDb=l;d.WDb=f;d.t6a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return p.IH(b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(5);d.Nrb=function(a,d){function c(a,c,d){var h,u,k,E;if(a&&1<a.length){for(var g=[],m=[],p=0;p<a.length;p++)g[p]=0,m[p]=0;for(var l=!1,p=0;p<a.length;p++)for(var r=p+1;r<a.length;r++){u=a[p];k=a[r];if(0>u.width||0>k.width||k.left>u.left+u.width||k.left+k.width<u.left||k.top>u.top+u.height?0:k.top+k.height>=u.top){h=b.bl(u.left,k.left);E=b.bl(u.top,k.top);h={width:b.bl(b.wj(u.left+u.width,k.left+k.width)-h,0),height:b.bl(b.wj(u.top+u.height,k.top+k.height)-E,0),x:h,y:E};}else h=void 0;if(h&&1<h.width&&1<h.height)if(E=h.width<=h.height,u=f(a[p]),k=f(a[r]),E&&c||!E&&!c)h=b.bl(h.width/2,.25),u.x<=k.x?(m[p]-=h,m[r]+=h):(m[r]-=h,m[p]+=h);else if(E&&!c||!E&&c)u=b.bl(h.height/2,.25),g[p]-=u,g[r]+=u;}for(p=0;p<a.length;p++){if(-.25>m[p]&&0<=a[p].left+m[p]||.25<m[p]&&a[p].left+a[p].width+m[p]<=d.width)a[p].left+=m[p],l=!0;if(-.25>g[p]&&0<=a[p].top+g[p]||.25<g[p]&&a[p].top+a[p].height+g[p]<=d.height)a[p].top+=g[p],l=!0;}return l;}}function f(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,f){a.forEach(function(a){0>a.left&&a.left+a.width<f.width?a.left+=b.wj(-a.left,f.width-(a.left+a.width)):a.left+a.width>f.width&&0<a.left&&(a.left-=b.wj(a.left+a.width-f.width,a.left));0>a.top&&a.top+a.height<f.height?a.top+=b.wj(-a.top,f.height-(a.top+a.height)):a.top+a.height>f.height&&0<a.top&&(a.top-=b.wj(a.top+a.height-f.height,a.top));});}(a,d));for(var g=0;50>g&&c(a,!0,d);g++);for(g=0;50>g&&c(a,!1,d);g++);return a;};},function(g,d,a){var c,h,l,f,p;function b(a,b){this.P3=a;this.by={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.nAa(b);this.Yqa=this.z9a(this.P3);}Object.defineProperty(d,"__esModule",{value:!0});c=a(18);h=a(269);l=a(268);f=a(5);p=a(17);b.prototype.ky=function(){return this.element;};b.prototype.bob=function(a){this.J0=a;};b.prototype.gob=function(a){this.Qd=a;this.JK();};b.prototype.iob=function(a){this.nAa(a);this.JK();};b.prototype.JK=function(){var a,f,d,g,p,B,y,k,z,I,n,q,O,K;a=this;f=this.ky();d=f.parentElement;g=d&&d.clientWidth||0;p=d&&d.clientHeight||0;B=d=0;y={width:g,height:p};if(0<g&&0<p&&this.Qd){this.J0&&(y=c.uR(g,p,this.J0),d=Math.round((g-y.width)/2),B=Math.round((p-y.height)/2));k=this.b_a(y);I=c.uR(k.width,k.height,this.J0);k=(z=this.Qd.blocks)&&z.map(function(f){var d;d=l.sqa(f,I,a.P3,a.Yqa);f=l.t6a(f)+";position:absolute";return c.createElement("div",f,d,b.DW);});}Object.assign(this.by,{left:d+"px",right:d+"px",top:B+"px",bottom:B+"px"});f.style.display="none";f.style.direction=this.by.direction;f.innerHTML="";if(k&&k.length){g=y.width;d=y.height;n=y;this.qH&&(n=this.YWa(y,this.qH,p,B));this.by.margin=this.Vm?this.WP(y,"top")+"px "+this.WP(y,"right")+"px "+this.WP(y,"bottom")+"px "+this.WP(y,"left")+"px ":void 0;k.forEach(function(a){return f.appendChild(a);});p=c.IH(this.by);f.style.cssText=p+";visibility:hidden;z-index:-1";for(var B=[],E=k.length-1;0<=E;E--){q=k[E];O=z[E];K=this.wwa(q,O,g,d);K.width>g&&(q.innerHTML=l.sqa(O,y,this.P3,this.Yqa,g/K.width),K=this.wwa(q,O,g,d));B[E]=K;}B=h.Nrb(B,n);if(E=z&&z[0]&&z[0].textNodes&&z[0].textNodes[0]&&z[0].textNodes[0].style)n=E.windowColor,E=E.windowOpacity,n&&0<E&&(y=l.v6a(z,B,Math.round(d/50),n,y),y=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+E,y,b.DW),f.insertBefore(y,f.firstChild));f.style.display="none";for(y=B.length-1;0<=y;y--)n=k[y].style,E=l.u6a(z[y].region,B[y],g,d,0),Object.assign(n,E);f.style.cssText=p;}};b.prototype.N$=function(a){this.qH=a;this.JK();};b.prototype.f5=function(){return this.qH;};b.prototype.O$=function(a){this.Vm=a;this.JK();};b.prototype.g5=function(){return this.Vm;};b.prototype.h5=function(){return"block"===this.by.display;};b.prototype.P$=function(a){a=a?"block":"none";this.element.style.display=a;this.by.display=a;};b.prototype.z9a=function(a){var b,f;b=this;f={};p.tc(a,function(a,c){f[a]=b.Efb(c);});return f;};b.prototype.nAa=function(a){this.by.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.WP=function(a,b){if(this.Vm){if("left"===b||"right"===b)return a.width*(this.Vm[b]||0);if("top"===b||"bottom"===b)return a.height*(this.Vm[b]||0);}return 0;};b.prototype.b_a=function(a){return this.Vm?{height:a.height*(1-(this.Vm.top||0)-(this.Vm.bottom||0)),width:a.width*(1-(this.Vm.left||0)-(this.Vm.right||0))}:a;};b.prototype.Efb=function(a){var d;a=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.DW);f.yd.body.appendChild(a);d={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};f.yd.body.removeChild(a);return d;};b.prototype.wwa=function(a,b,f,c){var d,g,m,p,l;d=b.region;g=(d.marginTop||0)*c;m=(d.marginBottom||0)*c;p=(d.marginLeft||0)*f;l=(d.marginRight||0)*f;b=a.clientWidth||1;a=a.clientHeight||1;switch(d.verticalAlignment){case"top":c=g;break;case"center":c=(g+c-m-a)/2;break;default:c=c-m-a;}switch(d.horizontalAlignment){case"left":f=p;break;case"right":f=f-l-b;break;default:f=(p+f-l-b)/2;}return{top:c,left:f,width:b,height:a};};b.prototype.YWa=function(a,b,f,c){return{height:f-Math.max(c,b.bottom|0)-Math.max(c,b.top|0),width:a.width};};b.DW={"class":"player-timedtext-text-container"};d.bQa=b;},function(g,d,a){var m,r,u,x,v,B,k,A;function b(a,b){var f,c,d,g,m,p,l,h;f=[];g={};l=a.length;for(h=0;h<l;h++)m=a[h],p=b(m),d=p.key,c=g[d],m=m.endTime-m.startTime,c?c.duration+=m:(delete p.key,c=p,c.duration=m,f.push(c),g[d]=c);return f;}function c(a){var b,f,c;c=a.stream;c?(a=c.sd,b=c.P,f=c.qc):a=a.track.sd;return{key:a+"$"+(b||0),downloadableId:a,bitrate:b,vmaf:f};}function h(a){var b;b=c(a);a=a.Pb.id;b.key+="$"+a;b.cdnId=a;return b;}function l(a){a=(a=a.stream)?a.P:0;return{key:a,R7:a};}function f(a){a=(a=a.stream)?a.qc:0;return{key:a,R7:a};}function p(a){var b,f,c,d;c=0;for(f=a.length;f--;)if(b=a[f],k.ab(b.duration)&&k.ab(b.R7))c+=b.duration;else throw Error("invalid arguments");if(!c)return 0;d=0;for(f=a.length;f--;)b=a[f],d+=b.R7*b.duration/c;return d;}Object.defineProperty(d,"__esModule",{value:!0});m=a(8);r=a(6);u=a(17);x=a(3);v=a(12);a(94);B=a(5);k=a(15);A=a(16);d.MNa=function(a){var t,W,ba,R,T,D,ja,da,ga,V,P,ma,ca,la;function d(){z(a.wd.value);for(var b=0,f=D.length;f--;)b+=D[f].endTime-D[f].startTime;v.va(b===B.Aq(b),"Value of totalPlayTime is not an integer.");return parseInt(B.Aq(b));}function g(a){z(a.JT);da=a.j8;ba=W=void 0;R&&(R.startTime=da);}function y(b){q(R,ja,a.wd.value);R=b.newValue?{track:b.newValue,startTime:a.wd.value,endTime:r.zw}:void 0;}function z(a){W&&ba&&(a=B.wj(a,W.endTime),a=B.wj(a,ba.endTime),q(W,T,a),W.startTime=a,q(ba,D,a),ba.startTime=a,R&&(q(R,ja,a),R.startTime=a),da=a);}function n(b,f,c){b&&q(b,f,B.wj(b.endTime,a.wd.value));if(c&&c.stream)return b=c.Im,f=c.stream,{Pb:c.Pb,track:f.track,stream:f,startTime:B.bl(b.startTime,da),endTime:b.endTime};}function q(a,b,f){a&&f>=a.startTime&&(a={Pb:a.Pb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:f},(f=b[b.length-1])&&f.track==a.track&&f.stream==a.stream&&f.Pb==a.Pb&&f.endTime==a.startTime?f.endTime=a.endTime:b.push(a));}t=x.yf(a,"PlayTimeTracker");T=[];D=[];ja=[];da=a.wd.value;ga={};V=!1;P={};ma=0;ca=m.config.VWa;la=ca.length;(function(){a.addEventListener(A.X.zz,g);a.ih.addListener(function(a){W=n(W,T,a.newValue);});a.ng.addListener(function(a){ba=n(ba,D,a.newValue);});a.Ui.addListener(y);}());for(ga.abrdel=0;la--;)P["abrdel"+ca[la]]=0,ga["abrdel"+ca[la]]=0;u.Ma(this,{i5:d,t8a:function(){z(a.wd.value);return{audio:b(T,h),video:b(D,h)};},p$a:function(){var a;a={total:d(),audio:b(T,c),video:b(D,c),timedtext:b(ja,c)};v.va(a.audio&&a.video);return a;},tra:function(){var f,c;z(a.wd.value);f=b(D,l);try{c=p(f);}catch(Ta){return t.warn("Failed to calc average bitrate"),null;}ga.abrdel=B.Yf(c);return ga.abrdel;},x8a:function(){var c,d;z(a.wd.value);c=b(D,f);try{d=p(c);}catch(Ta){return t.warn("Failed to calc average vmaf"),null;}return B.Yf(d);},w8a:function(){var f;if(!V){for(var a=ca.length,b=d();a--;){f=ca[a];if(0==P["abrdel"+f]&&b>f*r.Yj){for(var c=0,g=D.length,m,p=0,l=0;l<g&&!(m=D[l],c+=m.stream.P*(m.endTime-m.startTime),p+=m.endTime-m.startTime,m=m.stream.P,p>f*r.Yj);l++);c&&(P["abrdel"+f]=B.Yf((c-m*(p-f*r.Yj))/(f*r.Yj)));}}0!==P["abrdel"+ca[ca.length-1]]&&(V=!0);u.tc(P,function(a,b){ga[a]=0==b?ga.abrdel:b;});}return ga;},mXa:function(a){ma+=a;},N9a:function(){return ma;},hbb:function(){return!!(D[0]&&D[0].stream&&k.ab(D[0].stream.qc));}});};d.szb=b;d.vzb=c;d.wzb=h;d.uzb=l;d.xzb=f;d.tzb=p;},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(61);c=a(55);h=a(18);l=a(17);f=a(3);p=a(52);m=a(104);r=a(16);d.YNa=function(a){var O,K,t,W,ba,R,T,D,ja,da;function d(){T||(z(),a.zf.appendChild(O),T=!0);}function g(){T&&(a.zf.removeChild(O),T=!1);}function u(){T?g():d();}function k(){var c,d,g;function b(a,b,f){var c,d,g;g=[];b.filter(function(b){return b.Ue===a;}).forEach(function(a){0<=f.indexOf(a)?(void 0===c?c=a.P:d=a.P,void 0===d&&(d=a.P)):void 0!==c&&void 0!==d&&(g.push({min:c,max:d}),c=d=void 0);});void 0!==c&&void 0!==d&&(g.push({min:c,max:d}),c=d=void 0);return g;}function f(a,b,f){var c;c=[];b.filter(function(b){return b.Ue===a;}).forEach(function(a){-1===f.indexOf(a)&&c.push({stream:{bitrate:a.P},disallowedBy:["manual"]});});return c;}c=a.Tn();d=a.ny().sort(function(a,b){return a.P-b.P;});g=d.reduce(function(a,b){0>a.indexOf(b.Ue)&&a.push(b.Ue);return a;},[]).map(function(a){return{profile:a,ranges:b(a,d,c),disallowed:f(a,d,c)};});a.hb.dV(g);}function A(){return a.ny().filter(function(a){return D[a.P];});}function z(){var f,c,d;f=a.Mc.value;c=a.af.value;d=a.fi;f&&(d=d.slice(),d.sort(function(a,b){return a.Sd-b.Sd;}),E(W,f.vc.map(function(b){return{value:b.P,caption:b.P,selected:b==a.Wi.value};})));c&&(E(ba,c.vc.map(function(b){var f,c;f=a.N7.Gs(b);b=b.P;c=""+b;f&&(c+=" ("+f.join("|")+")");return{value:b,caption:c,selected:a.Tn!=A?!f:D[b]};})),ba.removeAttribute("disabled"));d&&(E(R,d.map(function(f){return{value:f.id,caption:"["+f.id+"] "+f.name,selected:f==a.Pb[b.kc.G.VIDEO].value};})),R.removeAttribute("disabled"));}function I(){T&&z();}function n(a){var b,f;b=h.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=h.createElement("DIV",void 0,a);f=h.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(f);K.appendChild(b);return f;}function E(a,b){a.innerHTML="";b.forEach(function(b){var f;f={title:b.caption};b.selected&&(f.selected="selected");f=h.createElement("option",void 0,b.caption,f);f.value=b.value;a.appendChild(f);});}function q(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==m.mt.LOa&&ja.FS&&u();}O=h.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});K=h.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");t=h.createElement("DIV","width:100%;text-align:center");W=n("Audio Bitrate");ba=n("Video Bitrate");R=n("CDN");D={};ja=f.ba.get(p.fm);O.appendChild(K);K.appendChild(t);da=h.createElement("BUTTON",void 0,"Override");da.addEventListener("click",function(){var d,m,f,c;D={};for(var f=ba.options,c=f.length;c--;){d=f[c];d.selected&&(D[d.value]=1);}a.Tn=A;k();if(f=a.fi){m=R.value;f=f.filter(function(a){return a.id==m;})[0];c=a.Pb[b.kc.G.VIDEO].value;f&&f!=c&&(f.uCb={testreason:"streammanager",selreason:"userselection"},a.Pb[b.kc.G.VIDEO].set(f));}g();},!1);t.appendChild(da);da=h.createElement("BUTTON",void 0,"Reset");da.addEventListener("click",function(){delete a.Tn;k();g();},!1);t.appendChild(da);c.he.addListener(c.oy,q);a.addEventListener(r.X.Fe,function(){c.he.removeListener(c.oy,q);});a.Pb.forEach(function(a){a.addListener(I);});a.Mc.addListener(I);a.af.addListener(I);l.Ma(this,{toggle:u,show:d,py:g});};},function(g,d,a){var b,c,h,l,f,p,m,r,u,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);c=a(41);h=a(20);l=a(2);f=a(172);p=a(5);m=a(15);r=a(16);u=a(3);x=a(114);d.dJa=function(a){var g,v,k,I;function d(){a.state.value!=c.vn||a.Uc.value!=c.Kq&&a.Uc.value!=c.Gw?v.Sf():v.up();}g=b.config.Zib;if(!a.hD()&&g){v=u.ba.get(x.Pw)(g,function(){a.fireEvent(r.X.aD,l.I.fN);});a.Uc.addListener(d);a.state.addListener(d);if(b.config.P5){I=h.Ac();k=new f.oha(b.config.P5,function(){var f,c;f=h.Ac();c=f-I;c>g&&(a.fireEvent(r.X.aD,l.I.RM),k.D1());c>2*b.config.P5&&(a.Q5=p.bl(c,a.Q5||0));I=f;});k.Q$();}a.addEventListener(r.X.Fe,function(){v.Sf();m.ab(k)&&k.D1();});}};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);c=a(34);d.dIa=function(a){function d(f){a.fireEvent(b.X.eI,{response:f});}return{download:function(b,g){b.j=a;b=c.Bb.download(b,g);b.ema(d);return b;}};};},function(g,d,a){var c;function b(a,b){var f;f=this;this.Yra=a;this.Swa=b;this.Maa=!1;this.rs=function(){f.Vk=void 0;f.update();};}Object.defineProperty(d,"__esModule",{value:!0});c=a(18);b.prototype.update=function(a){var b,f,d;b=this.Yra();if(this.mCa!==b){c.ab(b)&&c.ab(this.duration)&&b<this.duration&&this.entries&&(d=this.swa||this.entries[Math.floor(b*this.Pqb)]||this.entries[0]);if(d){for(;d&&d.endTime<b;)d=d.next;for(;d&&d.previous&&d.previous.endTime>=b;)d=d.previous;}d&&(d.startTime<=b&&b<=d.endTime?(f=d,this.hCa(d.endTime-b)):this.hCa(d.startTime-b));this.swa=d;this.mCa=b;this.g0!==f&&(this.g0=f,!a&&this.Swa&&this.Swa());}};b.prototype.start=function(){this.Maa=!0;this.update();};b.prototype.oAa=function(a){this.swa=this.g0=this.mCa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(xb(a.map(function(a){return a.endTime;}))))||0;this.Pqb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.Maa=!1;this.Sf();};b.prototype.k8a=function(){this.update(!0);return this.g0;};b.prototype.hCa=function(a){this.Sf();this.Maa&&0<a&&(this.Vk=setTimeout(this.rs,a+b.lLa));};b.prototype.Sf=function(){this.Vk&&(clearTimeout(this.Vk),this.Vk=void 0);};b.lLa=10;d.gQa=b;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});a(34);b=a(67);a(20);c=a(12);h=a(42);a(15);a(16);d.aOa=function(){var d,g,r,u,x;function a(){x=!1;for(var a=d.length,b;a--;)b=d[a],u[b]&&(u[b]=!1,r.Eb(b+"changed",{getModel:g[b]}));}function f(b){u[b]=!0;x||(x=!0,h.ib(a));}d=[];g={};r=new b.Xj();u={};x=!1;return{register:function(a,b){c.va(!(0<=d.indexOf(a)),"panel already registered");g[a]=b;d.push(a);},TGb:f,VEb:function(a){return(a=g[a])?a():void 0;},addEventListener:function(a,b){r.addListener(a,b);g[a]&&f(a);},removeEventListener:function(a,b){r.removeListener(a,b);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sea="LicenseBrokerFactorySymbol";},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(6);c=a(8);h=a(2);l=a(3);f=a(18);p=a(5);g.Ye(h.I.dea,function(a){var m,h,v;function g(){v&&clearTimeout(v);a(b.Hb);g=f.Tb;}m=l.Bd("BatteryManager");d.xr={wEa:"chargingchange",Sra:function(){return h?h.level:null;},q4:function(){return h?h.charging:null;},addEventListener:function(a,b){h&&h.addEventListener(a,b);},removeEventListener:function(a,b){h&&h.removeEventListener(a,b);}};if(c.config.yH){v=setTimeout(g,c.config.B8a);try{p.Zj.getBattery().then(function(a){h=a;g();})["catch"](function(a){m.error("getBattery promise rejected",a);g();});}catch(B){m.error("exception on getBattery api call",B);g();}}else g();});},function(g,d,a){var m,r,u,x,v,B,k,A;function b(a){return a.split(",").reduce(function(a,b){var f;f=b.split("=");b=f[0];f=f.slice(1).join("=");b&&b.length&&(a[b]=f||!0);return a;},{});}function c(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function h(a,f,d){var g;if("string"===typeof a)return h.call(this,b(a),f,d);g=0;Object.keys(a).forEach(function(b){var p,l,h;p=v[b];l=a[b];if(p){if(h=B[b]||A[typeof m[p]])try{l=h(l);}catch(W){d&&d.error("Failed to convert value '"+l+"' for config '"+b+"' : "+W.toString());return;}h=x[p];this[p]=l;x[p]!==h&&(d&&d.debug("Config changed for '"+b+"' from "+c(h)+" ("+typeof h+") to "+c(l)+" ("+typeof l+")"),++g);}else f?(p=(p=k[b])?p.filter(function(a){return a[0]!==this;},this):[],p.push([this,l]),k[b]=p):d&&d.error("Attempt to change undeclared config option '"+b+"'");},this);g&&x.emit("changed");return g;}function l(){return Object.keys(v).reduce(function(a,b){var f,c;f=v[b];c=a[f];c?(c.push(b),a[f]=c.sort(function(a,b){return b.length-a.length;})):a[f]=[b];return a;},{});}function f(a,b){return a.hasOwnProperty(b)?c(a[b]):void 0;}function p(a,b){return"undefined"===typeof a?b:a;}d=a(48);a=a(28).EventEmitter;m={};r=Object.create(m);u=Object.create(r);x=Object.create(u);v={};B={};k={};x.declare=function(a){Object.keys(a).forEach(function(b){var f,c,d,g;f=a[b];c=f[0];d=f[1];g=f[2];if(m.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof c&&(c=[c]);c.forEach(function(a){var f;if(v.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");m.hasOwnProperty(b)||("function"===typeof d&&(d=d()),m[b]=d);v[a]=b;"function"===typeof g&&(B[a]=g);if(f=k[a])f.forEach(function(b){var f,c;f=b[0];c={};c[a]=b[1];h.call(f,c,!1);}),delete k[a];});});return x;};A={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};x.set=h.bind(r);x.MD=h.bind(u);x.dump=function(a,b){var g,h,B,y;function d(){y&&a&&a.log("===========================================");}g=Object.keys(k).sort();h={};B=l();b=p(b,!0);Object.keys(v).sort().forEach(function(g){var l,k,A;g=v[g];!h[g]&&(h[g]=!0,k=f(r,g),A=f(u,g),b||"undefined"!==typeof k||"undefined"!==typeof A)&&(l=B[g].join(","),l+=" = "+c(x[g])+" ("+typeof x[g]+") [",l+=p(A,"<unset>")+",",l+=p(k,"<unset>")+",",l+=f(m,g)+"]",y||(y=!0,a&&a.log("Current config values"),d()),a&&a.log(l));});(b||g.length)&&a&&a.log("<undeclared> :",g);d();};x.qp=function(a){var b,f;b={};f={};Object.keys(v).forEach(function(a){a=v[a];f[a]||(f[a]=!0,b[a]=x[a]);});a&&h.call(b,a);return b;};x.Cxa=function(){var a;a=l();return Object.getOwnPropertyNames(r).reduce(function(b,f){b[a[f][0]]=r[f];return b;},{});};x.reset=function(){Object.keys(r).forEach(function(a){delete r[a];});};x.ll={};d(a,x);g.M=Object.freeze(x);},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(3);h=a(21);l=a(61);f={Gb:{CLOSED:0,OPEN:1,WW:2,name:["CLOSED","OPEN","ENDED"]},jc:{cQ:!0}};d.OKa=Object.assign(function(a){var d,g;d=l.platform;b.Bd("MediaSourceASE").trace("Inside MediaSourceASE");g=a.M4();this.readyState=f.Gb.CLOSED;this.sourceBuffers=g.sourceBuffers;this.addSourceBuffer=function(a){return g.addSourceBuffer(a);};this.m0=function(a){return g.m0(a);};this.removeSourceBuffer=function(a){return g.removeSourceBuffer(a);};this.Vn=function(a){return g.Vn(a);};this.sourceId=d.OI();d.fJ();this.duration=void 0;g.aob(this.sourceId);this.readyState=f.Gb.OPEN;this.jc=c.ba.get(h.ze).si(f.jc,{});},f);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);c=a(5);d.wAb=function(a,b,f){for(f=(f-a.length)/b.length;0<f--;)a+=b;return a;};d.vAb=function(a,c,f){f=b.Vd(f)?f:"...";return a.length<=c?a:a.substr(0,a.length-(a.length+f.length-c))+f;};d.IPa=function(a,b){var d;for(var f=1;f<arguments.length;++f);d=c.slice.call(arguments,1);a.replace(/{(d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};d.xAb=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c<b;c++)f[c]=a.charCodeAt(c);return f.buffer;};d.iJb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(6);h=a(34);d.PLa=function(){b.Bd("OpenConnectSideChannel");return{GI:function(a,b,c){h.Bb.Xob({url:a.url,hnb:c});},Zaa:c.Tb};}();},function(g,d,a){var c,h,l,f,p;function b(a){var k;for(var b=l.Jib(a),d,g,m,B=0;B<b.length;B+=2){d=b[B];if("moof"!=d.type||"mdat"!=b[B+1].type)throw l.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[B+1].type}),Error("data is not moof-mdat box pairs");if(c.config.ntb&&"moof"==d.type&&(g=d.Vr("traf/saio"),m=d.Vr("traf/"+h.mEa),g&&m&&(m=m.OYa.byteOffset-d.raw.byteOffset,g.Dza[0]!=m))){l.log.error("Repairing bad SAIO",{saioOffsets:g.Dza[0],auxDataOffsets:m});k=g;g=m;m=new f(k.raw);m.seek(k.size-k.Hr);k=m.Xd(1);m.Xd(3)&1&&(m.Fa(),m.Fa());k=1<=k?8:4;m.Fa();m.xba(g,k);}if(c.config.wba&&"moof"==d.type&&(g=d.Vr("traf/tfhd"),(d=g.F2)&&d.Xmb)){d=void 0;m=new f(g.raw);m.seek(g.size-g.Hr);k=m.Xd(3);m.Fa();switch(g.type){case"tfhd":k&1&&m.Nf();k&2&&m.Fa();k&8&&m.Fa();k&16&&m.Fa();k&32&&(d=m.Le(2));break;case"trex":m.Fa(),m.Fa(),m.Fa(),d=m.Le(2);}p.va(d);d&&(d[1]&=254);}}return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(8);h=a(6);l=a(3);f=a(99);p=a(12);d.IKa=function(a){return b(new Uint8Array(a));};d.yAb=function(a){return b(a);};d.hHb=b;},function(g,d,a){var b,c,h,l,f,p,m,r,u,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(61);c=a(175);h=a(8);l=a(75);f=a(283);p=a(20);m=a(3);r=a(18);u=a(34);x=a(301);d.Mfb=function(){var d,g;function a(d,m,r){var x,B;function v(){d.removeEventListener(c.Fb.kd.Ew,v);d.vI?d.vI++:d.vI=1;d.vI>=h.config.z3.length&&(d.vI=h.config.z3.length-1);setTimeout(function(){a(d,m,r);},h.config.z3[d.vI]);}d.UFb=!0;x=g.download({url:d.url,responseType:u.YC,withCredentials:!1,Zx:d.R===b.kc.G.AUDIO?"audio":"video",offset:m.start,length:d.nn,track:{type:d.R===b.kc.G.AUDIO?l.Zf.audio:l.Zf.video},stream:{sd:d.Ya,P:d.P},Pb:d.gd,po:d,u:d.Ec?void 0:f.IKa,gV:r,QL:h.config.QL},function(a){a.O&&d.readyState!==c.Fb.Gb.DONE&&d.readyState!==c.Fb.Gb.hw&&(d.readyState!==c.Fb.Gb.xq&&d.readyState===c.Fb.Gb.yt&&(d.readyState=c.Fb.Gb.Hw,d.t8({mediaRequest:d,readyState:d.readyState,timestamp:p.Ac(),connect:!1})),d.readyState=c.Fb.Gb.DONE,a={mediaRequest:d,readyState:d.readyState,timestamp:p.Ac(),cadmiumResponse:a,response:a.content},d.EH=a,d.gj(a));});if(d.Ec){B={mediaRequest:d,readyState:d.readyState,timestamp:p.Ac(),connect:!1};d.t8(B);}d.addEventListener(c.Fb.kd.Ew,v);d.dta=x.abort;}d=m.Bd("mediaRequestDownloader");g=m.ba.get(x.vfa);return{GI:a,a0:function(a){try{a.dta();}catch(z){d.warn("exception aborting request");}},Zaa:r.Tb};}();},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ega="PboPairCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vga="PboBindCommandSymbol";},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(20);c=a(3);h=a(341);l=a(23);f=a(18);p=a(286);m=a(285);r=a(106);d.nFa=function(a){var N,E,q,O,K;function d(a,b,f){return new Promise(function(c,d){N.send(a,b,!1,void 0).then(function(a){f?c(f(a)):c({O:!0});})["catch"](function(f){var c,g;try{c=JSON.stringify(f.Mm);}catch(ga){}g={method:a.method,success:f.O};E.Al(c)&&(g.errorData=c);E.Al(f.T)&&(g.errorSubCode=f.T);E.Al(f.mc)&&(g.errorExternalCode=f.mc);E.Al(f.Ga)&&(g.errorDetails=f.Ga);E.Al(f.wf)&&(g.errorDisplayMessage=f.wf);b.log.error("Processing EDGE response failed",g);f.__logs&&b.log.error(f.__logs);d(f);});});}function g(a){return d({method:"ping"},a);}function u(b){return K.Fva?q.Gg(a,b.profile,{},b).then(function(a){return{b3a:a.customerGUID,O:!0};}):d({method:"bind",isExclusive:!0},b,function(a){return{b3a:a.customerGUID,O:!0};});}function k(b,f){var c;c={method:"pair",targetuuid:b.oBa,cticket:b.Z2a,nonce:b.Vgb,controlleruuid:b.woa,pairdatahmac:b.eHb};return K.Hva?O.Gg(a,f.profile,c).then(function(a){return{O:!0,Gab:{nonce:a.nonce,controlleruuid:b.woa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.oBa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},Hab:a.grantDataHmac};}):d(c,f,function(a){return{O:!0,Gab:{nonce:a.nonce,controlleruuid:b.woa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.oBa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},Hab:a.grantDataHmac};});}function A(a,b){u(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function z(b,c,d){k(b,c).then(function(a){d(a);})["catch"](function(b){var c,g;g="";if(b.Mm)try{c=JSON.parse(b.Mm);c.error_message?g=c.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):c.implementingClass&&(g=c.implementingClass);}catch(ja){a.error("Failed to parse Pairing errorData",{Mm:c});}f.Ma(b,n(g));d(b);});}function n(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{eR:5,gR:21,hR:void 0,wf:void 0,fR:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{eR:2,gR:20,hR:void 0,wf:void 0,fR:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{eR:2,gR:10,hR:void 0,wf:void 0,fR:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{eR:2,gR:13,hR:void 0,wf:void 0,fR:void 0};default:return{eR:4,gR:30,hR:void 0,wf:void 0,fR:void 0};}}N=c.ba.get(h.Ffa);E=c.ba.get(l.ne);q=c.ba.get(p.vga);O=c.ba.get(m.Ega);K=c.ba.get(r.DA);f.Ma(this,{Gy:function(a){return d({method:"login"},a,function(a){return{O:a.success,hu:a.accountGuid,jh:a.profileGuid,cj:a.isNonMember};});},Y0:u,Ipa:g,ping:function(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});},DDb:function(a,b){a=Object.assign({},a);a.profile=void 0;A(a,b);},Xy:A,XHb:function(a,b,f,c){A(Object.assign({Xy:b,QU:f},a),c);},WHb:function(a,b,f,c){A(Object.assign({cy:b,password:f},a),c);},tGb:z,uGb:function(a,b,f){var m;function d(c){z(a,b,function(a){a.O?(a.Xy=c.Xy,a.QU=c.QU,a.Kgb=c.Kgb,a.onb=c.onb,f(a)):f(c);});}function g(a){u(m).then(function(a){a&&a.O?d(a):f(a);})["catch"](function(b){a?g(!1):f(b);});}m=Object.assign({Gva:a.Z2a,Afb:a.iz,zfb:a.Vgb,yfb:a.YCb,Bfb:c.Kn(a.YHb)},b);g(!0);},FIb:function(a,b,c,d){E.YG(c)&&!f.ab(d)&&(d=c,c=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){A(Object.assign({Ffb:"GOOGLE_JWT",JBa:b,jh:c},a),d);});},cFb:function(){return b.BH()+0;},$Cb:function(a){return a+0;},ZEb:function(a,b){return d({method:"secret",dates:a},b,function(a){return{O:!0,EHb:a.prefetchKeys};});}});};},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(289);c=a(3);h=a(399);l=a(21);d.Gpb=function(a){a({O:!0,storage:new b.Rea(c.ba.get(h.Tea),c.ba.get(l.ze))});};},function(g,d){function a(a,c){this.lp=a;this.Kd=c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(b,c){var d;d=this;this.lp.load(b).then(function(b){c&&c(a.fBa(b));})["catch"](function(a){c&&c(d.BC(b,a));});};a.prototype.save=function(b,c,d,g){var f;f=this;this.lp.save(b,c,d).then(function(){g&&g(a.fBa({key:b,value:c}));})["catch"](function(a){g&&g(f.BC(b,a));});};a.prototype.remove=function(a,c){var b;b=this;this.lp.remove(a).then(function(){c&&c({O:!0,tV:a});})["catch"](function(d){c&&c(b.BC(a,d));});};a.fBa=function(a){return{O:!0,data:a.value,tV:a.key};};a.prototype.BC=function(a,c){return{O:!1,tV:a,T:c.T,Ga:c.cause?this.Kd.Cc(c.cause):void 0};};d.Rea=a;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(53);h=a(21);l=a(289);f=a(397);d.Fpb=function(a){b.ba.get(c.cm).create().then(function(c){a({O:!0,storage:new l.Rea(c,b.ba.get(h.ze)),Mr:b.ba.get(f.cda)});})["catch"](function(b){a(b);});};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(3);h=a(2);a(17);d.Hpb=function(a){var f;c.Bd("Storage");f={};a({O:!0,storage:{load:function(a,b){f.hasOwnProperty(a)?b({O:!0,data:f[a],tV:a}):b({T:h.H.im});},save:function(a,b,c,d){c&&f.hasOwnProperty(a)?d({O:!1}):(f[a]=b,d&&d({O:!0,tV:a}));},remove:function(a,c){delete f[a];c&&c(b.Hb);}}});};},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,B,k,A,z,n,N,E,q,O,K,X,W,ba,R,T,D,ja,w,ga,V,P,ma,ca,la,ta,fa,Ta,La,$a,Gb,Pa,J,Uc,U,Y,jb,va,ib,Ma,fb,ub,Ua,Va,Ya,Mb,yc,Na,aa,ea,ha,tf,ka;function b(a,b,d,g,m){var h,r,v,y;function p(a){a.newValue!=va.wn.gG&&a.newValue!=q.Kq&&(h.Uc.removeListener(p),h.cD=h.Ka.G$,h.oc.Eb(va.X.Oh));}function l(a){a.newValue!==va.wn.gG&&(h.Uc.removeListener(l),h.Oxa=T.BH());}h=this;this.qy=m;this.Fv=[];this.Mc=new A.md(null);this.af=new A.md(null);this.pc=new A.md(null);this.Ui=new A.md(null);this.hq=new A.md(void 0);this.me=new A.md(null);this.Wi=new A.md(null);this.Xrb=function(a){return h.Mc.set(a.newValue);};this.lsb=function(a){return h.af.set(a.newValue);};this.gsb=function(a){return h.pc.set(a.newValue);};this.Vrb=function(a){return h.Ui.set(a.newValue);};this.fsb=function(a){return h.hq.set(a.newValue);};this.ksb=function(a){return h.me.set(a.newValue);};this.Wrb=function(a){return h.Wi.set(a.newValue);};this.sD={};this.Y9=this.Saa=0;this.oc=new n.Xj();this.YL={};this.Bka=0;this.FP=void 0;this.Web=D.ba.get(ka.pfa);this.Ceb=D.ba.get(Pa.afa);this.haa=!1;this.state=new A.md(q.FA);this.wd=new A.md(void 0);this.gU=new A.md(!1);this.paused=new A.md(!1);this.muted=new A.md(!1);this.volume=new A.md(z.config.V3a/100);this.playbackRate=new A.md(1);this.Uc=new A.md(va.wn.gG);this.UP=new A.md(q.Xs);this.Dm=new A.md(q.Xs);this.qj=new A.md(q.Xs);this.ih=new A.md(null);this.ng=new A.md(null);this.h1=new A.md(null);this.aJ=B.dIa(this);this.dT=[];this.Pb=[];this.W0={};this.nu=new A.md(null);this.ZP=0<=fa.Rca.indexOf("cast")?D.ba.get(ja.xca):void 0;this.Bl=this.dqa=!1;this.Npb=this.pa=this.pg=-1;this.Twa=function(){h.daa();};this.qma(a,b,g||{},z.config.Ql&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.k5(a):void 0,d);this.log=D.yf(this);this.Ka=D.ba.get(jb.Fi);this.$Ya=D.ba.get(R.dca)(this);this.zf=U.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.S});this.fcb();r=D.ba.get(Na.Nw)(w.oh(1));this.pTa=D.ba.get(Ma.ofa);this.Wva=D.ba.get(ib.DY);this.Q8=this.Wva.Slb(this.ja,this.Zm);this.addEventListener=this.oc.addListener;this.removeEventListener=this.oc.removeListener;this.fireEvent=this.oc.Eb;this.Ud=this.log.g2("Playback");this.N7=new O.RKa(this);this.xjb=f.JNa(this);this.N2=u.aOa();this.EJ=!!z.config.ECa&&!(this.ja%z.config.ECa);this.Mf={MovieId:this.S,TrackingId:this.Tf,Xid:this.ja};q.CY.RNa=this.log;q.mN||(q.CY.mN=this.log);this.Ud.info("Playback created",this.Mf);this.EJ?this.Ud.info("Playback selected for trace playback info logging"):this.Ud.trace("Playback not selected for trace playback info logging");z.config.Ql&&t._cad_global.videoPreparer&&(t._cad_global.videoPreparer.Wab(this.S),this.addEventListener(va.X.Oh,function(){t._cad_global.videoPreparer.Xab(h.S);h.pc.addListener(function(){t._cad_global.videoPreparer.Fsa();});h.Mc.addListener(function(){t._cad_global.videoPreparer.Fsa();});}),this.addEventListener(va.X.Fe,function(){t._cad_global.videoPreparer.Vab(h.S);}));this.state.addListener(function(a){h.Ud.info("Playback state changed",{From:a.oldValue,To:a.newValue});ca.va(a.newValue>a.oldValue);});E.he.addListener(E.Ck,this.Twa,k.pY);this.wd.addListener(function(){r.nb(function(){return h.Rqa();});});y=!1;this.paused.addListener(function(a){var b;b=h.hb;!a.q8&&b&&(!0===a.newValue?b.paused&&b.paused():b.ZBa&&b.ZBa());a.newValue||(y=!1);h.Ud.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Rg(h.wd.value)});});this.Uc.addListener(function(a){h.Ud.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Rg(h.wd.value)},h.BD());});this.Uc.addListener(function(){h.gU.set(h.Uc.value===va.wn.Df);});this.UP.addListener(function(a){h.Ud.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Rg(h.wd.value)},h.BD());});this.Dm.addListener(function(a){h.Ud.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Rg(h.wd.value)},h.BD());});this.qj.addListener(function(a){h.Ud.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Rg(h.wd.value)},h.BD());});this.Mc.addListener(function(a){ca.va(a.newValue);h.Ud.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Fj,To:a.newValue.Wb},a.oldValue&&{FromBcp47:a.oldValue.Fj,From:a.oldValue.Wb},{MediaTime:la.Rg(h.wd.value)});});this.af.addListener(function(){for(var a=h.ny(),b=a.length,f=0;f<b;f++)a[f].lower=a[f-1],a[f].pbb=a[f+1];});this.pc.addListener(function(a){h.Ud.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Fj,To:a.newValue.Wb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Fj,From:a.oldValue.Wb}:{From:"none"},{MediaTime:la.Rg(h.wd.value)});});this.Pb[c.kc.G.AUDIO]=new A.md(null);this.Pb[c.kc.G.VIDEO]=new A.md(null);this.Uc.addListener(l,k.zA);this.Uc.addListener(p);this.addEventListener(va.X.Oh,function(){var a,b,f,c;h.haa=!0;h.oK=ta.Gl(h.my());h.ke("start");a=h.ng.value;b=t._cad_global.prefetchEvents;if(b){f=w.sb(h.Il?h.Il.audio:0);c=w.sb(h.Il?h.Il.video:0);b.Nk(h.S,h.ja,"notcached"!==h.uu,"notcached"!==h.Mx,!!h.Il,f,c);}h.rS=a.stream.P;});ba.QNa(this);q.Jq.push(this);z.config.KK&&(this.bU=new Y.UNa(this),this.Hjb=new K.YNa(this));q.Qga.forEach(function(a){a(h);});this.wXa=function(a){var b,f;h.addEventListener(va.X.zz,function(b){b=b.cause;b!==va.Sg.AF&&b!==va.Sg.JA&&a.stop();});h.addEventListener(va.X.Xp,function(b){var f,c,d,g,m;f=b.cause;c=b.skip;d=b.j8;g=b.JT;m=b.na;b=b.Rn;f!==va.Sg.JA&&(z.config.I7a&&f===va.Sg.XY&&h.Uk.j1(),f!==va.Sg.AF&&(c?a.YP(d)?(h.Ud.trace("Repositioned. Skipping from "+g+" to "+d),a.Sj(d),a.play()):h.log.error("can skip returned false"):(h.Ud.trace("Repositioned. Seeking from "+g+" to "+d),a.TU(b,m))));});a.addEventListener("segmentStarting",function(a){h.fireEvent(va.X.znb,a);});a.addEventListener("lastSegmentPts",function(a){h.fireEvent(va.X.wnb,a);});a.addEventListener("segmentPresenting",function(a){h.fireEvent(va.X.u$,a);});a.addEventListener("segmentAborted",function(a){h.fireEvent(va.X.unb,a);});b="boolean"===typeof h.Ta.uC?h.Ta.uC:z.config.uC;f=D.ba.get(Ya.lia);a.addEventListener("manifestPresenting",function(a){h.vza();h.cD=h.Ka.G$;b&&f.uC(h);h.fireEvent(va.X.t7,a);});a.addEventListener("skip",function(a){h.fireEvent(va.X.Sj,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(h.Ud.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),h.Ud.trace("StreamingFailure, buffer status:"+JSON.stringify(h.BD())),z.config.c7a&&!h.haa&&Ta.ib(function(){var b;b=D.ba.get(x.ak);h.qd(b(ga.I.aDa,{T:a.nativeCode,Ga:a.errormsg,Ih:a.httpCode,zT:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){h.dT.push(a);});a.addEventListener("bufferingStarted",function(){h.Dm.set(q.Xs);});a.addEventListener("locationSelected",function(a){h.fireEvent(va.X.mv,a);});a.addEventListener("serverSwitch",function(a){var b;h.fireEvent(va.X.YU,a);"video"===a.mediatype?b=c.kc.G.VIDEO:"audio"===a.mediatype&&(b=c.kc.G.AUDIO);La.ab(b)&&h.dob(a.server,b);});a.addEventListener("bufferingComplete",function(b){h.Ud.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},h.BD());h.Gm=b;h.Dm.set(q.al);v||(v=!0,h.ke("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.Ihb();h.paused.value||(y=!0,h.paused.set(!0,{q8:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){h.paused.value&&y&&(y=!1,h.paused.set(!1,{q8:!0}));h.Nh.mhb();});a.addEventListener("endOfStream",function(a){h.Nh.r8(a);});a.addEventListener("asereportenabled",function(){h.Bl=!0;});a.addEventListener("asereport",function(a){h.fireEvent(va.X.HP,a);});a.addEventListener("aseexception",function(a){h.fireEvent(va.X.GP,a);});a.addEventListener("hindsightreport",function(a){var b,f;b=La.ka(h.Lf)?0:h.Lf;f=a.report;f&&f.length&&f.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});h.B5={qmb:f,Fbb:a.hptwbr,fta:a.htwbr,WT:a.pbtwbr};a.rr&&(h.B5.Aza=a.rr);a.ra&&(h.B5.alb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;h.pa=a.location.bandwidth;h.pg=a.location.httpResponseTime;h.Npb=a.stat.streamingBitrate;b&&(void 0===h.Kx&&(h.Kx={interval:z.config.TB,startTime:b.startTime,sr:[],Rs:[]}),h.Kx.sr=h.Kx.sr.concat(b.sr),h.Kx.Rs=h.Kx.Rs.concat(b.Rs));a.psdConservCount&&(h.pya=a.psdConservCount);});z.config.SWa&&a.addEventListener("currentStreamInfeasible",function(a){h.Mp.FBb(a.newBitrate);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+h.S&&(h.Il=a);});a.addEventListener("startEvent",function(a){t._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&t._cad_global.prefetchEvents.wH(V.$d.Ei.MEDIA,h.S);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.EH&&a.EH.cadmiumResponse)&&h.fireEvent(va.X.eI,{response:a});});a.addEventListener("streamSelected",function(a){var b,f;a.mediaType===c.kc.G.VIDEO?(f=h.Psa(a.streamId),b=h.me):a.mediaType===c.kc.G.AUDIO&&(f=h.Jsa(a.streamId),b=h.Wi);f&&b?b.set(f,{Qna:a.movieTime,VYa:a.bandwidth}):h.Ud.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,f;if("string"===typeof a.target&&"object"===typeof a.fields){b=h.sD[a.target];f=La.ka(h.Lf)?h.Lf:0;b||(b=h.sD[a.target]={});Object.keys(a.fields).forEach(function(c){var d,g,m,p;d=a.fields[c];if("object"!==typeof d||null===d)b[c]=d;else{g=d.type;if("count"===g)void 0===b[c]&&(b[c]=0),++b[c];else if(void 0!==d.value)if("array"===g){g=b[c];m=d.adjust;p=d.value;g||(g=b[c]=[]);m&&0<m.length&&m.forEach(function(a){p[a]-=f||0;});g.push(p);}else"sum"===g?(void 0===b[c]&&(b[c]=0),b[c]+=d.value):b[c]=d.value;else b[c]=d;}});}});};this.Mc.addListener(function(a){var b;if(h.hb)if(a.Du&&a.Du.reset)h.Ud.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;h.hb.oqb({OB:b.uy,toJSON:function(){return b.Mf;}})?h.Ud.trace("ASE accepted the audio track switch"):(h.Ud.trace("ASE rejected the audio track switch"),a.oldValue.uy!==b.uy&&h.Mc.set(a.oldValue,{reset:!0}));}});this.addEventListener(va.X.UB,function(a){a.cause==q.Mga&&(h.UP.set(q.Xs),h.hb.Prb(h.Nh.Kra()));});}Object.defineProperty(d,"__esModule",{value:!0});c=a(61);h=a(187);l=a(179);f=a(178);p=a(122);m=a(278);r=a(555);u=a(276);x=a(63);v=a(554);B=a(274);k=a(6);A=a(174);z=a(8);n=a(67);N=a(273);E=a(55);q=a(41);O=a(93);K=a(272);X=a(271);W=a(551);ba=a(267);R=a(293);T=a(20);D=a(3);ja=a(218);w=a(4);ga=a(2);V=a(112);P=a(21);ma=a(217);ca=a(12);la=a(94);ta=a(17);fa=a(33);Ta=a(42);La=a(15);$a=a(103);Gb=a(266);Pa=a(328);J=a(129);Uc=a(173);U=a(18);Y=a(265);jb=a(36);a(125);a(57);a(167);va=a(16);ib=a(180);Ma=a(393);fb=a(550);ub=a(185);Ua=a(56);Va=a(105);Ya=a(294);Mb=a(24);yc=a(45);Na=a(84);aa=a(19);ea=a(123);ha=a(177);tf=a(263);a(82);ka=a(379);b.prototype.fcb=function(){var a;a=this;this.Mc.addListener(function(b){return a.Ba.Mc.set(b.newValue);});this.af.addListener(function(b){return a.Ba.af.set(b.newValue);});this.pc.addListener(function(b){return a.Ba.pc.set(b.newValue);});this.Ui.addListener(function(b){return a.Ba.Ui.set(b.newValue);});this.hq.addListener(function(b){return a.Ba.hq.set(b.newValue);});this.me.addListener(function(b){return a.Ba.me.set(b.newValue);});this.Wi.addListener(function(b){return a.Ba.Wi.set(b.newValue);});this.vza();};b.prototype.vza=function(){this.Ba!==this.v$&&(this.$z(function(a){return a.Mc;},this.Xrb),this.$z(function(a){return a.af;},this.lsb),this.$z(function(a){return a.hq;},this.fsb),this.$z(function(a){return a.pc;},this.gsb),this.$z(function(a){return a.Ui;},this.Vrb),this.$z(function(a){return a.me;},this.ksb),this.$z(function(a){return a.Wi;},this.Wrb),this.pc.set(this.Ba.pc.value),this.Mc.set(this.Ba.Mc.value),this.af.set(this.Ba.af.value),this.Ui.set(this.Ba.Ui.value),this.hq.set(this.Ba.hq.value),this.me.set(this.Ba.me.value),this.Wi.set(this.Ba.Wi.value),this.v$=this.Ba);};b.prototype.$z=function(a,b){this.v$&&a(this.v$).removeListener(b);a(this.Ba).addListener(b);};b.prototype.load=function(a){var b;b=this;this.load=function(){};this.Vxa=a;this.state.value==q.FA&&(this.log.info("Playback loading",this),this.fhb(),this.ke("asl_load_start"),La.ab(aa.PS)?La.ab(aa.P6)?this.ke("asl_ended"):this.ke("asl_in_progress"):this.ke("asl_not_started"),aa.BJ(function(a){b.ke("asl_load_complete");a.O?b.t2a():b.zo(a.errorCode||ga.I.bea,a);}));};b.prototype.Qjb=function(){var a;try{if(this.state.value==q.cl){this.R8=w.sb(this.Ha.duration);a={width:1,height:1};this.ny().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.WE=a;this.yr=D.ba.get(ma.lM).p0({QE:w.sb(this.yr),S:this.S,qK:this.Rx,Ta:this.Ta}).ma(w.za);this.Pma();this.W2a();}}catch(Vc){this.zo(ga.I.KIa,{T:ga.H.Pe,Ga:ta.Cc(Vc)});}};b.prototype.qma=function(a,b,f,c,d){var g;c=void 0===c?this.qy.KH():c;d=void 0===d?w.sb(T.Ac()):d;g=this.Fv.length;this.Fv.push(new fb.XNa(q.CY.PNa++,g,a,b,f,c,d,this.Ba));return g;};b.prototype.u4=function(a){var b;if(z.config.b3)return h.qoa.t4(a);a=a||k.Tb;b={success:!1,name:null,isCongested:null};a(b);return b;};b.prototype.QC=function(a){return this.Fv[a];};b.prototype.s$a=function(a){return this.Fv.find(function(b){b=b.gg;return!!b&&!!b.Cd&&b.Cd.sessionId===a;})||this;};b.prototype.Wkb=function(a){var b,f;b=this;f=this.QC(a);return this.Wza(f).then(function(a){if(!b.hb)throw Error("No streaming session");b.ST(a,f);b.hb.ZG(f.Ha,{Ms:[f.Rb.npa,f.Rb.rpa],replace:!1,U:f.Ta.U,ea:f.Ta.ea,U8:!0,aC:!f.fv});return b.kb.dj.pAa("cenc",f).then(function(){return b.hb.SQ(""+f.S);});})["catch"](function(a){return b.log.error("send manifest request failed",a);});};b.prototype.ke=function(a){this.Q8.sl(a);};b.prototype.u8a=function(){if(La.ka(this.Tc.ats)&&La.ka(this.Tc.at))return this.Tc.at-this.Tc.ats;};b.prototype.wra=function(){var a,b;a=this.XL();b=this.iH();return Math.min(a,b);};b.prototype.L9a=function(){if(La.ka(this.Tc.shs)&&La.ka(this.Tc.sh))return this.Tc.sh-this.Tc.shs;};b.prototype.iL=function(){this.background||(this.Ud.info("Starting inactivity monitor for movie "+this.S),new N.dJa(this));};b.prototype.close=function(a){a&&(this.state.value==q.XF?a():this.addEventListener(va.X.closed,function(){a();}));this.daa();};b.prototype.qd=function(a,b){var f,c,d;f=this;if(this.state.value==q.FA)this.Jh||(this.Jh=a,this.load());else{b&&(this.state.value==q.XF?b():this.addEventListener(va.X.closed,function(){b();}));c=function(){f.daa(a);};d=z.config.tpa&&a&&z.config.tpa[a.errorCode];La.ev(d)&&(d=ta.Dd(d));this.Ud.error("Fatal playback error",{Error:""+a,HandleDelay:""+d});0<=d?setTimeout(c,d):c();}};b.prototype.LL=function(){this.oc.Eb(va.X.LL);};b.prototype.K7a=function(){this.Rqa();};b.prototype.P4=function(){var a;a=this.hb;return a&&(a=a.la.jj.qa.id,void 0!==a)?a:null;};b.prototype.ly=function(){return void 0!==this.uoa&&void 0===this.hb?this.uoa:this.SI(this.wd.value);};b.prototype.O4=function(){return this.SI(this.Nh.Kra());};b.prototype.IR=function(){var a;a=this.Ha.choiceMap;if(a)return a.segments;};b.prototype.bsb=function(a){this.Ta=J.Qfb(this.Ta,a);this.Pma();};b.prototype.ny=function(){return this.af.value?this.af.value.vc:[];};b.prototype.bbb=function(a){var f;for(var b=0;b<this.Fv.length;b++){f=this.QC(b).fi;if(f=f&&f.find(function(b){return b.id===a;}))return f;}};b.prototype.Jsa=function(a){var f;for(var b=0;b<this.Fv.length;b++){f=this.QC(b).Mc.value;if(f=f&&f.vc.find(function(b){return b.sd===a;}))return f;}};b.prototype.Psa=function(a){var f;for(var b=0;b<this.Fv.length;b++){f=this.QC(b).af.value;if(f=f&&f.vc.find(function(b){return b.sd===a;}))return f;}};b.prototype.Tn=function(){var a,b,f,d,g,m,p;a=this;b=void 0;f=a.ny().filter(function(f){var c;c=a.N7.Gs(f);c&&(b=b||[],b.push({stream:f,lC:c}));return!c;});0===f.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var c=0;c<f.length;c++)f[c].lower=f[c-1],f[c].pbb=f[c+1];if(a&&a.hb){d=[];a.ny().forEach(function(a){-1==d.indexOf(a.Ue)&&d.push(a.Ue);});g=null;m=null;f.forEach(function(a){null===g?m=g=a.P:m<a.P?m=a.P:g>a.P&&(g=a.P);});p=[];d.forEach(function(a){var f;f={ranges:[]};f.profile||(f.profile=a);g&&m&&(f.ranges.push({min:g,max:m}),b&&(f.disallowed=b.filter(function(b){return b.stream.Ue===a;})),p.push(f));});a.hb.dV(p);}return f;};b.prototype.$C=function(a){var b;b=this;ta.tc(a,function(a,f){b.Q8.sl(a,w.sb(f-b.Zm.ma(w.za)));});};b.prototype.cV=function(a){this.Uz=a;};b.prototype.Xcb=function(){return"trailer"===this.wc;};b.prototype.Lta=function(){return!!this.wc&&0<=this.wc.indexOf("billboard");};b.prototype.adb=function(){return!!this.wc&&0<=this.wc.indexOf("video-merch");};b.prototype.hD=function(){return this.Xcb()||this.Lta()||this.adb();};b.prototype.H$a=function(){return{tr:this.Saa,rt:this.Y9};};b.prototype.Wr=function(a){return this.sD[a];};b.prototype.TZa=function(){return this.Uz?T.Ac()-this.Uz:T.BH()-this.ER();};b.prototype.$Za=function(){var a;if(this.Uz)return T.Ac()-this.Uz;a=D.ba.get(Mb.Oe).nD;return this.Oxa-(this.Zm.ma(w.za)+a.ma(w.za));};b.prototype.ZZa=function(){return this.Uz?T.Ac()-this.Uz:this.Oxa-this.ER();};b.prototype.Zgb=function(a){var b,f;b=this.Lf;f={};ta.tc(a,function(a,c){f[a]=c.map(function(a){return a-b;});});return f;};b.prototype.C8a=function(){var a,b;a=this.Lf;b={};ta.tc(this.W0,function(f,c){b[f]=c.map(function(b){return b-a;});});return m.xr?{level:m.xr.Sra(),charging:m.xr.q4(),statuses:b}:null;};b.prototype.WR=function(){this.Qqa();return this.YL;};b.prototype.ER=function(){var a;a=this.Ta.OV;a=La.ka(a)?a:this.Zm.ma(w.za)+T.V_a();ca.va(La.dv(a));return a;};b.prototype.my=function(){return T.Ac()-this.Zm.ma(w.za);};b.prototype.yob=function(){this.YL.HasRA=!0;};b.prototype.atb=function(){this.Tob=!0;};b.prototype.Cwa=function(){this.Qya();};b.prototype.XL=function(){var a;a=this.JP();return a&&a.vbuflmsec||0;};b.prototype.iH=function(){var a;a=this.JP();return a&&a.abuflmsec||0;};b.prototype.pba=function(){var a;a=this.JP();return a&&a.vbuflbytes||0;};b.prototype.K0=function(){var a;a=this.JP();return a&&a.abuflbytes||0;};b.prototype.Wza=function(a){var b,f,c;a=void 0===a?this:a;b=D.ba.get(ub.aY);f=z.config.pU.enabled?Ua.ad.tn.jha:this.hD()?Ua.ad.tn.Jha:Ua.ad.tn.dl;c=a.Ta;a={ja:this.ja,zi:b.boa(c.PB,c.zi),Ne:a.S,ds:!!c.ff,AI:f,iz:c.iz};if(c.ij||z.config.pU.enabled&&La.ev(z.config.pU.ij))a.ij=c.ij?String(c.ij):z.config.pU.ij;c=D.ba.get(Va.EA)();return b.NC(a,c);};b.prototype.ST=function(a,b){b=void 0===b?this:b;b.Ha=a;a=this.pTa.create(this).ST(a);b.Rb=a;b.af.set(a.H2);b.Mc.set(a.B2);b.pc.set(a.G2);};b.prototype.t2a=function(){try{this.profile=ea.ah.profile;this.Gh=ha.oFa(this);this.rD=this.Ceb.create(this);z.config.l_a&&new tf.EHa(this,this.log);z.config.yH&&this.yH(this);this.Isb();}catch(Yb){this.zo(ga.I.JIa,{T:ga.H.Pe,Ga:ta.Cc(Yb)});}};b.prototype.Isb=function(){this.Jh?this.qd(this.Jh):La.Xta(this.S)?this.D_a():this.zo(ga.I.yIa);};b.prototype.D_a=function(){var a;a=l.BE.gAa;a?a.O?this.H1():this.zo(ga.I.zea,a):(ca.va(!z.config.cR),this.e0());};b.prototype.H1=function(){var a;a=this;!this.background&&z.config.H1?q.Pga(function(){a.e0();},this):this.e0();};b.prototype.e0=function(){var a;a=this;this.state.value==q.cl&&(z.config.l3&&!this.hD()?l.BE.IB(q.ONa,function(b){b.O?(a.TS=b.TS,z.config.WU?a.lH():a.B$()):a.zo(ga.I.yea);}):z.config.WU?this.lH():this.B$());};b.prototype.B$=function(){var a;a=this;this.state.value==q.cl&&(this.ke("ic"),this.xjb.Gnb(function(b){b.error&&a.log.error("Error sending persisted playdata",ga.sn(b));try{a.lH();}catch(Wc){a.log.error("playback.authorize threw an exception",Wc);a.zo(ga.I.lDa,{T:ga.H.Pe,Ga:ta.Cc(Wc)});}}));};b.prototype.lH=function(){var a,b;a=this;if(this.state.value==q.cl){this.log.info("Authorizing",this);b=T.Ac();this.ke("ats");this.Gh.lH(function(f){var c;if(a.state.value==q.cl){a.ke("at");c=a.Ha;a.$C({pr_ats:c&&La.ab(c.Bz)?c.Bz:b,pr_at:c&&La.ab(c.eE)?c.eE:T.Ac()});f.O?0<a.Rb.fi.length&&a.Rb.B2&&a.Rb.H2&&a.Rb.G2?a.zkb():a.zo(ga.I.WJa,a.Web(a.Rb)):a.zo(ga.I.MANIFEST,f);}});}};b.prototype.zkb=function(){var a;a=this;this.Vxa?(this.log.info("Processing post-authorize",this),this.Vxa(this,function(b){b.O?a.cCa():a.zo(ga.I.OIa,b);})):this.cCa();};b.prototype.cCa=function(){var b,f,d,g;b=this;if(this.state.value==q.cl){f={};this.Uk=p.qk;z.config.H7a&&this.Uk.j1();p.pk.set(a(148)(z.config),!0,D.Bd("ASE"));z.config.I0a&&3E5>this.Ha.duration?p.pk.MD({expandDownloadTime:!1},!0,this.Ud):p.pk.MD({expandDownloadTime:p.pk.Cxa().expandDownloadTime},!0,this.Ud);this.background||z.config.Rjb&&"postplay"===this.wc?p.pk.MD({initBitrateSelectorAlgorithm:"historical"},!0,this.Ud):p.pk.MD({initBitrateSelectorAlgorithm:p.pk.Cxa().initBitrateSelectorAlgorithm},!0,this.Ud);g=this.af&&this.af.value&&this.af.value.vc;g&&g.length&&(d=g[0].Ue);p.pk.MD(z.noa(this.Ta.ff,this.Ta.m6,d),!0,this.Ud);f=D.ba.get(P.ze).si(f,z.ooa(this.wc));this.Opb=p.pk.qp(f);c.platform.events.emit("networkchange",this.Rb.$nb);this.Uk.iCa({Tn:function(){return b.Tn();},OI:function(){return b.OI();},fJ:function(){return b.fJ();}});this.yr=D.ba.get(ma.lM).p0({QE:w.sb(this.yr),S:this.S,qK:this.Rx,Ta:this.Ta}).ma(w.za);this.Qjb();}};b.prototype.W2a=function(){var a,b,f,c;a=this;try{this.kb=new r.JKa(this);this.kb.open();b=new Promise(function(b){a.kb.addEventListener(Uc.uh.MAa,function(){b();});});this.Nh=new Gb.NKa(this);f={ii:!1,TE:z.config.TE,SV:z.config.XQ,Leb:!1,aC:!this.fv,U8:!!this.Ta.m6,ea:this.Ta.ea};this.Ha.cdnResponseData&&(this.lQ=this.Ha.cdnResponseData.pbcid,this.Ha.cdnResponseData.sessionABTestCell&&(this.Ov=this.Ha.cdnResponseData.sessionABTestCell));c={kz:this.log,Mp:this.Mp,sessionId:this.S+"-"+this.ja,ja:this.ja,VT:this.lQ,ig:$a.Eg?$a.Eg.ig:void 0,Dpa:0===z.config.fI||0!==this.ja%z.config.fI?!1:!0};this.dqa=c.Dpa;this.hb=this.Uk.Ir(this.Ha,[this.Rb.npa,this.Rb.rpa],this.U,f,c,void 0,{ge:function(){return a.wd.value;},M4:function(){return a.kb;}},this.Opb);this.wXa(this.hb);b.then(function(){a.state.value!==q.YF&&a.state.value!==q.XF&&a.hb.open();});this.wd.set(this.U);this.ln=new v.cQa(this);if("boolean"===typeof this.Ta.dE?this.Ta.dE:z.config.dE)this.CL=new W.dQa(this);this.vo=new X.MNa(this);this.iL();q.Rga.forEach(function(b){b(a);});this.ehb();}catch(qf){this.zo(ga.I.LIa,{T:ga.H.Pe,Ga:ta.Cc(qf)});}};b.prototype.fhb=function(){ca.va(this.state.value==q.FA);this.log.j.Lf=this.Lf=T.Ac();this.state.set(q.cl);t._cad_global.prefetchEvents&&t._cad_global.prefetchEvents.Ejb(this.S);};b.prototype.zo=function(a,b){var f;if(!this.done){this.done=!0;f=D.ba.get(x.ak);b instanceof yc.Yb?this.qd(f(b.code,b)):this.qd(f(a,b));}};b.prototype.yH=function(a){var f,c;function b(){var b,c;b=m.xr.q4()+"";c=a.W0[b];c||(c=a.W0[b]=[]);c.push(T.Ac());f.log.trace("charging change event",{level:m.xr.Sra(),charging:m.xr.q4()});}f=this;c=m.xr.wEa;m.xr.addEventListener(c,b);a.addEventListener(va.X.Fe,function(){m.xr.removeEventListener(c,b);});};b.prototype.daa=function(a){var b;b=this;if(this.state.value==q.FA||this.state.value==q.cl||this.state.value==q.vn){this.Ud.info("Playback closing",this,a?{ErrorCode:a.KQ}:void 0);E.he.removeListener(E.Ck,this.Twa);this.Jh=a;this.Qqa();this.hb&&this.hb.flush();try{this.oc.Eb(va.X.Fe);}catch(Wc){this.Ud.error("Unable to fire playback closing event",Wc);}this.state.set(q.YF);this.uoa=this.ly();this.XCa();this.Tob||Ta.ib(function(){return b.Qya();});}};b.prototype.Rqa=function(){var a;a=this.wd.value;this.Adb!=a&&(this.Adb=a,this.oc.Eb(va.X.Eaa));};b.prototype.SI=function(a){a=void 0===a?null:a;return La.ka(a)?this.hb?this.hb.fC(this.na,a):a:null;};b.prototype.Qya=function(){var a,b;a=this;ca.va(this.state.value==q.YF);b=this.TS;this.TS=void 0;b?l.BE.release(b,function(b){ca.va(b.O);a.N1();}):this.N1();};b.prototype.XCa=function(){this.hb&&(this.hb.close(),this.hb.Nd());this.Uk&&this.Jh&&this.Uk.j1();delete this.hb;delete this.Uk;};b.prototype.N1=function(){var a;this.N1=k.Tb;ca.va(this.state.value==q.YF);a=q.Jq.indexOf(this);ca.va(0<=a);q.Jq.splice(a,1);this.state.set(q.XF);this.oc.Eb(va.X.closed,void 0,!0);this.oc.oC();delete this.gg;this.Wva.bmb(this.ja);};b.prototype.Pma=function(){this.Ta.playbackState&&("number"===typeof this.Ta.playbackState.volume&&this.volume.set(this.Ta.playbackState.volume),"boolean"===typeof this.Ta.playbackState.muted&&this.muted.set(this.Ta.playbackState.muted));};b.prototype.Qqa=function(){this.oc.Eb(va.X.CAa,{YL:this.YL});};b.prototype.dob=function(a,b){var f;f=this.fi.filter(function(b){return b.id===a;})[0];f&&this.Pb[b].set(f);};b.prototype.BD=function(){return{AudioBufferLength:this.iH(),VideoBufferLength:this.XL()};};b.prototype.JP=function(){if(this.hb)return this.hb.g6(!1);};b.prototype.OI=function(){return this.Bka;};b.prototype.fJ=function(){this.Bka++;};b.prototype.ehb=function(){this.state.value==q.cl&&this.state.set(q.vn);};na.Object.defineProperties(b.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){return this.Fv[this.hb&&this.hb.wK||0];}},U:{configurable:!0,enumerable:!0,get:function(){var a;a=this.QC(0);return("number"===typeof a.Ta.U?a.Ta.U:this.yr)||0;}},Rb:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Rb;},set:function(a){this.Ba.Rb=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.Ba.profile;},set:function(a){this.Ba.profile=a;}},wR:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Ta.wR;}},xR:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Ta.xR;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Ba.index;}},gg:{configurable:!0,enumerable:!0,get:function(){return this.Ba.gg;},set:function(a){this.Ba.gg=a;}},oK:{configurable:!0,enumerable:!0,get:function(){return this.Ba.oK;},set:function(a){this.Ba.oK=a;}},uu:{configurable:!0,enumerable:!0,get:function(){return this.Ba.uu;},set:function(a){this.Ba.uu=a;}},Mx:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Mx;},set:function(a){this.Ba.Mx=a;}},rS:{configurable:!0,enumerable:!0,get:function(){return this.Ba.rS;},set:function(a){this.Ba.rS=a;}},Ha:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Ha;},set:function(a){this.Ba.Ha=a;}},yr:{configurable:!0,enumerable:!0,get:function(){return this.Ba.yr;},set:function(a){this.Ba.yr=a;}},vL:{configurable:!0,enumerable:!0,get:function(){return this.Ba.vL;},set:function(a){this.Ba.vL=a;}},Ta:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Ta;},set:function(a){this.Ba.Ta=a;}},na:{configurable:!0,enumerable:!0,get:function(){return this.Ba.na;}},S:{configurable:!0,enumerable:!0,get:function(){return this.Ba.S;}},wc:{configurable:!0,enumerable:!0,get:function(){return this.Ba.wc;},set:function(a){this.Ba.wc=a;}},Cm:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Cm;}},nq:{configurable:!0,enumerable:!0,get:function(){return this.Ba.nq;}},Os:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Os;}},rj:{configurable:!0,enumerable:!0,get:function(){return this.Ba.rj;}},kf:{configurable:!0,enumerable:!0,get:function(){return this.Ba.kf;}},fv:{configurable:!0,enumerable:!0,get:function(){return this.Ba.fv;}},Ao:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Ao;}},Ij:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Ij;}},fi:{configurable:!0,enumerable:!0,get:function(){return this.Ba.fi;}},hU:{configurable:!0,enumerable:!0,get:function(){return this.Ba.hU;}},Rx:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Rx;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.Ba.ja;}},Tf:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Tf;}},Zm:{configurable:!0,enumerable:!0,get:function(){return this.Ba.Zm;}},cD:{configurable:!0,enumerable:!0,get:function(){return this.Ba.cD;},set:function(a){this.Ba.cD=a;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.Q8.Tc;}}});d.TNa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dca="BandwidthMeterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lia="TrickPlayManagerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.km||(d.km={});g[g.cN=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.EF=3]="LOAD_FAILED";g[g.$fa=4]="PARSE_FAILED";},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(99);c=[137,66,73,70,13,10,26,10];d.Sib=function(a){var d,f;if(!a)throw Error("invalid array buffer");d=new Uint8Array(a);a=new b(d);f=function(a){var b,f,d,g;if(a.Hl()<c.length+4+4+4+44)throw Error("array buffer too short");c.forEach(function(b){if(b!=a.kh())throw Error("BIF has invalid magic.");});b=a.GK();if(0<b)throw Error("BIF version in unsupported");f=a.GK();if(0==f)throw Error("BIF has no frames.");d=a.GK();g=a.Le(44);return{version:b,shb:f,FBa:d,wmb:g};}(a);a=function(a){var g,p;for(var b=[],c=0;c<=f.shb;c++){p={timestamp:a.GK(),offset:a.GK()};void 0!=g&&b.push(d.subarray(g.offset,p.offset));g=p;}return b;}(a);return{Dk:f,images:a};};},function(g,d,a){var r,u;function b(a){return!(!a||!a.hz&&!a.pboc||!a.code&&!a.code);}function c(a){return!(!a||!a.eb);}function h(a){return!!(a instanceof Error);}function l(a){switch(a){case"ACCOUNT_ON_HOLD":return u.H.RLa;case"STREAM_QUOTA_EXCEEDED":return u.H.VLa;case"INSUFFICICENT_MATURITY":return u.H.XLa;case"TITLE_OUT_OF_WINDOW":return u.H.bMa;case"CHOICE_MAP_ERROR":return u.H.ULa;case"BadRequest":return u.H.ZLa;case"Invalid_SemVer_Format":return u.H.YLa;case"RESTRICTED_TO_TESTERS":return u.H.aMa;case"AGE_VERIFICATION_REQUIRED":return u.H.SLa;case"BLACKLISTED_IP":return u.H.TLa;case"DEVICE_EOL_WARNING":return u.H.rY;case"DEVICE_EOL_FINAL":return u.H.bga;case"INCORRECT_PIN":return u.H.cga;case"MOBILE_ONLY":return u.H.$La;default:return u.H.Jda;}}function f(a,b){return new r.Yb(a,l(b.code),"BadRequest"===b.code?u.OX.$Da:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function p(a,b){return new r.Yb(a,b.eb,b.Jc,void 0,b.Op,b.message,b.Ju,b.data);}function m(a,b){return new r.Yb(a,u.H.Pe,void 0,void 0,void 0,void 0,b.message,b.stack);}Object.defineProperty(d,"__esModule",{value:!0});r=a(45);u=a(2);d.Lcb=b;d.OFb=c;d.wS=h;d.GEb=l;d.xp=function(a,d){return c(d)?p(a,d):b(d)?f(a,d):h(d)?m(a,d):new r.Yb(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.HEb=f;d.EEb=p;d.FEb=m;d.CZa=function(a,b,f){var c,d,g;a=a.oqa;c=b.fAa[f];if(void 0===c)throw{hz:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no configuration information",detail:b};d=c.version;if(void 0===d)throw{hz:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no version information",detail:b};g=b.cj&&c.serviceNonMember?c.serviceNonMember:c.service;if(void 0===g)throw{hz:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no service information",detail:b};c=c.orgOverride;if(void 0===c&&(c=b.ixa,void 0===c))throw{hz:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no organization information",detail:b};return a+"/"+c+"/"+g+"/"+d+"/router";};d.lCb=function(){return{"Content-Type":"text/plain"};};d.BZa=function(a,b,f,c,d,g,m){return{version:c.version,url:b,id:a,esn:f,languages:c.languages,uiVersion:c.Wz,clientVersion:d.version,params:g,echo:m};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jia="TransportFactorySymbol";d.Gfa="MslTransportSymbol";d.Nha="SslTransportSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xga="PboDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Gi||(d.Gi={});g.kd={Ufa:"mr1",Tfa:"mr2",Vfa:"mr3",QF:"mr4",GLa:"mr5",Ew:"mr6"};g.Gb={UNSENT:0,OPENED:1,yt:2,Hw:3,DONE:5,xq:6,hw:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};g.Ezb={Dba:0,Kw:1,Mfa:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};g.ct={NO_ERROR:-1,eGa:0,Tca:1,qGa:2,iGa:3,EEa:4,qca:5,wW:6,FEa:7,GEa:8,HEa:9,BEa:10,DEa:11,pca:12,CEa:13,AEa:14,$Ha:15,Uda:16,Tda:17,KX:18,PM:19,LX:20,MX:21,bIa:22,QM:23,Vda:24,aIa:25,lGa:26,fGa:27,XOa:28,WFa:29,XFa:30,YFa:31,ZFa:32,$Fa:33,aGa:34,bGa:35,cGa:36,dGa:37,gGa:38,hGa:39,jGa:40,kGa:41,mGa:42,nGa:43,oGa:44,pGa:45,rGa:46,sGa:47,WOa:48,TIMEOUT:49,IX:50,Rda:51,ZHa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vfa="MediaHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cha="PrefetchEventsConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cia="WindowUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qfa="NfCryptoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wea="LogDisplayConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lda="DxManagerSymbol";d.kda="DxManagerProviderSymbol";},function(g,d,a){var c,h,l,f,p;function b(a,b,c){this.Xb=a;this.is=b;this.prefix=c;this.xK=this.Ml=!1;this.zna=new f.pQa(b);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);l=a(23);f=a(594);p=a(5);d.PEa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.QEa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.REa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.eF="";b.prototype.show=function(){this.Ml||(this.v0a(),this.eC&&p.yd.body.appendChild(this.eC),this.zf&&p.yd.body.appendChild(this.zf),this.pH&&p.yd.body.appendChild(this.pH),this.Iz&&p.yd.getElementsByTagName("head")[0].appendChild(this.Iz),this.Ml=!0,this.refresh());};b.prototype.py=function(){this.Ml&&(this.zf&&p.yd.body.removeChild(this.zf),this.pH&&p.yd.body.removeChild(this.pH),this.eC&&p.yd.body.removeChild(this.eC),this.Iz&&p.yd.getElementsByTagName("head")[0].removeChild(this.Iz),this.Iz=this.xL=this.eC=this.pH=this.zf=void 0,this.Ml=!1);};b.prototype.toggle=function(){this.Ml?this.py():this.show();};b.prototype.arb=function(){(this.xK=!this.xK)||this.refresh();};b.prototype.G8a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.v0a=function(){var a;a=this;this.Iz=p.yd.createElement("style");this.Iz.type="text/css";this.Iz.innerHTML=this.G8a(this.prefix);this.pH=this.Xb.createElement("div",d.PEa,void 0,{"class":this.prefix+"-display-blur"});this.zf=this.Xb.createElement("div",d.QEa,void 0,{"class":this.prefix+"-display"});this.eC=this.Xb.createElement("div",d.REa,void 0,{"class":this.prefix+"-display"});this.Cra().forEach(function(b){return a.eC.appendChild(b);});};b.prototype.w0a=function(a){a=this.Xb.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),f=0;f<b.length;f++)b[f].addEventListener("click",function(a){var b,f;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{f=a.querySelectorAll(":scope .open");for(a=0;a<f.length;a++)f[a].classList.remove("open");}catch(y){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.Ml||this.xK?Promise.resolve():this.Oya().then(function(b){if(b&&(b=a.w0a(b),a.zf)){a.xL&&(a.zf.removeChild(a.xL),a.xL=void 0);a.xL=b;a.zf.appendChild(a.xL);b=a.zf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var f=0;f<b.length;++f)b[f].addEventListener("click",a.yza);(b=a.zf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};b.prototype.Aoa=function(a){var b;if(p.yd.queryCommandSupported&&p.yd.queryCommandSupported("copy")){b=p.yd.createElement("textarea");b.textContent=a;b.style.position="fixed";p.yd.body.appendChild(b);b.select();try{p.yd.execCommand("copy");}catch(u){console.warn("Copy to clipboard failed.",u);}finally{p.yd.body.removeChild(b);}}};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ze)),g.__param(1,c.l(l.ne)),g.__param(2,c.Og())],a);d.sN=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jda="DxDisplaySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xY={tJ:"keepAlive",resume:"resume",pause:"pause",splice:"splice"};d.yga="PboEventSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vga="PlaydataConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wga="PboCachedPlaydataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aga="PboLicenseResponseTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zga="PboLicenseRequestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jga="PboReleaseLicenseCommandSymbol";},function(g,d,a){var f,p,m,r,u,x;function b(a){var b;a=new m(a);if(1481462272!=a.Fa())throw Error("Invalid header");b={XMR:{Version:a.Fa(),RightsID:a.Rk(16)}};c(a,b.XMR,a.buffer.byteLength);return b;}function c(a,b,f){var d,g,m,p,r;for(;a.position<f;){d=a.xb();g=a.Fa();g=g-8;switch(d){case 1:m="OuterContainer";break;case 2:m="GlobalPolicy";break;case 3:m="MinimumEnvironment";break;case 4:m="PlaybackPolicy";break;case 5:m="OutputProtection";break;case 6:m="UplinkKID";break;case 7:m="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:m="AnalogVideoOutputConfiguration";break;case 9:m="KeyMaterial";break;case 10:m="ContentKey";break;case 11:m="Signature";break;case 12:m="DeviceIdentification";break;case 13:m="Settings";break;case 18:m="ExpirationRestriction";break;case 42:m="ECCKey";break;case 48:m="ExpirationAfterFirstPlayRestriction";break;case 50:m="PlayReadyRevocationInformationVersion";break;case 51:m="EmbeddedLicenseSettings";break;case 52:m="SecurityLevel";break;case 54:m="PlayEnabler";break;case 57:m="PlayEnablerType";break;case 85:m="RealTimeExpirationRestriction";break;default:m="Other";}p={Type:h(d)};r=b[m];r?x.isArray(r)?r.push(p):(b[m]=[],b[m].push(r),b[m].push(p)):b[m]=p;switch(d){case 1:case 2:case 4:case 7:case 9:case 54:c(a,p,a.position+g);break;case 5:p.Reserved1=a.xb();p.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.xb();p.MinimumAnalogVideoOutputProtectionLevel=a.xb();p.Reserved2=a.xb();p.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.xb();break;case 10:p.Reserved=a.Rk(16);p.SymmetricCipherType=a.xb();p.AsymmetricCipherType=a.xb();g=a.xb();p.EncryptedKeyLength=g;d=a.Rk(g);p.EncryptedKeyData=10>=g?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 11:p.SignatureType=a.Rk(2);g=a.xb();d=a.Rk(g);p.SignatureData=10>=g?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 13:p.Reserved=a.xb();break;case 18:p.BeginDate=a.Fa();p.EndDate=a.Fa();break;case 42:p.CurveType=a.Rk(2);g=a.xb();d=a.Rk(g);p.Key=10>=g?d:d.substring(0,4)+"..."+d.substring(d.length-4,d.length);break;case 48:p.ExpireAfterFirstPlay=a.Fa();break;case 50:p.Sequence=a.Fa();break;case 51:p.LicenseProcessingIndicator=a.xb();break;case 52:p.MinimumSecurityLevel=a.xb();break;case 57:p.PlayEnablerType=l(a.Rk(16));break;case 85:break;default:p.OtherData=a.Rk(g);}}}function h(a){return"0x"+a.toString(16);}function l(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});f=a(6);p=a(3);m=a(99);r=a(126);u=a(189);x=a(15);d.sDb=function(a,c,d){switch(c){case f.RW:a&&(a=p.bZa(a),u.RCa(a,function(a){a.O&&(a=a.object)&&(a=r.c9a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=r.Qib(a))&&(a=p.Kn(a))&&(a=b(a))&&d(a);}));}};d.tDb=b;d.uDb=c;d.wDb=h;d.vDb=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uga="PboAcquireLicenseCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dga="PboManifestCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ica="ControlProtocolSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xda="HttpRequesterSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fda="FtlDataParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pfa="NetworkMonitorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eia="XhrFactorySymbol";},function(g,d,a){var c,h,l,f,p,m,r,u,x;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(146);h=a(75);l=a(17);f=a(2);p=a(12);m=a(5);r=a(15);u=a(1);a=a(22);b.prototype.construct=function(a,b){var f,c,d;f=this;c={};a.forEach(function(a){var b;b=a.url;c[b]||(c[b]=[]);c[b].push(a);});d=[];l.tc(c,function(a,c){d.push(f.xab(c,b));});return{urls:d};};b.prototype.xab=function(a,b){var f,c,d,g;f=this;c=a[0];d={url:c.url,bitrate:c.P,cdnid:r.re(c.Pb)?c.Pb.id:c.Pb,dltype:c.L4a,id:c.sd};g={};a.forEach(function(a){var b;b=f.Ccb(a)?"fail":"success";g[b]||(g[b]=[]);g[b].push(a);});l.tc(g,function(a,c){"fail"===a?d.failures=f.w9a(c,b):"success"===a&&(d.downloads=f.l9a(c,b));});return d;};b.prototype.l9a=function(a,b){var f,c,d;f=this;c={};a.forEach(function(a){var b;b=a.R_a;c[b]||(c[b]=[]);c[b].push(a);});d=[];l.tc(c,function(a,c){var g;g=[];c.forEach(function(c){g.push(c);f.scb(c)&&(d.push(f.Fra(g,b,a)),g=[]);});0<g.length&&d.push(f.Fra(g,b,a));});return d;};b.prototype.Fra=function(a,b,f){var h;for(var c=a.sort(function(a,b){return a.ej.Pf<b.ej.Pf?-1:a.ej.Pf>b.ej.Pf?1:0;}),d=c[0].ej,g=d.requestTime,m=d.Pf,d=d.Sk,p=1;p<a.length;p++){h=a[p].ej;h.requestTime<g&&(g=h.requestTime);h.Pf<m&&(m=h.Pf);h.Sk>d&&(d=h.Sk);}p=this.y$a(c);h=c[c.length-1];b={time:g-b,tcpid:f?parseInt(f):-1,tresp:m-g,first:p,ranges:this.z$a(c,p),dur:d-m,trace:this.nab(a),status:this.RR(h)};this.config().gI&&this.config().gI.length&&(b.servertcp=this.R$a(a));return b;};b.prototype.R$a=function(a){var b;b=this.config().gI||[];return a.reduce(function(a,f){var c,d;c=[];if(f.pBa){d={};f.pBa.split(";").forEach(function(a){a=a.split("=");2==a.length&&(d[a[0]]=a[1]);});b.forEach(function(a){c.push(d[a]);});}a.push(c);return a;},[]);};b.prototype.y$a=function(a){var b;b=0;a.forEach(function(a){a.Vp&&(b=m.wj(b,a.Vp[0]));});return b;};b.prototype.z$a=function(a,b){var f;f=[];a.forEach(function(a){a.Vp?f.push([a.Vp[0]-b,a.Vp[1]-b]):f.push([0,-1]);});return f;};b.prototype.nab=function(a){var b,f;b=[];a.forEach(function(a){var c;a=a.ej;if(f){c=a.requestTime-f.Sk;0<c&&b.push([c,-2]);c=m.bl(f.Sk,a.requestTime);c=a.Pf-c;0<c&&b.push([c,-3]);}b.push([a.Sk-a.Pf,a.Hr||0]);f=a;});return b;};b.prototype.scb=function(a){if(a.T===f.H.ft||a.T===f.H.uw)return!0;};b.prototype.RR=function(a){if(a.O)return"complete";if(a.T===f.H.ft)return"abort";if(a.T===f.H.uw)return"stall";p.va(!1,"download status should never be: other");return"other";};b.prototype.w9a=function(a,b){var f,d;f=this;d=[];a.forEach(function(a){var g;g=a.ej;a={time:g.Pf-b,tresp:g.Pf-g.requestTime,dur:g.Sk-g.Pf,range:a.Vp,reason:f.A$a(a),httpcode:a.Ih,nwerr:c.$ra(a.T)};d.push(a);});return d;};b.prototype.A$a=function(a){return a.Ih||a.T===f.H.yF?"http":a.T===f.H.zF?"timeout":"network";};b.prototype.Ccb=function(a){return a.O||void 0===a.O||a.T===f.H.ft||a.T===f.H.uw?!1:!0;};b.prototype.D0a=function(a){var b,f,c,d,g,m;b=a.request;f=b.stream;c=b.track;d=b.url;g=this.i9a(c,d);switch(g){case h.Zf.audio:case h.Zf.video:m=b.stream.sd;break;case h.Zf.HV:case h.Zf.aba:m=c.sd;}a={P:f&&f.P,L4a:g,sd:m,ej:a.ej,Pb:b.Pb,url:d,mc:a.mc,Ih:a.Ih,T:a.T,O:a.O,pBa:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),R_a:this.U6a(a)};void 0!==b.offset&&void 0!=b.length&&(a.Vp=[b.offset,b.offset+b.length-1]);return a;};b.prototype.i9a=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.U6a=function(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],l.Dd(a);};x=b;x=g.__decorate([u.N(),g.__param(0,u.l(a.we))],x);d.PGa=x;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dda="DownloadReportBuilderSymbol";},function(g,d,a){var c;function b(a){this.v0=a.v0;this.Bb=a.Bb;this.Ka=a.Ka;this.rT=a.rT;this.o6=!1;this.o1=[];this.log=a.log;a.r0a&&this.jAa(a.r0a);this.pua()?this.nR():this.Lza();}Object.defineProperty(d,"__esModule",{value:!0});c=a(34);b.prototype.t4=function(a){var b;a=a||function(){};this.pua()?(b={success:!1,name:"",isCongested:!1},this.o6?this.o1.push(a):a(b)):(b={success:!0,name:this.Ay.Sma,isCongested:this.Ay.Ota},a(b));return b;};b.prototype.nR=function(){var a;a=this;this.o6=!0;this.Bb.download(this.rQ(),function(b){var f;if(b.O)try{f=a.Oib(b.content);a.jAa(f);a.Lza();a.d$({success:!0,name:a.Ay.Sma,isCongested:a.Ay.Ota});}catch(p){a.log.error("Response Processing Failed",p);a.d$({success:!1,name:"",isCongested:!1});setTimeout(a.nR.bind(a),d.tM.qza);}else a.log.error("HTTP Request Failed"),a.d$({success:!1,name:"",isCongested:!1}),setTimeout(a.nR.bind(a),d.tM.qza);a.o6=!1;});};b.prototype.d$=function(a){this.o1.forEach(function(b){b(a);});this.o1=[];};b.prototype.rQ=function(){return{url:this.v0,responseType:c.YC,withCredentials:!0,Zx:"congestion-service"};};b.prototype.Oib=function(a){a=new Uint8Array(a);a=JSON.parse(String.fromCharCode.apply(null,a));return{O:a.success,QBb:a.asnName,Sma:a.asnDisplayName,Ota:a.isCongested,MV:a.ttlEpoch};};b.prototype.pua=function(){return this.Ay&&this.Ka.MR()<this.Ay.MV?!1:!0;};b.prototype.jAa=function(a){var b;b=this.Ka.MR();a.O&&(a.MV-b<1E3*this.rT&&(a.MV=b+1E3*this.rT),this.Ay=a);};b.prototype.Lza=function(){var a;a=this.Ay.MV-this.Ka.MR()-6E4;0>a&&(a=0);setTimeout(this.nR.bind(this),a);};b.qza=6E4;d.tM=d.tM||b;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);d.OW=function(a,d){this.S4a=a;this.size=d.Sta()?b.Vf:d;};},function(g,d,a){var c,h,l,f,p,m,r,u,x,v,k,y,A,z,n,N,E,q,O,K,X,W,ba,R;function b(a,b,f,c,d,g,v,B,I,K,qa,X,w,La,$a){var P;P=this;this.j=a;this.$P=f;this.Ig=c;this.K7=d;this.x3=g;this.Ym=v;this.Kd=B;this.PQ=I;this.Bb=K;this.config=qa;this.Ka=X;this.Va=w;this.platform=La;this.y0=$a;this.BL=[];this.W2=this.bgb=this.tS=this.aza=0;this.pC=[];this.GV=function(){P.Vb(W.xe.eQa,!1,R.Qg|R.Wf,{track:P.j.pc.value.Mf});};this.Rqb=function(a){a.newValue&&P.Nk&&(a={track:a.newValue.Mf},P.ry(a,P.j.ng.value&&P.j.ng.value.stream,P.j.ih.value&&P.j.ih.value.stream),P.Vb(W.xe.fQa,!1,R.Qg|R.Wf,a));};this.Bpa=function(){var a,b,f;if(P.j.fi)try{a=!1;P.ja%P.config().fI&&!P.j.Bl&&(a=!0,P.pC=P.pC.filter(function(a){return!a.O;}));if(0<P.pC.length){b=P.PQ.construct(P.pC,0);P.pC=[];b.erroronly=a;P.config().gI.length&&(b.tcpinfo=P.config().gI.join(","));f={};u.tc(b,function(a,b){f[a]=JSON.stringify(b);});P.Vb(W.xe.NGa,!1,R.Wf,f);}}catch(of){P.log.error("Exception in dlreport.",of);}};this.Uva=function(){var a,b;if(P.j.state.value==l.vn){a=P.Nxa();P.config().N9&&(a.avtp=P.Oz.ao().Nz,P.j.Uk&&P.mS(a));a.midplayseq=P.bgb++;b=P.j.Uc.value;a.prstate=b==l.Wo?"playing":b==l.Kq?"paused":b==l.Gw?"ended":"waiting";P.config().Mnb&&P.cBa("midplay");P.config().Ql&&t._cad_global.videoPreparer&&P.V5(a);P.T5(a);P.U5(a);P.Vb(W.xe.YKa,!1,R.Qg|R.Wf|R.Zs|R.nN,a);}};this.J4a=function(a){var b,f,c,d,g,m;a=a.response;b=a.request;f=a.request.po;c=b.track;if(c){d=!a.O&&a.T!=k.H.ft;g=c.type;m=a.ej;if(d||P.j.EJ){f={dltype:g,url1:b.url,url2:a.url||"",cdnid:b.Pb&&b.Pb.id,tresp:u.Gl(m.Pf-m.requestTime),brecv:u.R7a(m.Hr),trecv:u.Gl(m.Sk-m.Pf),sbr:f&&f.P};a.Vp&&(f.range=a.Vp);switch(g){case p.Zf.audio:f.adlid=b.stream.sd;break;case p.Zf.video:f.vdlid=b.stream.sd;break;case p.Zf.HV:f.ttdlid=c.sd;}(b=ba.$ra(a.T))&&(f.nwerr=b);a.Ih&&(f.httperr=a.Ih);P.Vb(W.xe.OGa,d,R.Wf,f);}}};this.Jn=function(){P.Vb(W.xe.gEa,!1,R.Qg|R.Zs,{browserua:E.vh});};this.$_a=function(a){var b,f,c;a=a.response;b=a.ej;f=x.sb(b.Pf);c=x.sb(b.Sk);b=A.Z(b.Hr||0);b.gua()||b.Sta()||(f=new z.nha(f,c),P.Oz.yP(new n.OW(f,b)),a&&a.request&&a.request.po&&a.request.po.gd&&P.$P.yP(new N.YEa(f,b,a.request.po.gd)));};this.ajb=function(a){var b;b=a.newValue;a.Du&&a.Du.q8&&b||b==P.D6||(P.spb(P.D6,b),P.D6=b);};this.UB=function(a){function b(a){var b;if(P.j.kb&&P.j.kb.sourceBuffers){b=P.j.kb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.Ak(),updating:b.updating(),ranges:b.HR()};}}P.hE="rebuffer";a={cause:a.cause};a.cause&&a.cause===l.Lga&&(a.mediaTime=P.j.wd.value,a.buf_audio=b(h.ZX),a.buf_video=b(h.IF));P.ocb(P.BL[l.Wo]||0,P.BL[l.Kq]||0,a);P.ZE=P.getTime();q.ib(P.w1);};this.frb=function(a){var b;a=a.oldValue;b=P.getTime();a==l.Ii?P.BL=[]:P.BL[a]=(P.BL[a]||0)+(b-P.ydb);P.ydb=b;};this.Xp=function(a){switch(a.cause){case O.Sg.IA:case O.Sg.XY:P.hE&&P.ZE?P.Cjb(P.getTime()-P.ZE,P.hE):P.Nk||P.Lxa(),P.hE="repos",P.rmb(a.JT,a.ih,a.ng),P.ZE=P.getTime(),q.ib(P.w1);}};this.w1=function(){var a;if(P.ZE&&P.j.Uc.value!=l.Ii){a=P.getTime()-P.ZE;P.Nmb(a,P.Sj);P.z6&&P.z6!=P.j.Mc.value&&P.OP();P.ZE=void 0;P.hE=void 0;P.Sj=void 0;}};this.PP=function(a){P.sdb=P.getTime();P.z6=a.oldValue;};this.Oh=function(){r.va(!P.Nk);P.Nk=!0;P.VAa(!1);P.ecb();P.config().Ata&&(P.a6=t.setTimeout(function(){t._cad_global.logBatcher&&t._cad_global.logBatcher.flush(!1)["catch"](function(){return P.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});P.a6=void 0;},P.config().Ata));};this.Fe=function(){P.a6&&clearTimeout(P.a6);if(P.config().fI||P.config().NB)P.W2&&clearInterval(P.W2),P.Bpa();P.Nk?P.r6a(!!P.j.Jh):P.j.Jh?P.VAa(!0):P.Lxa();P.pnb||(P.Vb=h.Tb);};this.Wsb=function(a){a.oldValue&&a.Du&&a.Du.Qna&&P.G_a(a.oldValue,a.newValue,a.Du.Qna,a.Du.VYa);};this.okb=function(a){var b;if(a.newValue){b=a.newValue.stream;P.E6!=b&&(P.E6&&P.emb(P.E6,b,a.newValue.Im.startTime),P.E6=b);}};this.mv=function(a){function b(a,b){var f;if(!a||a.W6!==b.location){f={W6:b.location,Lua:b.locationlv,Xnb:b.serverid,Fz:b.servername};P.t_a(a,b);return f;}}if("audio"===a.mediaType){if(a=b(P.rdb,a))P.rdb=a;}else if(a=b(P.wJ,a))P.wJ=a;};this.YU=function(a){P.Vb(W.xe.vPa,!1,R.Qg|R.Wf,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});};this.HP=function(a){P.Vb(W.xe.ZCa,!1,R.Wf,{strmsel:a.strmsel});};this.GP=function(a){P.Vb(W.xe.YCa,!1,R.Wf,{msg:a.msg});};this.AV=function(a){a=y.eL(a);a.details&&(a.details=JSON.stringify(a.details));P.Vb(W.xe.MPa,!0,R.Qg|R.BA|R.rM,a);};this.Thb=function(){t._cad_global.logBatcher.flush(!0)["catch"](function(){return P.log.warn("failed to flush logbatcher on midplay interval");});};this.Oz=b();this.log=m.yf(a,"LogblobBuilder");this.D6=a.paused.value;this.ja=a.ja;this.kpb();}Object.defineProperty(d,"__esModule",{value:!0});c=a(61);h=a(6);l=a(41);f=a(29);p=a(75);m=a(3);r=a(12);u=a(17);x=a(4);v=a(56);k=a(2);y=a(18);A=a(31);z=a(339);n=a(326);N=a(627);E=a(5);q=a(42);O=a(16);K=a(15);X=a(626);W=a(625);ba=a(146);b.prototype.kpb=function(){var a;a=this;this.j.Ui.addListener(this.Rqb);this.j.Mc.addListener(this.PP);this.j.paused.addListener(this.ajb);this.j.ng.addListener(this.okb);this.j.Uc.addListener(this.w1);this.j.Uc.addListener(this.frb);this.j.me.addListener(this.Wsb);this.j.addEventListener(O.X.GP,this.GP);this.j.addEventListener(O.X.HP,this.HP);this.j.addEventListener(O.X.Jn,this.Jn);this.j.addEventListener(O.X.UB,this.UB);this.j.addEventListener(O.X.Fe,this.Fe);this.j.addEventListener(O.X.eI,this.J4a,h.pY);this.j.addEventListener(O.X.mv,this.mv);this.j.addEventListener(O.X.Oh,this.Oh);this.j.addEventListener(O.X.Xp,this.Xp);this.j.addEventListener(O.X.YU,this.YU);this.j.addEventListener(O.X.AV,this.AV);this.j.addEventListener(O.X.GV,this.GV);this.j.addEventListener(O.X.Sj,function(){a.Sj=!0;});this.j.nu&&this.j.nu.addListener(function(b){a.nu(b.newValue);});this.config().Rh&&(this.pnb=!0);if(this.config().fI||this.config().NB)this.j.addEventListener(O.X.eI,function(b){a.pC.push(a.PQ.D0a(b.response));}),this.W2=t.setInterval(this.Bpa,this.config().R4a);this.config().N9&&this.j.addEventListener(O.X.eI,this.$_a);};b.prototype.VAa=function(a){var b,c,h,r,k,B,y,A,z,n,I,N,q,qa,O,T,ba,w,J,Ma,fb,ub,Ua;b={};try{b={browserua:E.vh,browserhref:location.href,playdelaysdk:u.Gl(this.j.$Za()),applicationPlaydelay:u.Gl(this.j.TZa()),playdelay:u.Gl(this.j.ZZa()),trackid:this.j.Tf,bookmark:u.Gl(this.j.yr||0),pbnum:this.j.index,endianness:f.r9a()};this.config().M5a&&(b.transitiontime=this.j.Uz,b.uiplaystarttime=this.j.Ta.OV,b.playbackrequestedat=this.j.Zm.ma(x.za),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ka.hg.ma(x.za),b.clockgetpreciseappepoch=this.Va.nD.ma(x.za),b.absolutestarttime=this.j.ER(),b.relativetime=this.j.my());this.i4(b,"startplay");}catch(Va){this.log.error("error in startplay log fields",Va);}this.j.Jn&&(b.blocked=this.j.Jn);this.config().endpoint||(b.configendpoint="error");this.j.kf&&(b.playbackcontextid=this.j.kf);this.j.iQ&&(b.controllerESN=this.j.iQ);if(this.config().aW&&this.j.Ta.sba){for(var d={},g=Object.keys(this.j.Ta.sba),m,p=g.length;p--;)m=g[p],d[m.toLowerCase()]=this.j.Ta.sba[m];b.vui=d;}K.ka(this.j.pna)&&(b.bookmarkact=u.Gl(this.j.pna));(d=this.j.Tc.at&&this.j.Tc.ats?this.j.Tc.at-this.j.Tc.ats:void 0)&&(b.nccpat=d);(d=this.j.Tc.lr&&this.j.Tc.lc?this.j.Tc.lr-this.j.Tc.lc:void 0)&&(b.nccplt=d);(d=this.W4a())&&(b.downloadables=d);t._cad_global.device&&K.ab(t._cad_global.device.CC)&&(b.esnSource=t._cad_global.device.CC);(d=t._cad_global.platformExtraInfo)&&u.Ma(b,d,{prefix:"pi_"});(d=E.Zj&&E.Zj.connection&&E.Zj.connection.type)&&(b.nettype=d);this.j.Gm&&this.j.Gm.initBitrate&&(b.initvbitrate=this.j.Gm.initBitrate);this.j.Gm&&this.j.Gm.selector&&(b.selector=this.j.Gm.selector);b.fullDlreports=this.j.dqa;if(this.j.state.value>=l.vn)try{h=this.j.Tn();h&&(this.nv=f.Tba(h.map(function(a){return a.P;})),this.zva=f.Tba(h.map(function(a){return a.height;})),c=0<h.length?X.dfb(h,function(a){return a.P;}):void 0,b.maxbitrate=this.nv,b.maxresheight=this.zva);}catch(Va){this.log.error("Exception computing max bitrate",Va);}try{r=f.QR();r&&(b.pdltime=r);}catch(Va){}try{u.Ma(b,this.j.Tc,{prefix:"sm_"});u.Ma(b,this.j.WR(),{prefix:"vd_"});}catch(Va){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Ao&&(b.pssh=this.j.Ao);this.j.gg&&this.j.gg.Ke&&this.j.gg.Ke.keySystem&&(b.keysys=this.j.gg.Ke.keySystem);if(this.config().Ql&&t._cad_global.videoPreparer)try{h={};k=t._cad_global.videoPreparer.getStats(void 0,void 0,this.j.S);B=this.j.ER();y=k.$v.l0a;h.attempts=k.fya||0;h.num_completed_tasks=y.length;A=this.Kd.m7a;r={};z=v.ad.Zd.Iha;n=v.ad.Zd.xq;I=v.ad.Zd.qM;N=v.ad.Zd.cF;q=v.ad.Zd.pM;k.ji&&(r.scheduled=k.ji-B);qa=this.j.Ha;qa&&K.ab(qa.Bz)&&(r.preauthsent=qa.Bz-this.j.Lf,r.preauthreceived=qa.eE-this.j.Lf);O=y.filter(A("type","manifest"));h.mf_succ=O.filter(A("status",z)).length;h.mf_fail=O.filter(A("status",n)).length;T=this.j.Tc;K.ab(T.lg)&&0>T.lg&&this.j.Lf&&(r.ldlsent=T.lc,r.ldlreceived=T.lr);ba=y.filter(A("type","ldl"));h.ldl_succ=ba.filter(A("status",z)).length;h.ldl_fail=ba.filter(A("status",n)).length;k=!0;if(!r.preauthreceived||0<=r.preauthreceived)k=!1;this.config().YQ||(k=!1);w=ba.filter(A("status",I)).length;J=ba.filter(A("status",N)).length;Ma=ba.filter(A("status",q)).length;this.config().YQ&&0===w+J+Ma&&(!r.ldlreceived||0<=r.ldlreceived)&&(k=!1);if(this.config().XQ){fb=this.j.Il&&this.j.Il.stats;if(fb){if(fb.tR&&(r.headersent=fb.tR-this.j.Lf),fb.MS&&(r.headerreceived=fb.MS-this.j.Lf),fb.WD&&(r.prebuffstarted=fb.WD-this.j.Lf),fb.tK&&(r.prebuffcomplete=fb.tK-this.j.Lf),!r.prebuffcomplete||0<=r.prebuffcomplete)k=!1;}else k=!1;}ub=y.filter(A("type","getHeadersAndMedia"));h.hm_succ=ub.filter(A("status",z)).length;h.hm_fail=ub.filter(A("status",n)).length;u.Ma(b,h,{prefix:"pr_"});b.eventlist=JSON.stringify(r);b.prefetchCompleted=k;this.V5(b);}catch(Va){this.log.warn("error in collecting video prepare data",Va);}b.avtp=this.Oz.ao().Nz;this.j.Uk&&this.mS(b);if(this.j.pc.value)try{b.ttTrackFields=this.j.pc.value.Mf;}catch(Va){}if(y=this.j.Mc&&this.j.Mc.value&&this.j.Mc.value.vc){Ua={};y.forEach(function(a){Ua[a.Ue]=void 0;});b.audioProfiles=Object.keys(Ua);}this.W5(b);this.j.Ha&&"boolean"===typeof this.j.Ha.isSupplemental&&(b.isSupplemental=this.j.Ha.isSupplemental);b.headerCacheHit=!!this.j.Il;this.j.Il&&(b.headerCacheDataAudio=this.j.Il.audio,b.headerCacheDataAudioFromMediaCache=this.j.Il.audioFromMediaCache,b.headerCacheDataVideo=this.j.Il.video,b.headerCacheDataVideoFromMediaCache=this.j.Il.videoFromMediaCache);this.j.Ha&&(b.packageId=this.j.Ha.packageId);this.j.Ha&&this.j.Ha.choiceMap&&(b.hasChoiceMap=!0);this.config().ara&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Ym.cj;this.mdb(c);this.ldb();this.nta(this.j,b);this.ota(this.j,b);this.sy(this.j,b);this.T5(b);this.U5(b);this.sta(b);this.mta(b);this.tta(b);this.pta(b);this.S5(b);this.Vb(W.xe.EPa,a,R.Qg|R.BA|R.Wf|R.nN|R.Zs|R.rM|R.aX,b);};b.prototype.Nmb=function(a,b){b={playdelay:u.Gl(a),reason:this.hE,intrplayseq:this.tS-1,skipped:b};this.sy(this.j,b);this.Vb(W.xe.KOa,!1,R.Qg|R.BA|R.Wf,b);"rebuffer"==this.hE&&this.j.vo.mXa(Number(u.Gl(a)));};b.prototype.G_a=function(a,b,f,c){a={moff:u.gy(f),vbitrate:b.P,vbitrateold:a.P,vdlid:b.sd,vdlidold:a.sd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:c};this.sy(this.j,a);this.Vb(W.xe.bFa,!1,R.Wf,a);};b.prototype.emb=function(a,b,f){a={moff:u.gy(f),vdlidold:a.sd,vbitrateold:a.P};this.sy(this.j,a);this.ry(a,b,this.j.ih.value&&this.j.ih.value.stream);this.Vb(W.xe.DOa,!1,R.Wf,a);};b.prototype.Lxa=function(){var a,b;a={waittime:u.Gl(this.j.my()),abortedevent:"startplay",browserua:E.vh,trackid:this.j.Tf};this.j.kf&&(a.playbackcontextid=this.j.kf);this.j.Gm&&this.j.Gm.initBitrate&&(a.initvbitrate=this.j.Gm.initBitrate);try{b=f.QR();b&&(a.pdltime=b);u.Ma(a,this.j.Tc,{prefix:"sm_"});}catch(ja){}this.R5(a,!0);this.tta(a);this.S5(a);this.W5(a);this.qta(a);this.ry(a,this.j.me.value,this.j.Wi.value);this.Vb(W.xe.Tga,!1,R.Qg|R.Wf|R.Zs,a);};b.prototype.Cjb=function(a,b){a={waittime:u.Gl(a),abortedevent:"resumeplay",browserua:E.vh,resumeplayreason:b};this.j.kf&&(a.playbackcontextid=this.j.kf);this.j.Gm&&this.j.Gm.initBitrate&&(a.initvbitrate=this.j.Gm.initBitrate);this.ry(a,this.j.me.value,this.j.Wi.value);this.Vb(W.xe.Tga,!1,R.Qg|R.Wf,a);};b.prototype.spb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.sy(this.j,a);this.ry(a,this.j.ng.value&&this.j.ng.value.stream,this.j.ih.value&&this.j.ih.value.stream);this.Vb(W.xe.FPa,!1,R.Qg|R.Wf,a);};b.prototype.ocb=function(a,b,f){a=u.Ma({vdlid:this.j.me.value.sd,playingms:a,pausedms:b,intrplayseq:this.tS++},f);this.i4(a,"intrplay");b=this.j.Pb[c.kc.G.VIDEO].value;f=this.j.Pb[c.kc.G.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=f&&f.id;a.locid=this.wJ&&this.wJ.W6;a.loclv=this.wJ&&this.wJ.Lua;a.avtp=this.Oz.ao().Nz;this.j.Uk&&(this.R5(a,!0),this.mS(a),this.rta(a));try{u.Ma(a,this.j.WR(),{prefix:"vd_"});}catch(da){}this.pta(a);this.sy(this.j,a);this.ry(a,this.j.ng.value&&this.j.ng.value.stream,this.j.ih.value&&this.j.ih.value.stream);this.Vb(W.xe.lJa,!1,R.Qg|R.Wf,a);};b.prototype.rmb=function(a,b,f){a={moffold:u.gy(a),reposseq:this.aza++};this.ry(a,f&&f.stream,b&&b.stream);this.Vb(W.xe.GOa,!1,R.Qg|R.Wf,a);};b.prototype.OP=function(){this.Vb(W.xe.IDa,!1,R.Qg|R.Wf,{switchdelay:u.Gl(this.getTime()-this.sdb),newtrackinfo:this.j.Mc.value.Wb,oldtrackinfo:this.z6.Wb});};b.prototype.nu=function(a){this.Vb(W.xe.fEa,!1,R.Qg|R.Wf,a);};b.prototype.t_a=function(a,b){var f,c,d,g;f=b.serverid;c=b.serverrtt;d=b.serverbw;g={locid:b.location,loclv:b.locationlv,selocaid:f,selcdnid:f,selocaname:b.servername};g.mediatype=b.mediatype;g.selcdnrtt=c;g.selcdnbw=d;g.selreason=b.selreason||"unknown";g.testreason=b.testreason;g.fastselthreshold=b.fastselthreshold;g.seldetail=b.seldetail;g.cdnbwdata=JSON.stringify([{id:f,rtt:c,bw:d}]);a&&(g.oldlocid=a.W6,g.oldloclv=a.Lua,g.oldocaid=a.Xnb,g.oldocaname=a.Fz);this.Vb(W.xe.$Ea,!1,R.rM,g);};b.prototype.cBa=function(a){var b,f;b={};b.trigger=a;try{f=this.j.O4();b.subtitleqoescore=this.j.ln.aab(f);b.metrics=JSON.stringify(this.j.ln.c5(f));}catch(da){this.log.error("error getting subtitle qoe data",da);}this.Vb(W.xe.OPa,!1,R.Qg|R.Zs|R.BA,b,"info");};b.prototype.transition=function(a){this.Vb(W.xe.mQa,!1,0,a);};b.prototype.N$a=function(a,b){if(a=a.IR())if(b=a[b])return b.Fo;};b.prototype.nta=function(a,b){a.Ta.ff&&(b.isBranching=!0);};b.prototype.ota=function(a,b){b.cachedManifest=a.uu;b.cachedLicense=a.Mx;};b.prototype.sy=function(a,b){var f,c;if(this.config().Zbb){f=a.P4();if(f){b.segment=f;c=a.ly();a=this.N$a(a,f);null!==c&&void 0!==a&&(b.segmentoffset=c-a);}}};b.prototype.rta=function(a){var b,f;b=this.j.B5;f=b&&b.qmb;b&&b.fta&&(a.htwbr=b.fta,a.pbtwbr=b.WT,a.hptwbr=b.Fbb);b&&b.Aza&&(a.rr=b.Aza,a.ra=b.alb);b&&f&&0<(f.length||0)&&(a.qe=JSON.stringify(f));};b.prototype.W5=function(a){var b,f;b=this.j.af&&this.j.af.value&&this.j.af.value.vc;if(b){f={};b.forEach(function(a){f[a.Ue]=void 0;});a.videoProfiles=Object.keys(f);}};b.prototype.qta=function(a){var b,f,c;try{b=this.Kd.createElement("canvas");f=b.getContext("webgl")||b.getContext("experimental-webgl");if(f){c=f.getExtension("WEBGL_debug_renderer_info");c&&(a.WebGLRenderer=f.getParameter(c.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=f.getParameter(c.UNMASKED_VENDOR_WEBGL));}}catch(ga){}};b.prototype.r6a=function(a){var b,f,c,d,B;b=this;f=this.Nxa();this.i4(f,"endplay");f.browserua=E.vh;this.j.Ns&&"downloaded"===this.j.Ns.RR()&&(f.trickplay_ms=this.j.KL.offset,f.trickplay_res=this.j.KL.eza);this.config().mba&&(f.rtinfo=this.j.H$a());if(this.config().N9){c=this.Oz.ao().Nz;void 0!==f.avtp?f.avtp_retired=c:f.avtp=c;f.cdnavtp=this.$P.L8a().map(function(a){return{cdnid:a.zH,avtp:a.Nz,tm:a.X2};});this.j.Uk&&this.mS(f);}f.endreason=a?"error":this.j.Uc.value==l.Gw?"ended":"stopped";c=t._cad_global.platformExtraInfo;this.Ubb(c);c&&u.Ma(f,c,{prefix:"pi_"});c=this.j.Jh;a&&c&&k.yHa(c.errorCode)&&(d="info");try{u.Ma(f,this.j.Tc,{prefix:"sm_"});}catch(La){}this.j.Q5&&(f.inactivityTime=this.j.Q5);this.R5(f,"info"!==d&&a);this.rta(f);if(this.j.Kx){for(var c=this.j.Kx,g=this.config().TB,m=this.j.Lf,p={iv:g,seg:[]},h=function(a,b,f){return 0===b||void 0===f[b-1]?a:a-f[b-1];},r=c.sr.map(h),h=c.Rs.map(h),v,x=0;x<r.length;x++){if(r[x]||h[x])v?(v.ams.push(r[x]),v.vms.push(h[x])):v={ams:[c.sr[x]],vms:[c.Rs[x]],soffms:c.startTime+x*g-m};x!==r.length-1&&r[x]&&h[x]||!v||(p.seg.push(v),v=void 0);}f.bt=JSON.stringify(p);}if(this.j.dT&&0<this.j.dT.length){B=[];this.j.dT.forEach(function(a){B.push({soffms:a.time-b.j.Lf,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});f.maxvbevents=B;}this.j.pya&&(f.psdConservCount=this.j.pya);a&&(this.W5(f),this.qta(f));this.cBa("endplay");this.config().Ql&&t._cad_global.videoPreparer&&this.V5(f);f.isNonMember=this.Ym.cj;this.nta(this.j,f);this.ota(this.j,f);this.sy(this.j,f);this.T5(f);this.U5(f);this.sta(f);this.Vbb(f);this.mta(f);this.S5(f);this.Xbb(f);this.Wbb(f);this.Vb(W.xe.wHa,a,R.Qg|R.BA|R.Wf|R.Zs|R.nN|R.aX,f,d);};b.prototype.W4a=function(){var a;if(this.j.nq&&this.j.Cm){a=[];this.j.nq.concat(this.j.Cm).forEach(function(b){b.vc.forEach(function(b){a.push({dlid:b.sd,type:b.type,bitrate:b.P,vmaf:b.qc});});});return JSON.stringify(a);}};b.prototype.r_a=function(){var b,f,c;function a(a,b){var d,g,m;d=a.cdnId;g=c[d];m=a.vmaf;g||(g={cdnid:d,dls:[]},c[d]=g,f.push(g));r.SH(a.bitrate);r.SH(a.duration);d={bitrate:a.bitrate,tm:E.Yf(a.duration)};m&&(r.SH(a.vmaf),d.vf=m);d[b]=u.Dd(a.downloadableId);g.dls.push(d);}b=this.j.vo.t8a();f=[];c={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(f);};b.prototype.Nxa=function(){var a,b,f,c,d,g,m,p,h,l,v,x,k;a=this.j.vo;b={totaltime:u.gy(a.i5()),cdndldist:this.r_a(),reposcount:this.aza,intrplaycount:this.tS};try{f={numskip:0,numlowqual:0};c=this.j.Nh;d=c.NR();K.ka(d)&&(b.totfr=d,f.numren=d);d=c.jy();K.ka(d)&&(b.totdfr=d,f.numrendrop=d);d=c.JI();K.ka(d)&&(b.totcfr=d,f.numrenerr=d);d=c.OR();K.ka(d)&&(b.totfdl=d);b.playqualvideo=JSON.stringify(f);b.videofr=this.j.me.value.BR.toFixed(3);g=a.tra();g&&(b.abrdel=g);m=a.hbb()&&a.x8a();m&&(b.tw_vmaf=m);p=a.w8a();p&&u.Ma(b,p);b.rbfrs=this.tS;b.maxbitrate=this.nv;b.maxresheight=this.zva;h=this.j.ny();for(k=0;k<h.length;k++){l=h[k];if(x=this.j.N7.Gs(l)){r.va(v);b.maxbitrate=v?v.P:0;b.maxresheight=v?v.height:0;b.bitratefilters=x.join("|");break;}v=l;}this.j.Ns&&(b.trickplay=this.j.Ns.RR());null!==this.j.ln.fna&&(b.avg_subt_delay=this.j.ln.fna);}catch(La){this.log.error("Exception reading some of the endplay fields",La);}u.Ma(b,this.j.WR(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.Va.He().ma(x.za);};b.prototype.SU=function(a){a.browserua=E.vh;this.Vb(W.xe.qPa,!a.success,R.Qg|R.Zs,a);this.Vb=h.Tb;};b.prototype.ecb=function(){var a,b,f,c;a=this;f=[];if(this.config().$fb){c={Rva:function(){},bAa:function(){a.Uva();}};this.Ig.addListener(c);this.config().agb.forEach(function(b){f.push(t.setTimeout(a.Uva,b));});this.config().Vva&&(b=t.setInterval(this.Thb,this.config().Vva));this.j.addEventListener(O.X.Fe,function(){a.Ig.removeListener(c);f.forEach(function(a){clearTimeout(a);});b&&clearInterval(b);});}};b.prototype.V5=function(a){var b;try{b=t._cad_global.videoPreparer.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.kra);}catch(ja){}};b.prototype.T5=function(a){this.log.debug("httpstats",this.Bb.dc);u.Ma(a,this.Bb.dc,{prefix:"http_"});};b.prototype.R5=function(a,b){this.config().dpa&&!(this.ja%this.config().dpa)&&this.j.hb&&this.j.hb.g6&&(a.ASEstats=JSON.stringify(this.j.hb.g6(b)));};b.prototype.mS=function(a){var b,f;b=this.j.Uk.Wa.get(!0);if(b.Bc&&b.pa){a.aseavtp=Number(b.pa.Aa).toFixed(2);a.asevartp=Number(b.pa.Pg).toFixed(2);if(b.Fk){f=b.Fk.YT;!f||isNaN(f.Mk)||isNaN(f.Lk)||isNaN(f.hj)||(a.aseniqr=0<f.hj?Number((f.Mk-f.Lk)/f.hj).toFixed(2):-1,a.aseiqr=Number(f.Mk-f.Lk).toFixed(2),a.asemedtp=Number(f.hj).toFixed(2));a.iqrsamples=b.Fk.Tl;}b.Zl&&b.Zl.Wr&&(a.tdigest=b.Zl.Wr());}};b.prototype.U5=function(a){var b;try{b=E.Dq.memory;K.$cb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(ja){}};b.prototype.sta=function(a){var b;b=this.j.gg;this.config().k_a&&b&&!this.config().Mo&&(a.keystatuses=this.j.Zgb(b.QEb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.mta=function(a){try{this.config().yH&&(a.battery=this.j.C8a(),this.log.trace("batterystatuses",a.battery));}catch(D){}};b.prototype.Vbb=function(a){this.j.AQ&&(a.dqec=this.j.AQ);};b.prototype.Ubb=function(a){this.j.ZP&&u.Ma(a,{cast_interaction_counts:this.j.ZP.M_});};b.prototype.tta=function(a){var b;b=this.j.Ta.zi;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.S5=function(a){if(this.config().TXa)try{a.storagestats=this.y0.getData();}catch(D){}};b.prototype.pta=function(b){var f;if(this.config().b3){f=a(187).qoa;b.congested=f&&f.t4()&&f.t4().isCongested;}};b.prototype.Wbb=function(a){this.w3&&(a.externaldisplay=this.w3.tI);};b.prototype.Xbb=function(a){this.ew&&this.ew.jc&&(a.media_capabilities_smooth=this.ew.jc.dpb,a.media_capabilities_efficient=this.ew.jc.Sjb,a.media_capabilities_bitrate=this.ew.jc.P,a.media_capabilities_height=this.ew.jc.height,a.media_capabilities_width=this.ew.jc.width);};b.prototype.ry=function(a,b,f){f&&(a.adlid=f.sd,a.abitrate=f.P);b&&(a.vdlid=b.sd,a.vbitrate=b.P);};b.prototype.ldb=function(){void 0===this.w3&&(this.w3=this.x3.h7a());};b.prototype.mdb=function(a){void 0===this.ew&&void 0!==a&&(this.ew=this.K7.C3(a));};b.prototype.i4=function(a,b){var f;f=this.j.Wr(b);f&&Object.keys(f).forEach(function(b){a[b]=f[b];});};b.prototype.Vb=function(b,f,c,d,g){this.fXa(d,this.j,f,c);b=new(a(96)).qA(this.j,b,g||(f?"error":"info"),d);t._cad_global.logBatcher.Vb(b);};b.prototype.fXa=function(a,b,f,d){var g,m,p,h,l;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.lQ&&(a.pbcid=b.lQ);d&R.Qg&&(r.va(!a||void 0===a.moff),0<=b.wd.value&&(a.moff=u.gy(b.wd.value)));if(d&R.BA){g=b.Pb[c.kc.G.VIDEO].value;m=b.Pb[c.kc.G.AUDIO].value;p=b.ih.value;h=b.ng.value;g&&(a.cdnid=g.id,a.cdnname=g.name);m&&(a.acdnid=m.id,a.acdnname=m.name);p&&(a.adlid=p.stream.sd,a.abitrate=p.stream.P);h&&(a.vdlid=h.stream.sd,a.vbitrate=h.stream.P,a.vheight=h.stream.height,a.vwidth=h.stream.width);}d&R.Wf&&b.hb&&(a.abuflbytes=b.K0(),a.abuflmsec=b.iH(),a.vbuflbytes=b.pba(),a.vbuflmsec=b.XL());if(d&R.nN){Object.assign(a,ba.nsa());try{l=b.zf.getBoundingClientRect();a.rendersize=l.width+"x"+l.height;a.renderpos=l.left+"x"+l.top;}catch(la){}}d&R.Zs&&(g=E.Zj.hardwareConcurrency,0<=g&&(a.numcores=g),0<=b.Coa&&(a.cpuspeed=b.Coa),(g=b.VQ&&b.VQ.y8a())&&(a.droppedFrames=JSON.stringify(g)),g=b.VQ&&b.VQ.N4(this.config().k5a),u.tc(g,function(b,f){a["droppedFramesP"+b]=JSON.stringify(f);}));if(d&R.rM)try{b.fi&&(a.cdninfo=JSON.stringify(b.fi.map(function(a){return{id:a.id,nm:a.name,rk:a.Sd,wt:a.location.weight,lv:a.location.level};})));}catch(la){}f&&d&R.aX&&(r.va(b.Jh),(f=b.Jh)?a=Object.assign(a,ba.esa(this.platform.AC,f)):a.errorcode=k.I.Yh,a.errorcode===this.platform.AC+k.I.gga&&(a.lastSyncWithVideoElement=this.getTime()-b.vL));};d.RJa=b;(function(a){a[a.Qg=1]="MOFF";a[a.BA=2]="PRESENTEDSTREAMS";a[a.Wf=4]="BUFFER";a[a.nN=8]="SCREEN";a[a.Zs=16]="CPU";a[a.rM=32]="CDN";a[a.aX=64]="FATALERROR";}(R||(R={})));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.afa="LogblobBuilderFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qea="LegacyLogBatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qba="AppLogSinkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cga="PboLogblobCommandSymbol";},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Hf=function(a,b){var f;f=this;return a.map(function(a){return b.call(f,a);});};b.prototype.vC=function(a,b){var f,c;f={};for(c in a)f[c]=b.call(this,a[c]);return f;};c=b;c=g.__decorate([a.N()],c);d.CM=c;},function(g,d,a){var f,p,m;function b(){this.Mu=new f.MJa();}function c(a){var f;f=p.CM.call(this)||this;f.Np=a;f.Mu=new b();return f;}function h(a,b){this.Np=a;this.profile=b;this.vP=this.profile.Bh.id;this.ED={};}function l(a){this.Np=a;this.vE=m.Z(0);this.ED=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(635);p=a(332);m=a(31);l.prototype.nr=function(a){this.vE=this.vE.add(this.Np.measure([a.message]));this.ED.push(a);};l.prototype.wz=function(a){var b,f;b=this;this.vE=m.Z(0);f=[];this.ED.forEach(function(c){0>a.indexOf(c.id)&&(b.vE=b.vE.add(b.Np.measure([c.message])),f.push(c));});this.ED=f;};na.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.vE;}},Rd:{configurable:!0,enumerable:!0,get:function(){return this.ED;}}});h.prototype.nr=function(a,b,f,c){var d;d=this.Rd[a];d||(d=new l(this.Np),this.Rd[a]=d);d.nr({id:b,url:f,message:c});};h.prototype.wz=function(a){var f;for(var b in this.Rd){f=this.Rd[b];f&&(f.wz(a),0===f.Rd.length&&delete this.Rd[b]);}};na.Object.defineProperties(h.prototype,{Rd:{configurable:!0,enumerable:!0,get:function(){return this.ED;}}});d.VKa=h;ia(c,p.CM);c.prototype.encode=function(a){return{accountId:a.vP,messages:this.$5a(a.Rd)};};c.prototype.decode=function(a){return{vP:a.accountId,Rd:this.x3a(a.messages)};};c.prototype.$5a=function(a){var b,f,c,d;b=this;f={};c={};for(d in a)c.bR=[],a[d].Rd.forEach(function(a){return function(f){0<f.id&&a.bR.push(b.Mu.encode(f));};}(c)),f[d]=c.bR,c={bR:c.bR};return f;};c.prototype.x3a=function(a){var b,f,c,d;b=this;f={};c={};for(d in a)c.kU=new l(this.Np),a[d].forEach(function(a){return function(f){a.kU.nr(b.Mu.decode(f));};}(c)),f[d]=c.kU,c={kU:c.kU};return f;};d.UKa=c;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.Mu.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.Mu.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zfa="MessageQueueSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bfa="LogblobSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lca="CryptoKeysSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kca="CryptoDeviceIdSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bda="DeviceProviderSymbol";},function(g,d){function a(b,c,d){if(null!=d){if(0<d(b,c))throw a.Loa(b,c);}else if(b.xl&&0<b.xl(c))throw a.Loa(b,c);this.start=b;this.end=c;}Object.defineProperty(d,"__esModule",{value:!0});a.Loa=function(a,c){return new RangeError("end ["+c+"] must be >= start ["+a+"]");};d.nha=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ada="DeviceIdGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ffa="MslDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Efa="MslClientSendStrategySymbol";},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(17);h=a(15);l=a(75);d.TEa=function(a,b,d,g,l,x,v,k,y,A){var f,m;f=this;m={Type:b,Bitrate:g,DownloadableId:d};c.Ma(f,{track:a,type:b,sd:d,P:g,qc:l,Ue:k,size:x,Nr:v,Dk:null,Cob:function(a,b){if(h.ab(a)||h.ab(b))f.width=a,f.height=b,m.Resolution=(f.width||"")+":"+(f.height||"");},eob:function(a,b,c,d){h.ab(a)&&h.ab(b)&&h.ab(c)&&h.ab(d)&&(f.X2a=a,f.Roa=b,f.Qoa=c,f.Poa=d);},BR:y,Ll:A,Mf:m,toJSON:function(){return m;}});};d.Nub=function(a,c,d,g,h){if(a==b.ZX||a===l.Zf.audio)return c;if(a==b.IF||a===l.Zf.video)return d;if(a==l.Zf.HV)return g;if(a==l.Zf.aba)return h;};},function(g,d,a){var c;function b(a){var g,f,p,m,h,u,x;p={};p[c.fW]=a.localName;m={};p[c.Di]=m;h=[];p[c.eW]=h;u=a.attributes;g=u.length;for(f=0;f<g;f++){x=u[f];m[x.localName]=x.value;}a=a.childNodes;g=a.length;m={};for(f=0;f<g;f++)switch(u=a[f],u.nodeType){case d.utb:u=b(u);x=u[c.fW];u[c.QCa]=p;h.push(u);p[x]?m[x][c.$E]=u:p[x]=u;m[x]=u;break;case d.vtb:case d.stb:u=u.text||u.nodeValue,h.push(u),p[c.pq]||(p[c.pq]=u);}return p;}Object.defineProperty(d,"__esModule",{value:!0});c=a(126);d.rtb=function(a){return b(a.nodeType==d.ttb?a.documentElement:a);};d.tJb=b;d.utb=1;d.sJb=2;d.vtb=3;d.stb=4;d.ttb=9;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(15);d.qtb=function(a){var d,f;if(c.ev(a)){d=new DOMParser().parseFromString(a,"text/xml");f=d.getElementsByTagName("parsererror");if(f&&f[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(p){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(190);c=a(189);d.Gib=function(a,d,f,g){return new Promise(function(m,p){c.RCa(a,function(a){a.O?b.xib(a.object,d,f,g,function(a){a.O?m(a.entries):p(a);}):p(a);});});};},function(g){g.M={PU:function(d,a){var b,c,g;b=a.profile;a=a.S;c=d.jnb;g=d.knb;return d.PU||Array.isArray(c)&&-1!==c.indexOf(b)||"object"===typeof g&&Array.isArray(g[b])&&-1!==g[b].indexOf(""+a);}};},function(g,d,a){var l;function b(){}function c(a,b,c){void 0===c&&(c=!1);l(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");l(1E-8<h(a),"bitrate zero, won't be able to send anything.");this.ou=a;this.Vpa=b;this.repeat=c;this.Zi=this.vk=0;}function h(a){return a.reduce(function(a,b){return a+b;},0);}l=a(14);b.prototype=Error();c.prototype.constructor=c;c.prototype.qp=function(){var a;a=new c(this.ou,this.Vpa,this.repeat);a.vk=this.vk;a.Zi=this.Zi;return a;};c.prototype.l5=function(){return this.ou[this.vk%this.ou.length];};c.prototype.av=function(){return this.Vpa[this.vk%this.ou.length];};c.prototype.U4a=function(a){l(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.vk&&this.vk<this.ou.length))throw new b();l(this.Zi<this.av(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.av()-this.Zi;f=a<f?a:f;a-=f;this.Zi+=f;if(this.Zi<this.av())break;this.Zi-=this.av();this.vk+=1;if(!this.repeat&&this.vk>=this.ou.length){if(0<a)throw new b();break;}}};c.prototype.wxa=function(a){this.U4a(a);};c.prototype.V4a=function(a){l(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.vk&&this.vk<this.ou.length))throw new b();l(this.Zi<this.av(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,c=0;;){f=this.av()-this.Zi;f=a<f*this.l5()?a/this.l5():f;a-=this.l5()*f;c+=f;this.Zi+=f;if(this.Zi<this.av())return c;this.Zi-=this.av();this.vk+=1;if(!this.repeat&&this.vk>=this.ou.length){if(0<a)throw new b();return c;}}};g.M={ZPa:c,$Pa:b};},function(g,d,a){var h;function b(a,b,c){this.Z=a;this.dn=b;this.BK=c;}function c(a,b){this.r7=b;void 0===b&&(this.r7=!0);this.Fh=a;this.iRa();}h=a(14);b.prototype.constructor=b;b.prototype.Xr=function(){return 8*this.Z/1E3/this.dn;};c.prototype.constructor=c;c.prototype.qp=function(a,b,d,g,h){void 0===b&&(b=0);void 0===d&&(d=a.WC());void 0===g&&(g=0);void 0===h&&(h=a.Fh.length);for(var f=[],m,p=g;p<h;p++){g=[];for(var l=b;l<d;l++)m=a.Fh[p][l],g.push(m);f.push(g);}return new c(f,a.r7);};c.prototype.iRa=function(){var a,b;a=this.Fh[0].length;for(b in this.Fh.slice(1))h(this.Fh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Fh[b].length+" and "+a);this.r7&&this.jRa();this.kRa();};c.prototype.WC=function(){return this.Fh[0].length;};c.prototype.jRa=function(){for(var a=0;a<this.Fh.length-1;a++)for(var b=0;b<this.WC();b++)h(this.Fh[a][b].Z<=this.Fh[a+1][b].Z,"Chunk size for epoch "+b+" is not monotonic");};c.prototype.kRa=function(){for(var a=0;a<this.Fh.length-1;a++)for(var b=0;b<this.WC();b++)h(1E-8>Math.abs(this.Fh[a][b].dn-this.Fh[a+1][b].dn),"Chunk duration for epoch "+b+" is not consistent");};c.prototype.Dab=function(){var a;a=[];this.Fh[0].forEach(function(b){a.push(b.dn);});return a;};g.M={eFa:b,fFa:c};},function(g,d,a){var l,f,p;function b(a,b,f){this.$m=b;this.vl=f;this.Is=this.hJ=this.WT=this.yxa=this.xxa=this.JD=this.ec=this.Jjb=this.vl=this.sg=this.Ra=this.U=this.VL=this.WL=this.Y=this.Eta=this.ku=void 0;}function c(a,b,f){this.ea=b;this.$ta=f;this.Qma=this.KCa=this.c0=this.WL=this.Kp=this.Jj=void 0;}function h(a,f,c,d,g,h){var m;m=new b(0,f,a.vl);a.forEach(function(a){var b,c;b=a.buffer;c=b.Y;a.R===l.G.AUDIO?m.ku=c.length?c[0].P:void 0:a.R===l.G.VIDEO&&(m.Eta=c.length?c[0].P:void 0,m.Y=c,m.WL=b.yl-b.uf,m.VL=b.nn,m.U=b.uf,m.Ra=b.Ra,m.sg=a.Uv,m.vl=a.vl,m.Jjb=f-a.vl,m.ec=a.ec.filter(function(a){return p(a);}),m.JD=c.filter(function(a){return m.U<=a.ZD;}).length);});this.qg=m;this.yk=void 0;this.epa=d;this.a1=g;this.z9=this.uU=this.dxa=this.Io=this.LB=this.Hqa=this.Uj=this.ec=this.yk=void 0;this.LXa=h;}l=a(13);d=a(43);f=d.assert;p=d.yy;b.prototype.constructor=b;c.prototype.constructor=c;h.prototype.constructor=h;h.prototype.o7a=function(a,b){var f,d,g,m,p,h,r,k,n,E,q,O,K,t,W,ba,T,D,w,da,ga,V;f=this.qg;d=[];m=a[l.G.VIDEO];p=a[l.G.AUDIO];if(void 0===m||void 0===p)return!1;h=m.buffer;r=p.buffer;k=m.headers;n=f.ec.filter(function(a){return k&&k[a.id]&&k[a.id].Y;});if(void 0===h||void 0===r||void 0===k||void 0===n||0===n.length)return!1;g=new c(0,m.uf,b===l.Da.xt);E=0;q=0;O=0;K=0;W=f.U;a=a[l.G.VIDEO].uf;ba=f.Y;t=f.JD;for(var R=0;R<t;R++){T=ba[R];D=T.offset;w=T.offset+T.Z-1;ga=T.Or;da=T.zs;V=da+ga;T&&da<=a&&V>W&&(ga=T.Or,da=Math.min(ga,Math.min(a,V)-Math.max(da,W)+1),K+=da,E+=da/ga*(w-D+1),q+=T.P*da,O+=T.qc*da);}f.xxa=E;f.yxa=K;f.WT=0<K?q/K:0;f.fjb=0<K?O/K:0;f.hJ||(f.hJ=0,n.some(function(a,b){if(a.P===f.Eta)return f.hJ=b,!0;}));n.forEach(function(a){var b,c;a=k[a.id].Y;b=[];f.Is||(f.Is=a.Kj(f.U,void 0,!0));g.Jj||(g.Jj=a.Kj(g.ea,void 0,!0),g.Kp=a.length-1);f.sg!==f.Is+f.JD&&(f.sg=f.Is+f.JD);t=Math.min(g.Kp,g.Jj+1);for(var m=f.Is;m<=t;m++)c=a.get(m),b[m]=c;d.push(b);});b===l.Da.xt&&(g.WL=h.yl-h.uf,g.c0=r.yl-r.uf,g.KCa=m.Gya,g.Qma=p.Gya);this.yk=g;this.ec=n;this.Uj=d;return this.Hqa=!0;};h.prototype.Wr=function(){var a,b,c,d,g,p,h,l,k,n,N,q,O,K;if(this.sD)return this.sD;b=this.Io;a=this.qg;d=this.yk;g=this.ec;p=this.dxa;N=this.LXa;f(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)d.$ta?(k=!1,h=!0):d.Jj-a.Is+1<=a.JD?h=k=!0:(k=!0,h=!1),l=!0;if(p){n=p.Fp;for(var E=0;E<N.length;E++)c=N[E],(b=p[c])&&b.vv&&(h=!0);}a={bst:a.vl,pst:a.$m,s:a.Is,e:d.Jj,prebuf:a.JD,brsi:a.sg,pbdlbytes:a.xxa,pbdur:a.yxa,pbtwbr:a.WT,pbvmaf:a.fjb};l&&(a.nt=l);h&&(a.nd=h);n&&(a.invalid=n);this.z9&&(a.rr=this.z9);this.uU&&(a.ra=this.uU);if(!h&&!n&&this.epa){a.bitrate=g.map(function(a){return a.P;});b=this.Io;c=b.trace;q=[];O=0;c.forEach(function(a){a=Number(a).toFixed(0);q.push(a-O);O=a;});a.tput={ts:b.timestamp,trace:q,bkms:b.sk};}if(h||l||n)a.feasible=k;else for(a.sols={},E=0;E<N.length;E++){c=N[E];b=p[c];h={};if(b&&b.fq&&(h.f=b&&b.ni||!1,h.dltwbr=b.K4a,h.dlvmaf=b.Epa,h.dlvdur=b.U2,h.dlvbytes=b.T2,h.dlabytes=b.S2,this.epa)){O=0;K=[];b.fq.filter(function(a){return a;}).map(function(a){return a.Hd;}).forEach(function(a){K.push(a-O);O=a;});h.strmsel=K;}a.sols[c]=h;}return this.sD=a;};g.M=h;},function(g,d,a){var h,l,f,p,m,r;function b(a,b,f,c){p(!h.V(c),"Must have at least one selected stream");return new r(c);}function c(a,b,f,c){p(!h.V(c),"Must have at least one selected stream");return new r(c);}h=a(11);d=a(43);l=d.console;f=d.debug;p=d.assert;m=d.yy;r=d.Xo;g.M={STARTING:function(a,b,c){var g,p,h,u;function d(c,d){var g,m,p,r;g=c.id;m=c.P;p=c.pa||0;r=!!p;f&&l.log("Checking feasibility of ["+d+"] "+g+" ("+m+" Kbps)");if(!c.Je)return f&&l.log("  Not available"),!1;if(!c.inRange)return f&&l.log("  Not in range"),!1;if(c.Lh)return f&&l.log("  Failed"),!1;if(m>a.IJ)return f&&l.log("  Above maxInitAudioBitrate ("+a.IJ+" Kbps)"),!1;if(!(m*a.pT/8<b.buffer.xu))return f&&l.log("  audio buffer too small to handle this stream"),!1;if(r){f&&l.log("  Have throughput history = "+r+" : available throughput = "+p+" Kbps");if(m<p/h)return f&&l.log(" +FEASIBLE: bitrate less than available throughput"),!0;f&&l.log(" bitrate requires more than available throughput");return!1;}c=a.UJ;b.j6&&(c=Math.max(c,a.TJ));if(m<=c)return f&&l.log("  Bitrate is less than max of minInitAudioBitrate ("+a.UJ+" Kbps) "+(b.j6?" and also minHCInitAudioBitrate ("+a.TJ+" Kbps)":"")),f&&l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;f&&l.log("  No throughput history");return!1;}g=new r();h=a.RBb||1;for(u=c.length-1;0<=u;--u){p=c[u];if(d(p,u)){g.Hd=u;break;}m(p)&&(g.Hd=u);}return g;},BUFFERING:b,REBUFFERING:b,PLAYING:c,PAUSED:c};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(697),d);},function(g,d,a){d=a(698);g.M=d;},function(g,d,a){var l,f;function b(a,b,f,c,d,g){return new h(a,b,f,c,d,g);}function c(a){return a&&0<=a.indexOf(".__metadata__");}function h(a,b,f,c,d,g){this.partition=a;this.lifespan=f;this.resourceIndex=b;this.size=c;this.creationTime=d;this.lastRefresh=g;return this.KBa();}l=a(11);f=a(108);a(107);new f.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.KBa();};h.prototype.wAa=function(a){this.size=a;};h.prototype.koa=function(){var a;a=f.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};h.prototype.KBa=function(){this.lastMetadataUpdate=f.time.now();return this;};h.prototype.constructor=h;g.M={create:b,c4:function(a){var f;f=a;"string"===typeof a&&(f=JSON.parse(a));if(f&&f.partition&&!l.V(f.lifespan)&&f.resourceIndex&&f.creationTime&&f.lastRefresh)return a=b(f.partition,f.resourceIndex,f.lifespan,-1,f.creationTime,f.lastRefresh),f.lastMetadataUpdate&&(a.lastMetadataUpdate=f.lastMetadataUpdate),!l.V(f.size)&&0<=f.size&&a.wAa(f.size),a.koa(),a.convertToBinaryData=f.convertToBinaryData,a;},c2:function(a){return a+".__metadata__";},jR:function(a){return c(a)?a.slice(0,a.length-13):a;},dD:c};},function(g,d,a){var k,y,A,z,n,N,E,q,O,K,t,W,ba;function b(){}function c(a,f){var c,d,g,p;c=k.rb(f)?f:b;this.K=a||{};(function(a,b,f){this.Zg[a].cd[b]=f;}.bind(this));(function(a,b){return this.Zg[a].cd?this.Zg[a].cd[b]:void 0;}.bind(this));this.on=this.addEventListener=W.addEventListener;this.removeEventListener=W.removeEventListener;this.emit=this.Ja=a.RDb?W.Ja:b;d=z.w2a(a);g=this.K.dailyDiskCacheWriteLimit;if(d){this.$o=d;p=u(a.J7||ba,z.e9a());this.jr=function(a){return k.V(p)||null===p||void 0===this.Zg[a]?!1:!k.V(p[a]);};p?(this.Zg={},f=y.Promise.all(Object.keys(p).map(function(b){return new y.Promise(function(f,c){var m;m=p[b];m.wCa=a.wCa;new n(b,d,m,function(a,b){a?c(a):f(b);},g);});})).then(function(a){a.map(function(a){var b;b=a.Vt;this.Zg[b]=a;p[b].U7a=p[b].xu-a.ir;this.Zg[b].on(n.kd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ja("mediacache",a);}.bind(this));this.Zg[b].on(n.kd.Aia,function(a){a=a||{};a.partition=b;a.type="save";this.Ja("mediacache",a);}.bind(this));this.Zg[b].on(n.kd.ERROR,function(a){a=a||{};a.partition=b;a.type=n.kd.ERROR;this.Ja("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){m(d,y.storage.xA,Object.keys(p));return a;}.bind(this)).then(function(a){Object.keys(a.Zg).map(function(b){a.Zg[b].z4().map(function(f){a["delete"](b,f);});});a.Sm=!0;c(null,a);}.bind(this))["catch"](function(a){A.error("Failed to initialize media cache ",a);this.ty=K.Sca;c(this.ty,this);}.bind(this)),t.Up(f)):(this.ty=K.WIa,c(this.ty,this));}else this.ty=K.Sca,c(this.ty,this);}function h(a,b,f,c,d,g){var m;m=g?"mediacache-error":"mediacache";b={partition:f,type:b,resource:c,time:y.time.now()};g&&(b.error=g);d&&(k.ka(d.duration)&&(b.duration=d.duration),k.ka(d.Ar)&&(b.bytesRead=d.Ar));try{a.Ja(m,b);}catch(P){A.warn("caught exception while emitting basic event",P);}}function l(a,b,f,c,d){var g;g=d?"mediacache-error":"mediacache";b={partition:f,type:b,resources:c,time:y.time.now()};d&&(b.error=d);try{a.Ja(g,b);}catch(V){A.warn("caught exception while emitting basic event",V);}}function f(a){return!k.V(a)&&!k.Na(a)&&k.ka(a.lifespan);}function p(a){return!N.dD(a)&&!q.Gcb(a);}function m(a,f,c){a.query(f,"",function(d,g){d||Object.keys(g).filter(function(a){return 0>c.indexOf(a.slice(0,a.indexOf(".")));}).map(function(c){a.remove(f,c,b);});});}function r(a,b,f){var d,g;function c(b){a["delete"](d,function(c){c?f(c):(delete a.cd[g],c=Object.keys(b.resourceIndex),c=y.Promise.all(c.map(function(b){return new y.Promise(function(f,c){a["delete"](b,function(a){a?c(a):f(b);});});})).then(function(){f();},function(a){f(a);}),t.Up(c));});}N.dD(b)?(d=b,g=N.jR(b)):(d=N.c2(b),g=b);(b=a.cd[g])?c(b):a.read(d,function(a,b){a?f(a):c(b);});}function u(a,b){var f,c,d;f={};c=a.partitions.reduce(function(a,b){return a+b.capacity;},0);d=b/c;a.partitions.map(function(a){var b;b=a.key;f[b]={};f[b].xu=Math.floor(d*a.capacity);f[b].c3a=a.dailyWriteFactor||1;f[b].bHb=a.owner;f[b].G6a=a.evictionPolicy;});return f;}function x(a,b,f){if(f)return q.G4a(a,b).reduce(function(a,b){Object.keys(b).map(function(f){a[f]=b[f];});return a;},{});f={};f[a]=b;return f;}function v(a,b,f,c,d,g,m,p,h,l,r){return function(u,v){u?k.isArray(u)?(v=u.map(function(a){return a.error;}),v.some(function(a){return a.code===K.cA.code;})&&!v.some(function(a){return a.code===K.DN.code;})?r(l,u,function(){h.save(b,f,c,d,g,m);}):(l["delete"](p),delete l.cd[f],g({error:u[0].error,Bv:u[0].Bv,type:u[0].type,Ama:u}))):g({error:u,Bv:b,type:"save"}):(u=v.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.GS;},0),l.cd[f].wAa(u),u={U7a:v.ki,eDb:v.jC,Eh:0,items:v},0<v.Eh&&(u.Eh=v.Eh),0<v.duration&&(u.duration=v.duration),g(null,u));};}k=a(11);y=a(108);A=new y.Console("MEDIACACHE","media|asejs");z=a(706);n=a(705);N=a(354);E=a(107);q=a(700);O=a(699);K=a(197);t=a(196);W=a(28).EventEmitter;ba={rHb:[]};c.prototype.tz=function(a,f){var c;c=k.rb(f)?f:b;this.jr("billboard")?this.Zg.billboard.query(a,function(a,b){a?(A.error("Failed to query resources",a),c([])):c(b.filter(p));}):c([]);};c.prototype.read=function(a,f,c){var d,g,m,p;d=k.rb(c)?c:b;if(this.jr(a)){g=this.Zg[a];m=g.cd[f];if(!N.dD(f)&&this.K.Ifb){p=function(b){g.tU(Object.keys(b),function(b,c,g){b?d(K.HA.bm("Failed to read "+f,b)):(h(this,"read",a,f,g),d(null,q.kcb(c)));}.bind(this),b);}.bind(this);m?p(m.resourceIndex):this.glb(a,f,function(a,b){a?d(K.HA.bm("Failed to read "+f,a)):p(b.resourceIndex);});}else g.read(f,function(b,c,g){b?d(K.HA.bm("Failed to read "+f,b)):(m&&m.convertToBinaryData&&(c=O.A0a(c)),h(this,"read",a,f,g),d(null,c));}.bind(this));}else d(K.jt);};c.prototype.tU=function(a,f,c){var d,g;d=k.rb(c)?c:b;if(this.jr(a)){g={};f=y.Promise.all(f.map(function(b){return new y.Promise(function(f,c){this.read(a,b,function(a,d){a?(d={},d[b]=a,c(d)):(g[b]=d,f());});}.bind(this));}.bind(this))).then(function(){d(null,g);},function(a){d(a);});t.Up(f);}else d(K.jt);};c.prototype.Hza=function(a,f){var c;c=k.rb(f)?f:b;this.jr("billboard")?"[object Object]"!==Object.prototype.toString.call(a)?c(K.CN.bm("items must be a map of keys to objects")):(f=new y.Promise(function(b){var f,c;f=this.Zg.billboard.z4();c=Object.keys(a);(f=f.filter(function(a){return-1===c.indexOf(a);}))&&0<f.length?this.vpa("billboard",f,function(){b();}):b();}.bind(this)).then(function(){return y.Promise.all(Object.keys(a).map(function(b){return new y.Promise(function(f,c){this.save("billboard",b,a[b].mj,a[b].Fc,function(a,d){a?(A.error("Received an error saving",b,a),c(a)):f(d);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,d,g;try{f=Number.MAX_VALUE;d=Number.MAX_VALUE;g=b.reduce(function(a,b){b.ki&&b.ki<f&&(f=b.ki);b.jC&&b.jC<d&&(d=b.jC);f<Number.MAX_VALUE&&(a.freeSize=f);d<Number.MAX_VALUE&&(a.dailyBytesRemaining=d);k.ka(b.Eh)&&(a.bytesWritten+=b.Eh);k.ka(b.duration)&&(a.duration+=b.duration);return a;},{partition:"billboard",type:"saveMultiple",keys:Object.keys(a),time:y.time.now(),bytesWritten:0,duration:0});this.Ja("mediacache",g);c(null,g);}catch(P){c(err);}}.bind(this),function(a){k.isArray(a.Ama)?a.Ama.forEach(function(a){this.Ja("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a.error,resources:a.PK});}.bind(this)):this.Ja("mediacache-error",{partition:"billboard",type:"saveMultiple",error:a});c(a);}.bind(this)),t.Up(f)):(k.rb(f)?f:b)(K.jt);};c.prototype.save=function(a,c,d,g,m,p){var r,u,B,z,n,I,q,qa,t;r=k.rb(m)?m:b;if(this.jr(a)){u=this.Zg[a];B=N.c2(c);m=u.z4();m=m.filter(function(a){return a!==c;});if(f(g)){z=x(c,d,this.K.Ifb);n=u.cd[c]||{};I=n.resourceIndex;I&&Object.keys(I).map(function(a){k.V(z[a])&&u["delete"](a);});g.convertToBinaryData&&(d=O.B0a(z),z=x(c,d,!1));I=y.time.now();q={};q.partition=a;q.resourceIndex=Object.keys(z).reduce(function(a,b){a[b]=E.j5(z[b]);return a;},{});q.creationTime=n.creationTime||I;q.lastRefresh=I;q.lifespan=g.lifespan;q.lastMetadataUpdate=I;q.size=n.size;q.convertToBinaryData=g.convertToBinaryData;qa=function(a,b,f){a.e4a(function(d,g){d&&A.error("Evicting","Failed to delete some orphaned records",d);g.D9?f():(d=a.t9a())?this["delete"](a.getName(),d,function(d){d?(p||(k.isArray(b)?b.forEach(function(b){l(this,"save",a.getName,b.PK,b.error);}.bind(this)):h(this,"save",a.getName(),c,void 0,b)),r(b)):f();}.bind(this)):r(K.cA);}.bind(this));}.bind(this);t=function(){var a,b,f;a=this.Zg;b=0;f=y.time.now();if(!k.V(a))for(var c in a)b+=a[c].F8a(f);return b;}.bind(this);this.vpa(a,m,function(){u.replace(B,q,function(b,f){f?(u.cd[c]=N.c4(q),u.jmb(z,v(z,a,c,d,g,r,p,B,this,u,qa),p,t)):b.code===K.cA.code?qa(u,b,function(){this.save(a,c,d,g,r,p);}.bind(this)):r(b);}.bind(this),p,t);}.bind(this));}else r(K.bKa);}else r(K.jt);};c.prototype["delete"]=function(a,f,c){var d;d=k.rb(c)?c:b;this.jr(a)?r(this.Zg[a],f,function(b){h(this,"delete",a,f,void 0,b);d(b);}.bind(this)):d(K.jt);};c.prototype.vpa=function(a,f,c){var d,g;d=k.rb(c)?c:b;if(this.jr(a)){g=this.Zg[a];c=y.Promise.all(f.map(function(a){return new y.Promise(function(b){r(g,a,function(f){b({O:k.V(f),error:f,mj:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var p,h;for(var f=[],c=[],g=[],m=0;m<b.length;m++){p=b[m];p.O?f.push(p.mj):p.error&&c.push(p);}0<f.length&&l(this,"delete",a,f);0<c.length&&(g=c.map(function(a){return a.mj;}),b=t.Csa(c),h=b[0],b.forEach(function(b){A.error("Failed to delete resources ",b.error,b.PK);l(this,"delete",a,b.PK,b.error);}.bind(this)));b={};b.dIb=f;0<g.length&&(b.eIb=g);h?d(h,b):d(void 0,b);}.bind(this),function(b){l(this,"delete",a,f,b);d(b);}.bind(this));t.Up(c);}else d(K.jt);};c.prototype.clear=function(a,f){var c;c=k.rb(f)?f:b;this.jr(a)?this.Zg[a].clear(function(a){c(a.filter(p));}):c(K.jt);};c.prototype.glb=function(a,f,c){var d,g;d=k.rb(c)?c:b;if(this.jr(a)){c=N.c2(f);g=this.Zg[a];g.read(c,function(a,b){var c;if(a)d(K.cKa);else{c=N.c4(b)||{};g.dsa(Object.keys(c.X9),function(a){c.size=a;(a=g.cd[f])&&(c.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=c.lastMetadataUpdate?g.cd[f]=c:a.lastMetadataUpdate&&(a.lastMetadataUpdate>c.lastMetadataUpdate||k.V(c.lastMetadataUpdate))&&(c=a));d(null,c);});}});}else d(K.jt);};c.prototype.iCa=function(a){y.eJ(a);};c.prototype.constructor=c;g.M=c;},function(g,d,a){var b,c,h,l,f,p,m,r,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);g=a(59);c=a(200);h=a(81);l=a(202);f=a(13);p=a(109);m=a(7).Fb;r=a(710);a=a(708);u=function(a){var X1e;X1e=2;while(X1e!==3){switch(X1e){case 2:b.__extends(d,a);d.create=function(a,b,g,p,h,u,v){var H1e,x,k,h1e;H1e=2;while(H1e!==18){h1e="sub";h1e+="r";h1e+="eq";h1e+="uest";switch(H1e){case 3:x=Math.ceil(p.Z/p.zD);b=p.offset;u=p.Z;h=new c.kW(a,p,h,v);H1e=6;break;case 6:x=Math.ceil(p.Z/x);H1e=14;break;case 13:k={offset:b,Z:Math.min(u,x),responseType:p.responseType};b+=k.Z;u-=k.Z;H1e=10;break;case 20:return h;break;case 14:H1e=0<u?13:20;break;case 19:return new d(a,g,p,h,u,v);break;case 4:H1e=p.zD&&p.Z>p.zD?3:19;break;case 5:return new r.CDa(a,g,p,h,u,v);break;case 1:H1e=!b.Wl&&p.fd&&a.R===f.G.VIDEO&&m.jc&&m.jc.gE.Kw?5:4;break;case 2:H1e=1;break;case 10:h.push(new l.aF(a,g,h1e,k,h,v));H1e=14;break;}}};X1e=5;break;case 5:d.prototype.toString=function(){var p1e;p1e=2;while(p1e!==1){switch(p1e){case 4:return l.aF.prototype.toString.call(this);break;p1e=1;break;case 2:return l.aF.prototype.toString.call(this);break;}}};return d;break;}}function d(b,f,c,d,g,p){var O1e,l,y1e,P1e,z1e;O1e=2;while(O1e!==14){y1e="e";y1e+="d";y1e+="i";y1e+="t";P1e="c";P1e+="a";P1e+="c";P1e+="h";P1e+="e";z1e="1";z1e+="S";z1e+="IYbZrN";z1e+="J";z1e+="Cp9";switch(O1e){case 2:l=this;z1e;l=[P1e,y1e].filter(function(a,b){var l1e;l1e=2;while(l1e!==1){switch(l1e){case 4:return[g,c.fd][b];break;l1e=1;break;case 2:return[g,c.fd][b];break;}}});l=l.length?"("+l.join(",")+")":"";void 0===c.responseType&&(c.responseType=c.fd||m.jc&&!m.jc.gE.Kw?0:1);l=a.call(this,b,f,l,c,d,p)||this;O1e=7;break;case 7:h.$k.call(l,b,c);return l;break;}}}}(l.aF);d.Vba=u;p(a["default"],u.prototype);g.Yk(h.$k,u,!1);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.Owa=this.u.Xc();a=this.u.Xc();this.Mpb=a>>>2;this.Urb=a>>>1&1;this.wZa=256*this.u.sf()+this.u.Xc();this.nv=this.u.gb();this.gna=this.u.gb();c.sq&&this.u.Jb("DecoderConfigDescriptor: objectTypeIndication= 0x"+this.Owa.toString(16)+", streamType="+this.Mpb+", upStream="+this.Urb+", bufferSizeDB="+this.wZa+", maxBitrate="+this.nv+", avgBitrate="+this.gna);this.rla();return!0;};d.tag=4;return d;}(a(150)["default"]);d["default"]=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.u.offset+=8;this.x_a=this.u.sf();this.$mb=this.u.sf();this.u.offset+=4;this.Fza=this.u.sf();this.u.offset+=2;c.sq&&this.u.Jb("MP4AudioSampleEntry: channelcount: "+this.x_a+", samplesize: "+this.$mb+", samplerate: "+this.Fza);return b;};return d;}(a(359)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.u.offset+=6;this.u.sf();return!0;};return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(7);h=a(127);g=function(a){function f(b,f,c,d){b=a.call(this,b,f,c,d)||this;b.oa=[];b.o_=!1;b.wG=!1;b.Gc=!1;b.Ag=!1;b.wb=!1;b.NA=!1;b.Sja=!1;b.Rja=!1;b.xg=void 0;b.kl=void 0;b.ap=void 0;return b;}b.__extends(f,a);Object.defineProperties(f.prototype,{active:{get:function(){return this.Gc;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Hya:{get:function(){return this.Ag;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{complete:{get:function(){return this.wb||(this.wb=this.oa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{rl:{get:function(){return this.NA;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{nn:{get:function(){return this.oa.reduce(function(a,b){return a+b.nn;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{De:{get:function(){return this.oa.reduce(function(a,b){return a+b.De;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{vd:{get:function(){return this.xg||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{IS:{get:function(){return this.kl;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{url:{get:function(){return this.oa[0]&&this.oa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{readyState:{get:function(){return this.cf||this.oa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return this.ap&&this.ap.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{zk:{get:function(){return this.ap&&this.ap.zk;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{kR:{get:function(){return this.ap&&this.ap.kR;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Ol:{get:function(){return this.ap&&this.ap.Ol;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{jo:{get:function(){return!!this.oa.length&&this.oa[0].jo;},enumerable:!0,configurable:!0}});f.prototype.push=function(a){this.wG&&a.Dc(this.le,this.jf);this.oa.push(a);this.o_&&a.yv();};f.prototype.Dc=function(a,b){h.jw.prototype.Dc.call(this,a,b);this.oa.forEach(function(f){return f.Dc(a,b);});this.wG=!0;};f.prototype.Jta=function(){return 7===this.cf;};f.prototype.yv=function(){return this.o_=this.oa.every(function(a){return a.yv();});};f.prototype.Nd=function(){this.oa.forEach(function(a){return a.Nd();});};f.prototype.BV=function(a){this.cf=this.ap=void 0;return this.oa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.BV(a):!0;});};f.prototype.abort=function(){var a,b;a=this.active;this.cf=7;this.NA=!0;this.Ag=this.Gc=!1;b=this.oa.map(function(a){return a.abort();}).every(function(a){return a;});this.zR(this,a);return b;};f.prototype.getResponseHeader=function(a){var b;b=null;this.oa.some(function(f){return!!(b=f.getResponseHeader(a));});return b;};f.prototype.getAllResponseHeaders=function(){var a;a=null;this.oa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};f.prototype.ez=function(a){this.Gc||(this.Gc=!0);this.Sja||(this.Sja=!0,this.wi=0,this.xg=this.kj=a.vd,this.kl=c.time.da()-this.xg,this.iy(this));};f.prototype.xv=function(a){this.Ag||(this.Ag=!0);this.Rja||(this.Rja=!0,this.xg=a.vd,this.kl=c.time.da()-this.xg,this.hy(this));};f.prototype.hK=function(a){this.xg=a.vd;this.HC(this);this.wi=this.De;this.kj=a.vd;};f.prototype.ti=function(a){this.xg=a.vd;this.kl=c.time.da()-this.xg;this.complete?(this.wb=!0,this.cf=5,this.Ag=this.Gc=!1,this.Qu(this)):this.HC(this);this.wi=this.De;this.kj=a.vd;};f.prototype.KD=function(a){this.xg=a.vd;this.kl=c.time.da()-this.xg;this.ap=a;this.cf=6;this.AR(this);};f.prototype.NT=function(){};f.prototype.aj=function(){return this.oa[0].aj()+"-"+this.oa[this.oa.length-1].aj();};f.prototype.toString=function(){return"Compound["+this.oa.map(function(a){return a.toString();}).join(",")+"]";};f.prototype.toJSON=function(){return{requests:this.oa};};return f;}(h.jw);d.eM=g;},function(g,d,a){var b,c,h,l,f,p,m,r,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(13);h=a(7);l=a(360);f=a(362);p=a(203);g=a(28);m=a(201);r=a(27);a=a(59);u=h.MediaSource;h=function(a){function d(b,c,d,g,m,p,h){m=a.call(this,b,g,m,h)||this;f.mW.call(m,b,g,h);m.K=c;m.eO=d;m.tSa=!!g.Sr;m.fSa=!!g.ay;m.yE=!!g.yE;m.LUa=g.Z;m.yG=(p?"(cache)":"")+m.Ya+" header";m.wB(b.url||g.url,g.offset,g.Z);return m;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ec:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.eO;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Sr:{get:function(){return this.tSa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ay:{get:function(){return this.fSa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oib:{get:function(){return this.LUa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{parseError:{get:function(){return this.p_;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jK:{get:function(){return this.OUa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.K;},enumerable:!0,configurable:!0}});d.prototype.Nd=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.Nd.call(this);};d.prototype.hmb=function(){if(!this.P_)return!0;this.P_=!1;return this.Zka();};d.prototype.ti=function(b){this.gk=this.gk?r.Gr(this.gk,b.response):b.response;b.xU();this.Zka()?a.prototype.ti.call(this,b):this.Nia?(this.wB(b.url,b.offset+b.Z,this.Nia),a.prototype.ti.call(this,b)):this.AR(this);};d.prototype.JTa=function(a,b){a.UT=!1;a.parseError=b.errormsg;};d.prototype.NTa=function(a,b){a.UT=!1;a.DXa=b.bytes;};d.prototype.KTa=function(a,b){a.Y=b.fragments;a.uv=b.movieDataOffsets;a.Ch=b.additionalSAPs;a.Ps=b.truncated;a.E2=b.defaultSampleDuration;a.ha=b.timescale;};d.prototype.PTa=function(a,b){this.K.mK.enabled&&(a.oq=b.vmafs);};d.prototype.OTa=function(a,b){b.frameDuration&&(a.La=b.frameDuration,this.bla.La=a.La);};d.prototype.ITa=function(a,b){var f;f=a.Ve||{};f.source="mp4";f.$i=b.drmType;f.Dk=b.header;a.Ve=f;};d.prototype.MTa=function(a,b){a.Zy=b.header;};d.prototype.LTa=function(a,b){var f;f=a.Ve||{};f.soa=b.keyId;f.hdb=(f.hdb||[]).concat(b.offset);f.aGb=b.flipped;a.Ve=f;};d.prototype.HTa=function(a,b){a.UT=!0;a.ZJ=b.moovEnd;a.jK=b.parsedEnd;};d.prototype.wB=function(a,b,f){a=new p.fM(this.stream,this.eO,this.yG+" ("+this.oa.length+")",{offset:b,Z:f,url:a,location:this.location,gd:this.gd,responseType:0},this,this.W);this.push(a);this.Ob=this.oa.reduce(function(a,b){return a+b.Z;},0);};d.prototype.Zka=function(){var a,b,f;b=this.K.Qsb;f=this.K.BYa;this.R===c.G.VIDEO&&b&&!this.K.Pr?a=b:this.R===c.G.AUDIO&&f&&(a=f);a=new m.dLa(this.stream,this.gk,["sidx"],this.R===c.G.VIDEO&&this.K.Pr||this.R===c.G.AUDIO&&this.K.Km,{truncate:this.Ps,AIb:this.stream.track.Y2,sE:a,Pib:void 0===this.La,Xaa:!u.jc||!u.jc.cQ,Yaa:this.K.Yaa,Hn:this.K.Hn&&this.K.Km,yK:this.K.yK,UE:this.K.UE});b={};a.addEventListener("error",this.JTa.bind(this,b));a.addEventListener("requestdata",this.NTa.bind(this,b));a.addEventListener("fragments",this.KTa.bind(this,b));a.addEventListener("vmafs",this.PTa.bind(this,b));a.addEventListener("sampledescriptions",this.OTa.bind(this,b));a.addEventListener("drmheader",this.ITa.bind(this,b));a.addEventListener("nflxheader",this.MTa.bind(this,b));a.addEventListener("keyid",this.LTa.bind(this,b));a.addEventListener("done",this.HTa.bind(this,b));this.bla={La:this.La};a.parse(this.bla);b.UT?(this.gk=a.Frb(b.ZJ||b.jK),this.OUa=b.jK,this.IZ=b.Ve,this.j_=b.Zy,void 0===this.La&&void 0===b.La&&this.W.Ub("No frame duration available for "+this.Ya),void 0===this.La&&void 0===b.La&&this.W.Ub("No frame duration available for "+this.Ya),this.stream.KT(b.ha,b.La||this.La,b.Y,b.uv,b.Ch,b.oq)):this.Nia=b.DXa||0;return!!b.UT;};return d;}(l.eM);d.Xba=h;a.Yk(f.mW,h,!1);a.Yk(g.EventEmitter,h);},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);g=function(a){function d(b,c,d){b=a.call(this,b,c)||this;b.gk=c.fo;b.IZ=c.Ve;b.j_=c.Zy;b.P_=!!c.Ps;b.W=d;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ec:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{data:{get:function(){return this.gk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{fo:{get:function(){return this.gk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.stream.Y;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oq:{get:function(){return this.Y&&this.Y.oq;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ve:{get:function(){return this.IZ;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zy:{get:function(){return this.j_;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ps:{get:function(){return this.P_;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{a5a:{get:function(){return!(!this.IZ&&!this.j_);},enumerable:!0,configurable:!0}});d.prototype.JXa=function(a){c(this.Hc.Ya===a.Ya);!a.Qc&&this.Hc.Qc&&a.kQ(this.Hc);!a.location&&this.Hc.location&&(a.location=this.Hc.location,a.Sb=this.Hc.Sb,a.Fz=this.Hc.Fz,a.url=this.Hc.url,a.Ia=this.Hc.Ia);this.Hc=a;};d.prototype.toJSON=function(){return b.__assign({},a.prototype.toJSON.call(this),{isHeader:!0,fragments:this.Y});};return d;}(a(153).kw);d.mW=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(47);b=a(59);a=a(152);c=function(){function a(a,b){this.xm=a;this.Zw=b.Kb;this.Oq=b.Qb;}a.prototype.lAa=function(a){this.Oq=a;};a.prototype.Sna=function(){this.Oq=void 0;};return a;}();d.gM=c;g.gi(c.prototype,{Kb:g.L({get:function(){return void 0!==this.Zw?this.Zw:this.xm.Kb;}}),Qb:g.L({get:function(){return void 0!==this.Oq?this.Oq:this.xm.Qb;}}),ha:g.L({get:function(){return this.xm.ha;}}),Bo:g.L({get:function(){return this.xm.Bo;}})});b.Yk(a.hM,c);},function(g,d,a){var c,h,l,f,p,m;function b(a){return void 0===a?!0:a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);h=a(74);l=a(205);g=a(47);f=a(81);p=a(204);a(14);m=a(13);a=function(){function a(a,f,c,d){this.K=c;this.W=d;this.Si=a;this.gWa=f.lf;this.eB=f.Ya||f.id;this.uO=f.Ll;this.oRa=f.P;this.X_=f.qc;this.kx=f.profile||f.Ue;this.VVa=f.Rj;this.ta=f.Y;this.Je=b(f.Je);this.inRange=b(f.inRange);this.lC=f.lC;this.Fl=b(f.Fl);this.hV=!!f.hV;this.Ia=f.Ia;this.url=this.Fz=this.Sb=this.Tk=this.V6=this.location=this.pa=void 0;this.Lh=!1;this.Ad=void 0;a=this.K&&"object"===typeof this.K.yK&&this.K.yK[this.profile];"object"===typeof a&&(a=a[this.P])&&(this.qB=new h.gc(a));}a.CR=function(b,f,c,d,g,m,h,l){b=p.nW.CR(b,f,c,d,m,l);return a.a4(b,g,m,h,l);};a.a4=function(b,f,d,g,m){var p,h;p=b.Ha[["audio_tracks","video_tracks"][b.R]][b.Bf].streams[f];h=p.content_profile;return new a(b,c.__assign({},d,{id:p.downloadable_id,P:p.bitrate,qc:p.vmaf,Ue:h,Rj:p.sidx,lf:f,Ll:-1===h.indexOf("none")}),g,m);};a.prototype.KT=function(a,b,f,c,d,g){f&&void 0!==f.Xl&&(this.track.Qc||void 0!==f.Td&&f.Td.length)&&void 0!==f.offset&&void 0!==f.sizes&&f.sizes.length?this.Qc||(this.track.KT(this,a,b,f,d),this.ta=new l.HPa(this.track.$l,f,c,d,g,this.S)):this.W.error("AseStream.onHeaderReceived with missing fragments data:"+(void 0!==f.Xl)+","+this.track.Qc+","+this.track.Y2+","+(void 0!==f.Td)+","+!(!f.Td||!f.Td.length)+","+(void 0!==f.offset)+","+(void 0!==f.sizes)+","+!(!f.sizes||!f.sizes.length));};a.prototype.kQ=function(a){this.Qc||(this.track.F0a(a.track),this.ta=a.Y);};a.prototype.fh=function(a){return new f.$k(this,this.Y.get(a));};a.prototype.Mra=function(a){var b,f,c;b=this.fh(a.index);if(a.ee){f=a.ee;if(this.R===m.G.VIDEO&&this!==a.stream){if(b.Ch&&b.Ch.some(function(a,b){c=b;return a.$c===f.$c;}))f=b.Ch[c];else return this.W.error("AdditionalSAP not found in stream "+this+": "+a+","+JSON.stringify(f)),b;}b.Ik(f,a.Ru!==a.ea);b.cL(a.Zv);}else a.fd&&b.Ik();return b;};a.prototype.ES=function(a,b,f){if(!this.Qc||this.track.A5>=this.P)return!0;if(this.track.Yua<=this.P)return!1;if(a=this.ta.ES(a,b,f)){if(!this.track.Y2||this.Ll)this.track.A5=this.P;}else this.track.Yua=this.P;return a;};a.prototype.Q_a=function(){this.pa=this.Ia=this.Sb=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.S,mediaType:this.R,streamId:this.Ya,bitrate:this.P};};a.prototype.toString=function(){return(0===this.R?"a":"v")+":"+this.Ya+":"+this.P;};return a;}();d.Yba=a;g.gi(a.prototype,{Qc:g.L({get:function(){return!!this.Y;}}),KFb:g.L({get:function(){return!0;}}),Ha:g.L({get:function(){return this.Si.Ha;}}),na:g.L({get:function(){return this.Si.na;}}),S:g.L({get:function(){return this.Si.S;}}),R:g.L({get:function(){return this.Si.R;}}),hp:g.L({get:function(){return this.Si.hp;}}),Bf:g.L({get:function(){return this.Si.Bf;}}),La:g.L({get:function(){return this.Si.La;}}),ha:g.L({get:function(){return this.Si.ha;}}),Ty:g.L({get:function(){return this.Si.Ty;}}),track:g.L({get:function(){return this.Si;}}),lf:g.L({get:function(){return this.gWa;}}),Ya:g.L({get:function(){return this.eB;}}),id:g.L({get:function(){return this.eB;}}),Ll:g.L({get:function(){return this.uO;}}),P:g.L({get:function(){return this.oRa;}}),qc:g.L({get:function(){return this.X_;}}),profile:g.L({get:function(){return this.kx;}}),Ue:g.L({get:function(){return this.kx;}}),Rj:g.L({get:function(){return this.VVa;}}),Ok:g.L({get:function(){return this.qB;}}),Y:g.L({get:function(){return this.ta;}}),bT:g.L({get:function(){return this.ta&&this.ta.bT;}}),Y3:g.L({get:function(){return this.Si.Y3;}}),X3:g.L({get:function(){return this.Si.X3;}}),jH:g.L({get:function(){return this.Si.jH;}}),kH:g.L({get:function(){return this.Si.kH;}}),f6:g.L({get:function(){return this.La.hf;}}),U:g.L({get:function(){return 0;}})});},function(g){g.M=function(d,a){var b;if(!Array.isArray(d.toa))return d;b=Object.create(d);d.toa.forEach(function(c){if(void 0!==c.rgb&&a.duration>=c.rgb&&c.config)for(var d in c.config)b[d]=c.config[d];});return b;};},function(g,d,a){var c,h,l;function b(a){return function(){for(var b=Array(this.length),f=0;f<this.length;++f)b[f]=a.call(this,f);return b;};}Object.defineProperty(d,"__esModule",{value:!0});c=a(14);g=a(7);a=a(47);h=new g.Console("FRAGMENTS","media|asejs");l=function(){function a(a,b){this.Db=a;this.bi=b;}a.prototype.toJSON=function(){return{startPts:1E3*this.Kb/this.La.ha,endPts:1E3*this.Qb/this.La.ha,duration:1E3*this.Hh/this.La.ha,index:this.index};};return a;}();d.lQa=l;a.gi(l.prototype,{index:a.L({get:function(){return this.bi;}}),Kb:a.L({get:function(){return this.Db.VG+this.Db.fr[this.bi];}}),Qb:a.L({get:function(){return this.Kb+this.Db.qm[this.bi];}}),Hh:a.L({get:function(){return this.Db.qm[this.bi];}}),La:a.L({get:function(){return this.Db.La;}}),ha:a.L({get:function(){return this.Db.ha;}}),jH:a.L({get:function(){return this.Db.La.xd;}}),kH:a.L({get:function(){return this.Db.La.ha;}}),U:a.L({get:function(){return Math.floor(1E3*this.Kb/this.ha);}}),ea:a.L({get:function(){return Math.floor(1E3*(this.Kb+this.Hh)/this.ha);}}),duration:a.L({get:function(){return Math.floor(1E3*this.Hh/this.ha);}})});g=function(){function a(a,b,f,c){this.R=a;this.length=f.Td.length;this.bu=f.ha;this.qm=f.Td;this.BP=c&&c.UD;this.yma=c&&c.jE;this.lO=b;this.eba=this.fba=this.xka=void 0;this.VG=f.Xl;this.fr=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.fr[b]=a,a+=this.qm[b];this.fr[b]=a;this.ea=this.Rf(this.length);this.np=Math.floor((this.ea-this.U)/this.length);}}a.prototype.Rf=function(a){return Math.floor(1E3*(this.VG+this.fr[a])/this.ha);};a.prototype.xC=function(a){return a<this.length-1?this.Rf(a+1):this.ea;};a.prototype.Td=function(a){return this.xC(a)-this.Rf(a);};a.prototype.get=function(a){return new l(this,a);};a.prototype.Kj=function(a,b,f){if(0===this.length||a<this.Rf(0))return-1;a=Math.max(a,b||0);for(var c=0,d=this.length-1,g,m;d>=c;)if(g=c+(d-c>>1),m=this.Rf(g),a<m)d=g-1;else if(a>=m+this.Td(g))c=g+1;else{for(;b&&g<this.length&&this.Rf(g)<b;)++g;return g<this.length?g:f?this.length-1:-1;}return f?this.length-1:-1;};a.prototype.H3=function(a,b,f){a=this.Kj(a,b,f);return 0<=a?this.get(a):void 0;};a.prototype.Z1=function(a,b){var f,c;f=Math.floor(b*this.ha/1E3);b=Math.min(a+Math.ceil(b/this.np),this.length);c=this.fr[b]-this.fr[a];if(c>f){for(;c>=f;)--b,c-=this.qm[b];return b-a+1;}for(;c<f&&b<=this.length;)c+=this.qm[b],++b;return b-a;};a.prototype.subarray=function(b,f){c(void 0===b||0<=b&&b<this.length);c(void 0===f||f>b&&f<=this.length);return new a(this.R,this.La,{ha:this.ha,Xl:this.VG+this.fr[b],Td:this.qm.subarray(b,f)},this.BP&&{UD:this.BP.subarray(b,f+1),jE:this.yma});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],f=0;f<this.length;++f)b.push(a(this.get(f),f,this));return b;};a.prototype.reduce=function(a,b){for(var f=0;f<this.length;++f)b=a(b,this.get(f),f,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.np};};a.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.np+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.U+"-"+b.ea+"]");}};a.prototype.xRa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.qm[b],a);return this.xka=a;};return a;}();d.fia=g;a.gi(g.prototype,{Xl:a.L({get:function(){return this.VG+this.fr[0];}}),mqa:a.L({get:function(){return this.VG+this.fr[this.length];}}),U:a.L({get:function(){return this.Rf(0);}}),YS:a.L({get:function(){return this.xka||this.xRa();}}),La:a.L({get:function(){return this.lO;}}),ha:a.L({get:function(){return this.bu;}})});d.p7=b;g.prototype.UAa=b(g.prototype.Rf);d.OBb=function(a){return"["+Array(a.length).map(function(b,f){return a[f].toString();}).join(",")+"]";};},function(g){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,c){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),c*a.byteLength/a.length);}:function(a,b,c){a.set(b,c);};g.M={from:function(a,b,c,d){a=new a(b.length);for(var g="function"===typeof c,f=0;f<b.length;++f)a[f]=g?c.call(d,b[f],f,b):b[f];return a;},set:d};},function(g){var a,b;function d(a,b,d){return function(f,c,g,h){var m;g=g||d.BYTES_PER_ELEMENT;if(f+c*g>this.byteLength){m=new d(c);m.set(a.call(this,f,c-1,g,h));m[c-1]=b.call(this,f+(c-1*g),h);return m;}return a.call(this,f,c,g,h);};}a={VC:function(a,b,d,f,g){var c;c=new Uint8Array(d);f=f||1;for(var p=0;p<d;++p,b+=f)c[p]=a.getUint8(b,g);return c;},VR:function(a,b,d,f,g){var c;c=new Uint16Array(d);f=f||2;for(var p=0;p<d;++p,b+=f)c[p]=a.getUint16(b,g);return c;},UC:function(a,b,d,f,g){var c;c=new Uint32Array(d);f=f||4;for(var p=0;p<d;++p,b+=f)c[p]=a.getUint32(b,g);return c;},G4:function(a,b,d,f,g){var c;c=new Int8Array(d);f=f||1;for(var p=0;p<d;++p,b+=f)c[p]=a.getInt8(b,g);return c;},E4:function(a,b,d,f,g){var c;c=new Int16Array(d);f=f||2;for(var p=0;p<d;++p,b+=f)c[p]=a.getInt16(b,g);return c;},F4:function(a,b,d,f,g){var c;c=new Int32Array(d);f=f||4;for(var p=0;p<d;++p,b+=f)c[p]=a.getInt32(b,g);return c;},P6a:function(){var c,g;if(DataView.prototype&&DataView.prototype.UC&&!b){try{c=new ArrayBuffer(4);g=new DataView(c);g.VC(0,4,1);}catch(l){return;}try{c=new ArrayBuffer(4);g=new DataView(c);g.VC(1,2,2);}catch(l){DataView.prototype.VC=d(DataView.prototype.VC,DataView.prototype.getUint8,Uint8Array);DataView.prototype.VR=d(DataView.prototype.VR,DataView.prototype.getUint16,Uint16Array);DataView.prototype.UC=d(DataView.prototype.UC,DataView.prototype.getUint32,Uint32Array);DataView.prototype.G4=d(DataView.prototype.G4,DataView.prototype.getInt8,Int8Array);DataView.prototype.E4=d(DataView.prototype.E4,DataView.prototype.getInt16,Int16Array);DataView.prototype.F4=d(DataView.prototype.F4,DataView.prototype.getInt32,Int32Array);}a.uab=function(a,b,c,d,g){return a.VC(b,c,d||1,g);};a.rab=function(a,b,c,d,g){return a.VR(b,c,d||2,g);};a.sab=function(a,b,c,d,g){return a.UC(b,c,d||4,g);};a.PEb=function(a,b,c,d,g){return a.G4(b,c,d||1,g);};a.NEb=function(a,b,c,d,g){return a.E4(b,c,d||2,g);};a.OEb=function(a,b,c,d,g){return a.F4(b,c,d||4,g);};b=!0;}}};b=!1;g.M=a;},function(g,d,a){(function(){var r1e,p,m,r,u,x,v,k,H3D,V3D,q3D;function l(a,b){var E1e;E1e=2;while(E1e!==1){switch(E1e){case 2:d.call(this,a,b);E1e=1;break;case 4:d.call(this,a,b);E1e=9;break;E1e=1;break;}}}function d(a,b){var F1e;F1e=2;while(F1e!==9){switch(F1e){case 4:this.aya=function(a,b){var v1e;v1e=2;while(v1e!==1){switch(v1e){case 4:return this.hla(a,b);break;v1e=1;break;case 2:return this.hla(a,b);break;}}}.bind(this);this.bya=function(a,b){var k1e;k1e=2;while(k1e!==1){switch(k1e){case 4:return this.ila(a,b);break;k1e=1;break;case 2:return this.ila(a,b);break;}}}.bind(this);F1e=9;break;case 2:this.jG=null;this.K=a;this.wka=b;F1e=4;break;}}}r1e=2;while(r1e!==24){H3D="1SI";H3D+="YbZrN";H3D+="J";H3D+="Cp";H3D+="9";V3D="med";V3D+="ia|asej";V3D+="s";q3D="AS";q3D+="EJ";q3D+="S_P";q3D+="REDICTOR";switch(r1e){case 13:d.prototype.qE=function(a){var d1e;d1e=2;while(d1e!==1){switch(d1e){case 4:this.jG=a;d1e=9;break;d1e=1;break;case 2:this.jG=a;d1e=1;break;}}};d.prototype.FZ=function(a){var Z1e,b,f;Z1e=2;while(Z1e!==9){switch(Z1e){case 2:b=this.K;p.Na(this.jG)?f=a*(100-b.EV)/100:(f=this.jG,f=a<2*f?a/2:a-f);Z1e=4;break;case 4:b.M6&&this.wka?(b=this.wka,a=Math.max(a<2*b?a/2:a-b,f)):a=f;return a;break;}}};l.prototype=Object.create(d.prototype);r1e=10;break;case 10:l.prototype.uSa=function(a,f){var B1e,c,d;B1e=2;while(B1e!==8){switch(B1e){case 2:c=this.K;B1e=5;break;case 5:d=f?c.S1:c.S0;f=f?c.T1:c.U0;p.isArray(f)&&(d=b(f,a.yl-a.uf,c.T0));B1e=9;break;case 9:return d;break;}}};l.prototype.hla=function(a,b){var L1e;L1e=2;while(L1e!==1){switch(L1e){case 2:return c(this.K,a,b);break;case 4:return c(this.K,a,b);break;L1e=1;break;}}};l.prototype.ila=function(a,b){var C1e,f;C1e=2;while(C1e!==3){switch(C1e){case 8:C1e=4;break;C1e=1;break;case 2:C1e=1;break;case 1:f=this.UVa(a,this.K);a=a.pa?a.pa.Aa*(100-this.uSa(b,f))/100|0:0;return this.FZ(a);break;}}};l.prototype.UVa=function(a,b){var S1e,f,c;S1e=2;while(S1e!==9){switch(S1e){case 4:a.ko?f=!0:b.xaa&&a.pa&&a.pa.Aa<c?f=!0:a.ys&&(f=!0);return f;break;case 2:f=!1;c=b.GH;S1e=4;break;}}};r1e=17;break;case 2:p=a(11);a(13);r1e=4;break;case 4:new(a(7)).Console(q3D,V3D);m=a(60);r=m.$B;u=m.N_a;x=m.C6a;v=m.D6a;k=m.dnb;r1e=13;break;case 17:Object.create(l.prototype);f.prototype=Object.create(d.prototype);f.prototype.hla=function(a,b){var b1e;b1e=2;while(b1e!==1){switch(b1e){case 2:return c(this.K,a,b);break;case 4:return c(this.K,a,b);break;b1e=1;break;}}};f.prototype.ila=function(a,b){var M1e,f,c,d;M1e=2;while(M1e!==13){switch(M1e){case 8:this.sja?c*=x(this.sja,d,c):this.WVa?(b=x(this.uja,d,1),d=x(this.tja,d,1),c=b*c+d*(1-c)):c=x(k(this.uja,this.tja,c),d,1);a=this.k_&&a[this.k_]&&a[this.k_].$y;M1e=6;break;case 9:return this.FZ((1-a.Wjb)*f);break;case 3:M1e=a.Wjb?9:8;break;case 4:d=b.yl-b.uf;M1e=3;break;case 6:void 0!==a&&(a=v(this.RTa,a),c=Math.min(c*a,1));F6hh.K3D(0);return this.FZ(F6hh.l3D(c,f,1));break;case 2:f=a.pa&&a.pa.Aa||0;c=Math.pow(Math.max(1-(a[this.Jja]&&a[this.Jja].Aa||f)/this.nRa,0),this.mRa);M1e=4;break;}}};r1e=26;break;case 26:g.M=function(a,b){var N1e,a1e,d3D;N1e=2;while(N1e!==5){d3D="ma";d3D+="nifol";d3D+="d";switch(N1e){case 2:a1e=a.u7;N1e=a1e===d3D?1:4;break;case 14:return new l(a,b);break;N1e=5;break;case 1:return new f(a,b);break;case 7:return new f(a,b);break;N1e=5;break;case 4:return new l(a,b);break;}}};H3D;r1e=24;break;}}function f(a,b){var f1e;f1e=2;while(f1e!==7){switch(f1e){case 2:d.call(this,a,b);Array.isArray(a.Em.curves)?(this.uja=u(a.Em.curves[0],0,0,1),this.tja=u(a.Em.curves[1],0,0,1)):this.sja=u(a.Em.curves,0,0,1);this.nRa=r(a.Em.threshold||6E3,1,1E5);this.mRa=r(a.Em.gamma||1,.1,10);this.Jja=a.Em.filter;f1e=9;break;case 9:this.WVa=!!a.Em.simpleScaling;a.Em.niqrfilter&&a.Em.niqrcurve&&(this.k_=a.Em.niqrfilter,this.RTa=u(a.Em.niqrcurve,1,0,4));f1e=7;break;}}}function b(a,b,f){var A1e,c,d,g;A1e=2;while(A1e!==3){switch(A1e){case 1:A1e=f?5:9;break;case 2:A1e=1;break;case 5:a.some(function(a){var J1e,f;J1e=2;while(J1e!==6){switch(J1e){case 4:J1e=b<=f?3:9;break;case 3:return c=g&&f!==d?g+(a-g)/(f-d)*(b-d):a,!0;break;case 9:d=f;c=g=a;return!1;break;case 2:f=a.b;a=a.m;J1e=4;break;}}});A1e=4;break;case 4:return c;break;case 9:a.some(function(a){var i1e;i1e=2;while(i1e!==5){switch(i1e){case 2:c=a.m;return b<=a.b;break;case 3:c=a.m;return b>a.b;break;i1e=5;break;}}});A1e=4;break;}}}function c(a,b,f){var D1e;D1e=2;while(D1e!==5){switch(D1e){case 2:b=b.pa?b.pa.Aa:0;return a.YYa?(a=x(a.XYa,f.yl-f.uf,1),b*(1-a)):b*a.EV/100;break;}}}}());},function(g,d,a){var c;function b(){this.Aj=void 0;this.Zt=0;}c=a(11);b.prototype.Ie=function(){return 0!==this.Zt&&this.Aj?{p25:this.Aj.Lk,p50:this.Aj.hj,p75:this.Aj.Mk,c:this.Zt}:null;};b.prototype.Sh=function(a){if(!(!c.Na(a)&&c.has(a,"p25")&&c.has(a,"p50")&&c.has(a,"p75")&&c.has(a,"c")&&c.isFinite(a.p25)&&c.isFinite(a.p50)&&c.isFinite(a.p75)&&c.isFinite(a.c)))return this.Aj=void 0,this.Zt=0,!1;this.Aj={Lk:a.p25,hj:a.p50,Mk:a.p75};this.Zt=a.c;};b.prototype.get=function(){return{YT:this.Aj,Tl:this.Zt};};b.prototype.set=function(a,b){this.Aj=a;this.Zt=b;};b.prototype.reset=function(){this.Aj=void 0;this.Zt=0;};b.prototype.toString=function(){return"IQRHist("+this.Aj+","+this.Zt+")";};g.M=b;},function(g){function d(){}function a(a){this.Nla=a;this.fl=[];this.Ae=null;}d.prototype.clear=function(){this.pd=null;this.size=0;};d.prototype.find=function(a){var d;for(var b=this.pd;null!==b;){d=this.zj(a,b.data);if(0===d)return b.data;b=b.df(0<d);}return null;};d.prototype.lowerBound=function(a){var f;for(var b=this.pd,d=this.iterator(),g=this.zj;null!==b;){f=g(a,b.data);if(0===f)return d.Ae=b,d;d.fl.push(b);b=b.df(0<f);}for(f=d.fl.length-1;0<=f;--f)if(b=d.fl[f],0>g(a,b.data))return d.Ae=b,d.fl.length=f,d;d.fl.length=0;return d;};d.prototype.upperBound=function(a){for(var b=this.lowerBound(a),d=this.zj;null!==b.data()&&0===d(b.data(),a);)b.next();return b;};d.prototype.min=function(){var a;a=this.pd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.pd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.Pc=function(a){for(var b=this.iterator(),d;null!==(d=b.next());)a(d);};a.prototype.data=function(){return null!==this.Ae?this.Ae.data:null;};a.prototype.next=function(){var a;if(null===this.Ae){a=this.Nla.pd;null!==a&&this.Eka(a);}else if(null===this.Ae.right){do if(a=this.Ae,this.fl.length)this.Ae=this.fl.pop();else{this.Ae=null;break;}while(this.Ae.right===a);}else this.fl.push(this.Ae),this.Eka(this.Ae.right);return null!==this.Ae?this.Ae.data:null;};a.prototype.oz=function(){var a;if(null===this.Ae){a=this.Nla.pd;null!==a&&this.yka(a);}else if(null===this.Ae.left){do if(a=this.Ae,this.fl.length)this.Ae=this.fl.pop();else{this.Ae=null;break;}while(this.Ae.left===a);}else this.fl.push(this.Ae),this.yka(this.Ae.left);return null!==this.Ae?this.Ae.data:null;};a.prototype.Eka=function(a){for(;null!==a.left;)this.fl.push(a),a=a.left;this.Ae=a;};a.prototype.yka=function(a){for(;null!==a.right;)this.fl.push(a),a=a.right;this.Ae=a;};g.M=d;},function(g,d,a){var c,h;function b(a){this.K={JJ:a.maxc||25,P1:a.c||.5,itb:a.w||15E3,sk:a.b||5E3};c.call(this,this.K.itb,this.K.sk);this.SG();}c=a(128);h=a(207).TDigest;b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var a;a=this.OD(0);c.prototype.shift.call(this);null!==a&&(this.Md.push(a,1),this.du=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.Md.push(a,1);this.du=!0;c.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.usa();};b.prototype.Wr=function(){var a;a=this.usa();return{min:a.min,p10:a.C8,p25:a.Lk,p50:a.hj,p75:a.Mk,p90:a.D8,max:a.max,centroidSize:a.u_a,sampleSize:a.kE,centroids:a.eg};};b.prototype.usa=function(){var a;if(0===this.Md.size())return null;a=this.Md.kg([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.du||!this.Ib)this.du=!1,this.Ib={min:a[0],C8:a[1],Lk:a[2],hj:a[3],Mk:a[4],D8:a[5],max:a[6],kg:this.Md.kg.bind(this.Md),u_a:this.Md.size(),kE:this.Md.n,eg:this.M8a(),Wr:this.Wr.bind(this)};return this.Ib;};b.prototype.M8a=function(){var a;if(0===this.Md.size())return null;if(!this.du&&this.Ib)return this.Ib.centroids;a=this.Md.kg([.25,.75]);if(a[0]===a[1])return null;this.Md.size()>this.K.JJ&&this.Md.Fr();a=this.Md.Rz(!1).map(function(a){return{mean:a.se,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.Md.size();};b.prototype.toString=function(){return"btdtput("+this.EB+","+this.ic+","+this.$g+"): "+this.Md.summary();};b.prototype.SG=function(){this.Md=new h(this.K.P1,this.K.JJ);};g.M=b;},function(g,d,a){var c,h;function b(a,b,d,g){c.call(this,d,g);this.bp=new h(a);this.yTa=b;}c=a(128);h=a(208);b.prototype=Object.create(c.prototype);b.prototype.shift=function(){var a;a=this.OD(0);c.prototype.shift.call(this);null!==a&&this.bp.k0(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.bp.k0(a);c.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.N4();return{kE:this.RC(),YT:a,$y:a.hj?(a.Mk-a.Lk)/a.hj:void 0};};b.prototype.RC=function(){return this.bp.RC();};b.prototype.N4=function(){return this.bp.RC()<this.yTa?{Lk:void 0,hj:void 0,Mk:void 0,kE:void 0,kg:void 0}:{Lk:this.bp.vu(25),hj:this.bp.vu(50),Mk:this.bp.vu(75),kE:this.bp.RC(),kg:this.bp.vu.bind(this.bp)};};b.prototype.toString=function(){return"biqr("+this.EB+","+this.ic+","+this.$g+")";};g.M=b;},function(g,d,a){var h;function b(a){this.Ax=a;this.reset();}function c(a){this.$g=new b(a);this.od=0;this.Ab=null;}h=a(11);b.prototype.MO=function(a,b){this.Ea+=a;this.pm+=a;this.Ob+=b;this.zg.push({d:a,lu:b});};b.prototype.KG=function(){var a;for(;this.pm>this.Ax;){a=this.zg.shift();this.Ob-=a.lu;this.pm-=a.d;}};b.prototype.reset=function(){this.zg=[];this.Ea=null;this.pm=this.Ob=0;};b.prototype.setInterval=function(a){this.Ax=a;this.KG();};b.prototype.start=function(a){h.Na(this.Ea)&&(this.Ea=a);};b.prototype.add=function(a,b,c){h.Na(this.Ea)&&(this.Ea=b);b>this.Ea&&this.MO(b-this.Ea,0);this.MO(c>this.Ea?c-this.Ea:0,a);this.KG();};b.prototype.get=function(){return{Aa:Math.floor(8*this.Ob/this.pm),Pg:0};};c.prototype.reset=function(){this.$g.reset();this.od=0;this.Ab=null;};c.prototype.add=function(a,b,c){!h.Na(this.Ab)&&c>this.Ab&&(b>this.Ab&&(this.od+=b-this.Ab),this.Ab=null);this.$g.add(a,b-this.od,c-this.od);};c.prototype.start=function(a){!h.Na(this.Ab)&&a>this.Ab&&(this.od+=a-this.Ab,this.Ab=null);this.$g.start(a-this.od);};c.prototype.stop=function(a){this.Ab=h.Na(this.Ab)?a:Math.min(a,this.Ab);};c.prototype.get=function(){return this.$g.get();};c.prototype.setInterval=function(a){this.$g.setInterval(a);};g.M={Uub:b,KGa:c};},function(g,d,a){var l;function b(a,b){this.reset();this.pob(a,b);}function c(a,b){this.Yka=b;this.Wla=1.25;this.setInterval(a);this.reset();}function h(a,b){this.Kt=new c(a,b);this.od=0;this.Ab=null;}l=a(11);b.prototype.pob=function(a,b){this.Uw=Math.pow(.5,1/a);this.uG=a;this.Mt=l.ka(b)?b:0;};b.prototype.reset=function(a){a&&a.Aa&&l.ka(a.Aa)?a.Pg&&l.ka(a.Pg)?(this.$h=this.Mt,this.Li=a.Aa,this.Zo=a.Pg+a.Aa*a.Aa):(this.$h=this.Mt,this.Li=a.Aa,this.Zo=a.Aa*a.Aa):this.Zo=this.Li=this.$h=0;};b.prototype.add=function(a){var b;if(l.ka(a)){this.$h++;b=this.$h>this.Mt?this.Uw:1-1/this.$h;this.Li=b*this.Li+(1-b)*a;this.Zo=b*this.Zo+(1-b)*a*a;}};b.prototype.get=function(){var a,b,c;if(0===this.$h)return{Aa:0,Pg:0};a=this.Li;b=this.Zo;if(0===this.Mt)c=1-Math.pow(this.Uw,this.$h),a=a/c,b=b/c;c=a*a;return{Aa:Math.floor(a),Pg:Math.floor(b>c?b-c:0)};};b.prototype.Ie=function(){var a;if(0===this.$h)return null;a={a:Math.round(this.Li),s:Math.round(this.Zo)};this.$h<this.Mt&&(a.c=this.$h);this.Mt||(a.n=this.$h);return a;};b.prototype.Sh=function(a){if(l.Na(a)||!l.has(a,"a")||!l.has(a,"s")||!l.isFinite(a.a)||!l.isFinite(a.s))return this.Zo=this.Li=this.$h=0,!1;this.Li=a.a;this.Zo=a.s;this.Mt?l.has(a,"c")&&l.ka(a.c)?this.$h=a.c:l.has(a,"n")&&l.ka(a.n)?(this.$h=a.n,a=1-Math.pow(this.Uw,a.n),this.Li/=a,this.Zo/=a):this.$h=this.Mt:l.has(a,"n")&&l.ka(a.n)?this.$h=a.n:this.$h=16*this.uG;return!0;};c.prototype.setInterval=function(a){this.uG=a;this.Uw=-Math.log(.5)/a;};c.prototype.reset=function(a){this.Ea=this.Kc=null;this.tP=this.Yka||0;a&&l.isFinite(a.Aa)?(this.lG=0,this.Li=a.Aa):this.Li=this.lG=0;};c.prototype.start=function(a){l.Na(this.Kc)&&(this.Ea=this.Kc=a);};c.prototype.add=function(a,b,c){var f,d;l.Na(this.Kc)&&(this.Ea=this.Kc=b);this.Kc=Math.min(this.Kc,b);this.Ea<this.Kc+this.tP&&c>this.Kc+this.tP&&0<this.Ea-this.Kc&&(this.Li=this.lG/(this.Ea-this.Kc));b=Math.max(c-b,1);a=8*a/b;f=this.Uw;d=c>this.Ea?c:this.Ea;this.Li=this.Li*(d>this.Ea?Math.exp(-f*(d-this.Ea)):1)+a*(1-Math.exp(-f*b))*(c>d?Math.exp(-f*(d-c)):1);this.Ea=d;this.lG+=a*b;};c.prototype.get=function(a){var b;a=Math.max(a,this.Ea);b=this.Li*Math.exp(-this.Uw*(a-this.Ea));0===this.tP?(a=1-Math.exp(-this.Uw*(a-this.Kc)),0<a&&(b/=a)):null!==this.Ea&&this.Ea<=this.Kc+this.tP&&(a=this.lG/Math.max(this.Ea-this.Kc,1),b=b<a*this.Wla&&b>a/this.Wla?b:a);return{Aa:Math.floor(b)};};c.prototype.toString=function(){return"ewmav("+this.uG+","+this.Yka+")";};h.prototype.setInterval=function(a){this.Kt.setInterval(a);};h.prototype.reset=function(a){this.Kt.reset(a);this.od=0;this.Ab=null;};h.prototype.start=function(a){!l.Na(this.Ab)&&a>this.Ab&&(this.od+=a-this.Ab,this.Ab=null);this.Kt.start(a-this.od);};h.prototype.add=function(a,b,c){!l.Na(this.Ab)&&c>this.Ab&&(this.od+=b>this.Ab?b-this.Ab:0,this.Ab=null);this.Kt.add(a,b-this.od,c-this.od);};h.prototype.stop=function(a){this.Ab=Math.max(l.Na(this.Kt.Ea)?0:this.Kt.Ea+this.od,l.Na(this.Ab)?a:Math.min(this.Ab,a));};h.prototype.get=function(a){return this.Kt.get((l.Na(this.Ab)?a:this.Ab)-this.od);};h.prototype.toString=function(){return this.Kt.toString();};g.M={LGa:b,Vub:c,JGa:h};},function(g,d,a){g.M={bEb:a(375),DIb:a(374),Bub:a(740),Aub:a(373),Cub:a(372),Dda:a(733)};},function(g,d,a){var f,p,m,r,u,x;function b(a){var b;b=a.QZ;this.K=a;this.Ug=p.ld.HAVE_NOTHING;this.aB=a.aB;a=new u(this.aB);this.WG=a.create("throughput-location-history",b);this.dr=a.create("respconn-location-history",b);this.Uq=a.create("respconn-location-history",b);this.gP=a.create("throughput-tdigest-history",b);this.rO=a.create("throughput-iqr-history",b);this.Ea=null;}function c(a,f,c,d,g){this.Tq=new b(g);this.Am=[];this.xTa=m.time.da()-Date.now()%864E5;this.Rq=null;this.K=g;for(a=0;a<d;++a)this.Am.push(new b(g));}function h(a,b,c){return f.has(a,b)?a[b]:a[b]=c;}function l(a,f){var c;this.K=a;this.jP=f;this.x6a();this.tG=new b(this.K);this.AG();c=a.u2;c&&(c={Bc:p.ld.tF,pa:{Aa:parseInt(c,10),Pg:0},pg:{Aa:0,Pg:0},ho:{Aa:0,Pg:0}},this.get=function(){return c;});}f=a(11);p=a(13);d=a(27);m=a(7);r=d.RHa;u=a(376).Dda;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");x={Bc:p.ld.HAVE_NOTHING};b.prototype.Dx=function(a,b){this.Ug=b;this.WG.add(a);this.gP.add(a);this.Ea=m.time.da();};b.prototype.Yz=function(a,b){this.rO.set(a,b);};b.prototype.or=function(a){this.dr.add(a);};b.prototype.mr=function(a){this.Uq.add(a);};b.prototype.Ie=function(){var a,b,c,d,g,p;a=this.WG.Ie();b=this.dr.Ie();c=this.Uq.Ie();d=this.rO.Ie();g=this.gP.Ie();if(f.Na(a)&&f.Na(b)&&f.Na(c))return null;p={c:this.Ug,t:m.time.YJ(this.Ea)};f.Na(a)||(p.tp=a);f.Na(b)||(p.rt=b);f.Na(c)||(p.hrt=c);f.Na(d)||(p.iqr=d);f.Na(g)||(p.td=g);return p;};b.prototype.Sh=function(a){var b;b=m.time.now();if(!(a&&f.has(a,"c")&&f.has(a,"t")&&f.has(a,"tp")&&f.isFinite(a.c)&&f.isFinite(a.t))||0>a.c||a.c>p.ld.tF||a.t>b||!this.WG.Sh(a.tp))return this.Ug=p.ld.HAVE_NOTHING,this.Rq=this.Ea=null,this.WG.Sh(null),this.dr.Sh(null),this.Uq.Sh(null),!1;this.Ug=a.c;this.Ea=m.time.HT(a.t);this.dr.Sh(f.has(a,"rt")?a.rt:null);this.Uq.Sh(f.has(a,"hrt")?a.hrt:null);f.has(a,"iqr")&&this.rO.Sh(a.iqr);f.has(a,"td")&&this.gP.Sh(a.td);return!0;};b.prototype.get=function(){var a,b,c,d,g,h;a=this.K;if(f.Na(this.Ea))return x;b=(m.time.da()-this.Ea)/1E3;b>a.QSa?this.Ug=p.ld.HAVE_NOTHING:b>a.qSa&&(this.Ug=Math.min(this.Ug,p.ld.et));a=this.WG.get();c=this.dr.get();d=this.Uq.get();g=this.rO.get();h=this.gP.get();b={nk:b,Bc:this.Ug,pa:a,pg:c,ho:d,Fk:g,Zl:h};a&&(b.LIb=r.prototype.Z8.bind(a));c&&(b.fIb=r.prototype.Z8.bind(c));d&&(b.vFb=r.prototype.Z8.bind(d));return b;};b.prototype.time=function(){return this.Ea;};b.prototype.It=function(){this.get();m.time.da();};c.prototype.bi=function(){return((m.time.da()-this.xTa)/1E3/3600/(24/this.Am.length)|0)%this.Am.length;};c.prototype.Ie=function(){var a;a={g:this.Tq.Ie(),h:this.Am.map(function(a){return a.Ie();})};f.Na(this.Rq)||(a.f=m.time.YJ(this.Rq));return a;};c.prototype.Sh=function(a){var b,c;if(!this.Tq.Sh(a.g))return!1;b=this.Am.length;c=!1;this.Am.forEach(function(f,d){c=!f.Sh(a.h[d*a.h.length/b|0])||c;});this.Rq=f.has(a,"f")?m.time.HT(a.f):null;return c;};c.prototype.Dx=function(a,b){this.Tq.Dx(a,b);this.Am[this.bi()].Dx(a,b);this.Rq=null;};c.prototype.Yz=function(a,b){this.Tq.Yz(a,b);this.Am[this.bi()].Yz(a,b);};c.prototype.or=function(a){this.Tq.or(a);this.Am[this.bi()].or(a);};c.prototype.mr=function(a){this.Tq.mr(a);this.Am[this.bi()].mr(a);};c.prototype.fail=function(a){this.Rq=a;};c.prototype.get=function(){var a,b;if(!f.Na(this.Rq)){if((m.time.da()-this.Rq)/1E3<this.K.pSa)return{Bc:p.ld.HAVE_NOTHING,fy:!0};this.Rq=null;}a=this.Am[this.bi()].get();b=this.Tq.get();a=a.Bc>=b.Bc?a:b;a.fy=!1;return a;};c.prototype.time=function(){return this.Tq.time();};c.prototype.It=function(a){this.Tq.It(a+": global");this.Am.forEach(function(b,c,d){f.Na(b.time())||(c=24*c/d.length,b.It(a+":  "+((10>c?"0":"")+c+"00")+"h"));});};l.prototype.Zja=function(a,b){var f;f=this.K;a=h(this.dB,a,{});return h(a,b,new c(0,0,0,f.dla||4,f));};l.prototype.AG=function(){var a,b;a=m.storage.get("lh");b=m.storage.get("gh");a&&this.TG(a);b&&this.LVa(b);};l.prototype.UZ=function(){var a;a={};f.Pc(this.dB,function(b,c){f.Pc(b,function(b,f){h(a,c,{})[f]=b.Ie();},this);},this);return a;};l.prototype.LVa=function(a){this.tG.Sh(a);};l.prototype.TG=function(a){var b,d;b=null;d=this.K;f.Pc(a,function(a,g){f.Pc(a,function(a,m){var p;p=new c(0,0,0,d.dla||4,d);p.Sh(a)?(h(this.dB,g,{})[m]=p,b=!0):f.Na(b)&&(b=!1);},this);},this);return f.Na(b)?!0:b;};l.prototype.save=function(){var a;a=this.UZ();m.storage.set("lh",a);m.storage.set("gh",this.tG.Ie());this.jP&&this.jP.K$(this.tG.Ie());};l.prototype.x6a=function(){this.dB={};this.ZA=this.qja="";this.yg=null;};l.prototype.bV=function(a){this.qja=a;this.yg=null;};l.prototype.$U=function(a){this.ZA=a;this.yg=null;};l.prototype.mO=function(){f.Na(this.yg)&&(this.yg=this.Zja(this.qja,this.ZA));return this.yg;};l.prototype.Dx=function(a,b){this.mO().Dx(a,b);this.tG.Dx(a,b);};l.prototype.Yz=function(a,b){a&&a.Lk&&a.hj&&a.Mk&&(this.mO().Yz(a,b),this.tG.Yz(a,b));};l.prototype.or=function(a){this.mO().or(a);};l.prototype.mr=function(a){this.mO().mr(a);};l.prototype.fail=function(a,b){this.Zja(a,this.ZA).fail(b);};l.prototype.get=function(a,b){var c,d,g,m;a=(a=this.dB[a])?a[this.ZA]:null;c=null;if(a&&(c=a.get(),c.Bc>p.ld.HAVE_NOTHING))return c;if(!1===b)return x;d=c=null;g=!1;m=null;f.Pc(this.dB,function(a){f.Pc(a,function(a,b){var f;if(!g||b==this.ZA){f=a.get();f&&(!d||d<=f.Bc)&&(!m||d<f.Bc||m<a.time())&&(d=f.Bc,g=b==this.ZA,m=a.time(),c=f);}},this);},this);return c?c:x;};l.prototype.It=function(){f.Pc(this.dB,function(a,b){f.Pc(a,function(a,f){a.It(b+":"+f);});});};g.M=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QHa=function(a){var d,g,f,p;function b(){if(f)for(var a;a=d.pop();)a(p);}function c(a){f=!0;p=a;b();}d=[];return function(f){d.push(f);g||(g=!0,a(c));b();};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pfa="ManifestVerifyErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kia="TrickPlayFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gia="TrackStreamFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xga="PlayerTextTrackFactorySymbol";},function(g,d){function a(a,c){this.log=a;this.KV=c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.LBa=function(a,c){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+c.type+" track - "+c.Wb),[];a=a.map(function(a){var f;f=b.KV(c,c.type,a.qC,a.P,a.qc,a.size,b.j9a(a.Vc),a.dC,a.ira/a.hra,a.Ll);f.Cob(a.gza,a.fza);f.eob(a.Uoa,a.Voa,a.Toa,a.Soa);c.Ij&&(f.Ij=c.Ij);a.dC&&(f.Ue=a.dC);return f;});a.sort(function(a,b){return a.P-b.P;});return a;};a.prototype.j9a=function(a){return a.reduce(function(a,b){a[b.Kna]=b.url;return a;},{});};d.XM=a;},function(g,d,a){var b,c,h;b=a(213);c=a(111);d=a(49);h=a(770);a=d(function(a,f){return 1===a?c(f):b(a,h(a,[],f));});g.M=a;},function(g){g.M=function(d,a){for(var b=0,c=a.length,g=Array(c);b<c;)g[b]=d(a[b]),b+=1;return g;};},function(g,d,a){var b,c,h,l,f;d=a(111);b=a(215);c=a(773);h=!{toString:null}.propertyIsEnumerable("toString");l="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");f=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||f?function(a){var d,g,p,x;if(Object(a)!==a)return[];p=[];g=f&&c(a);for(d in a)!b(d,a)||g&&"length"===d||(p[p.length]=d);if(h)for(g=l.length-1;0<=g;){d=l[g];if(x=b(d,a)){a:{for(x=0;x<p.length;){if(p[x]===d){x=!0;break a;}x+=1;}x=!1;}x=!x;}x&&(p[p.length]=d);--g;}return p;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.M=a;},function(g){g.M={Dc:function(){return this.bM["@@transducer/init"]();},result:function(d){return this.bM["@@transducer/result"](d);}};},function(g){g.M=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,c;b=a(388);c=a(780);g.M=function(a,d,f){return function(){var g,m;if(0===arguments.length)return f();g=Array.prototype.slice.call(arguments,0);m=g.pop();if(!b(m)){for(var h=0;h<a.length;){if("function"===typeof m[a[h]])return m[a[h]].apply(m,g);h+=1;}if(c(m))return d.apply(null,g)(m);}return f.apply(this,arguments);};};},function(g,d,a){var b,c,h,l,f,p;d=a(49);b=a(389);c=a(779);h=a(391);l=a(214);f=a(774);p=a(386);a=d(b(["filter"],f,function(a,b){return h(b)?l(function(f,c){a(b[c])&&(f[c]=b[c]);return f;},{},p(b)):c(a,b);}));g.M=a;},function(g){g.M=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nfa="ManifestProviderConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ofa="ManifestParserFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nca="CDMAttestedDescriptorStore";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gca="BookmarkConfigParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hca="BookmarkConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cda="DiskStorageRegistrySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yfa="MemoryStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Tea="LocalStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jca="CorruptedStorageValidatorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.TY="Storage";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.UM="IndexedDBConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eha="PresentationAPISymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rfa="MediaCapabilitiesLogHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sfa="MediaCapabilitiesSymbol";},function(g,d,a){var c,h,l;function b(a,b){var f;f=h.sM.call(this,a,b,c.NF.Audio)||this;f.config=a;f.M7=b;f.type=c.Us.pw;return f;}Object.defineProperty(d,"__esModule",{value:!0});c=a(25);h=a(408);l=a(72);a(131);new(a(97)).Mw();ia(b,h.sM);b.prototype.pL=function(){return!1;};b.prototype.Tx=function(){var a;a={};a[l.sj.MM]="mp4a.40.2";a[l.sj.mX]="mp4a.40.5";this.config().d3&&(a[l.sj.hF]="ec-3");this.config().c3&&(a[l.sj.BW]="ec-3");this.config().kI&&(a[l.sj.iF]="ec-3");return a;};b.prototype.S4=function(){return this.config().NP;};b.PE="audio/mp4;codecs={0};";d.NW=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.Pda=/^hevc-main/;a.Oda=/^hevc-hdr-|hevc-dv/;a.yq=/^hevc-hdr-/;a.tg=/^hevc-dv/;a.GM=/-h264/;a.At=/^vp9-/;a.qh=/^av1-/;a.gW=/^heaac/;a.wFa=/ddplus-2/;a.xFa=/ddplus-5/;a.yFa=/ddplus-atmos/;d.Wj=a;},function(g,d,a){var c,h,l;function b(a,b,d){this.config=a;this.M7=b;this.R=d;this.O7={};this.O7[c.NF.Audio]="audio";this.O7[c.NF.xia]="video";}Object.defineProperty(d,"__esModule",{value:!0});c=a(25);g=a(97);h=a(407);l=new g.Mw().format;b.prototype.tsa=function(){return this.t4a(this.S4());};b.prototype.Br=function(a){return this.M7.isTypeSupported(a);};b.prototype.c6=function(){this.bn=[];this.xs=[];this.config().nxa&&this.xs.push(h.Wj.Pda);this.config().mxa&&this.xs.push(h.Wj.Oda);this.config().oxa&&this.xs.push(h.Wj.At);this.config().lxa&&this.xs.push(h.Wj.qh);this.xs=this.xs.concat([h.Wj.gW,h.Wj.GM]);!this.config().d3&&this.bn.push(h.Wj.wFa);!this.config().c3&&this.bn.push(h.Wj.xFa);!this.config().kI&&this.bn.push(h.Wj.yFa);!this.config().F5a&&this.bn.push(/prk$/);this.config().nxa||this.config().z5a||this.bn.push(h.Wj.Pda);this.config().mxa||this.config().y5a||this.bn.push(h.Wj.Oda);this.config().oxa||this.config().L5a||this.bn.push(h.Wj.At);this.config().lxa||this.config().w5a||this.bn.push(h.Wj.qh);};b.prototype.F3=function(a){var b;b=this;return a.filter(function(a){for(var f=Aa(b.xs),c=f.next();!c.done;c=f.next())if(c.value.test(a))return!0;f=Aa(b.bn);for(c=f.next();!c.done;c=f.next())if(c.value.test(a))return!1;a=b.k9[a];c="";if(a)return Array.isArray(a)&&(c=1<a.length?" "+a[1]:"",a=a[0]),a=l("{0}/mp4;codecs={1};{2}",b.O7[b.R],a,c),b.Br(a);});};b.prototype.t4a=function(a){var b;b={};this.c6();this.F3(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};na.Object.defineProperties(b.prototype,{k9:{configurable:!0,enumerable:!0,get:function(){this.lla||(this.lla=this.Tx());return this.lla;}}});d.sM=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uca="CapabilityDetectorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ada="ExtraPlatformInfoProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zca="CdnThroughputTracker";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dia="ThroughputTrackerConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hia="TransitionLoggerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yia="VideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Uga="PlaybackFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lha="SegmentConfigFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cfa="MomentObserverFactory";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bfa="MomentFactorySymbol";},function(g,d,a){var c;function b(a,b,f,c,d,g){this.level=a;this.Hm=b;this.timestamp=f;this.message=c;this.Zc=d;this.index=void 0===g?0:g;this.tJa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);b.prototype.EL=function(a,b){var f;f=""+this.message;this.Zc.forEach(function(c){f+=c.Tz(a,b);});return(this.timestamp.ma(c.za)/1E3).toFixed(3)+"|"+this.index+"|"+(this.tJa[this.level]||this.level)+"|"+this.Hm+"| "+f;};d.Xea=b;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(430);a=a(1);b.prototype.create=function(){return new c.Xj();};h=b;h=g.__decorate([a.N()],h);d.DHa=h;d.DM="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.DM="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bZ="UserAgentUtilities";},function(g,d,a){var c,h,l;function b(){}Object.defineProperty(d,"__esModule",{value:!0});c=a(3);h=a(22);l=a(6);b.prototype.zp=function(){return this.vcb()?l.XGa:/widevine/i.test(this.config().Wd)?l.ida:/fps/i.test(this.config().Wd)?"fairplay":l.RW;};b.prototype.vcb=function(){return/clearkey/i.test(this.config().Wd);};na.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.K||(this.K=c.ba.get(h.we));return this.K;}}});d.tfa=new b();},function(g,d,a){var c,h,l,f;function b(a,b,f,c,d,g,k){this.debug=a;this.config=b;this.platform=f;this.Kva=c;this.debug.assert(d&&d!=h.I.Yh,"There should always be a specific error code");this.errorCode=d||h.I.Yh;g&&l.re(g)?(this.T=g.T||g.eb,this.mc=g.mc||g.Jc,this.zC=g.zC||g.xk,this.Ga=g.Ga||g.Ju,this.cI=g.wf,this.Nu=g.Nu||g.jwa||g.Op,this.Mm=g.Mm||g.data,g.OJ&&(this.OJ=g.OJ),this.Ih=g.Ih,this.method=g.method,this.zT=g.zT,this.alert=g.alert,this.debug.assert(!this.Ih||this.Ih==this.mc)):(this.T=g,this.mc=k);this.stack=[this.errorCode];this.T?this.stack.push(this.T):this.mc&&this.stack.push(h.H.Yh);this.mc&&this.stack.push(this.mc);this.KQ=this.platform.AC+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(2);l=a(18);f=a(15);a(17);b.prototype.toString=function(){var a;a="[PlayerError #"+this.KQ+"]";this.Ga&&(a+=" "+this.Ga);this.cI&&(a+=" (CustomMessage: "+this.cI+")");return a;};b.prototype.Qaa=function(){var a,b;this.cI&&(a=["streaming_error"]);a||this.Kva.zp()!==c.RW||("80080017"==this.mc&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.mc&&(a=["pause_timeout"]));a||this.Kva.zp()!==c.ida||this.errorCode!==h.I.nda&&this.errorCode!==h.I.SW||(a=["no_cdm","platform_error","plugin_error"]);this.Vcb()&&(a=["received_soad"]);b=this.J8a();b&&(a=[b],this.cI=void 0);if(!a)switch(this.errorCode){case h.I.fN:case h.I.RM:case h.I.kDa:case h.I.hga:a=["pause_timeout"];break;case h.I.yea:case h.I.zea:a=this.T?["platform_error"]:["multiple_tabs"];break;case h.I.FF:case h.I.qN:case h.I.NIa:case h.I.MIa:case h.I.PIa:a=["should_signout_and_signin"];break;case h.I.QX:case h.I.kga:case h.I.jga:case h.I.vY:case h.I.JMa:a=["platform_error","plugin_error"];break;case h.I.tY:a=["no_cdm","platform_error","plugin_error"];break;case h.I.TF:a=this.T?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.I.fA:case h.I.vt:case h.I.uY:switch(this.mc){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.I.iga:a=["unsupported_output"];}!a&&h.BHa(this.T)&&(a=this.T==h.H.jA?["geo"]:["internet_connection_problem"]);if(!a)switch(this.bBa(this.T)){case h.H.fZ:a=["should_upgrade"];break;case h.H.jLa:case h.H.kfa:a=["should_signout_and_signin"];break;case h.H.kLa:a=["internet_connection_problem"];break;case h.H.Fha:case h.H.Gha:case h.H.Dha:a=["storage_quota"];break;case h.H.nga:case h.H.lga:case h.H.oga:case h.H.mga:case h.H.Qca:a=["platform_error","plugin_error"];break;case h.H.EW:case h.H.$da:case h.H.aea:a=["private_mode"];}a=a||[];a.push(this.platform.AC+this.errorCode);if(this.T)switch(this.bBa(this.T)){case h.H.cga:a.push("incorrect_pin");break;default:a.push(""+this.T);}a={display:{code:this.KQ,text:this.cI},messageIdList:a,alert:this.alert};if(this.Nu||this.jwa)a.mslErrorCode=this.Nu||this.jwa||this.Op;return a;};b.prototype.bBa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.Vcb=function(){var a;a=f.ka(this.mc)?this.mc.toString():f.Vd(this.mc)?this.mc:"";return this.Nu===h.gY.aZ&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.J8a=function(){if(this.errorCode===h.I.ot&&(this.T===h.H.rY||this.T===h.H.bga))return this.K8a(this.T===h.H.rY);};b.prototype.K8a=function(a){var b,f,c;b=(this.config().browserInfo||{}).os||{};f=b.name;c=(b.version||"").split(".");b=parseInt(c&&c[0]);c=parseInt(c&&c[1]);switch(f){case"Windows":return 6>b||6===b&&1>c?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>c?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.bOa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oia="UrlFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.FY="PrioritizedSetOfListsSymbol";d.mOa="PrioritizedSetOfListsFactorySymbol";d.fha="PrioritizedSetOfSetsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mxb=function(){};d.Dfa="MseConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ca="DecoderTimeoutPathologistSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mca="CsvEncoderSymbol";},function(g,d,a){var c,h;function b(){this.Dl={};this.id="$es$"+c.K0a++;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,c){var f,d;f="$netflix$player$order"+this.id+"$"+a;if(this.Dl){d=this.Dl[a]?this.Dl[a].slice():[];c&&(b[f]=c);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.Dl[a]=d;}};b.prototype.removeListener=function(a,b){if(this.Dl&&this.Dl[a]){for(var f=this.Dl[a].slice(),c;0<=(c=f.indexOf(b));)f.splice(c,1);this.Dl[a]=f;}};b.prototype.Eb=function(a,b,c){var f;if(this.Dl){f=this.y4(a);for(a={mi:0};a.mi<f.length;a={mi:a.mi},a.mi++)c?function(a){return function(){var c;c=f[a.mi];setTimeout(function(){c(b);},0);};}(a)():f[a.mi].call(this,b);}};b.prototype.oC=function(){this.Dl=void 0;};b.prototype.on=function(a,b,c){this.addListener(a,b,c);};b.prototype.y4=function(a){return this.Dl&&(this.Dl[a]||(this.Dl[a]=[]));};h=c=b;h.K0a=0;h=c=g.__decorate([a.N()],h);d.Xj=h;},function(g,d,a){var c,h,l,f;function b(a,b){this.is=a;this.bh=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a(2);h=a(23);l=a(85);f=a(5);b.prototype.si=function(a,b,f){var c,d,g,m;c=this;if(b)if(f){d=f.uD;g=f.prefix;m=f.Sp;this.Qr(b,function(b,f){if(!m||c.is.eh(f))a[(g||"")+(d?b.toLowerCase():b)]=f;});}else this.Qr(b,function(b,f){a[b]=f;});return a;};b.prototype.Qr=function(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f]);};b.prototype.yu=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.prototype.x0a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};b.prototype.Cc=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!==a.indexOf(c)&&(a=c+"n"+a)):a=c;f&&(a+="nnumber:"+f);return a;}};b.prototype.Wpa=function(a,b){var f,c;a=a.target.keyStatuses.entries();for(f=a.next();!f.done;)c=f.value[0],f=f.value[1],b&&b(c,f),f=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.Bra=function(a){return this.getFunctionName(a.constructor);};b.prototype.Nwa=function(a){var b,f;b=this;f="";this.is.iu(a)||this.is.Ema(a)?f=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Ah(a)?f=a:this.Qr(a,function(a,c){f+=(f?", ":"")+"{"+a+": "+(b.is.YG(c)?b.getFunctionName(c)||"function":c)+"}";});return"["+this.Bra(a)+" "+f+"]";};b.prototype.createElement=function(a,b,c,d){var g;g=f.yd.createElement(a);b&&(g.style.cssText=b);c&&(g.innerHTML=c);d&&this.Qr(d,function(a,b){g.setAttribute(a,b);});return g;};b.prototype.m7a=function(a,b){return function(f){return f[a]===b;};};b.prototype.TT=function(a){var b;b={};(a||"").split("&").forEach(function(a){var f;a=a.trim();f=a.indexOf("=");0<=f?b[decodeURIComponent(a.substr(0,f)).toLowerCase()]=decodeURIComponent(a.substr(f+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ne)),g.__param(1,c.l(l.Ws))],a);d.pia=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yfa="OneWayCounterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cca="ClockConfigSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.zua=0]="licenseStarted";a[a.Jya=1]="recievedLicenseChallenge";a[a.Iya=2]="recievedLicense";a[a.Kya=3]="recievedRenewalChallengeComplete";a[a.Lya=4]="recievedRenewalLicenseComplete";a[a.Mya=5]="recievedRenewalLicenseFailed";a[a.rlb=6]="recievedIndivChallengeComplete";a[a.slb=7]="recievedIndivLicenseComplete";a[a.mma=8]="addLicenseComplete";a[a.sma=9]="addRenewalLicenseComplete";a[a.tma=10]="addRenewalLicenseFailed";}(a=d.Oo||(d.Oo={})));d.b5a=function(b){switch(b){case a.zua:return"lg";case a.Jya:return"lc";case a.Iya:return"lr";case a.Kya:return"renew_lc";case a.Lya:return"renew_lr";case a.Mya:return"renew_lr_failed";case a.rlb:return"ilc";case a.slb:return"ilr";case a.mma:return"ld";case a.sma:return"renew_ld";case a.tma:return"renew_ld_failed";default:return"unknown";}};},function(g,d,a){var c,h,l,f,p,m,r;function b(a,b){this.yT=a;this.is=b;l.Hk(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(2);p=a(39);m=a(23);r=a(89);b.prototype.Wu=function(){if(this.aa)return this.aa.sessionId;};b.prototype.bza=function(a,b){return this.yT.requestMediaKeySystemAccess(a,b);};b.prototype.pQ=function(a,b){return b.createMediaKeys();};b.prototype.Ir=function(a,b){this.aa=a.createSession(b);};b.prototype.bua=function(){return!!this.aa;};b.prototype.vAa=function(a,b){return this.is.YG(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.mra=function(a,b){return this.aa?this.aa.generateRequest(a,b):Promise.reject(new r.pf(f.I.oda,f.H.nF,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.aa?this.aa.update(a):Promise.reject(new r.pf(f.I.fA,f.H.nF,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.aa?this.aa.load(a):Promise.reject(new r.pf(f.I.hHa,f.H.nF,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.aa)return Promise.reject(new r.pf(f.I.aHa,f.H.nF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Wu()&&(a=this.aa.close());this.aa=void 0;return a;};b.prototype.remove=function(){return this.aa?this.aa.remove():Promise.reject(new r.pf(f.I.sda,f.H.nF,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.nma=function(a){if(!this.aa)throw ReferenceError("Unable to add message handler, key session is not valid");this.aa.addEventListener(c.hA,a);};b.prototype.kma=function(a){if(!this.aa)throw ReferenceError("Unable to add key status handler, key session is not valid");this.aa.addEventListener(c.tda,a);};b.prototype.jma=function(a){if(!this.aa)throw ReferenceError("Unable to add error handler, key session is not valid");this.aa.addEventListener(c.gA,a);};b.prototype.Vya=function(a){if(!this.aa)throw ReferenceError("Unable to remove message handler, key session is not valid");this.aa.removeEventListener(c.hA,a);};b.prototype.Tya=function(a){if(!this.aa)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.aa.removeEventListener(c.tda,a);};b.prototype.Sya=function(a){if(!this.aa)throw ReferenceError("Unable to remove error handler, key session is not valid");this.aa.removeEventListener(c.gA,a);};a=c=b;a.hA="message";a.tda="keystatuseschange";a.gA="error";a=c=g.__decorate([h.N(),g.__param(0,h.l(p.yA)),g.__param(1,h.l(m.ne))],a);d.GY=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uda="EmeSessionFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gda="DrmProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cea="IdentityProviderSymbol";},function(g,d,a){var b;b=a(101);d.Uta=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,d,a){var b,c,h,l,f,p;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(445);h=a(101);g=a(77);l=a(76);d.dz=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.Kf(new f(a));};};d.Rhb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new c.Eda(b,null).Kf(new f(a));};f=function(){function a(a){this.m8=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.m8));};return a;}();p=function(a){function f(b,f){a.call(this,b);this.destination=b;this.m8=f;}b(f,a);f.prototype.s8=function(){this.zV();};f.prototype.gj=function(){this.zV();};f.prototype.Ub=function(){this.zV();};f.prototype.wb=function(){this.zV();};f.prototype.zV=function(){var a;a=this.m8.shift();a?this.add(l.Js(this,a)):this.destination.complete();};return f;}(g.Hq);},function(g,d){d.pJ=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(76);g=a(77);d.DD=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof b&&(c=b,b=null);return f.Kf(new h(a,b,c));};};h=function(){function a(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);this.og=a;this.Qj=b;this.Q1=f;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.og,this.Qj,this.Q1));};return a;}();d.Kxb=h;l=function(a){function f(b,f,c,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.og=f;this.Qj=c;this.Q1=d;this.XC=!1;this.buffer=[];this.index=this.active=0;}b(f,a);f.prototype.Yg=function(a){this.active<this.Q1?this.tWa(a):this.buffer.push(a);};f.prototype.tWa=function(a){var b,f;f=this.index++;try{b=this.og(a,f);}catch(x){this.destination.error(x);return;}this.active++;this.WZ(b,a,f);};f.prototype.WZ=function(a,b,f){this.add(c.Js(this,a,b,f));};f.prototype.wb=function(){this.XC=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};f.prototype.bz=function(a,b,f,c){this.Qj?this.nUa(a,b,f,c):this.destination.next(b);};f.prototype.nUa=function(a,b,f,c){var d;try{d=this.Qj(a,b,f,c);}catch(B){this.destination.error(B);return;}this.destination.next(d);};f.prototype.gj=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Yg(b.shift()):0===this.active&&this.XC&&this.destination.complete();};return f;}(g.Hq);d.Lxb=l;},function(g,d,a){var b;b=a(232);d.FH=function(){return b.qv(1);};},function(g,d,a){var h,l;function b(a){var b;b=a.value;a=a.mf;a.closed||(a.next(b),a.complete());}function c(a){var b;b=a.m3;a=a.mf;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};l=a(78);g=function(a){function f(b,f){a.call(this);this.YD=b;this.ia=f;}h(f,a);f.create=function(a,b){return new f(a,b);};f.prototype.Ff=function(a){var f,d,g;f=this;d=this.YD;g=this.ia;if(null==g)this.Vq?a.closed||(a.next(this.value),a.complete()):d.then(function(b){f.value=b;f.Vq=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){l.root.setTimeout(function(){throw a;});});else if(this.Vq){if(!a.closed)return g.nb(b,0,{value:this.value,mf:a});}else d.then(function(c){f.value=c;f.Vq=!0;a.closed||a.add(g.nb(b,0,{value:c,mf:a}));},function(b){a.closed||a.add(g.nb(c,0,{m3:b,mf:a}));}).then(null,function(a){l.root.setTimeout(function(){throw a;});});};return f;}(a(10).sa);d.hha=g;},function(g,d,a){var b,c,h,l,f,p,m,r,u,x,k,B;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};c=a(101);h=a(449);l=a(448);f=a(444);p=a(972);m=a(100);r=a(971);u=a(164);x=a(10);k=a(454);B=a(237);g=function(a){function d(b,f){a.call(this,null);this.bdb=b;this.ia=f;}b(d,a);d.create=function(a,b){if(null!=a){if("function"===typeof a[B.observable])return a instanceof x.sa&&!b?a:new d(a,b);if(c.isArray(a))return new m.iw(a,b);if(l.Zta(a))return new f.hha(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new p.oJa(a,b);if(h.Kta(a))return new r.ADa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.Ff=function(a){var b,f;b=this.bdb;f=this.ia;return null==f?b[B.observable]().subscribe(a):b[B.observable]().subscribe(new k.Xfa(a,f,0));};return d;}(x.sa);d.Eda=g;},function(g,d,a){g=a(445);d.from=g.Eda.create;},function(g,d,a){g=a(100);d.of=g.iw.of;},function(g,d){d.Zta=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,d){d.Kta=function(a){return a&&"number"===typeof a.length;};},function(g,d){d.Oma=function(a,b){var r;for(var c=0,d=b.length;c<d;c++)for(var g=b[c],f=Object.getOwnPropertyNames(g.prototype),p=0,m=f.length;p<m;p++){r=f[p];a.prototype[r]=g.prototype[r];}};},function(g,d){d.bG=function(){return function(a){this.Ypb=a;};}();},function(g,d,a){var b;b=a(451);g=function(){function a(){this.oL=[];}a.prototype.Pua=function(){this.oL.push(new b.bG(this.ia.now()));return this.oL.length-1;};a.prototype.Qua=function(a){var c;c=this.oL;c[a]=new b.bG(c[a].Ypb,this.ia.now());};return a;}();d.Tha=g;},function(g,d,a){var b,c,h,l,f,p,m;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(165);c=a(10);h=a(50);l=a(70);f=a(984);a=function(a){function c(b,f){a.call(this);this.source=b;this.yV=f;this.ym=0;this.sO=!1;}b(c,a);c.prototype.Ff=function(a){return this.SR().subscribe(a);};c.prototype.SR=function(){var a;a=this.dP;if(!a||a.Jf)this.dP=this.yV();return this.dP;};c.prototype.connect=function(){var a;a=this.Ft;a||(this.sO=!1,a=this.Ft=new l.ck(),a.add(this.source.subscribe(new p(this.SR(),this))),a.closed?(this.Ft=null,a=l.ck.EMPTY):this.Ft=a);return a;};c.prototype.wU=function(){return f.wU()(this);};return c;}(c.sa);d.Dca=a;a=a.prototype;d.u0a={fz:{value:null},ym:{value:0,writable:!0},dP:{value:null,writable:!0},Ft:{value:null,writable:!0},Ff:{value:a.Ff},sO:{value:a.sO,writable:!0},SR:{value:a.SR},connect:{value:a.connect},wU:{value:a.wU}};p=function(a){function f(b,f){a.call(this,b);this.zl=f;}b(f,a);f.prototype.Ub=function(b){this.hr();a.prototype.Ub.call(this,b);};f.prototype.wb=function(){this.zl.sO=!0;this.hr();a.prototype.wb.call(this);};f.prototype.hr=function(){var a,b;a=this.zl;if(a){this.zl=null;b=a.Ft;a.ym=0;a.dP=null;a.Ft=null;b&&b.unsubscribe();}};return f;}(g.LPa);(function(){function a(a){this.zl=a;}a.prototype.call=function(a,b){var f;f=this.zl;f.ym++;a=new m(a,f);b=b.subscribe(a);a.closed||(a.Qn=f.connect());return b;};return a;}());m=function(a){function f(b,f){a.call(this,b);this.zl=f;}b(f,a);f.prototype.hr=function(){var a,b;a=this.zl;if(a){this.zl=null;b=a.ym;0>=b?this.Qn=null:(a.ym=b-1,1<b?this.Qn=null:(b=this.Qn,a=a.Ft,this.Qn=null,!a||b&&a!==b||a.unsubscribe()));}else this.Qn=null;};return f;}(h.Xh);},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(50);c=a(234);d.YGb=function(a,b){void 0===b&&(b=0);return function(f){return f.Kf(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.ia=a;this.rd=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.ia,this.rd));};return a;}();d.Jyb=h;l=function(a){function d(b,f,c){void 0===c&&(c=0);a.call(this,b);this.ia=f;this.rd=c;}b(d,a);d.ib=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.i$=function(a){this.add(this.ia.nb(d.ib,this.rd,new f(a,this.destination)));};d.prototype.Yg=function(a){this.i$(c.Notification.e2(a));};d.prototype.Ub=function(a){this.i$(c.Notification.Foa(a));};d.prototype.wb=function(){this.i$(c.Notification.a2());};return d;}(g.Xh);d.Xfa=l;f=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.Iyb=f;},function(g,d,a){var b,c,h,l,f,p,m;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=a(165);c=a(989);h=a(70);l=a(454);f=a(457);p=a(456);a=function(a){function d(b,f,c){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this);this.ia=c;this.Vg=[];this.tRa=1>b?1:b;this.LWa=1>f?1:f;}b(d,a);d.prototype.next=function(b){var f;f=this.bka();this.Vg.push(new m(f,b));this.Ola();a.prototype.next.call(this,b);};d.prototype.Ff=function(a){var b,c,d;b=this.Ola();c=this.ia;if(this.closed)throw new f.AA();this.WI?d=h.ck.EMPTY:this.Jf?d=h.ck.EMPTY:(this.ps.push(a),d=new p.Sha(this,a));c&&a.add(a=new l.Xfa(a,c));for(var c=b.length,g=0;g<c&&!a.closed;g++)a.next(b[g].value);this.WI?a.error(this.Haa):this.Jf&&a.complete();return d;};d.prototype.bka=function(){return(this.ia||c.yi).now();};d.prototype.Ola=function(){for(var a=this.bka(),b=this.tRa,f=this.LWa,c=this.Vg,d=c.length,g=0;g<d&&!(a-c[g].time<f);)g++;d>b&&(g=Math.max(g,d-b));0<g&&c.splice(0,g);return c;};return d;}(g.Ji);d.$F=a;m=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,f){a.call(this);this.nL=b;this.mf=f;this.closed=!1;}b(c,a);c.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.nL;b=a.ps;this.nL=null;!b||0===b.length||a.Jf||a.closed||(a=b.indexOf(this.mf),-1!==a&&b.splice(a,1));}};return c;}(a(70).ck);d.Sha=g;},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.AA=g;},function(g,d){d.Ou={e:{}};},function(g,d){d.rb=function(a){return"function"===typeof a;};},function(g,d){d.re=function(a){return null!=a&&"object"===typeof a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ofa="NetworkMonitorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.HY="QueryStringDataProviderSymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Nsa=function(){return void 0!==this.Ke;};a.prototype.rE=function(a){this.Ke=a;};a.prototype.$lb=function(){this.Nsa()&&(this.Ke=void 0);};d.wfa=a;},function(g,d,a){var c,h;function b(a,b,c,d,g){this.version=a;this.PD=b;this.YAa=c;this.Af=d;this.iq=g;this.pp=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(45);b.prototype.load=function(a){return this.Zdb(a);};b.prototype.add=function(a){this.pp.push(a);return this.J8();};b.prototype.remove=function(a,b){a=this.yra(this.Mj(a,b));return 0<=a?(this.pp.splice(a,1),this.J8()):Promise.resolve();};b.prototype.update=function(a,b){b=this.yra(this.Mj(a,b));return 0<=b?(this.pp[b]=a,this.J8()):Promise.resolve();};b.prototype.Zdb=function(a){var b;b=this;this.Fua||(this.Fua=new Promise(function(f,d){function g(a){b.c4a().then(function(){d(a);})["catch"](function(){d(a);});}b.b5().then(function(a){b.storage=a;return b.storage.load(b.PD);}).then(function(c){var d;c=c.value;try{d=a(c);b.version=d.version;b.pp=d.data;f();}catch(v){g(v);}})["catch"](function(a){a.T!==c.H.im?d(a):f();});}));return this.Fua;};b.prototype.J8=function(){var a,b,c,d,g;a=this;if(!this.YAa)return Promise.resolve();if(this.vV){d=new Promise(function(a,f){b=a;c=f;});g=function(){a.vV=d;a.XAa().then(function(){b();})["catch"](function(a){c(a);});};this.vV.then(g)["catch"](g);return d;}return this.vV=this.XAa();};b.prototype.XAa=function(){var a,f;a=this;f=this.iq();return new Promise(function(d,g){a.b5().then(function(b){return b.save(a.PD,f,!1);}).then(function(){d();})["catch"](function(a){g(b.DL(c.I.GMa,a));});});};b.prototype.c4a=function(){var a;a=this;return this.YAa?new Promise(function(b,c){a.b5().then(function(b){return b.remove(a.PD);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};b.prototype.b5=function(){return this.storage?Promise.resolve(this.storage):this.Af.create();};b.prototype.Mj=function(a,b){for(var f=0;f<this.pp.length;++f)if(b(this.pp[f],a))return this.pp[f];};b.prototype.yra=function(a){return a?this.pp.indexOf(a):-1;};b.DL=function(a,b,d){return b.T&&b.cause?new h.Yb(a,b.T,void 0,void 0,void 0,d,void 0,b.cause):void 0!==b.eb?(d=(b.message?b.message+" ":"")+(d?d:""),b.code=a,b.message=""===d?void 0:d,b):b instanceof Error?new h.Yb(a,c.H.Pe,void 0,void 0,void 0,d,b.stack,b):new h.Yb(a,c.H.Yh,void 0,void 0,void 0,d,void 0,b);};d.Bea=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fda="DrmDataFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.lNa="PSK";a.dKa="MGK";a.zxb="MGK_WITH_FALLBACK";a.yxb="MGK_JWE";a.pJa="JWEJS_RSA";a.qJa="JWK_RSA";a.jxb="JWK_RSAES";d.iM=a;},function(g,d,a){var h;function b(a,b){this.ve=b;this.oo=Math.floor(a);this.display=this.oo+" "+this.ve.name;}function c(a,b,c){this.ve=a;this.name=b;this.Qa=c?c:this;h.Hk(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});h=a(51);c.prototype.rI=function(a){return this.ve==a.ve;};c.prototype.toJSON=function(){return this.name;};d.xN=c;b.prototype.ma=function(a){return this.ve.rI(a)?this.oo:Math.floor(this.oo*this.ve.ve/a.ve);};b.prototype.b9=function(a){return this.ve.rI(a)?this.oo:this.oo*this.ve.ve/a.ve;};b.prototype.to=function(a){return new b(this.ma(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.oo,units:this.ve.name};};b.prototype.add=function(a){return this.coa(a);};b.prototype.Jd=function(a){return this.coa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.ma(this.ve.Qa)*a,this.ve.Qa);};b.prototype.xl=function(a){return this.ma(this.ve.Qa)-a.ma(this.ve.Qa);};b.prototype.rI=function(a){return 0==this.xl(a);};b.prototype.gua=function(){return 0==this.oo;};b.prototype.Sta=function(){return 0>this.oo;};b.prototype.Wta=function(){return 0<this.oo;};b.prototype.coa=function(a,f){f=void 0===f?function(a){return a;}:f;return new b(this.ma(this.ve.Qa)+f(a.ma(this.ve.Qa)),this.ve.Qa);};d.Uo=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eea="Injector";d.zw=145152E5;},function(g,d,a){var h;function b(a){return function(b){function f(f){return null!==f&&null!==f.target&&f.target.x7(a)(b);}f.Sva=new h.Metadata(a,b);return f;};}function c(a,b){a=a.ss;return null!==a?b(a)?!0:c(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(32);h=a(66);d.PBa=c;d.mBa=b;d.nwa=b(g.ut);d.UBa=function(a){return function(b){var f;return null!==b?(f=b.oH[0],"string"===typeof a?f.ue===a:a===b.oH[0].bj):!1;};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(245);c=a(244);g=function(){function a(a){this.ub=a;this.pZ=new c.vW(this.ub);this.oZ=new b.uW(this.ub);}a.prototype.$L=function(){return this.pZ.$L();};a.prototype.Rp=function(a){return this.oZ.Rp(a);};return a;}();d.nw=g;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(102);h=a(66);l=a(1027);g=function(){function a(a,f,d,g){this.id=c.id();this.type=a;this.ue=d;this.name=new l.uOa(f||"");this.Fc=[];a=null;"string"===typeof g?a=new h.Metadata(b.ut,g):g instanceof h.Metadata&&(a=g);null!==a&&this.Fc.push(a);}a.prototype.Osa=function(a){for(var b=0,f=this.Fc;b<f.length;b++)if(f[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.Osa(b.Aw);};a.prototype.Yeb=function(a){return this.x7(b.Aw)(a);};a.prototype.l6=function(){return this.Osa(b.ut);};a.prototype.p6=function(){return this.Fc.some(function(a){return a.key!==b.BF&&a.key!==b.Aw&&a.key!==b.ZM&&a.key!==b.dG&&a.key!==b.ut;});};a.prototype.Vta=function(){return this.x7(b.Wfa)(!0);};a.prototype.e$a=function(){return this.l6()?this.Fc.filter(function(a){return a.key===b.ut;})[0]:null;};a.prototype.Z8a=function(){return this.p6()?this.Fc.filter(function(a){return a.key!==b.BF&&a.key!==b.Aw&&a.key!==b.ZM&&a.key!==b.dG&&a.key!==b.ut;}):null;};a.prototype.x7=function(a){var b;b=this;return function(f){var g;for(var c=0,d=b.Fc;c<d.length;c++){g=d[c];if(g.key===a&&g.value===f)return!0;}return!1;};};return a;}();d.tN=g;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(32);h=a(66);l=a(90);g=function(){function a(a){this.IRa=a;}a.prototype.Trb=function(){return this.IRa();};return a;}();d.XX=g;d.l=function(a){return function(f,d,g){var m;if(void 0===a)throw Error(b.xQa(f.name));m=new h.Metadata(c.BF,a);"number"===typeof g?l.Mz(f,d,g,m):l.yL(f,d,m);};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);d.cua=function(a){return a instanceof RangeError||a.message===b.YOa;};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);g=function(){function a(){}a.prototype.Ara=function(a){var c;c=Reflect.getMetadata(b.qY,a);a=Reflect.getMetadata(b.Vha,a);return{eoa:c,Csb:a||{}};};a.prototype.w$a=function(a){return Reflect.getMetadata(b.Wha,a)||[];};return a;}();d.fY=g;},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(122);c=a(6);d=a(2);h=a(3);l=a(112);f=a(56);g.Ye(d.I.mea,function(a){var d,g;d=t._cad_global.videoPreparer;g=t._cad_global.playerPredictionModel;d&&t._cad_global.playerPredictionModel&&(p=h.ba.get(l.dha).create(g,d.dkb.bind(d)),t._cad_global.prefetchEvents=p,d.dh.on("deletedCacheItem",function(a){p.wH(f.ad.VF[a.type],parseInt(a.movieId,10),a.reason);}),b.qk.addEventListener("cacheEvict",function(a){p.wH(l.$d.Ei.uF,a.movieId,"ase_cacheEvict");p.wH(l.$d.Ei.MEDIA,a.movieId,"ase_cacheEvict");}),b.qk.addEventListener("flushedBytes",function(){b.qk.k1().forEach(function(a){p.wH(l.$d.Ei.MEDIA,a.S,"ase_flushedBytes");},this);}),d.kn.addEventListener(d.kn.events.Zha,function(a){p.LZa(f.ad.VF[a.type],a.S,a.reason);}),d.kn.addEventListener(d.kn.events.Xha,function(a){p.HZa(f.ad.VF[a.type],a.S,a.reason);}),d.kn.addEventListener(d.kn.events.Yha,function(a){p.JZa(f.ad.VF[a.type],a.S,a.reason);}),d.kn.addEventListener(d.kn.events.$ha,function(a){p.NZa(f.ad.VF[a.type],a.S,a.reason);}));a(c.Hb);});},function(g,d,a){var h,l,f,p,m,r,u,k,v,B;function b(a,b){this.mh=a;this.Yi=b;}function c(a){this.W=a;this.reset();}h=a(171);l=a(170);d=a(248);f=a(247).config;p=d.Q8a;m=d.D8a;r=d.s4a;u=d.Dhb;k=d.Chb;v=d.Bhb;B=d.Pqa;c.prototype.constructor=c;c.prototype.reset=function(){this.jla=void 0;this.xh=[];this.Rka=this.Ska=!1;};c.prototype.update=function(a,b){var c;this.xh&&(this.xh=this.xh.filter(this.Nob,this));if(!1===this.Ska){c=p(a.xa).slice(0,f.$oa);0<c.length&&(this.Ry(c,l.rq.Wh),this.Ska=!0,this.xh=this.Xz(c.concat(this.xh)));}!1===this.Rka&&(c=m(a.xa).slice(0,f.$oa),0<c.length&&(this.Ry(c,l.rq.Wh),this.Rka=!0,this.xh=this.Xz(c.concat(this.xh))));switch(b){case l.qq.Bda:b=this.Nab(a);break;case l.qq.sha:b=this.Yab(a);break;case l.qq.oN:b=this.Zab(a);break;case l.qq.SF:b=this.Uab(a);break;default:b=this.Mab(a);}this.jla=a;return b;};c.prototype.Nab=function(a){a=u(a.xa,f.xza,f.$na);this.Ry(a,l.rq.Wh);return this.xh=this.Xz(this.xh.concat(a));};c.prototype.Yab=function(a){var b,c;this.W.log("handleScrollHorizontal");b=a.xa;a=u(b,f.zza,f.aoa);c=r(b,this.jla.xa);b=b[c].list.slice(0,f.Tmb);b.concat(a);this.Ry(b,l.rq.YY);return this.Xz(b.concat(this.xh));};c.prototype.Ry=function(a,b){a.forEach(function(a){if(void 0===a.tu||a.tu<b)a.tu=b;void 0===a.IE&&(a.IE=h());void 0===a.ji&&(a.ji=h());});};c.prototype.Zab=function(a){this.W.log("handleSearch");a=k(a.xa,f.mnb);this.Ry(a,l.rq.vha);this.xh=a.concat(this.xh);return this.xh=this.Xz(this.xh);};c.prototype.Uab=function(a){var c,d,g,h,m;this.W.log("handlePlayFocus: ",f.ZI);c=a.direction;d=a.xa;a=[];g=B(d);if(void 0!==g.mh)switch(a.push(g),c){case l.So.mha:for(c=1;c<f.ZI;c++)a.push(new b(g.mh,g.Yi+c));a.push(new b(g.mh-1,g.Yi));a.push(new b(g.mh+1,g.Yi));break;case l.So.Oea:for(c=1;c<f.ZI;c++)a.push(new b(g.mh,g.Yi-c));a.push(new b(g.mh-1,g.Yi));a.push(new b(g.mh+1,g.Yi));break;case l.So.AQa:a.push(new b(g.mh-1,g.Yi));for(c=1;c<=f.ZI/2;c++)a.push(new b(g.mh,g.Yi+c)),a.push(new b(g.mh,g.Yi-c));break;case l.So.tGa:for(a.push(new b(g.mh+1,g.Yi)),c=1;c<=f.ZI/2;c++)a.push(new b(g.mh,g.Yi+c)),a.push(new b(g.mh,g.Yi-c));}h=[];a.forEach(function(a){m=v(d,a.mh,a.Yi);void 0!==m&&h.push(m);});this.Ry(h,l.rq.YY);return this.Xz(h.concat(this.xh));};c.prototype.Mab=function(a){this.W.log("ModelOne: handleDefaultCase");a=u(a.xa,f.zza,f.aoa);this.Ry(a,l.rq.YY);return this.Xz(a.concat(this.xh));};c.prototype.Nob=function(a){return a.tu==l.rq.Wh|a.tu==l.rq.vha&h()-a.IE<f.vbb;};c.prototype.Xz=function(a){var b,f,c,d,g,h,m;b=[];f={};h=0;m=a.length;for(g=0;g<m;g++)c=a[g].Ne,d=a[g],!1===c in f?(b.push(d),f[c]=h,h++):(c=b[f[c]],d.ji<c.ji&&(c.ji=d.ji),d.tu>c.tu&&(c.tu=d.tu),d.IE>c.IE&&(c.IE=d.IE));return b;};g.M=c;},function(g,d,a){var l,f,p,m,r,u,k;function b(a,b,f,c,d,g){this.S=this.Ne=a;this.Fd=b;this.Mb=f;g&&g.wc&&(this.wc=g.wc);void 0!==c&&(this.jz=c);this.ji=d;this.cb=g;}function c(a,b,f,c,d){p(void 0!==c,"video preparer is null");p(void 0!==d,"ui preparer is null");this.W=b||console;this.W=b;this.fb=f;this.IWa=c;this.xWa=d;this.gla=u.a9;this.yB=[];this.W_=!1;this.om=0;new k().on(u,"changed",h,this);this.reset();}function h(){this.W.log("config changed");u.a9&&(this.gla=u.a9);u.WJ!==this.lB&&(this.reset(),this.lmb());}l=a(171);f=a(170);d=a(248);p=d.assert;m=d.Pqa;r=a(476);u=a(247).config;k=a(28).rF;u.declare({a9:["ppmConfig",{yub:{Lwa:0,Kwa:2,Iwa:0,Jwa:5,yAa:0},nAb:{Lwa:0,Kwa:1,Iwa:0,Jwa:3,yAa:1E3},Pub:{Lwa:0,Kwa:1,Iwa:0,Jwa:3,yAa:1E3}}]});c.prototype.constructor=c;c.prototype.reset=function(){this.SZ=!0;this.lB=u.WJ;this.W.log("create model: "+u.WJ,u.xza,u.$na);switch(u.WJ){case"modelone":this.lB=new r(this.W);break;default:this.lB=new r(this.W);}};c.prototype.lmb=function(){var b,f;if(!1===this.W_){this.W_=!0;for(var a=0;a<this.yB.length;a++){this.W.log("PlayPredictionModel replay: ",JSON.stringify(this.yB[a]));b=this.yoa(this.yB[a]);f=this.nra(b);this.lB.update(b,f);this.SZ=!1;}this.yB=[];}};c.prototype.update=function(a){var b,f,c;this.W.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.xa&&a.xa[0]){!1===this.W_&&this.yB.length<u.ofb&&this.yB.push(a);b=this.yoa(a);f=this.nra(b);this.W.log("actionType",f);b="mlmodel"==u.WJ?this.lB.update(a,f):this.lB.update(b,f);b=this.g8a(b,u.ddb||1);this.W.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.om&&(this.om=l(),this.fb&&this.fb.MK&&this.fb.MK({HQ:this.om}));if(this.fb&&this.fb.$ya){c={HQ:this.om,offset:this.KR(),cya:[]};b.forEach(function(a){c.cya.push({Go:a.Ne});});c.Xxa=JSON.stringify(a);c.Yxa=JSON.stringify(b);this.fb.$ya(c);}this.IWa.Iv(b);this.xWa.Iv(b);this.SZ=!1;}};c.prototype.xmb=function(){this.om=0;};c.prototype.KR=function(){return l()-this.om;};c.prototype.MK=function(){this.om=l();this.fb&&this.fb.MK&&this.fb.MK({HQ:this.om});};c.prototype.yoa=function(a){var b,c,d,g,h;b={};g=a.xa||[];h=function(a){var g,h;g={};c=f.DF.name.indexOf(a.context);g.context=0<=c?c:f.DF.Gq;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list||[];d.forEach(function(a){h={Ne:a.Ne,Mb:a.Mb,index:a.index,jz:a.jz,XD:a.XD,list:a.list,cb:a.cb};void 0!==a.property&&(c=f.nA.name.indexOf(a.property),h.property=0<=c?c:f.nA.Gq);g.list.push(h);}.bind(this));b.xa.push(g);}.bind(this);void 0!==a.direction&&(c=f.So.name.indexOf(a.direction),b.direction=0<=c?c:f.So.Gq);void 0!==a.BI&&(b.uEb=a.BI.rowIndex,b.tEb=a.BI.a0a);b.BI=a.BI;b.xa=[];g.forEach(h);return b;};c.prototype.nra=function(a){var b,c,d;b=a.direction||f.So.Gq;c=a.BI;d=a.xa||[];!0===this.SZ?a=f.qq.Bda:!0===d.some(this.gbb)?(a=f.qq.SF,this.yU(d,b,c)):a=d[0].context===f.DF.oN?f.qq.oN:b===f.So.mha||b===f.So.Oea?f.qq.sha:f.qq.Gq;return a;};c.prototype.gbb=function(a){return(a.list||[]).some(function(a){return a.property===f.nA.SF||a.property===f.nA.Nca;});};c.prototype.yU=function(a,b,c){var d,g;this.W.log("reportPlayFocusEvent: ",b,c);d={};g=m(a);this.fb&&this.fb.yU&&(d.aEb=l(),d.direction=f.So.name[b],c&&(d.rowIndex=c.rowIndex,d.J1=c.a0a),void 0!==g.mh&&(d.requestId=a[g.mh].requestId),this.fb.yU&&this.fb.yU(d));};c.prototype.g8a=function(a,b){for(var f=a.length,c=[],d,g,h,m,p=0;p<f;p++){g=a[p];d=Math.floor(p/b)+1;if(void 0!==g.list){h=g.list;m=h.length;for(var l=0;l<Math.min(u.Y_a,m)&&!(h[l].ji=g.ji,this.pma(h[l],d,c),c.length>=u.wva);l++);}else this.pma(g,d,c);if(c.length>=u.wva)break;}return c;};c.prototype.pma=function(a,f,c){var g,h;function d(a){a.wc&&(a.cb||(a.cb={}),a.cb.wc=a.wc);return a.cb;}g=a.XD;void 0!==g&&g instanceof Array?g.forEach(function(g){void 0!==g.Ne&&(h=d(g),c.push(new b(g.Ne,f,g.Mb,g.jz,a.ji,h)));}):void 0!==g&&void 0!==g.Ne&&(g=a.XD,h=d(g),c.push(new b(g.Ne,f,g.Mb,g.jz,a.ji,h)));void 0!==a.Ne&&(h=d(a),c.push(new b(a.Ne,f,a.Mb,a.jz,a.ji,h)));};c.prototype.Tu=function(a){var b;b=this.gla;return a?b[a]:b;};g.M=c;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(8);c=a(6);d=a(2);h=a(3);g.Ye(d.I.nea,function(f){var d,g;if(b.config.Kjb){d=h.Bd("PlayerPredictionModel");t._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),f(c.Hb));g=a(477);d.log=d.trace.bind(d);l=new g({},d,{MK:function(a){t._cad_global.prefetchEvents.r4a(a.HQ);},$ya:function(a){t._cad_global.prefetchEvents.ekb(a);}},t._cad_global.videoPreparer,{Iv:function(){}});t._cad_global.playerPredictionModel=l;d.info("ppm v2 initialized");}f(c.Hb);});},function(g){g.M={Pu:{Ha:12E5,xJ:9E5,Fc:12E5},su:{Ha:10,xJ:10,Fc:10},ru:{Ha:10240,xJ:10240,Fc:10240}};},function(g){function d(a){var b;b=[];return function h(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var f in a)if(a.hasOwnProperty(f)&&h(a[f]))return!0;}return!1;}(a);}g.M=function(a,b){var g;if(b&&d(a))return-1;b=[];a=[a];for(var c=0;a.length;){g=a.pop();if("boolean"===typeof g)c+=4;else if("string"===typeof g)c+=2*g.length;else if("number"===typeof g)c+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var l in g)a.push(g[l]);}}return c;};},function(g,d,a){var f,p;function b(){return Object.create(null);}function c(a){this.log=a.log;this.Ka=a.Ka;this.Sy=b();this.Promise=a.Promise;this.Fr=a.Fr;this.dba=a.dba;this.uc=a.uc||!1;this.Pu=b();this.su=b();this.ru=b();this.PVa(a);a.DC&&(this.DC=a.DC,f(this.DC,c.prototype));}function h(a){return"undefined"!==typeof a;}function l(a){var c;for(var b=0,f=arguments.length;b<f;){c=arguments[b++];if(h(c))return c;}}f=a(48);a(480);p=a(479);c.prototype.PVa=function(a){this.Pu.manifest=l(a.t3,p.Pu.Ha);this.Pu.ldl=l(a.s3,p.Pu.xJ);this.Pu.metadata=l(a.eEb,p.Pu.Fc);this.su.manifest=l(a.m1,p.su.Ha);this.su.ldl=l(a.l1,p.su.xJ);this.su.metadata=l(a.sCb,p.su.Fc);this.ru.manifest=l(a.qCb,p.ru.Ha);this.ru.ldl=l(a.pCb,p.ru.xJ);this.ru.metadata=l(a.rCb,p.ru.Fc);};c.prototype.cS=function(a,b,f){this.Cg("undefined"!==typeof a);this.Cg("undefined"!==typeof b);return!!this.Nja(a,b,f).value;};c.prototype.Nja=function(a,b,f){var c,d;c={value:null,reason:"",log:""};d=this.Sy[b];if("undefined"===typeof d)return c.log="cache miss: no data exists for field:"+b,c.reason="unavailable",c;"undefined"===typeof d[a]?(c.log="cache miss: no data exists for movieId:"+a,c.reason="unavailable"):(f=d[a][f?f:"DEFAULTCAPS"])&&f.value?this.xS(b,f.Bg)?(c.log="cache miss: "+b+" data expired for movieId:"+a,c.reason="expired"):(c.log=this.Promise&&f.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,c.value=f.value):(c.log="cache miss: "+b+" data not available for movieId:"+a,c.reason="unavailable");return c;};c.prototype.getData=function(a,b,f){this.Cg("undefined"!==typeof a);this.Cg("undefined"!==typeof b);a=this.Nja(a,b,f);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.dba?JSON.parse(this.dba(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};c.prototype.setData=function(a,f,c,d,g){var h;this.Cg("undefined"!==typeof a);this.Cg("undefined"!==typeof f);h=this.Sy;g=g?g:"DEFAULTCAPS";h[f]||(h[f]=b(),Object.defineProperty(h[f],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(h[f],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));c=this.Fr?this.Fr(JSON.stringify(c),"gzip",!0):c;h=h[f];this.nTa(a,f,g,h);f={Bg:this.Ka.getTime(),value:c,size:0,type:f,K2:d};h[a]=h[a]||b();h[a][g]=h[a][g]||b();h[a][g]=f;h.size+=0;h.numEntries++;this.DC&&this.emit("addedCacheItem",f);return f;};c.prototype.nTa=function(a,b,f,c){var d,g,h,m,p,l,r,u,k;d=this;g=c.numEntries;h=this.su[b];l=c[a]&&c[a][f];if(l&&l.value)m=a,p="promise_or_expired";else if(g>=h){u=Number.POSITIVE_INFINITY;Object.keys(c).every(function(a){var g;g=c[a]&&c[a][f];g&&g.value&&d.xS(b,g.Bg)&&(k=a);g&&g.value&&g.Bg<u&&(u=g.Bg,r=a);return!0;});m=k||r;p="cache_full";}this.uc&&this.log.debug("makespace ",{maxCount:h,currentCount:c.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(d.clearData(m,b,f,void 0,p),this.log.debug("removed from cache: ",m,b));};c.prototype.B1=function(a,b){var f,c;f=this;f.Cg("undefined"!==typeof a);c=a+"";b.forEach(function(a){var b;b=f.Sy[a];b&&Object.keys(b).forEach(function(b){b!=c&&f.clearData(b,a,void 0,void 0,"clear_all");});});};c.prototype.clearData=function(a,b,f,c,d){var g;this.Cg("undefined"!==typeof a);this.Cg("undefined"!==typeof b);g=this.Sy[b];b=g?g[a]:void 0;f=f?f:"DEFAULTCAPS";if(b&&b[f]){g.size-=b[f].size;g.numEntries--;if(g=b&&b[f])b[f]=void 0,!c&&g.K2&&g.K2();this.DC&&(a={creationTime:g.Bg,destroyFn:g.K2,size:g.size,type:g.type,value:g.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};c.prototype.flush=function(a){var f;this.Cg("undefined"!==typeof a);f=this.Sy;f[a]=b();f[a].numEntries=0;f[a].size=0;};c.prototype.xS=function(a,b){return this.Ka.getTime()-b>this.Pu[a];};c.prototype.getStats=function(a,b,f){var c,d,g,m,p;c={};d=this;g=d.Sy;m=h(a)&&h(b);p=f||"DEFAULTCAPS";Object.keys(g).forEach(function(f){var l,r;l=Object.keys(g[f]);r=g[f];l.forEach(function(g){!(g=r&&r[g]&&r[g][p])||!h(g.value)||g.value instanceof this.Promise||(c[f]=(c[f]|0)+1,d.xS(g.type,g.Bg)&&(c[f+"_expired"]=(c[f+"_expired"]|0)+1),m&&g.Bg>=a&&g.Bg<b&&(c[f+"_delta"]=(c[f+"_delta"]|0)+1));});});return c;};c.prototype.Ie=function(a){var b,f,c,d;b=[];f=this;c=f.Sy;d=a||"DEFAULTCAPS";Object.keys(c).forEach(function(a){var g,m;g=Object.keys(c[a]);m=c[a];g.forEach(function(c){var g,p;g=m&&m[c]&&m[c][d];g&&h(g.value)&&(p=f.xS(g.type,g.Bg)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:c,state:p,type:a,size:g.size}));});});return b;};c.prototype.rAa=function(a,b){this.Cg("undefined"!==typeof a);this.Cg("undefined"!==typeof b);this.ru[a]=b;};c.prototype.Cg=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.uc))throw Error("Debug Assert Failed ");};g.M=c;},function(g,d,a){var c,h;function b(a,b,d,g,r,u,k){this.S=a;this.Fd=b;this.type=d;this.id=++h;this.sQ=g;this.status=c.Zd.sca;this.ljb=void 0===r?!1:r;this.Bwa=k;}Object.defineProperty(d,"__esModule",{value:!0});c=a(56);h=0;b.prototype.Bp=function(){var a;a={id:this.id,type:this.type,created:this.sQ,status:this.status,movieId:this.S};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.gj=function(a){this.Bwa&&this.Bwa(a);};d.uN=b;},function(g,d,a){var l,f,p;function b(){}function c(a){this.log=a.log;this.Ka=a.Ka;this.uQ=this.OH=0;this.$v=[];this.paused=!1;this.rV=[];this.hoa=[];this.mJ=a.mJ||b.Cba;this.Lb=a.Lb;this.Ni=this.Lb.get(f.EM);this.addEventListener=this.Ni.addListener.bind(this.Ni);this.events={Zha:"taskstart",Xha:"taskabort",Yha:"taskfail",$ha:"tasksuccess"};}function h(a){return a.Bp();}Object.defineProperty(d,"__esModule",{value:!0});g=a(121);l=a(56);f=a(68);b.hNa="prepend";b.Cba="append";b.hIa="ignore";p=g.zq;d.UPa=c;c.prototype.vma=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.$v=this.VSa(a);this.OH=0;this.uQ+=1;this.ib();};c.prototype.VSa=function(a){var f,c;f=this.$v.filter(function(a){return a.ljb&&a.status===l.Zd.sca;});c=this.mJ;if(c===b.hIa)return[].concat(a);if(c===b.hNa)return f.concat(a);if(c===b.Cba)return a.concat(f);};c.prototype.pause=function(){this.paused=!0;};c.prototype.ib=function(){var a,b;if(this.OH===this.$v.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.OH,numberOfTasks:this.$v.length});else{a=this.g$a();b=this.uQ;a.startTime=this.Ka.getTime();a.status=l.Zd.yha;this.Ni.Eb(this.events.Zha,{S:a.S,type:a.type});this.rV.push(a);a.Ze(function(f){a.endTime=this.Ka.getTime();f?0<=[l.Zd.bA,l.Zd.qM,l.Zd.cF,l.Zd.pM].indexOf(f.status)?(a.status=f.status,this.w_(a,this.events.Xha,"cancelled task")):(a.status=l.Zd.xq,this.w_(a,this.events.Yha,"task failed",f)):(a.status=l.Zd.Iha,this.w_(a,this.events.$ha,"task succeeded"));this.hoa.push(a);this.rV.splice(this.rV.indexOf(a),1);this.uQ===b&&(this.OH++,this.ib());}.bind(this));}};c.prototype.g$a=function(){return this.$v[this.OH];};c.prototype.w_=function(a,b,f,c){var d;d=a.Bp();c?this.log.warn(f,d,c):this.log.trace(f,d);this.Ni.Eb(b,{S:a.S,type:a.type,reason:a.status});a.gj(d);};c.prototype.getStats=function(a,b,f){var c,d,g,m;c=this.hoa.map(h);d=this.rV.map(h);g=p.eh(a)&&p.eh(b);m={};if(p.eh(f))return m.l0a=c.filter(function(a){return a.movieId===f;}),m;c.concat(d).forEach(function(f){var c;m[f.type+"_"+f.status]=(m[f.type+"_"+f.status]|0)+1;c=f.status==l.Zd.yha?f.startTime:f.endTime;g&&c>=a&&c<b&&(m[f.type+"_"+f.status+"_delta"]=(m[f.type+"_"+f.status+"_delta"]|0)+1);});return m;};},function(g,d,a){var c,h,l,f,p,m,r,u,k,v;function b(a){this.log=a.log;this.Ka=a.Ka;this.NC=a.NC;this.PR=a.PR;this.MC=a.MC;this.OC=a.OC;this.Hy=a.Hy;this.y1=a.y1;this.VH=a.VH;this.Lb=a.Lb;this.config=this.Lb.get(m.we)();this.XH=a.XH;this.WH=a.WH;this.yba=a.yba;this.y8=a.y8;this.z8=a.z8;this.eK=a.eK;this.w4=a.w4;this.uc=a.uc||!1;this.Z_={};this.EO={};this.ZO={num_of_calls:0,num_of_movies:0};this.x1=a.x1;this.c8=a.c8;this.p8a=a.p8a;this.k4=a.k4;this.p1=a.p1;this.dh=new r({log:this.log,Ka:this.Ka,Promise:Promise,uc:this.uc,m1:a.m1,l1:a.l1,t3:a.t3,s3:a.s3,DC:u});this.kn=new c.UPa({log:this.log,Ka:this.Ka,mJ:a.mJ,Lb:this.Lb});this.Mj=this.dh.getData.bind(this.dh);this.Qv=this.dh.setData.bind(this.dh);this.aS=this.dh.cS.bind(this.dh);}Object.defineProperty(d,"__esModule",{value:!0});c=a(483);h=a(482);g=a(121);l=a(230);f=a(431);p=a(112);m=a(22);r=a(481);u=a(28).EventEmitter;k=g.zq;v=new f.pia(k,new l.sW());d.JQa=b;b.prototype.Iv=function(a,b){var f,c,d;f=this;a=a.map(function(a){a.cb=a.cb||{PB:{Dxa:!1},Tf:0};k.Al(a.cb.Tf)||(a.cb.Tf=0);k.Al(a.Mb)&&(a.cb.U=a.Mb);return a;});c=a.map(function(a){return f.nja(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=c.map(function(a){return a.S+"-"+a.type;});this.log.trace("prepare tasks",d);this.kn.vma(c);this.ZO.num_of_calls++;this.ZO.num_of_movies+=a.length;};b.prototype.akb=function(a,b){var f,c,d;f=this;c=a.map(function(a){return a.S+"";});a=a.map(function(a){a.cb=a.cb||{PB:{Dxa:!1},Tf:0};a.cb.Yd=!0;a.cb.fwa=c;return f.nja(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.S+"-"+a.type;});this.log.trace("predownload tasks",d);this.kn.vma(a);};b.prototype.Zk=function(a,b){this.EO[a]||(this.EO[a]={});a=this.EO[a];a.fya=(a.fya|0)+1;a.ji=b;};b.prototype.getStats=function(a,b,f){var c;c=f&&this.EO[f]||{};c.$v=this.kn.getStats(a,b,f);c.cache=this.dh.getStats(a,b);c.kra=v.si(this.w4(),this.ZO);return c||{};};b.prototype.nja=function(a,b){var f,c,d,g,m;a.wc&&(a.cb.wc=a.wc);f=[];c=a.S;d=!!a.cb.Yd;this.Zk(c,a.ji);g=null;if(this.dh.cS(c,"manifest"))this.log.trace("manifest exists in cache for "+c);else{m=new h.uN(c,a.Fd,"manifest",this.Ka.getTime(),d,void 0,b);g=m.id;m.Ze=this.NC.bind(this,c,a);f.push(m);}this.PR&&this.y1()&&(this.dh.cS(c,"ldl")?this.uc&&this.log.trace("ldl exists in cache for "+c):(m=new h.uN(c,a.Fd,"ldl",this.Ka.getTime(),d,g,b),m.Ze=this.PR.bind(this,c,a),f.push(m)));this.MC&&this.OC&&this.x1()&&(this.c8(c)?this.uc&&this.log.trace("headers/media exists in cache for "+c):(c=new h.uN(a.S,a.Fd,"getHeaders",this.Ka.getTime(),d,g,b),c.Ze=this.MC.bind(this,a.S,a),f.push(c),b=new h.uN(a.S,a.Fd,"getMedia",this.Ka.getTime(),d,g,b),b.Ze=this.OC.bind(this,a.S,a),f.push(b)));return f;};b.prototype.Xab=function(a){this.z8(a);};b.prototype.Wab=function(a){this.log.trace("task scheduler paused on playback created");this.kn.pause();this.XH&&this.dh.B1(a,["manifest"]);this.WH&&this.dh.B1(a,["ldl"]);this.y8(a);};b.prototype.Fsa=function(){this.log.info("track changed, clearing all manifests from cache");this.dh.B1("none",["manifest"]);};b.prototype.Vab=function(a){var b;b=this;this.VH?this.dh.clearData(a,"manifest"):this.dh.cS(a,"manifest")&&this.dh.getData(a,"manifest").then(function(f){f.isSupplemental||b.dh.clearData(a,"manifest");},function(f){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",f);});this.dh.clearData(a,"ldl",void 0,!0);this.F1(a);this.eK();};b.prototype.F1=function(a){this.Z_[a]=void 0;};b.prototype.k5=function(a){return this.Z_[a];};b.prototype.Ooa=function(a){return this.Z_[a]=this.yba();};b.prototype.dkb=function(){var a;a=[];a=this.dh.Ie().map(function(a){return{Go:parseInt(a.movieId,10),state:a.state,qr:a.type,size:a.size||void 0};});this.k4().map(function(b){2===b.$r?a.push({Go:b.S,state:"cached",qr:p.$d.Ei.uF,size:void 0}):b.F7a&&!b.xdb&&a.push({Go:b.S,state:"loading",qr:p.$d.Ei.uF,size:void 0});b.FCa&&0<b.FCa&&b.Xma&&0<b.Xma?a.push({Go:b.S,state:"cached",qr:p.$d.Ei.MEDIA,size:void 0}):b.Vjb&&!b.Ujb&&a.push({Go:b.S,state:"loading",qr:p.$d.Ei.MEDIA,size:void 0});});return a;};b.prototype.Lta=function(a){return a&&0<=a.indexOf("billboard");};},function(g,d,a){var b,c,h,l,f,p,m,r,u,k,v,B,y,n,z,I,q,E,qa,O,K,X,W,ba,R,T,D,w;Object.defineProperty(d,"__esModule",{value:!0});b=a(61);g=a(19);c=a(34);h=a(122);l=a(123);f=a(8);p=a(6);m=a(96);r=a(29);u=a(20);d=a(2);k=a(3);v=a(23);B=a(217);y=a(4);n=a(86);z=a(137);I=a(113);q=a(56);E=a(172);qa=a(18);O=a(33);K=a(42);X=a(484);W=a(157);ba=a(185);R=a(145);T=a(105);D=a(463);g.Ye(d.I.sea,function(a){var ta,fa,ja,da,$a,J,Pa,ab,U,Y,aa,jb,va,ib,Ma;function d(){var a,b,c;if(f.config.Ql){a={};a.trigger=q.ad.gNa.dMa;b=ta.getTime();c=w.getStats(ib,b);a.startoffset=ib;ib=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.$v);a.general=JSON.stringify(c.kra);a=new m.qA(void 0,"prepare","info",a);t._cad_global.logBatcher.Vb(a);}}function g(a,b,c){var d,g;g=a.video_tracks;g&&g.length&&g[0].streams&&g[0].streams.length&&(d=g[0].streams[0].content_profile);g=f.ooa(b.wc);d=f.noa(!!a.choiceMap,!1,d);d=h.pk.qp(Object.assign({},g,d));return{S:c,Fd:0,Y9a:function(){return{Ha:a,ii:!1,OB:a.defaultTrackOrderList[0].audioTrackId};},config:d,Yd:!!b.Yd,fwa:b.fwa};}function x(a,b,c){w.Mj(a,"ldl").then(function(a){c(null,a);})["catch"](function(d){Pa.trace("ldl not available in cache",d);w.Mj(a,"manifest").then(function(d){var h,m,p;function g(b){Pa.warn("ldl is now invalid",b);m.close();w.Qv(a,"ldl",void 0);w.F1(a);}if(w.aS(a,"ldl"))c({status:q.ad.Zd.bA});else if(d.hasDrmStreams)if(f.config.Gpa&&ab&&ab!==a&&!b.force)c({status:q.ad.Zd.qM});else if(f.config.Hpa&&U&&U!==a&&!b.force)c({status:q.ad.Zd.cF});else{ab&&ab!==a&&(Y[a]=(Y[a]|0)+1);U&&U!==a&&(aa[a]=(aa[a]|0)+1);h=d.video_tracks[0].drmHeader.bytes;m=N({uta:"cenc",bqa:Pa,$n:function(b){var f;f=[];b.Nn.forEach(function(a){f.push({sessionId:a.sessionId,dataBase64:k.V0(a.data)});});b={Nn:f,QQ:[d.drmContextId],Hg:q.ad.xoa(b.Hg),kf:d.playbackContextId,ja:w.Ooa(a)};Pa.trace("xid created ",{MovieId:a,xid:b.ja});return da.IB(b,jb);},Bpb:void 0,y6a:g,ke:void 0,GT:qa.Tb,Ka:$a});w.Qv(a,"ldl",m,function(){m.close();});p=J.shift();k.log.trace("cached mediakeys count "+J.length);return m.create(f.config.Wd,p).then(function(){return m.ie(n.vj.ww,[k.Kn(h)],!0);}).then(function(){c(null,m);})["catch"](function(a){g(a);c(a);});}else c({status:q.ad.Zd.pM});})["catch"](function(a){Pa.warn("Manifest not available for ldl request",a);c({status:q.ad.Zd.bA});});});}function A(a,b,c){w.Mj(a,"ldl").then(function(a){c(null,a);})["catch"](function(d){Pa.trace("ldl not available in cache",d);w.Mj(a,"manifest").then(function(d){var h,m;function g(b,f){Pa.warn(b+" LDL is now invalid.",f);w.Qv(a,"ldl",void 0);w.F1(a);}if(w.aS(a,"ldl"))c({status:q.ad.Zd.bA});else if(d.hasDrmStreams)if(f.config.Gpa&&ab&&ab!==a&&!b.force)c({status:q.ad.Zd.qM});else if(f.config.Hpa&&U&&U!==a&&!b.force)c({status:q.ad.Zd.cF});else{ab&&ab!==a&&(Y[a]=(Y[a]|0)+1);U&&U!==a&&(aa[a]=(aa[a]|0)+1);h=d.video_tracks[0].drmHeader.bytes;m=k.ba.get(z.QW)().then(function(b){var c;c={type:n.vj.ww,Y5:k.Kn(h),context:{Wd:f.config.Wd},Lg:{S:a,ja:w.Ooa(a),kf:d.playbackContextId,Ij:d.drmContextId,profileId:l.ah.profile.id}};return b.Iv(c,new D.wfa());}).then(function(a){c(null,a);return a;})["catch"](function(a){g("Unable to prepare an EME session.",a);});w.Qv(a,"ldl",m,function(){try{m.then(function(a){a.close().subscribe(void 0,function(a){g("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){g("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(zc){g("Unable to cleanup LDL session, unexpected exception.",zc);}});}else c({status:q.ad.Zd.pM});})["catch"](function(a){Pa.warn("Manifest not available for ldl request",a);c({status:q.ad.Zd.bA});});});}function N(a){var b,c;b=new O.Cf.$s(a.bqa,a.$n,a.Bpb,{uc:!1,If:!1});c=k.ba.get(I.MA);return O.Cf.Po(a.bqa,a.uta,a.ke,{uc:!1,If:!1,eD:f.config.Rh,mE:{hT:f.config.Qza,bQ:f.config.n$},Pj:b,nU:f.config.n9,Ca:void 0,SE:f.config.SE,dw:f.config.e3,onerror:a.y6a,GT:a.GT,Ka:a.Ka,cU:!1,aL:f.config.nba&&f.config.aL,lS:f.config.lS,Yma:c.nQ(),GCa:c.NH([]),bD:f.config.bD});}function la(a,b){0===a&&k.log.trace("generete mediakeys for pre-caching");a<b?O.Cf.Po.pQ&&O.Cf.Po.pQ("cenc",f.config.Wd,k.log,f.config.nba&&f.config.aL).then(function(f){J.push(f);K.ib(la.bind(null,++a,b));})["catch"](function(a){k.log.error("abort pre-caching due to error in creating mediakeys",a);}):k.log.trace("pre-cached mediakeys complete, number of instances: "+b);}ta={getTime:u.Ac,MR:u.Ox};fa=k.ba.get(v.ne);ja=k.ba.get(ba.aY);da=k.ba.get(R.GF);$a=ta;J=[];Pa=k.Bd("VideoPreparer");Y={};aa={};jb={Bb:c.Bb,log:Pa};if(!O.Cf.Po||!O.Cf.$s){va=O.fga();O.Cf.Po=va.le;O.Cf.$s=va.request;}Pa.info("instance created");w=new X.JQa({log:Pa,Ka:ta,yba:u.S_a,NC:function(a,b,c){var g;function d(){var b,f;fa.Ex(g)||(g={trackingId:g});b={zi:ja.boa(g.PB,g.zi),Ne:a,ds:!!g.ff,AI:q.ad.tn.qga,iz:g.iz};jb.profile=l.ah.profile;Pa.trace("manifest request for:"+a);f=k.ba.get(T.EA)();return ja.NC(b,f);}g=b.cb;Pa.trace("getManifest: "+a);f.config.XWa&&g&&g.Ha&&!w.aS(a,"manifest")&&(!g.Ha.clientGenesis||Date.now()-g.Ha.clientGenesis<f.config.gya)?(g.Ha.Bz=ta.getTime(),g.Ha.eE=ta.getTime(),b=g.Ha.runtime?k.ba.get(W.bY).decode(g.Ha):g.Ha,w.Qv(a,"manifest",b),c(null,b)):w.Mj(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var f;Pa.trace("manifest not available in cache",b);if(w.aS(a,"manifest"))c({status:q.ad.Zd.bA});else{f=ta.getTime();b=d();w.Qv(a,"manifest",b);b.then(function(b){b.Bz=f;b.eE=ta.getTime();w.Qv(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);w.Qv(a,"manifest",void 0);});}});},PR:f.config.Mo?A:x,y1:function(){return f.config.YQ&&r.BS(f.config);},MC:function(a,b,f){var c;c=b.cb;w.Mj(a,"manifest").then(function(b){b=g(b,c,a);h.qk.Dna(b,function(){f(null,{});});})["catch"](function(a){Pa.error("Exception in getHeaders",a);f(a);});},OC:function(a,b,f){var c;c=b.cb;w.Mj(a,"manifest").then(function(d){var m,p,l;m=g(d,c,a);p=d.duration;d=k.ba.get(B.lM).p0({QE:y.sb(d.bookmark),S:a,qK:y.sb(p),Ta:c}).ma(y.za);k.ba.get(v.ne).kp(c.U)&&(d=c.U);m.Mb=d;if(ab!=a||c.Yd||b.force){l=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(h.qk.removeEventListener("prebuffstats",l),f(null,{}));};h.qk.addEventListener("prebuffstats",l);h.qk.Dna(m);}else f({status:q.ad.Zd.cF});})["catch"](function(a){Pa.error("Exception in getMedia",a);f(a);});},Hy:function(){return h.qk.Hy();},x1:function(){return f.config.XQ;},c8:function(a){var b;b=!1;h.qk.k1().forEach(function(f){f.S==a&&(b=!0);});return b;},k4:function(){return h.qk.k1().map(function(a){var f,c;f=h.qk.Keb(a.S);c=f[b.kc.vg.AUDIO]&&f[b.kc.vg.AUDIO].data;f=f[b.kc.vg.VIDEO]&&f[b.kc.vg.VIDEO].data;return{S:a.S,$r:a.$r,Xma:c&&c.length,FCa:f&&f.length,F7a:fa.kp(a.dc.tR),xdb:fa.kp(a.dc.MS),Vjb:fa.kp(a.dc.WD),Ujb:fa.kp(a.dc.tK)};});},y8:function(a){ab=a;},z8:function(a){Ma&&(Ma.D1(),d());U=a;},eK:function(){Ma&&Ma.Q$();U=ab=void 0;},w4:function(){return{ldls_after_create:Y,ldls_after_start:aa};},p1:function(a,b,f){var c,d;try{c=w.KEb(a);d=c&&c.U===b;c&&c.tK?fa.Al(b)&&!d?f(!1):w.Mj(a,"manifest").then(function(b){b.oJb?w.Mj(a,"ldl").then(function(){f(!0);})["catch"](function(){f(!1);}):f(!0);})["catch"](function(){f(!1);}):f(!1);}catch(Mb){f(!1);}},VH:f.config.VH,XH:f.config.XH,WH:f.config.WH,mJ:f.config.fkb,m1:f.config.ikb,l1:f.config.gkb,t3:f.config.gya,s3:f.config.hkb,uc:!1,Lb:k.ba});t._cad_global.videoPreparer=w;va=f.config.kjb;ib=ta.getTime();va&&(Ma=new E.oha(va,d),Ma.Q$());f.config.YQ&&r.BS(f.config)&&f.config.$xa&&K.ib(la.bind(null,0,f.config.$xa));a(p.Hb);});},function(g,d,a){var b,c,h,l,f,p,m,r,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(139);b=a(6);c=a(8);h=a(41);d=a(9);l=a(3);f=a(57);p=a(83);m=a(12);r=a(18);u=a(5);t.netflix=t.netflix||{};m.va(!t.netflix.player);t.netflix.player={VideoSession:g.eZ,diag:{togglePanel:function(a,b){var f;if(!c.config||c.config.KK){switch(a){case"info":f=h.Jq.map(function(a){return a.bU;});break;case"streams":f=h.Jq.map(function(a){return a.Hjb;});break;case"log":f=[];}f&&f.forEach(function(a){r.ab(b)?b?a.show():a.py():a.toggle();});}},addLogMessageSink:function(a){l.ba.get(f.qt).addListener({bAa:function(){},Rva:function(b){a({data:b.data});}});}},log:l.Bd("Ext"),LogLevel:d.Vh,addLogSink:function(a,b){l.ba.get(p.yw).bE(a,b);},getVersion:function(){return"6.0015.328.031";},isWidevineSupported:function(a){var c;function f(a){return function(b,f){return f.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");c=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.tt,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.sA,robustness:"SW_SECURE_CRYPTO"}]}];try{u.Zj.requestMediaKeySystemAccess("com.widevine.alpha",c).then(function(c){var d;d=c.getConfiguration();c=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(f(b.sA),!1);c=c.reduce(f(b.tt),!1);a(d&&c);})["catch"](function(){a(!1);});}catch(y){a(!1);}}};},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(139);c=a(6);d=a(2);h=a(8);l=a(141);f=a(3);p=a(41);m=a(122);r=a(65);g.Ye(d.I.uea,function(a){var d,g;if(h.config.Q6a){d=f.ba.get(l.kN);g=f.ba.get(r.un);b.eZ.KP.test={pboRequests:d.Pj,playbacks:p.Jq,aseManager:{cacheDestroy:function(){return m.qk.Cna();}},device:{esn:t._cad_global.device.ig,esnPrefix:g.Nm,errorPrefix:g.AC}};}a(c.Hb);});},function(g,d,a){var b,c,h,l,f,p,m,r,u,k,v,B,y,n,z;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(103);c=a(123);h=a(139);l=a(176);f=a(249);p=a(34);m=a(6);r=a(8);u=a(96);k=a(2);v=a(3);B=a(12);y=a(17);n=a(18);z=a(15);g.Ye(k.I.tea,function(a){var x,A;function d(a,b){var f;f={profile:c.ah.profile,log:x,Bb:p.Bb};a.email&&(f.cy=a.email,f.password=a.password||"");a.sendNetflixIdUserAuthData&&(f.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.jh&&(f.jh=a.jh);b({O:!0,ks:f});}function g(a){return{account:{id:a.Bh.id},id:a.id,lastAccessTime:a.vJ,languages:a.languages,registered:a.F9};}x=v.Bd("NccpApi");A=y.eYa();h.eZ.KP.nccp={getEsn:function(){return b.Eg.ig;},getPreferredLanguages:function(){return r.config.Fg.nz;},setPreferredLanguages:function(a){B.va(z.isArray(a)&&n.ev(a[0]));r.config.Fg.nz=a;},login:function(a,b){return new Promise(function(f,d){c.ah.Gy(a,b).then(function(a){f(g(a));})["catch"](function(a){d({success:!1,error:v.Fw(a.code,a)});});});},logout:function(){return new Promise(function(a,b){c.ah.Ieb().then(a)["catch"](function(a){b({success:!1,error:v.Fw(a.code,a)});});});},isLoggedIn:function(){return c.ah.$2a().map(function(a){return!(a.cj||"browser"===a.id);});},switchProfile:function(a){return new Promise(function(b,f){c.ah.nqb(a).then(function(a){b(g(a));})["catch"](function(a){f({success:!1,error:v.Fw(a.code,a)});});});},ping:function(a,b){d(a,function(a){l.Gh.ping(a.ks,function(a){b&&(a.O?b({success:!0}):b({success:!1,error:v.Fw(k.I.sY,a)}));});});},netflixId:function(a,b){d(a,function(a){l.Gh.Y0(a.ks).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:v.Fw(k.I.Hfa,a)});});});},getDeviceTokens:function(a){B.va(z.rb(a));l.Gh.Y0({log:x,Bb:p.Bb}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:v.Fw(k.I.Hfa,b)});});},getRegistered:function(a,b){var d;try{d=f.Xm.Kg.hasUserIdToken(a.id||c.ah.profile.id);b({success:!0,registered:d});}catch(ba){b({success:!1});}},unregister:function(a,b){try{f.Xm.Kg.removeUserIdToken(a.id||c.ah.profile.id);b({success:!0});}catch(W){b({success:!1});}},queueLogblob:function(a,b,f){a&&b&&(b=b.toLowerCase(),A[b]?t._cad_global.logBatcher&&(a=new u.qA(void 0,a,b,f),t._cad_global.logBatcher.Vb(a)):x.warn("Invalid severity",{severity:b}));},flushLogblobs:function(){t._cad_global.logBatcher.flush(!0);}};a(m.Hb);});},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);c=a(29);h=a(12);l=a(17);f=a(18);d.lFa=function(a,b){h.va(a);h.va(b);h.TH(b.s6a,"endpointURL property is required");h.va(b.Xi);this.log=a;this.Rxa=b;};d.lFa.prototype.Tu=function(){var a,d,g;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.Rxa.Xi)};g=a.Rxa.s6a+"?"+c.dK(d);return new Promise(function(c,d){function h(b){var f;try{if(b.O){f=new Uint8Array(b.content);return{O:!0,config:JSON.parse(String.fromCharCode.apply(null,f)).core.initParams};}return{O:!1,message:"Unable to download the config. "+b.Ga,$I:b.Ih};}catch(N){return b=l.Cc(N),a.log.error("Unable to download the config. Received an exception parsing response",{message:N.message,exception:b,url:g}),{O:!1,Ga:b,message:"Unable to download the config. "+N.message};}}function m(b,c,d){return c>d?(a.log.error("Config download failed, retry limit exceeded, giving up",f.Ma({Attempts:c-1,MaxRetries:d},b)),!1):!0;}function p(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function r(g,u,k){b.Bb.download(g,function(b){var x;b=h(b);if(b.O)c(b);else{a.log.warn("Config download failed, retrying",f.Ma({Attempt:u,WaitTime:x,MaxRetries:k},b));if(m(b,u+1,k))return x=l.tya(1E3,1E3*Math.pow(2,Math.min(u-1,k))),p(x).then(function(){return r(g,u+1,k);});d(b);}});}return b.Bb?r({url:g,responseType:3,withCredentials:!0,Zx:"config-download"},1,3):Promise.reject({O:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);b=a(8);c=a(6);d=a(2);h=a(3);l=a(166);g.Ye(d.I.gea,function(a){b.config.d8a&&h.ba.get(l.Hda).start();a(c.Hb);});},function(g,d,a){var b,c,h,l,f,p,m,r,u,k,v,B,y,n,z;Object.defineProperty(d,"__esModule",{value:!0});b=a(146);c=a(19);h=a(252);l=a(41);f=a(8);p=a(55);m=a(6);r=a(29);u=a(20);k=a(17);v=a(5);B=a(3);y=a(88);n=a(16);z=a(33);l.Sga(l.Nga,function(a){var ba,R,T,D,w,da;function d(b){b.newValue>=l.cl&&(a.state.removeListener(d),t("type=openplay&sev=info&locstor="+v.lY(I())),T=u.Ac(),A());}function g(){da("type=startplay&sev=info&outcome=success");}function x(){var f,c;f=a.Jh;if(f){c="type=startplay&sev=error&outcome=error";f=b.esa(z.jHa,f);k.tc(f,function(a,b){c+="&"+v.lY(a)+"="+v.lY(b||"");});da(c);}else da("type=startplay&sev=info&outcome=abort");}function A(){var a,b;a=D.shift();if(0<a){b=v.bl(a-(u.Ac()-T),0);R=setTimeout(function(){t("type=startstall&sev=info&kt="+a);A();},b);}}function q(){da("type=startplay&sev=info&outcome=unload");}function I(){var a,b,f;try{b=""+u.Ox();localStorage.setItem("player$test",b);f=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==f?"success":"mism";}catch(ma){a="ex: "+ma;}return a;}function t(b){b=w+"&soffms="+a.my()+"&"+b;a.Tc&&Object.keys(a.Tc).length&&(b+="&"+r.dK(k.Ma({},a.Tc,{prefix:"sm_"})));h.hrb(b,ba);}ba=B.ba.get(y.Ts).host+f.config.Uaa;if(f.config.LV&&ba){D=f.config.irb.slice();w="xid="+a.ja+"&pbi="+a.index+"&uiLabel="+(a.wc||"");a.state.addListener(d);a.addEventListener(n.X.Oh,g);a.addEventListener(n.X.Fe,x);p.he.addListener(p.Ck,q,m.zA);da=function(b){da=m.Tb;b+="&initstart="+c.PS+"&initend="+c.P6;t(b);clearTimeout(R);a.removeEventListener(n.X.Oh,g);a.removeEventListener(n.X.Fe,x);p.he.removeListener(p.Ck,q);};}});},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(93);b=a(8);c=a(3);g.MF(function(a){var d,f,g,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720};Object.assign(d,b.config.Jrb);f=d[a.wc];if(b.config.Krb&&f){g={};h=c.yf(a,"MediaStreamFilter");return{wI:"uiLabel",Gs:function(b){if(b.lower&&b.height>f)return g[b.height]||(g[b.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:b.height}),a.nu.set({reason:"uiLabel",height:b.height})),!0;}};}});},function(g,d,a){var c,h,l,f;function b(a){var d,g;function b(c){c=c.Mn;a.removeEventListener(f.X.e8,b);try{h.Rcb(c.data)&&(g=!0,a.yob());d.trace("RA check",{HasRA:g});}catch(v){d.error("RA check exception",v);}}d=c.yf(a,"RAF");a.addEventListener(f.X.e8,b);return{wI:"ra",Gs:function(a){if(!g&&a.Ll)return a=a.Ue,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(93);c=a(3);h=a(253);l=a(33);f=a(16);l.yOa&&g.MF(b);d.Jxb=b;},function(g,d,a){var c,h;function b(a){var b,d;b=h.yf(a,"MSS");if(c.config.Yfb)return{wI:"mss",Gs:function(f){var c,g;if(f.lower&&2160<=f.height)a:{for(c=f;c.lower;){if(2160>c.height&&1080<c.height){c=!0;break a;}if(1080>=c.height)break;c=c.lower;}c=!1;}else c=void 0;if(c){if(void 0===d){try{g=t.MSMediaKeys;d=g&&g.isTypeSupportedWithFeatures?"probably"===g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(x){b.error("hasUltraHdDisplay exception");d=!0;}d||(b.warn("Restricting resolution due screen size",{MaxHeight:f.height}),a.nu.set({reason:"microsoftScreenSize",height:f.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(93);c=a(8);h=a(3);g.MF(b);d.Ixb=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(93).MF(function(){return{wI:"op",Gs:function(){}};});},function(g,d,a){var c,h,l,f,p,m,r,u,k,v,B,y;function b(a){var A,q,K,t,W,ba,R,T,D,w,da,ga,V,P,ma,ca,la;function b(){var b;b=a.Uc.value==l.Wo&&a.state.value==l.vn;ga?b||(clearInterval(ga),R=ga=void 0,V&&(clearInterval(ma),ma=void 0)):b&&(ga=setInterval(g,1E3),V&&(ma=setInterval(x,P)));}function g(){var b,c,d,g,h,m;b=a.ng.value;b=(b=b&&b.stream)&&b.height;if(0<b){c=p.Ac();d=a.Nh.jy();if(d){if(R&&2E3>c-R.time&&b==R.height){g=d-R.f5a;h=q[b];h||(q[b]=h=[],b>D&&(ba.push(b),f.iW(ba)));0<g&&!(da<b)&&(da=b);h.push(g);h.length>T&&h.shift();(h=t[b])||(t[b]=h={});m=h[g];h[g]=m?m+1:1;}R={time:c,f5a:d,height:b};a.bU&&a.bU.fob(q);}}}function x(){v.storage.save(d.HX,{xid:a.ja,data:t});}function n(){r.va(v.storage);a.addEventListener(B.X.Fe,function(){x();});W=[];v.storage.load(d.Qda,function(a){var b;a.O&&(W=a.data);b={};v.storage.load(d.HX,function(a){a.O&&(b=a.data);b&&b.data&&Object.keys(b.data).length&&(W.push(b),W.length>V&&W.shift(),v.storage.save(d.Qda,W),v.storage.save(d.HX,{}));});});}A=m.yf(a,"DFF");q={};K=c.config.j5a;t={};W=[];ba=[];T=c.config.h5a;D=c.config.i5a;w=h.YJa;V=c.config.m5a;P=c.config.l5a;ca=k.Zj.hardwareConcurrency||0;if(c.config.g5a)return V&&a.addEventListener(B.X.dna,n),a.VQ={y8a:function(){var a;a={};t&&ba.forEach(function(b){var f,c,d;f=t[b];if(f){c=0;d=0;y.tc(f,function(a,b){d+=u.Dd(a);c+=b;});a[b]=d/c;}});return a;},N4:function(a){var b;b={};a.forEach(function(a){b[a]={};});t&&(f.iW(a),ba.forEach(function(c){var d,g,h,m;d=t[c];if(d){g=0;h=0;y.tc(d,function(a,b){g+=b;});m=Object.keys(d);f.iW(m);for(var p=m.length-1,l=m[p],r=a.length-1;0<=r;r--){for(var u=a[r];l>=u&&0<=p;)(l=d[l])&&(h+=l),l=m[--p];b[u][c]=k.Yf(h/g*100);}}}));return b;}},a.state.addListener(b),a.Uc.addListener(b),{wI:"df",Gs:function(b){var f,d,g,h,m,p,l,r,u,x;if(b.lower&&b.height>D){b=b.height;a:{!la&&c.config.Spa&&c.config.UQ&&a.Coa<c.config.Spa[ca]&&(w=k.wj(w,c.config.UQ),a.nu.set({reason:"droppedFramesPreviousSession",height:c.config.UQ}));la=!0;if(da){f=ba.length;for(d=0;d<f;d++)if(g=ba[d],g>=da&&g<w){h=q[g];if(m=h)b:{u=K.length;x=h.length;for(r=0;r<u;r++)for(p=K[r],m=p[0],p=p[1],l=0;l<x;l++)if(h[l]>=p&&0>=--m){m=!0;break b;}m=void 0;}if(m&&w!=g){A.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:g});a.nu.set({reason:"droppedFrames",height:g});f=c.config.UQ=w=g;break a;}}da=void 0;}f=w;}return b>=f;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(93);c=a(8);h=a(6);l=a(41);f=a(29);p=a(20);m=a(3);r=a(12);u=a(18);k=a(5);v=a(124);B=a(16);y=a(17);g.MF(b);d.Qda="DroppedFramesHistory";d.HX="DroppedFramesSession";d.Hxb=b;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);c=a(3);h=a(18);d.Myb=function(){c.Bd("OpenConnectNotifier");return{GI:function(a){b.Bb.ihb({url:a.url,reason:a.reason});},Zaa:h.Tb};}();},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(3);a=a(330);a=g.ba.get(a.Qba);a;},function(g,d,a){var b,c,h,l,f,p,m,r,u,k,v,B,y,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(329);h=a(146);l=a(6);f=a(8);p=a(96);m=a(41);r=a(20);g=a(2);u=a(3);k=a(115);v=a(5);B=a(42);y=a(15);b.Ye(g.I.iea,function(a){var g;function d(){var a,c,d,l;a={browserua:v.vh,browserhref:v.aN.href,initstart:b.PS,initdelay:b.P6-b.PS};c=v.yd.documentMode;c&&(a.browserdm=""+c);"undefined"!==typeof t.nrdp&&t.nrdp.device&&(a.firmware_version=t.nrdp.device.firmwareVersion);y.ev(f.config.Dqa)&&(a.fesn=f.config.Dqa);Object.assign(a,h.nsa());d=v.Dq&&v.Dq.timing;d&&f.config.xeb.map(function(b){var f;f=d[b];f&&(a["pt_"+b]=f-r.T_a());});l=g.Wra();Object.keys(l).forEach(function(b){return a["m_"+b]=l[b];});c=new p.qA(m.mN&&m.mN.j,"startup","info",a);n.Vb(c);}n=u.ba.get(c.Qea);t._cad_global.logBatcher=n;g=u.ba.get(k.Qw);b.BJ(function(){n.Dc();B.ib(d);});a(l.Hb);});},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);c=a(8);h=a(20);d.zub=function(a){var f;f={HBb:a,xqa:!0,F9:!1,vJ:h.Ac(),load:function(a){(a||b.Tb)(b.Hb);},save:function(){f.xqa=!0;},remove:function(a){f.xqa=!1;(a||b.Tb)(b.Hb);},NAb:c.config.Fg.nz,MFb:!0};return f;};},function(g,d,a){var l,f,p,m;function b(a,b,d,g){var r,u,k;l.va(m.re(a)&&!m.isArray(a));g=g||"";r="";u=a.hasOwnProperty(p.Di)&&a[p.Di];u&&f.tc(u,function(a,b){r&&(r+=" ");r+=a+'="'+h(b)+'"';});d=(b?b+":":"")+d;u=g+"<"+d+(r?" "+r:"");k=a.hasOwnProperty(p.pq)&&a[p.pq].trim&&""!==a[p.pq].trim()&&a[p.pq];if(k)return u+">"+h(k)+"</"+d+">";a=c(a,b,g+"  ");return u+(a?">n"+a+"n"+g+"</"+d+">":"/>");}function c(a,c,d){var g;l.va(m.re(a)&&!m.isArray(a));d=d||"";g="";f.tc(a,function(a,p){var u;if("$"!=a[0])for(var l=f.p7(p),r=0;r<l.length;r++)if(p=l[r],g&&(g+="n"),m.re(p))g+=b(p,c,a,d);else{u=(c?c+":":"")+a;g+=d+"<"+u+">"+h(p)+"</"+u+">";}});return g;}function h(a){if(m.Vd(a))return f.G5(a);if(m.ka(a))return l.xQ(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";l.va(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});l=a(12);f=a(17);p=a(126);m=a(15);d.ZFb=b;d.$Fb=c;d.OIb=h;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(19);d=a(2);b=a(3);c=a(306);g.Ye(d.I.hea,function(a){b.ba.get(c.kda)().then(function(){a({O:!0});})["catch"](function(c){b.log.error("error in initializing indexedDb debug tool",c);a({O:!0});});});},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);c=a(29);h=a(6);l=a(8);f=a(2);p=a(466);m=a(33);r=a(5);m.hfa&&b.Ye(f.I.vea,function(a){r.Ux&&r.Ux.generateKey&&r.Ux.importKey&&r.Ux.unwrapKey?!m.Cf.Oca&&l.config.QB!=p.iM.lNa&&l.config.QB!=p.iM.dKa||r.kY?(b.CJ("wcs"),c.mib(r.Ux.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){b.CJ("wcdone");a(h.Hb);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=f.H.fZ:0<=b.indexOf("timeout waiting for iframe to load")&&(c=f.H.PQa);a({T:c,Ga:b});})):a({T:f.H.OQa}):a({T:f.H.fZ});});},function(g,d,a){var h,l,f,p,m,r,u,k,v,B,y,n,z,q,N,E,qa,t,K;function b(){try{N.write(new v.Jfa([qa]));qa="";}catch(X){t.nb(b);}}function c(a){a.level<=q&&(a=a.EL(!1,!0)+"n",qa+=a,t.nb(b));}Object.defineProperty(d,"__esModule",{value:!0});g=a(19);h=a(250);l=a(8);f=a(6);p=a(20);d=a(9);m=a(83);r=a(3);u=a(2);k=a(12);v=a(5);B=a(144);y=a(103);n=a(84);a=a(4);z={create:!0};q=d.Vh.WY;E=[];qa="";t=r.ba.get(n.Nw)(a.sb(10));K=r.ba.get(m.yw);K.bE(B.rA.$X,function(a){E.push(a);});g.Ye(u.I.jea,function(a){var g,m,r,u;function d(){var a;K.$Ba(B.rA.$X);if(N){N.seek(N.length);a="Version: 6.0015.328.031n"+(y.Eg?"Esn: "+y.Eg.ig+"n":"")+"JsSid: "+p.CF+", Epoch: "+p.Ox()+", Start: "+p.U_a()+", TimeZone: "+new Date().getTimezoneOffset()+"nHref: "+v.aN.href+"nUserAgent: "+v.vh+"n--------------------------------------------------------------------------------n";qa+=a;t.nb(b);for(a=0;a<E.length;a++)c(E[a]);E=void 0;K.bE(B.rA.RQa,c);}}k.va(l.config);if(h.E3){g=p.CF+".log";m=function(a){N=a;d();};r=function(){k.va(!1);d();};u=function(a){a.createWriter(m,r);};h.E3.root.getDirectory("netflix.player.logs",z,function(a){l.config.tHb?a.getFile(g,z,u,r):(a.removeRecursively(f.Tb),d());},r);}else K.$Ba(B.rA.$X),E=void 0;a(f.Hb);});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(19);a(8);a(6);a(3);a(83);a(144);a(2);a(84);a(4);},function(g,d,a){var m,r,u,k,v;function b(a){var b,c;r.TH(a);if(u.Vd(a)&&d.YIa.test(a)){b=a.split(".");if(4===b.length){for(var f=0;f<b.length;f++){c=u.Dd(b[f]);if(0>c||!v.dv(c,0,255)||1!==b[f].length&&0===b[f].indexOf("0"))return;}return a;}}}function c(a){var f;f=0;if(b(a)===a)return a=a.split("."),f+=u.Dd(a[0])<<24,f+=u.Dd(a[1])<<16,f+=u.Dd(a[2])<<8,f+u.Dd(a[3]);}function h(a){var b;r.TH(a);if(u.Vd(a)&&a.match(d.ZIa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=l(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?f(a):b,a=b.length,8===a)){for(;a--;)if(!v.dv(parseInt(b[a],16),0,m.ZJa))return;return b.join(":");}}}function l(a){var b;a=c(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function f(a){var b,f,c;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);f=8-(b.length+a.length);if(1>f)return[];for(c=0;c<f;c++)b.push("0");for(c=0;c<a.length;c++)b.push(a[c]);return b;}function p(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});m=a(6);r=a(12);u=a(18);k=a(5);v=a(15);d.YIa=/^[0-9.]*$/;d.ZIa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.mA="0000000000000000";d.cxb=b;d.Zwb=c;d.dxb=h;d.axb=l;d.bxb=f;d.exb=function(a,f,g){var m,l,r,u;m=b(a);l=h(a);r=b(f);u=h(f);if(!m&&!l||!r&&!u||m&&!r||l&&!u)return!1;if(a===m)return g=p(g),(c(a)&g)!==(c(f)&g)?!1:!0;if(a===l){a=a.split(":");f=f.split(":");for(m=k.Aq(g/d.mA.length);m--;)if(a[m]!==f[m])return!1;g%=d.mA.length;if(0!==g)for(a=parseInt(a[m],16).toString(2),f=parseInt(f[m],16).toString(2),a=d.mA.substring(0,d.mA.length-a.length)+a,f=d.mA.substring(0,d.mA.length-f.length)+f,m=0;m<g;m++)if(a[m]!==f[m])return!1;return!0;}return!1;};d.$wb=p;},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(12);a(17);h=a(18);l=a(2);f=a(33);p=a(42);m=a(5);a(15);r=a(114);d.iGb=function(a,d){var k,x,n;function g(a){var b;b=d;d=h.Tb;b(a);}function u(a){var b,f,d,h;try{b=JSON.parse(a.data);f=b.method;d=b.success;h=b.payload;c.va("ready"==f);"ready"==f&&(x.removeEventListener("message",u),n.Sf(),p.ib(function(){k.info("Plugin sent ready message");d?g({success:!0,pluginObject:x,pluginVersion:h&&h.version}):g({T:l.H.lga,mc:b.errorCode});}));}catch(K){k.error("Exception while parsing message from plugin",K);g({T:l.H.mga});}}k=b.Bd("Plugin");c.va(a);if(a){a=a[0].type;k.info("Injecting plugin OBJECT",{Type:a});x=h.createElement("OBJECT",f.Cf.dNa,void 0,{type:a,"class":"netflix-plugin"});x.addEventListener("message",u);n=b.ba.get(r.Pw)(8E3,function(){k.error("Plugin load timeout");g({T:l.H.oga});});m.yd.body.appendChild(x);n.up();}else g({T:l.H.nga});};d.kGb=function(){};d.jGb=function(a){var f,c,d;f=b.Bd("Plugin");c=1;d={};a.addEventListener("message",function(a){var b,c,g,h;try{b=JSON.parse(a.data);c=b.success;g=b.payload;h=d[b.idx];h&&(c?h({O:!0,MBb:g}):h({O:!1,T:l.H.bNa,Ga:b.errorMessage,mc:b.errorCode}));}catch(E){f.error("Exception while parsing message from plugin",E);}},!1);return function(g,h,m){var u,k,x,v;function p(a){a.O||f.info("Plugin called back with error",{Method:g},l.sn(a));x.Sf();delete d[u];m(a);}try{u=c++;k={idx:u,method:g};k.argsObj=h||{};x=b.ba.get(r.Pw)(8E3,function(){f.error("Plugin never called back",{Method:g});delete d[u];m({T:l.H.cNa});});x.up();v=JSON.stringify(k);d[u]=p;a.postMessage(v);}catch(K){f.error("Exception calling plugin",K);m({T:l.H.eNa});}};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(99);a(5);},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(3);d=a(83);a=a(144);g.ba.get(d.yw).bE(a.rA.IEa,function(a){var b,d;b=a.level;if(!t._cad_global.config||b<=t._cad_global.config.Beb){a=a.EL();d=t.console;1>=b?d.error(a):2>=b?d.warn(a):d.log(a);}});},function(g){function d(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.M={d0a:function(a,b,d){for(var f=0;f<a.length;f++)if(a[f]!==b[f])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},j2:function(a,b,d){var f;f={};f.displayTime=a.hi;f.duration=a.duration;f.originX=a.OT;f.originY=a.PT;f.sizeX=a.kV;f.sizeY=a.lV;f.imageData=b;f.id=a.Ep;f.rootContainerExtentX=d.FU;f.rootContainerExtentY=d.GU;return f;},h9a:function(a,b){return"o_"+a+"s_"+b;},DCa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},ab:function(a){return"undefined"!==typeof a;},lnb:function(a,b){return a.some(function(a){return a.id===b;});},o5a:function(c,g){return c.filter(d.bind(null,g)).map(a).reduce(b,0);},MI:function(a,b){var c,f;c=Object.create({});for(f in a)c[f]=a[f];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g,d,a){var t,O,K,X,W,ba;function b(a){t.call(this);this.V8a=m;this.dg=a.url;this.RG=a.request;this.LO=a.Mb||0;this.tO=a.uc;this.fb=a.ga;this.Pi=this.Xg=null;this.qG={};this.Gt=0;this.DG=a.bufferSize||4194304;this.q_={};this.Ula=a.version||1;a.key&&(this.oja=a.crypto,this.fx=this.oja.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.ro?this.Xg=a.ro:(this.od=a.offset,this.YVa=a.size);}function c(){}function h(){}function l(a,b){var d,g,h,m,p,l,r,u;if(a)this.emit(W.ERROR,X.MI(a,ba.eKa));else try{if(2===this.Ula){g=new c();h=K.v9(b)[0];m=h.Vr("636F6D2E-6E65-7466-6C69-782E68696E66");p=h.Vr("636F6D2E-6E65-7466-6C69-782E6D696478");g.nS=m.Tma;g.Bg=m.Bg;g.ij=m.ij;g.S=m.S;g.FU=m.FU;g.GU=m.GU;g.language=m.pdb;g.yqb=m.Zpb;g.startOffset=p.ynb;l=[];r=0;for(a=0;a<p.$e.length;a++){u=p.$e[a];b={};b.duration=u.duration;b.size=u.size;l.push(b);r+=b.duration;}g.entries=l;g.endTime=r;d=g;}else{l=new O(b);r=new c();r.identifier=l.Kv(4);X.assert("midx"===r.identifier);r.version=l.Xd(4);X.assert(0===r.version);r.nS=l.Le(36);r.Bg=l.Nf();r.ij=l.Nf();r.S=l.Nf();r.FU=l.xb();r.GU=l.xb();r.language=l.Le(16);r.yqb=l.Le(16);r.startOffset=l.Nf();r.vp=l.xb();g=[];for(u=p=0;u<r.vp;u++)a={},a.duration=l.Xd(4),a.size=l.xb(),g.push(a),p+=a.duration;r.entries=g;r.endTime=p;d=r;}this.Xg=d;f.call(this);}catch(la){this.emit(W.ERROR,X.MI(la,ba.fKa));}}function f(){var a,b;a=this.Xg;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.dg,offset:b,size:a},this.emit(W.gKa,this.Xg),this.RG(b,p.bind(this))):this.emit(W.ERROR,X.MI({},ba.qLa));}function p(a,b){var f,c,d,g;f=this;if(a)f.emit(W.ERROR,X.MI(a,ba.SOa));else{c=0;d=[];g=0;try{f.Xg.entries.forEach(function(a){var m,p,l,r,u,x,v;p=c;l=f.Xg.nS;r=f.fb;if(2===f.Ula){m=new h();u=K.v9(b);m.entries=[];m.images=[];for(var k=0;k<u.length;k++)for(l=u[k],p=l.Vr("636F6D2E-6E65-7466-6C69-782E73696478"),l=l.Vr("636F6D2E-6E65-7466-6C69-782E73656E63"),r=0;r<p.Tl.length;r++){x={};v=p.Tl[r];x.hi=v.hi;x.duration=v.duration;x.OT=v.OT;x.PT=v.PT;x.kV=v.kV;x.lV=v.lV;x.Ep=v.Ep;x.ZC=v.ZC;if(v=l&&l.Tl[r])x.kqa={iD:v.iD.slice(0),mode:v.lqa};m.entries.push(x);}}else{m=new O(b);u=new h();k=0;m.position=p;u.identifier=m.Kv(4);X.assert("sidx"===u.identifier);u.nS=m.Le(36);X.d0a(u.nS,l,r);u.duration=m.Xd(4);u.vp=m.xb();u.entries=[];for(u.images=[];k<u.vp;)p={},p.hi=m.Xd(4),p.duration=m.Xd(4),p.OT=m.xb(),p.PT=m.xb(),p.kV=m.xb(),p.lV=m.xb(),p.Ep=m.Nf(),p.ZC=m.Xd(4),k++,u.entries.push(p);m=u;}d.push(m);a.V$=m;m.t9=g;m.FK=g+a.duration;g=m.FK;u=m.entries;u.length&&(m.startTime=u[0].hi,m.endTime=u[u.length-1].hi+u[u.length-1].duration);c+=a.size;});}catch(V){f.emit(W.ERROR,X.MI(V,ba.TOa));return;}f.Pi=d;f.emit(W.UOa,this.Pi);a=r.call(f,f.LO,2);a.length?B.call(f,a,f.LO,function(a){a&&f.fb.error("initial sidx download failed");f.emit(W.kha);}):f.emit(W.kha);}}function m(a){var b,f,c,d,g;b=r.call(this,a,2);f=(f=this.Xg)?f.endTime:void 0;if(a>f)return[];c=this.qG.Rj;d=this.qG.index;f=[];d=X.ab(d)&&this.Pi[d+1];if(!(d&&d.entries.length||c&&!(a>c.endTime)))return[];b.length&&B.call(this,b,a);c&&c.images.length&&(f=k(c,a,[],this.Xg));d&&d.images.length&&(b=k(d,a,f,this.Xg),f.push.apply(f,b));b=v(f);if(this.Pi&&0!=this.Pi.length){f=this.Pi[Math.floor(a/6E4)];if(!(f.t9<=a&&a<=f.FK))a:{f=this.Pi.length;if(!this.z6a){this.z6a=!0;b:{try{g=String.fromCharCode.apply(String,this.Xg.language);break b;}catch(V){}g="";}this.fb.error("bruteforce search for ",{movieId:this.Xg.S,packageId:this.Xg.ij,lang:g});}for(g=0;g<f;g++)if(c=this.Pi[g],c.t9<=a&&a<=c.FK){f=c;break a;}f=void 0;}g=f;}else g=void 0;if(f=g&&0<g.entries.length&&0===g.images.length)a:{f=g.entries.length;for(d=0;d<f;d++)if(c=g.entries[d],c.hi<=a&&c.hi+c.duration>=a){f=!0;break a;}f=!1;}return f?null:b;}function r(a,b){var f,g;f=[];if(a=u.call(this,a))this.qG=a;else return this.qG={},f;for(var c=0,d=this.Pi?this.Pi.length:0;c<b&&a.index+c<d;){g=this.Pi[a.index+c];g&&!g.images.length&&f.push(g);c++;}return f;}function u(a){var b,f,c,d,g,h,m;f=this.qG;c=f.Rj;d=f.index;g=this.Pi;this.Cg(X.ab(a));c&&(0===d&&a<=c.startTime?(m=!0,b=f):a>=c.startTime&&a<=c.endTime?(m=!0,b=f):(h=g[d-1],g=g[d+1],h&&a>h.endTime&&a<=c.startTime?(m=!0,b=f):g&&a>=c.endTime&&a<=g.endTime&&(m=!0,b={Rj:g,index:d+1})));if(!m)for(f=this.Xg.entries,c=f.length,d=0;d<c;d++)if(h=f[d].V$,a<=h.startTime||a>h.startTime&&a<=h.endTime){b={Rj:f[d].V$,index:d};break;}return b;}function k(a,b,f,c){var d,g,h,m,p,l;d=a.entries;g=d.length;h=[];p=0;if(!d.length)return h;for(;p<g;){m=d[p];if(m.hi<=b)m.hi+m.duration>=b&&h.push(X.j2(m,a.images[p].data,c));else{l=h.length&&h[h.length-1]||f.length&&f[f.length-1];if(l&&l.hi>b&&l.hi!==m.hi)break;l.Ep!==m.Ep&&h.push(X.j2(m,a.images[p].data,c));}p++;}return h;}function v(a){return a.map(function(b,f){b.duration+=X.o5a(a.slice(f+1),b);return b;}).reduce(function(a,b){X.lnb(a,b.id)||a.push(b);return a;},[]);}function B(a,b,f){var c,d,g,h,m,p;c=this;d=a[0];g=a[a.length-1];0<d.entries.length&&(h=d.entries[0].Ep,m=d.entries[d.entries.length-1]);0<g.entries.length&&(X.ab(h)||(h=g.entries[0].Ep),m=g.entries[g.entries.length-1]);if(h){d=m.Ep+m.ZC-h;p=X.h9a(h,d);c.q_[p]||(c.q_[p]=!0,y.call(c,a,b),c.RG({url:c.dg,offset:h,size:d},function(b,d){var g,m,l,r;setTimeout(function(){delete c.q_[p];},1E3);if(b)f&&f(b);else{g=new O(d);m=0;r=[];a.forEach(function(a){a.entries.forEach(function(b,f){var d,p;g.position=b.Ep-h;d={data:g.Le(b.ZC)};p=b.kqa;p&&(d.iD=p.iD,d.lqa=p.mode,l=!0,r.push(d));a.images[f]=d;!b.kqa&&X.DCa(a.images[f].data,c.Cg.bind(c));m+=a.images[f].data.length;});});c.Gt+=m;l?c.fx.then(function(a){return E.call(c,r,a);}).then(function(){f&&f(null);})["catch"](function(a){c.fb.error("decrypterror",a);f&&f({O:!1});}):f&&f(null);}}));}else f&&f(null);}function y(a,b){var g,h,m,p,l,r;function f(){return{pts:b,hasEnoughSpace:g.Gt+h<=g.DG,required:h,currentSize:g.Gt,max:g.DG,currentIndex:u.call(g,b).index,sidxWithImages:z.call(g),newSidxes:a.map(function(a){return g.Pi.indexOf(a);})};}function c(a,b){g.tO&&!a&&g.fb.info("not done in iteration",b);}function d(a){var b,f,c;b=g.Pi[a];f=b.images&&b.images.length;if(0<f){c=n([b]);b.images=[];g.Gt-=c;g.tO&&g.fb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:c,images:f});if(g.Gt+h<=g.DG)return!0;}}g=this;h=n(a);g.fb.info("make space start:",f());if(!(g.Gt+h<=g.DG)){m=u.call(g,b).index;p=!1;l=0;r=g.Pi.length-1;if(0>m){g.fb.error("inconsistent sidx index");return;}for(;!p&&l<m-2;)p=d(l),l++;for(c(p,1);!p&&r>m+2;)p=d(r),r--;for(c(p,2);!p&&l<m;)p=d(l),l++;for(c(p,3);!p&&r>m;)p=d(r),r--;c(p,4);p||g.fb.error("could not make enough space",{maxBuffer:this.DG});}g.fb.info("make space end",f());}function n(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.ZC+a;},0);},0);}function z(){var a;a=[];this.Xg&&this.Xg.entries&&this.Xg.entries.reduce(function(b,f,c){var d;f=f.V$;d=0;f&&f.images.length&&(a.push(c),d=f.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function q(a,b){return a&&a.t9<=b&&a.FK>=b;}function N(a,b){var f,c,d,g,h,m;f=this;c=f.Xg;d=f.Pi;g=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(c&&d){if(0===g)return[];c=d[0].duration;if(X.ab(c)&&0<c)c=Math.floor(a/c),h=c<g&&q(d[c],a)?d[c]:void 0;else for(f.tO&&f.fb.warn("duration not defined, so use brute force to get starting sidx"),c=0;c<g;c++){m=d[c];if(q(m,a)){h=m;break;}}if(X.ab(h)){h=[];for(var p=function(f){var c;c=f.hi<=a&&a<=f.hi+f.duration;return a<=f.hi&&f.hi<=b||c;};c<g;){m=d[c];h=h.concat(m.entries.filter(p));if(b<m.FK)break;c++;}h=h.map(function(a){return X.j2(a,null,f.Xg);});return v(h);}}}function E(a,b){var c,d;function f(a,b){var f,c;f=this;c=new Uint8Array(16);c.set(a.iD);return f.oja.decrypt({name:"AES-CTR",counter:c,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));X.DCa(a.data,f.Cg.bind(f));});}c=this;try{d=[];a.forEach(function(a){a.iD&&(a=f.call(c,a,b),d.push(a));});return(void 0).all(d);}catch(ga){return c.fb.error("decrypterror",ga),(void 0).reject(ga);}}t=a(142).EventEmitter;O=a(99);K=a(255);X=a(511);W=b.events={gKa:"midxready",UOa:"sidxready",kha:"ready",ERROR:"error"};ba=b.ZDb={eKa:"midxdownloaderror",fKa:"midxparseerror",qLa:"nosidxfoundinmidx",SOa:"sidxdownloaderror",TOa:"sidxparseerror"};b.prototype=Object.create(t.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.Xg)this.fb.warn("midx was prefectched and provided"),f.call(this);else{a={url:this.dg,offset:this.od,size:this.YVa,responseType:"binary"};this.fb.warn("downloading midx...");this.RG(a,l.bind(this));}};b.prototype.close=function(){};b.prototype.Cg=function(a){this.tO&&X.assert(a,this.fb);};b.prototype.Zu=function(a,b){return N.call(this,a,b);};b.prototype.d5=function(a,b){return(a=this.Zu(a,b))?a.length:a;};g.M=b;},function(g,d,a){var h;function b(a,b){return b.reduce(c.bind(this,a),[]);}function c(a,b,c){var f,d;f=c.displayTime-a;a=c.displayTime+c.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<f&&f<d?[{timeout:f,type:"showsubtitle",Qd:c}]:f===d?b.concat([{timeout:f,type:"showsubtitle",Qd:c}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",Qd:c}]:a===d?b.concat([{timeout:a,type:"removesubtitle",Qd:c}]):b;}h=a(142).EventEmitter;d=a(254)({});a=function f(a,b,c){if(!(this instanceof f))return new f(a,b,c);h.call(this);this.Sq=a;this.ESa=b;this.er={};this.vB={};this.fb=c||console;this.NN=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Dj);Object.keys(a.er).forEach(function(b){a.emit("removesubtitle",a.er[b]);});a.er={};};a.prototype.pause=function(){clearTimeout(this.Dj);};a.prototype.Lo=function(a,c){var f,d;f=this;d=f.Sq();clearTimeout(this.Dj);a=f.ESa(d);null!==a&&f.NN&&(f.NN=!1,f.emit("bufferingComplete"));c="number"===typeof c?c:0;Object.keys(f.er).forEach(function(a){a=f.er[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete f.er[a.id],f.emit("removesubtitle",a));});Object.keys(f.vB).forEach(function(a){a=f.vB[a];d>=a.displayTime+a.duration&&delete f.vB[a.id];});null!==a&&0<a.length?(c=a.length,f.fb.info("found "+c+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!f.er[a.id]&&(f.emit("showsubtitle",a),f.er[a.id]=a,delete f.vB[a.id]);}),c=a[a.length-1],f.er[c.id]||f.vB[c.id]||(f.emit("stagesubtitle",c),f.vB[c.id]=c),c=b(d,a),0<c.length?f.TO(c[0].timeout):f.TO(2E4)):null===a?(a=250*Math.pow(2,c),2E3<a&&(a=2E3),f.fb.warn("checking buffer again in "+a+"ms"),f.NN||(f.NN=!0,f.emit("underflow")),f.TO(a,c+1)):f.TO(2E4);};a.prototype.TO=function(a,b){var f;f=this;f.fb.trace("Scheduling pts check.");f.Dj=setTimeout(function(){f.Lo(f.Sq(),b);},a);};g.M=d(["function","function","object"],a);},function(g,d,a){var f,p,m;function b(a){var b;b=1;"dfxp-ls-sdh"===this.kx&&(b=a.eCb.length);this.fb.info("show subtitle called at "+this.Sq()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Nt[this.Nt.length-1].fV+=b;}function c(a){this.fb.info("remove subtitle called at "+this.Sq()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.fb.info("underflow fired by the subtitle timer");this.emit("underflow");}function l(){this.fb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}f=a(142).EventEmitter;p=a(513);d=a(254)();m=a(512);a=function u(a,d){var g,k;g=this;k=a.uc||!1;if(!(g instanceof u))return new u(a,d);f.call(g);g.fb=a.ga||console;g.RG=a.request;g.Sq=a.jsa;g.Dj=null;g.$q=!0;g.Nt=[];g.kx=d.profile;g.dg=d.url;g.LO=d.Mb;g.WUa=d.ckb;g.ZRa=d.Gu;a={url:g.dg,request:g.RG,Mb:g.LO,xml:d.xml,ckb:g.WUa,Gu:g.ZRa,ga:g.fb,uc:k,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,ro:d.ro};if("nflx-cmisc"===g.kx)a.offset=d.SJ,a.size=d.jT,g.Hc=new m(a);else if("nflx-cmisc-enc"===g.kx)a.version=2,a.offset=d.SJ,a.size=d.jT,g.Hc=new m(a);else throw Error("SubtitleManager: "+g.kx+" is an unsupported profile");g.Hc.on("ready",function(){var a,f;a=!!d.NYa;g.fb.info("ready event fired by subtitle stream");g.emit("ready");f=g.Hc.V8a.bind(g.Hc);g.Dj=new p(g.Sq,f,g.fb);g.Dj.on("showsubtitle",b.bind(g));g.Dj.on("removesubtitle",c.bind(g));g.Dj.on("underflow",h.bind(g));g.Dj.on("bufferingComplete",l.bind(g));a&&(g.fb.info("autostarting subtitles"),setTimeout(function(){g.Lo(g.Sq());},10));});g.Hc.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(f.prototype);a.prototype.start=function(){this.Hc.start();};a.prototype.Lo=function(a){this.$q&&(this.$q=!1,this.fb.info("creating a new subtitle interval at "+a),this.Nt.push({U:a,fV:0}));null!==this.Dj&&this.Dj.Lo(a);};a.prototype.stop=function(){var a;this.Sq();this.fb.info("stop called");this.$q||this.pause();this.Hc.removeAllListeners(["ready"]);null!==this.Dj&&this.Dj.stop();a=this.Nt.reduce(function(a,b){a.DAa+=b.fV;a.Om+=b.yqa;a.mcb.push(b);return a;},{DAa:0,Om:0,mcb:[]});"object"===typeof this.Hc&&this.Hc.close();this.fb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.Sq();if(this.$q)this.fb.warn("pause called on subtitle manager, but it was already paused!");else{this.fb.info("pause called at "+a);this.$q=!0;this.fb.info("ending subtitle interval at "+a);b=this.Nt[this.Nt.length-1];b.ea=a;b.ea<b.U&&(this.fb.warn("correcting for interval where endPts is smaller than startPts"),b.U=0<b.ea?b.ea-1:0);b.yqa=this.Hc.d5(b.U,b.ea);this.fb.info("showed "+b.fV+" during this interval");this.fb.info("expected "+b.yqa+" for this interval");}null!==this.Dj&&this.Dj.pause();};a.prototype.Zu=function(a,b){return this.Hc.Zu(a,b);};a.prototype.d5=function(a,b){return this.Hc.d5(a,b);};a=d([{request:"function",jsa:"function",ga:"object"},"object"],a);g.M=a;},function(g,d,a){var c,h,l,f,p;function b(a,b,c){a=f.ae.call(this,a,void 0===c?"AppInfoConfigImpl":c)||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(52);l=a(38);f=a(37);a=a(26);ia(b,f.ae);na.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},oqa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq/msl_v1";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.qI){case h.dt.CPa:a="www.stage";break;case h.dt.bia:a="www-qa.test";break;case h.dt.Gea:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}}});p=b;g.__decorate([l.config(l.string,"apiEndpoint")],p.prototype,"endpoint",null);g.__decorate([l.config(l.string,"nqEndpoint")],p.prototype,"oqa",null);p=g.__decorate([c.N(),g.__param(0,c.l(a.Ki)),g.__param(1,c.l(h.fm)),g.__param(2,c.l(a.dA)),g.__param(2,c.optional())],p);d.sDa=p;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(515);c=a(88);g=a(1);d.w0=new g.Zb(function(a){a(c.Ts).to(b.sDa).$();});},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.rrb=function(a){return{jJ:a.initialSegment,$e:this.vrb(a.segments)};};b.prototype.vrb=function(a){var b;b=this;return Object.keys(a).reduce(function(f,c){f[c]=b.srb(a[c]);return f;},{});};b.prototype.srb=function(a){var b;b={};b=a.next&&this.urb(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{Ne:a.viewableId,Fo:a.startTimeMs,wC:a.endTimeMs,CQ:a.defaultNext,next:b};};b.prototype.urb=function(a){var b;b=this;return Object.keys(a).reduce(function(f,c){f[c]=b.trb(a[c]);return f;},{});};b.prototype.trb=function(a){return{weight:a.weight,r5a:a.earliestSkipRequestOffset};};c=b;c=g.__decorate([a.N()],c);d.fOa=c;},function(g,d,a){var c,h,l,f;function b(a){return h.ae.call(this,a,"PlaylistConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(26);a=a(38);ia(b,h.ae);na.Object.defineProperties(b.prototype,{hya:{configurable:!0,enumerable:!0,get:function(){return 2;}}});f=b;g.__decorate([a.config(a.cw,"prepareSegmentsUpfront")],f.prototype,"hya",null);f=g.__decorate([c.N(),g.__param(0,c.l(l.Ki))],f);d.cOa=f;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.L2a=function(a){var c;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];c=this;if(0===b.length)throw Error("Empty playlist");return{jJ:this.s$(0),$e:b.reduce(function(a,f,d){var g;g=c.s$(d);a[g]={Ne:f,Fo:0};d+1<b.length&&(a[g].CQ=c.s$(d+1));return a;},{})};};b.prototype.s$=function(a){return"segment"+a;};c=b;c=g.__decorate([a.N()],c);d.gOa=c;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);b.prototype.create=function(b,f,c,d,g,h){return new(a(258)).HQa(b,f,c,d,g,h);};h=b;h=g.__decorate([c.N()],h);d.hOa=h;},function(g,d,a){var c;function b(a,b,f,c,d,g,u,k,v,B){b=void 0===b?{}:b;this.V8=B;this.Yy={};this.IP={};this.oc=k.create();this.log=d.qb("PlaylistManager");this.tAa(a);this.wk=a.jJ;this.ID=this.Yy[this.wk];this.$p=u.G2a(v);this.IP[this.wk]=this.pra(0);a=a.$e[this.wk];c=c.He();this.HCa=g.create(a.Ne,Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.Fo,endPts:a.wC,uiPlayStartTime:Date.now()},b,{isPlaylist:!0}),b.wc||"",f,c,this);this.Hob();}Object.defineProperty(d,"__esModule",{value:!0});c=a(16);b.prototype.X8a=function(){return this.wk;};b.prototype.fsa=function(){return this.SD;};b.prototype.M$=function(a){var c;for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];c=this;b.filter(function(a){return c.XK(a.en);}).filter(function(a){a=a.DT;return!a||c.XK(a);}).forEach(function(a){c.Yy[a.en]=c.Hwa(a.DT);});};b.prototype.P_a=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];this.Uma(b);};b.prototype.csb=function(a){if(!this.XK(this.wk,a.$e))throw Error("Provided playlistMap does not contain the current segmentId "+this.wk);this.tAa(a);};b.prototype.lq=function(a,b){var f,c;f=this;c=this.SD.$e[a];c&&c.next&&Object.keys(b).filter(function(a){return f.XK(a,c.next);}).forEach(function(a){return c.next[a].weight=b[a];});};b.prototype.Eab=function(a,b){var f,d;if(a!==this.wk)throw Error("Invalid currentSegmentId");if(b!==this.Yy[a])throw Error("Invalid nextSegmentId");f=this.IP[b];if(!f)throw Error("Manifest for "+b+"  is not ready yet");d=this.Cp().j.hb;if(!d)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b+" ("+f.id+" in ASE)");d.r4(f.id)?(this.log.debug("Segment is already pre-buffered - triggering a transition"),this.Fab(b)):(a=this.fsa().$e[b].Fo,this.log.debug("Segment is not pre-buffered - performing a regular seek"),this.Cp().seek(a,c.Sg.IA,f.na));};b.prototype.addListener=function(a,b,f){this.oc.addListener(a,b,f);};b.prototype.removeListener=function(a,b){this.oc.removeListener(a,b);};b.prototype.U4=function(){return this.$p.U4();};b.prototype.Cp=function(){return this.$p.Cp();};b.prototype.l0=function(a){return this.$p.l0(a);};b.prototype.transition=function(a){return this.$p.transition(a);};b.prototype.close=function(a){return this.$p.close(a);};b.prototype.Hob=function(){var a;a=this;this.$p.addListener(c.lb.loaded,function(){return a.f9();});this.$p.addListener(c.Zga.Sza,function(){return a.bxa();});Object.keys(c.lb).forEach(function(b){var f;f=c.lb[b];a.$p.addListener(f,function(b){return a.oc.Eb(f,b);});});};b.prototype.Fab=function(a){var b,f,d,g,h,u,k;b=this;f=this.Cp().j;d=f.hb;if(!d)throw Error("No streaming session");g=this.IP[a];h=d.r4(g.id);if(!h)throw Error("Segment is not pre-buffered");u=new Promise(function(a){function f(){b.log.debug("Stopped ASE");d.removeEventListener("stop",f);a();}d.addEventListener("stop",f);});k=new Promise(function(a){function g(){b.log.debug("Repositioned");f.removeEventListener(c.X.Xp,g);a();}function h(){b.log.debug("Repositioning");f.removeEventListener(c.X.zz,h);d.stop();}f.addEventListener(c.X.zz,h);f.addEventListener(c.X.Xp,g);});Promise.all([u,k]).then(function(){d.ZB(g.id,!1,!0);f.fireEvent(c.X.CT,{wk:b.wk,DT:a});});this.log.debug("Calling seek on internal player to "+h.cc);this.Cp().seek(h.cc,c.Sg.JA,g.na);};b.prototype.bxa=function(){var a;a=this.Cp().getError();a?this.oc.Eb(c.lb.i1,a):(this.oc.Eb(c.lb.$ma),this.oc.Eb(c.lb.PP),this.oc.Eb(c.lb.Qz),this.oc.Eb(c.lb.KE),this.oc.Eb(c.lb.JL),this.oc.Eb(c.lb.i1));};b.prototype.f9=function(){var a,b,f,d,g,r;a=this;if(this.ID){b=this.g9a(this.wk,this.ID);if(!(0>b||b>this.V8.hya)){b=this.SD.$e[this.ID];this.log.debug("creating new playback",b,new Date());f=this.Cp().j;d=f.qma(b.Ne,f.wc,{Tf:f.Tf,U:b.Fo,ea:b.wC,ff:!1,OV:Date.now(),m6:!0});g=this.ID;r=function(b){b.index===d&&(a.wk=g,a.f9(),f.removeEventListener(c.X.t7,r),a.bxa());};f.addEventListener(c.X.t7,r);this.ID=this.Yy[this.ID];f.Wkb(d).then(function(){a.IP[g]=a.pra(d);}).then(function(){return a.f9();});}}else this.p7a();};b.prototype.p7a=function(){var a;a=this.Cp().j;a.hb&&a.hb.sob();};b.prototype.g9a=function(a,b){for(var f=0;a!==b&&void 0!==a;)f++,a=this.Yy[a];return a?f:-1;};b.prototype.tAa=function(a){this.SD=a;this.Yy={};this.Uma(Object.keys(this.SD.$e));};b.prototype.Uma=function(a){var b;b=this;a.filter(function(a){return b.XK(a);}).forEach(function(a){b.Yy[a]=b.Hwa(b.SD.$e[a].CQ);});};b.prototype.XK=function(a,b){b=void 0===b?this.SD.$e:b;return a in b;};b.prototype.Hwa=function(a){return null===a?void 0:a;};b.prototype.pra=function(a){return{id:"m"+a,na:a};};d.eOa=b;},function(g,d,a){var c,h,l,f,p,m,r,u,k,v,B;function b(b,f,c,d,g,h,m,p){this.Va=b;this.gf=f;this.Njb=c;this.xnb=g;this.q3=h;this.V8=m;f=a(33).hN;this.vnb=d.Tu(!1,"6.0015.328.031",b.id,f,p());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(521);l=a(9);f=a(24);p=a(260);m=a(259);r=a(416);u=a(226);k=a(22);v=a(421);b.prototype.create=function(a,b,f){return new h.eOa(a,b,f,this.Va,this.gf,this.Njb,this.xnb,this.q3,this.vnb,this.V8);};B=b;B=g.__decorate([c.N(),g.__param(0,c.l(f.Oe)),g.__param(1,c.l(l.yb)),g.__param(2,c.l(p.bha)),g.__param(3,c.l(r.Lha)),g.__param(4,c.l(u.RY)),g.__param(5,c.l(v.DM)),g.__param(6,c.l(m.Yga)),g.__param(7,c.l(k.we))],B);d.dOa=B;},function(g,d,a){var b,c,h,l,f,p,m,r,u,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(261);c=a(522);h=a(260);l=a(520);f=a(257);p=a(519);m=a(518);r=a(259);u=a(256);k=a(517);d.vi=new g.Zb(function(a){a(b.EY).to(c.dOa).$();a(h.bha).to(l.hOa).$();a(f.aha).to(p.gOa).$();a(r.Yga).to(m.cOa).$();a(u.$ga).to(k.fOa).$();});},function(g,d,a){var c,h,l,f,p,m,r,u,k,v;function b(a,b,c,d){b=u.kM.call(this,b,c,d)||this;b.config=a;b.log=h.yf(b.j,"LegacyLicenseBroker");b.Wd=b.config().Wd;b.config().n9?f.Qcb()?b.TV=!0:b.log.error("Promise based eme requested but platform does not support it",{browserua:p.vh}):b.TV=!1;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(3);l=a(113);f=a(29);p=a(5);m=a(1);r=a(182);u=a(262);k=a(86);ia(b,u.kM);b.prototype.Eoa=function(a){var b;b=void 0===b?this.j:b;return new this.nK.$s(a,b.Gh.$n,b.Gh.release,{uc:!1,If:!1});};b.prototype.JH=function(b,f){var d,g,m,p,r,u;f=void 0===f?this.j:f;d=this;p=a(20).Ac;this.nK.$s||this.qd(c.I.ot,c.H.cHa);m=h.yf(f,"Eme");g=this.Eoa(m);r=h.ba.get(l.MA);u=r.nQ();r=r.NH(f.af.value.vc);return this.nK.Po(m,b,function(a){return f.ke(a);},{uc:!1,If:!1,eD:this.config().Rh,mE:{hT:this.config().Qza,bQ:this.config().n$},Ka:{getTime:p},Pj:g,nU:this.TV,Ca:this.kb.Ca,SE:this.config().SE,dw:this.config().e3,onerror:function(a,b,f){return d.qd(a,b,f);},GT:function(a){return d.ZR(a);},cU:!0,aL:this.config().nba&&this.config().aL,lS:this.config().lS,Yma:u,GCa:r,bD:this.config().bD});};b.prototype.rE=function(a){var b;b=this;return this.TV?new Promise(function(f,d){if(b.kb.Ca)b.kb.Ca.setMediaKeys(a).then(function(){f();})["catch"](function(a){var f;f=b.zsa(a);d({O:!1,code:c.I.iN,eb:f.T,Jc:f.mc,Ga:f.Ga,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.tqa=function(a){return{code:a.code,subCode:a.eb,extCode:a.Jc,edgeCode:a.xk,message:a.message,errorDetails:a.Ga,errorData:a.Mm,state:a.state};};b.prototype.L$=function(a,b,f){var d,g;function c(){g.K9()["catch"](function(a){d.log.error("Unable to set the license",d.tqa(a));a.cause&&a.cause.Ga&&(a.Ga=a.Ga?a.Ga+a.cause.Ga:a.cause.Ga);d.qd(a.code,a,a.Jc);});}f=void 0===f?this.j:f;d=this;g=f.gg;this.log.info("Setting the license");f=b?function(){return Promise.resolve();}:function(){return g.ie(d.J4(),a);};return(b?function(){return g.ZXa(d.kb.Ca);}:function(){return g.create(d.Wd).then(function(){return Promise.resolve();});})().then(function(){return d.config().sAa?d.rE(g.Ke):Promise.resolve();}).then(f).then(function(){return d.config().sAa?Promise.resolve():d.rE(g.Ke);}).then(function(){d.log.info("license set");d.I3();d.kb.MCa.then(function(){d.config().kv&&(b||d.config().CI)&&(d.Yya=t.setTimeout(c,d.config().kv));});})["catch"](function(a){d.log.error("Unable to set the license",d.tqa(a));a.cause&&a.cause.Ga&&(a.Ga=a.Ga?a.Ga+a.cause.Ga:a.cause.Ga);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.qd(a.code,a,a.Jc);});};b.prototype.Bxa=function(){return Promise.resolve();};b.prototype.x8=function(a){var d;function b(){var b;d.j.gg=d.JH(a.initDataType);b=[];d.j.Ao.forEach(function(a){b.push(h.Kn(a));});d.L$(b);}d=this;this.log.trace("Received event: "+a.type);this.L6||(this.L6=!0,this.nK.Po?this.j.Ao?f.BS(this.config())&&this.config().Ql&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.Mj(this.j.S,"ldl").then(function(a){d.j.gg=a;return a.LCa.then(function(){var b;b=[];d.j.Ao.forEach(function(a){b.push(h.Kn(a));});return d.L$(b,!0).then(function(){var b;if(a.ACb)d.qd(c.I.gHa);else{b=h.yf(d.j,"Eme");a.dsb({log:b,wv:function(a){return d.j.ke(a);}},{Pj:d.Eoa(b),onerror:function(a,b,f){return d.qd(a,b,f);}});(b=a.I8)&&d.ZR(b);d.j.$C(a.Tc||{});d.j.Mx="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.qd(c.I.RMa)):this.qd(c.I.ot,c.H.dHa));};b.prototype.pAa=function(a,b){var f;b=void 0===b?this.j:b;b.gg=this.JH(void 0===a?"cenc":a);f=[];b.Ao.forEach(function(a){f.push(h.Kn(a));});return this.L$(f,!1,b);};b.prototype.J4=function(){return this.config().CI?k.vj.ww:k.vj.dl;};na.Object.defineProperties(b.prototype,{nK:{configurable:!0,enumerable:!0,get:function(){return a(33).Cf;}},Wy:{configurable:!0,enumerable:!0,get:function(){return this.TV?"encrypted":this.kb.ZW+"needkey";}}});v=b;g.__decorate([r.NS],v.prototype,"nK",null);g.__decorate([r.NS],v.prototype,"Wy",null);v=g.__decorate([m.N()],v);d.zJa=v;},function(g,d,a){var c,h,l,f,p,m,r,u,k,v,n;function b(a,b,f,c,d,g,m){var p;p=k.kM.call(this,f,c,d)||this;p.Wd=a;p.config=b;p.TQ=g;p.Nva=m;p.log=h.yf(p.j,"LicenseBroker");p.Mva=!1;p.Nma={next:function(){p.log.info("Finished a license");},error:function(a){p.$C();p.qd(a.code,a,a.Jc);},complete:function(){p.log.info("Successfully applied license");p.Ku.wua&&p.ZR(p.Ku.wua);p.$C();p.rE();}};return p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(3);l=a(29);f=a(6);p=a(434);m=a(4);r=a(1);u=a(182);k=a(262);v=a(86);n=a(16);ia(b,k.kM);b.prototype.x8=function(){var a;a=this;this.L6||(this.L6=!0,l.BS(this.config)&&this.config.Ql&&t._cad_global.videoPreparer?t._cad_global.videoPreparer.Mj(this.j.S,"ldl").then(function(b){a.lya(b);a.j.Mx="videopreparer";a.Ku.D0().subscribe(a.Nma);})["catch"](function(b){a.log.warn("eme not in cache",b);a.$n();}):this.$n());};b.prototype.S7a=function(a){var b;b={};a.forEach(function(a){b[p.b5a(a.cgb)]=a.time.ma(m.za);});return b;};b.prototype.Oab=function(a,b){this.log.trace("Key status",{keyId:a,status:b});};b.prototype.lya=function(a){var b,c,d;b=void 0===b?this.j:b;c=this;this.Ku=a;b.gg=a;d={next:function(a){c.Oab(h.V0(a.uJ),a.value);},error:f.Tb,complete:f.Tb};b={next:function(a){c.qd(a.code,a,a.Jc,c.j);},error:f.Tb,complete:f.Tb};a.jdb().subscribe(d);(a=a.sI())&&a.subscribe(b);};b.prototype.$C=function(){this.Ku&&this.j.$C(this.S7a(this.Ku.Tc));};b.prototype.$n=function(a){var b,c;a=void 0===a?this.j:a;b=this;c={next:function(a){b.ZR(a);},error:f.Tb,complete:f.Tb};return this.TQ().then(function(f){var d;d={type:b.J4(),Y5:h.Kn(a.Ao[0]),context:{Wd:b.Wd,Ca:b.kb.Ca},Lg:{S:a.S,ja:b.j.ja,kf:a.kf,Ij:a.Ij,profileId:a.profile.id}};f.AJ().subscribe(c);f.ie(d,b.Nva).Tr(function(a){b.lya(a);b.j.fireEvent(n.X.OS);return b.Ku.D0();}).subscribe(b.Nma);})["catch"](function(a){b.qd(a.code,a,a.Jc,b.j);});};b.prototype.rE=function(){var a;a=this;if(this.Mva)this.log.trace("Media Keys already set");else{this.Mva=!0;try{this.kb.Ca?this.kb.Ca.setMediaKeys(this.j.gg.Ke).then(function(){a.I3();})["catch"](function(b){b=a.zsa(b);a.qd(c.I.iN,b,b.mc,a.j);}):this.I3();}catch(A){this.qd(c.I.iN,A,void 0,this.j);}}};b.prototype.Bxa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.Ku?this.TQ().then(function(f){return new Promise(function(c){f.Dpb(b.Ku,b.Nva).Tr(function(a){return a.$Xa();}).Tr(function(f){b.log.trace("Fulfilled the last secure stop");b.config.Rh&&a.rD.SU({success:!0,persisted:!1});return f.close();}).subscribe({error:function(f){b.log.error("Unable to get/add secure stop data",f);b.config.Rh&&a.rD.SU({success:f.O,ErrorCode:f.code,ErrorSubCode:f.eb,ErrorExternalCode:f.Jc,ErrorEdgeCode:f.xk,ErrorDetails:f.Ju});c();},complete:function(){c();}});});}):Promise.resolve();};b.prototype.pAa=function(a,b){b=void 0===b?this.j:b;return this.$n(b);};b.prototype.J4=function(){return this.config.CI?v.vj.ww:v.vj.dl;};na.Object.defineProperties(b.prototype,{Wy:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([u.NS],a.prototype,"Wy",null);a=g.__decorate([r.N()],a);d.CJa=a;},function(g,d,a){var c,h,l,f,p,m,r,u;function b(a,b,f,c,d){this.TQ=a;this.rp=b;this.mg=f;this.config=c;this.Ova=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(137);l=a(525);f=a(524);p=a(64);m=a(63);r=a(22);a=a(240);b.prototype.create=function(a,b,c){return a?new l.CJa(this.config().Wd,this.rp,this.mg,b,c,this.TQ,this.Ova()):new f.zJa(this.config,this.mg,b,c);};u=b;u=g.__decorate([c.N(),g.__param(0,c.l(h.QW)),g.__param(1,c.l(p.rn)),g.__param(2,c.l(m.ak)),g.__param(3,c.l(r.we)),g.__param(4,c.l(a.dY))],u);d.BJa=u;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(277);c=a(526);d.dj=new g.Zb(function(a){a(b.Sea).to(c.BJa);});},function(g,d,a){var c,h,l,f;function b(a){return h.ae.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(26);a=a(38);ia(b,h.ae);na.Object.defineProperties(b.prototype,{ACa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});f=b;g.__decorate([a.config(a.Te,"usesMsl")],f.prototype,"ACa",null);f=g.__decorate([c.N(),g.__param(0,c.l(l.Ki))],f);d.oQa=f;},function(g,d,a){var c,h,l,f,p;function b(a,b,f){this.receiver=b;this.Bb=f;this.log=a.qb("SslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(4);l=a(9);f=a(141);a=a(80);b.prototype.send=function(a,b){var f,c;f=this;c={url:a.url.href,Zx:"nq-"+a.uk,Y8:JSON.stringify(b),hQ:a.timeout.ma(h.za),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){f.Bb.download(c,function(f){f.O?a(f):b(f);});}).then(function(a){return JSON.parse(a.content);}).then(function(c){f.receiver.$D({command:a.uk,inputs:b,outputs:c});return c;})["catch"](function(c){var d;if(!c.error)throw c.eb=c.T||c.eb,f.receiver.$D({command:a.uk,inputs:b,outputs:c}),c;d=c.error;d.nj=c.nj;f.log.error("Error sending SSL request",{subCode:d.eb,data:d.content,message:d.message});f.receiver.$D({command:a.uk,inputs:b,outputs:d});throw d;});};b.prototype.V1=function(){return{};};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(l.yb)),g.__param(1,c.l(f.kN)),g.__param(2,c.l(a.pt))],p);d.BPa=p;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,f){this.Kg=b;this.receiver=f;this.log=a.qb("MslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);l=a(118);f=a(4);a=a(141);p={license:!0};b.prototype.send=function(a,b){var c,d;c=this;d={ks:Object.assign({Bb:a.Bb,log:a.log,profile:a.profile},a.gZa),method:a.uk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ma(f.za),RL:a.profile.id,mmb:!p[a.uk],o8:!!p[a.uk],j3:!0,Lv:a.b$,headers:a.headers};return this.Kg.send(d).then(function(f){c.receiver.$D({command:a.uk,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.eb=f.T||f.eb,c.receiver.$D({command:a.uk,inputs:b,outputs:f}),f;d=f.error;d.nj=f.nj;c.log.error("Error sending MSL request",{mslCode:d.Op,subCode:d.eb,data:d.data,message:d.message});c.receiver.$D({command:a.uk,inputs:b,outputs:d});throw d;});};b.prototype.V1=function(){return{userTokens:this.Kg.Kg.getUserIdTokenKeys()};};m=b;m=g.__decorate([c.N(),g.__param(0,c.l(h.yb)),g.__param(1,c.l(l.uA)),g.__param(2,c.l(a.kN))],m);d.hLa=m;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.JAb=function(){};d.iia="TransportConfigSymbol";},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(531);c=a(298);h=a(530);l=a(529);f=a(528);d.xrb=new g.Zb(function(a){a(b.iia).to(f.oQa).$();a(c.Gfa).to(h.hLa);a(c.Nha).to(l.BPa);a(c.jia).ph(function(a){return function(){return a.ac.get(b.iia).ACa?a.ac.get(c.Gfa):a.ac.get(c.Nha);};});});},function(g,d,a){var c,h,l,f,p;function b(a){return f.Vj.call(this,a,h.I.QLa,2,l.bk.rxa,l.$f.vw,l.bk.rxa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(92);a=a(46);ia(b,f.Vj);b.prototype.Gg=function(a,b,f,c){var d;d=this;return this.send(a,b,"/"+this.name,f,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.xp(a);});};b.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with pair"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.$j))],p);d.zNa=p;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Vj.call(this,a,h.I.NDa,2,l.bk.bind,l.$f.vw,l.bk.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(92);a=a(46);ia(b,f.Vj);b.prototype.Gg=function(a,b,f,c){var d;d=this;return this.send(a,b,"/"+this.name,f,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.xp(a);});};b.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with bind"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.$j))],p);d.oNa=p;},function(g,d,a){var c,h,l,f,p,m,r,u,k;function b(a,b,f,c,d,g,h,m,p){this.platform=a;this.tf=b;this.Lr=f;this.Bb=c;this.Ym=d;this.H4a=g;this.qy=h;this.ssb=m;this.yQ=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(65);l=a(88);f=a(73);p=a(106);m=a(299);r=a(117);u=a(80);k=a(425);a=a(68);b=g.__decorate([c.N(),g.__param(0,c.l(h.un)),g.__param(1,c.l(l.Ts)),g.__param(2,c.l(f.tq)),g.__param(3,c.l(u.pt)),g.__param(4,c.l(p.DA)),g.__param(5,c.l(m.xga)),g.__param(6,c.l(r.oA)),g.__param(7,c.l(k.oia)),g.__param(8,c.l(a.jF))],b);d.qNa=b;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.iHa,f.Uh.pI,3,m.$f.st)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);b.prototype.VP=function(a){return Object.assign({},l.uj.prototype.VP.call(this,a),{action:a.action});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.xHa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.wha,f.Uh.splice,1,m.$f.st)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.APa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.lha,f.Uh.resume,1,m.$f.st)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.JOa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.aga,f.Uh.pause,1,m.$f.st)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.mNa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.WX,f.Uh.tJ,1,m.$f.st)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.rJa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.Bha,f.Uh.stop,3,m.$f.eY)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.GPa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a){return l.uj.call(this,a,h.I.xha,f.Uh.start,3,m.$f.vw)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(91);f=a(62);p=a(46);m=a(40);ia(b,l.uj);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(p.$j))],a);d.DPa=a;},function(g,d,a){var c,h,l;function b(a,b){this.Xb=a;this.tl=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);a=a(44);b.prototype.krb=function(a){var b,f;b=this;f=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Xb.TT(a.substring(a.indexOf("?")+1));});return{O:!0,Cb:a.map(function(a,b){return{id:a.sessionId,jv:f[b].drmlicensecontextid,pD:f[b].licenseid};}),Dy:a.map(function(a){return{data:b.tl.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.nrb=function(a){return{O:!0,response:{data:a.reduce(function(a,b){var f;f=b.secureStopResponseBase64;(b=b.sessionId)&&f&&(a[b]=f);return a;},{})}};};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(h.ze)),g.__param(1,c.l(a.tj))],l);d.vNa=l;},function(g,d,a){var c,h,l;function b(a){this.Ka=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(36);l=a(4);b.prototype.jrb=function(a){var b;b=this.Ka.hg.ma(l.jm);return{inputs:a.Nn.map(function(f){return{sessionId:f.sessionId,clientTime:b,challengeBase64:f.dataBase64,xid:a.ja.toString(),mdxControllerEsn:a.NJ};}),Cua:"standard"===a.Hg.toLowerCase()?"license":"ldl"};};b.prototype.mrb=function(a){var b,f,c,d;b=this;f=a.VK||{};c=[];d=a.Cb.map(function(d){var g;c.push(d.id);g=f[d.id];delete f[d.id];return{url:b.yna(d.jv,d.pD),echo:"sessionId",params:{sessionId:d.id,secureStop:g,secureStopId:g?d.pD:void 0,xid:a.ja.toString()}};});Object.keys(f).forEach(function(c){d.push({url:b.yna(a.Cb[0].jv),echo:"sessionId",params:{sessionId:c,secureStop:f[c],secureStopId:void 0,xid:a.ja.toString()}});});return d;};b.prototype.yna=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Fi))],a);d.uNa=a;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Vj.call(this,a,h.I.tha,3,l.bk.ie,l.$f.eY,l.bk.ie)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(92);a=a(46);ia(b,f.Vj);b.prototype.Gg=function(a,b,f){var c;c=this;return this.send(a,b,"/bundle",f).then(function(a){a=a.result;c.Ona(a);return a;})["catch"](function(a){throw c.xp(a);});};b.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with release"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.$j))],p);d.GNa=p;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Vj.call(this,a,h.I.ot,3,l.bk.ie,l.$f.vw,l.bk.ie)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(92);a=a(46);ia(b,f.Vj);b.prototype.Gg=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.wp=function(a,b,f,c){var d;d=this;f=f.K4(c.Cua).href;return this.send(a,b,f,c.inputs,"sessionId","license"===c.Cua?l.$f.vw:l.$f.st).then(function(a){a=a.result;d.Ona(a);d.z_a(a);return a;})["catch"](function(a){throw d.xp(a);});};b.prototype.z_a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.$j))],p);d.nNa=p;},function(g,d,a){var c,h,l,f,p,m,r,u,k,v,n,y,A,z,q;function b(a,b,f,c,d,g){a=v.Vj.call(this,a,h.I.MANIFEST,3,l.bk.Ha,l.$f.vw,l.bk.Ha)||this;a.config=b;a.yQ=f;a.n_a=c;a.Djb=d;a.Wm=g;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(423);p=a(3);m=a(22);r=a(56);u=a(121);k=a(68);a(147);v=a(92);n=a(46);y=a(212);A=a(394);z=a(180);a=a(120);ia(b,v.Vj);b.prototype.Gg=function(a,b,f){var c;c=this;return this.X9a(f).then(function(d){return c.send(a,b,"/"+c.name,d,void 0,c.E$a(f.AI));}).then(function(a){return a.result;})["catch"](function(a){throw c.xp(a);});};b.prototype.wp=function(a,b,f,c){return this.Gg(a,b,c).then(function(a){f.AP(a.links);a.Ey=f;return a;});};b.prototype.X9a=function(a){var b,c,d,g,h,m,l,u;b=this;c=a.zi||{};d={};g=a.Ne;d[g]={unletterboxed:this.q6(c.preferUnletterboxed)};h=this.config().xsb?30:25;m=p.KC();l=m.dab().concat(m.cab()).concat(this.config().Ks).concat(["BIF240","BIF320"]).filter(Boolean);u=this.config().Mo?this.Wm.m9a():Promise.resolve(f.tfa.zp());return Promise.all([m.PC(),m.QI(),this.I8a(a.ja),u]).then(function(f){var m,p,u,k;m=Aa(f);f=m.next().value;p=m.next().value;u=m.next().value;m=m.next().value;k=p&&void 0!==p.SUPPORTS_SECURE_STOP?!!p.SUPPORTS_SECURE_STOP:void 0;p=p?p.DEVICE_SECURITY_LEVEL:void 0;return{type:"standard",viewableId:g,profiles:l,flavor:r.ad.C0a(a.AI),drmType:m,drmVersion:h,usePsshBox:!0,isBranching:a.ds,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().lqb,imageSubtitleHeight:y.VY.R4(),uiVersion:b.context.Ym.Wz,uiPlatform:b.context.Ym.NV,clientVersion:b.context.platform.version,supportsPreReleasePin:b.config().Fg.fqb,supportsWatermark:b.config().Fg.gqb,showAllSubDubTracks:b.config().Fg.Uob||b.q6(c.showAllSubDubTracks),packageId:a.ij?Number(a.ij):void 0,deviceSupportsSecureStop:k,deviceSecurityLevel:p,videoOutputInfo:f,titleSpecificData:d,preferAssistiveAudio:b.q6(c.assistiveAudioPreferred),preferredTextLocale:c.preferredTextLocale,preferredAudioLocale:c.preferredAudioLocale,challenge:u,isNonMember:b.context.Ym.cj,pin:a.iz};});};b.prototype.E$a=function(a){switch(a){case r.tn.dl:case r.tn.uGa:return l.$f.vw;case r.tn.jha:case r.tn.Jha:return l.$f.eY;case r.tn.qga:return l.$f.st;}};b.prototype.q6=function(a){return u.zq.Ah(a)?"true"===a.toLowerCase():!!a;};b.prototype.I8a=function(a){var b;b=this;return this.n_a.N8a().then(function(f){var c;c=a&&b.Djb.r$a(a);c&&c.sl("cad");return f;});};q=b;q=g.__decorate([c.N(),g.__param(0,c.l(n.$j)),g.__param(1,c.l(m.we)),g.__param(2,c.l(k.jF)),g.__param(3,c.l(A.nca)),g.__param(4,c.l(z.DY)),g.__param(5,c.l(a.Bw))],q);d.yNa=q;},function(g,d,a){var c,h,l,f,p;function b(a){return f.Vj.call(this,a,h.I.xJa,1,l.bk.Sua,l.$f.st,l.bk.Sua)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(40);f=a(92);a=a(46);ia(b,f.Vj);b.prototype.Gg=function(a,b,f){var c;c=this;return this.send(a,b,"/"+this.name,f).then(function(a){return a.result;})["catch"](function(a){throw c.xp(a);});};b.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.$j))],p);d.xNa=p;},function(g,d,a){var b,c,h,l,f,p,m,r,u,k,v,n,y,A,z,q,N,E,t,O,K,X,W,ba,R,w,D,ja;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(331);c=a(548);h=a(317);l=a(547);f=a(316);p=a(546);m=a(314);r=a(545);u=a(313);k=a(544);v=a(312);n=a(543);y=a(62);A=a(542);z=a(541);q=a(45);N=a(2);E=a(540);t=a(539);O=a(538);K=a(537);X=a(536);W=a(46);ba=a(535);R=a(286);w=a(534);D=a(285);ja=a(533);d.b0a=new g.Zb(function(a){a(W.$j).to(ba.qNa);a(b.Cga).to(c.xNa);a(R.vga).to(w.oNa);a(D.Ega).to(ja.zNa);a(h.Dga).to(l.yNa);a(f.uga).to(p.nNa);a(m.Jga).to(r.GNa);a(u.zga).to(k.uNa);a(v.Aga).to(n.vNa);a(y.Oha).to(A.DPa);a(y.Pha).to(z.GPa);a(y.Mea).to(E.rJa);a(y.sga).to(t.mNa);a(y.rha).to(O.JOa);a(y.Mha).to(K.APa);a(y.vda).to(X.xHa);a(y.$W).ph(function(a){return function(b){switch(b){case y.Uh.start:return a.ac.get(y.Oha);case y.Uh.stop:return a.ac.get(y.Pha);case y.Uh.tJ:return a.ac.get(y.Mea);case y.Uh.pause:return a.ac.get(y.sga);case y.Uh.resume:return a.ac.get(y.rha);case y.Uh.splice:return a.ac.get(y.Mha);case y.Uh.pI:return a.ac.get(y.vda);}throw new q.Yb(N.I.WLa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,d,a){var c,h;function b(a,b,d,g,h,u,k,v){this.index=a;this.na=b;this.S=d;this.wc=g;this.Ta=h;this.ja=u;this.Zm=k;this.Mc=new c.md(null);this.af=new c.md(null);this.pc=new c.md(null);this.Ui=new c.md(null);this.hq=new c.md(void 0);this.me=new c.md(null);this.Wi=new c.md(null);this.uu=this.Mx="notcached";v&&(this.me=v.me,this.Wi=v.Wi,this.profile=v.profile);}Object.defineProperty(d,"__esModule",{value:!0});c=a(174);h=a(4);na.Object.defineProperties(b.prototype,{Ij:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.Ij;}},Cm:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.Cm;}},nq:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.nq;}},Os:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.Os;}},rj:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.rj;}},kf:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.kf;}},fv:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.fv;}},Ao:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.Ao;}},fi:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.fi;}},hU:{configurable:!0,enumerable:!0,get:function(){return this.Rb&&this.Rb.hU;}},Rx:{configurable:!0,enumerable:!0,get:function(){return h.sb(this.Ha?this.Ha.duration:0);}},Tf:{configurable:!0,enumerable:!0,get:function(){return this.Ta.Tf||0;}}});d.XNa=b;},function(g,d,a){var c,h,l,f,p,m;function b(a){var b,d;b=this;this.j=a;this.Ohb=function(){l.he.removeListener(l.n5,b.axa);b.zf.removeChild(b.Rm.ky());};this.A8=function(a){b.Rm.gob(a.newValue);};this.hib=function(a){b.Rm.iob(a.newValue?a.newValue.rJ:void 0);};this.axa=function(){b.Rm.JK();};this.zf=a.zf;this.Rm=new p.bQa(f.config.Kaa,a.pc.value?a.pc.value.rJ:void 0);d=a.WE;h.va(.1<d.width/d.height);this.Rm.bob(d.width/d.height);this.zf.appendChild(this.Rm.ky());a.hq.addListener(this.A8);a.pc.addListener(this.hib);a.addEventListener(m.X.Fe,this.Ohb,c.zA);l.he.addListener(l.n5,this.axa);}Object.defineProperty(d,"__esModule",{value:!0});c=a(6);h=a(12);l=a(55);f=a(8);p=a(270);m=a(16);b.prototype.P$=function(a){this.Rm.P$(a);};b.prototype.h5=function(){return this.Rm.h5();};b.prototype.N$=function(a){this.Rm.N$(a);};b.prototype.f5=function(){return this.Rm.f5();};b.prototype.O$=function(a){this.Rm.O$(a);};b.prototype.g5=function(){return this.Rm.g5();};d.dQa=b;},function(g,d,a){var c,h,l,f,p,m,r,u,k;function b(a,b,f,c,d){a=p.cG.call(this,b,a,a,"1",{0:f},void 0,"xx",c||a,m.Yo.CA,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=f;a.content=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(41);c=a(8);h=a(55);l=a(3);f=a(18);p=a(211);m=a(155);r=a(34);u=a(104);k=a(16);g.Sga(g.Oga,function(a){var d;function b(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.mt.QPa){c=f.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,f,g;b=c.files[0];if(b){f=b.name;d.info("Loading file",{FileName:f});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.ln.h0("nourl",f,g.result);});}});c.click();}}d=l.yf(a,"TimedTextCustomTrack");c.config.p2&&(d.info("Loading url",{Url:c.config.p2}),a.ln.h0(c.config.p2,"custom"));h.he.addListener(h.oy,b);a.addEventListener(k.X.Fe,function(){h.he.removeListener(h.oy,b);});});ia(b,p.cG);b.u2a=function(a,f,c,d){var g;g="custom"+b.jcb++;return new b(g,a,f,c,d);};b.prototype.Lpa=function(){var a;a=this;return new Promise(function(b,f){var c;if(a.content)b(a.content);else if(a.url){c={responseType:r.ata,url:a.url,track:a,Pb:null,Zx:"tt-"+a.Fj};a.j.aJ.download(c,function(d){d.O?b(d.content):(d.reason="downloadfailed",d.url=c.url,d.track=a,f(d));});}});};b.jcb=0;d.aQa=b;},function(g,d){function a(a,b,c){this.start=a;this.track=b;this.Jz=c;this.end=void 0;this.Jz=Array.isArray(c)?c:[];}function b(a,b,c){this.log=a;this.dw=b;this.Ma=c.Ma;this.Cg=c.Cg||function(){};this.current=void 0;this.u9=[];this.orphans=[];}function c(a){var b;b=!1;a.reduce(function(a,f){a[f]=(a[f]|0)+1;1<a[f]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return c(a)?(b.error("duplicates in entries"),a.filter(function(a,b,f){return f.indexOf(a)===b;})):a;}function l(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.aXa=function(a,b){this.qwa(a,b,"activating");};b.prototype.f3a=function(a){this.k3(a,"de-activating");};b.prototype.qwa=function(b,c,d){var f;f=[];this.current&&this.k3(b,"close current for new");this.orphans.length&&(f.push(this.orphans),this.orphans=[]);this.current=new a(b,c,f);this.dw&&this.log.trace("new range: "+d,this.Ma({},this.current));};b.prototype.k3=function(a,b){this.current&&(this.current.end=a,this.u9.push(this.current),this.dw&&this.log.trace("end range: "+b,this.Ma({},this.current||{})),this.current=void 0);};b.prototype.lCa=function(a){this.current?this.current.Jz.push(a):this.orphans.push(a);};b.prototype.c5=function(b){var f,c,d;f=this;c=f.u9.slice(0);if(f.current&&"undefined"!=typeof b){d=new a(f.current.start,f.current.track,f.current.Jz);d.end=b;c.push(d);}b=c.reduce(function(a,b){var c,d,g,m;if(!b.track)return a;c=b.track.sd;d=b.track.Zu(b.start,b.end);if(!d)return a;g=h(b.Jz,f.log);a[c]?(m=a[c],m.expected+=d.length,m.missed+=d.length-g.length):(m={},m.dlid=c,m.bcp47=b.track.Fj,m.profile=b.track.profile,m.expected=d.length,m.missed=d.length-g.length,m.startPts=b.track.W$a(),a[c]=m);return a;},{});b=l(b);f.dw&&f.log.trace("subtitleqoe:",JSON.stringify(b,null,"t"));return b;};b.prototype.J$a=function(b){var f,c,d,g,l;f=this;c=f.u9.slice(0);d=0;g=0;f.current&&"undefined"!=typeof b&&(l=new a(f.current.start,f.current.track,f.current.Jz),l.end=b,c.push(l));c.forEach(function(a){var b,c;if(a.track){if(a.end<a.start){f.Cg("negative range",a);a.Mv=0;return;}b=h(a.Jz,f.log);c=a.track.Zu(a.start,a.end);a.Om=c?c.map(function(a){return a.id;}):[];a.Mv=c?0===c.length?100:100*b.length/c.length:0;}else a.Mv=100;b=a.end-a.start;d+=b;g+=a.Mv*b;});l=d?Math.round(g/d):100;f.log.trace("qoe score "+l+", at pts: "+b);f.dw&&(b=c.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.Mv),lang:a.track?a.track.Fj:"none","actual  ":a.Jz.join(" "),expected:(a.Om||[]).join(" ")};}),f.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return l;};d.PPa=b;},function(g,d,a){var c,h,l,f,p,m,r,u,k,v,n,y,A,z,q;function b(a){var d;d=this;this.j=a;this.raa=this.lwa=0;this.Fe=this.Nk=!1;this.Lv=0;this.KE=function(){var a,b;a=d.ge();d.EU();d.Yoa&&(d.log.info("Deactivating",d.Yoa),d.Vv.f3a(d.ge()));d.j.Ui.set(null);d.Pz.oAa(d.entries=void 0);d.Tna();b=d.j.pc.value;b&&b.sJ()&&!b.yS()&&(b=null);b&&d.j.Uc.value!==f.Ii&&d.Vv.aXa(a,b);b?(d.log.info("Activating",b),d.j.qj.set(f.Xs),d.Nk||d.j.ke("tt_start"),b.getEntries().then(d.LC)["catch"](d.LC)):d.j.qj.set(f.al);d.Yoa=b;d.RE();};this.Baa=function(){d.Nk&&(d.Pz.start(),d.j.Uc.value!=f.Wo&&d.Pz.stop());};this.RE=function(){var a;d.j.state.value===f.vn&&d.j.Uc.value!==f.Ii&&(d.entries?a=d.Pz.k8a():d.j.pc.value&&(a=b.tpb[d.j.pc.value.Ie()]));a&&y.ab(a.startTime)&&(d.lwa++,d.raa+=d.Pz.Yra()-a.startTime,d.fna=Math.ceil(d.raa/(d.lwa+0)));d.j.hq.set(a);};this.ge=function(){return d.j.O4();};this.fib=function(a){d.fireEvent(b.Wob,a);a&&a.id&&d.Vv.lCa(a.id);d.log.trace("showsubtitle",d.ssa(a));};this.aib=function(a){d.fireEvent(b.dmb,a);d.log.trace("removesubtitle",d.ssa(a));};this.B8=function(){d.log.warn("imagesubs buffer underflow",d.j.pc.value.Mf);d.j.qj.set(f.Xs);};this.Jhb=function(){d.log.info("imagesubs buffering complete",d.j.pc.value.Mf);d.j.qj.set(f.al);};this.Uwa=function(){d.Nk&&d.ef&&d.ef.Lo(d.ge());};this.Zwa=function(a){d.ef&&d.ef.M$&&d.ef.M$(a.wk,a.DT);};this.cxa=function(a){d.ef&&d.ef.lq&&d.ef.lq(a.en,a.msb);};this.Yhb=function(){d.Nk=!0;n.ib(function(){d.ef?d.ef.Lo(d.ge()):d.Baa();d.RE();});};this.eK=function(){d.entries=void 0;d.Tna();d.Pz.stop();d.RE();d.Fe=!0;d.EU();};this.A8=function(a){(a=a.newValue)&&y.ab(a.id)&&d.Vv.lCa(a.id);};this.Zhb=function(a){d.esb(a.newValue,a.oldValue);d.Baa();};this.LC=function(a){var b,c;if(!d.Fe){b=a.track;c=!1;if(b==d.j.pc.value)if(b.Gp)if(a.O)d.EU(),d.ef=b.ef,d.eva("addListener"),d.log.info("Activated",b),d.j.Ui.set(b),d.Nk?n.ib(function(){d.ef.Lo(d.ge());}):d.ef.pause();else{if(c=!!(d.Lv<l.config.Ava))d.rza=setTimeout(d.sza.bind(d,b),l.config.BBa);d.log.error("Failed to activate img subtitle",{retry:c},a,b);}else{if(c=a.entries)d.EU(),d.Pz.oAa(d.entries=c),d.log.info("Activated",b),d.j.Ui.set(b);else{if(c=!!(d.Lv<l.config.Ava))d.rza=setTimeout(d.sza.bind(d,b),l.config.BBa);d.log.error("Failed to activate",{retry:c},v.sn(a),b);}d.RE();}d.Nk||d.j.ke(a.O?"tt_comp":"tt_err");a.O?(l.config.Bza?setTimeout(function(){d.j.qj.set(f.al);},l.config.Bza):d.j.qj.set(f.al),b.Gp||d.RE()):a.rl?d.log.warn("aborted timed text track loading"):l.config.d7a?(b=m.ba.get(q.ak),d.j.qd(b(v.I.QIa,{Ga:a.track?a.track.Mf:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.qj.set(f.al));}};this.oc=new h.Xj();this.Vv=new r.PPa(m.yf(a,"SubtitleTracker"),l.config.K5a,{Ma:k.Ma,Cg:u.va});this.log=m.yf(a,"TimedTextManager");this.Pz=new c.gQa(this.ge,this.RE);this.j.pc.addListener(this.KE);l.config.Tjb?(this.j.addEventListener(A.X.Oh,this.Yhb),this.KE()):(this.j.qj.set(f.al),this.j.addEventListener(A.X.Oh,function(){d.Nk=!0;d.KE();}));this.j.Uc.addListener(this.Zhb);this.j.addEventListener(A.X.Eaa,this.Baa);this.j.hq.addListener(this.A8);this.j.addEventListener(A.X.Fe,this.eK);}Object.defineProperty(d,"__esModule",{value:!0});g=a(211);c=a(275);h=a(67);l=a(8);f=a(41);p=a(29);m=a(3);r=a(553);u=a(12);k=a(17);v=a(2);n=a(42);y=a(15);A=a(16);z=a(552);q=a(63);b.prototype.addEventListener=function(a,b,f){this.oc.addListener(a,b,f);};b.prototype.removeEventListener=function(a,b){this.oc.removeListener(a,b);};b.prototype.fireEvent=function(a,b,f){this.oc.Eb(a,b,f);};b.prototype.h0=function(a,b,f){var c;c=z.aQa.u2a(this.j,a,b,f);this.j.rj.push(c);this.j.Cm.forEach(function(a){p.yDa(a.rj,c);});this.j.pc.set(c);this.j.fireEvent(A.X.Qz);};b.prototype.aab=function(a){return this.Vv.J$a(a);};b.prototype.c5=function(a){return this.Vv.c5(a);};b.prototype.UR=function(){var a,b;a=this.j.CL;b=l.config.CBa.characterSize;b={size:l.config.Laa.characterSize||b};a&&(b.visibility=a.h5(),b.qH=a.f5(),b.Vm=a.g5());return b;};b.prototype.xob=function(a){l.config.Laa.characterSize=a;a=this.j.pc.value;!a||a.sJ()||a.Gp||a.getEntries().then(this.LC)["catch"](this.LC);};b.prototype.esb=function(a,b){a===f.Wo||a==f.Kq?b!==f.Wo&&b!==f.Kq&&((b=this.j.pc.value)&&b.sJ()&&!b.yS()||this.Vv.qwa(this.ge(),b,"presentingstate:"+a)):a!==f.Ii&&a!==f.Gw||this.Vv.k3(this.ge(),"presentingstate:"+a);};b.prototype.EU=function(){this.Lv=0;clearTimeout(this.rza);};b.prototype.Tna=function(){this.ef&&(this.ef.stop(),this.eva("removeListener"));this.ef=void 0;};b.prototype.eva=function(a){this.ef&&(this.ef[a]("showsubtitle",this.fib),this.ef[a]("removesubtitle",this.aib),this.ef[a]("underflow",this.B8),this.ef[a]("bufferingComplete",this.Jhb),"addListener"===a?(this.j.addEventListener(A.X.Jm,this.Uwa),this.j.addEventListener(A.X.CT,this.Zwa),this.j.addEventListener(A.X.lq,this.cxa)):(this.j.removeEventListener(A.X.Jm,this.Uwa),this.j.removeEventListener(A.X.CT,this.Zwa),this.j.removeEventListener(A.X.lq,this.cxa)));};b.prototype.ssa=function(a){return{currentPts:this.ge(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.sza=function(a){this.Lv++;a.getEntries().then(this.LC)["catch"](this.LC);};a={};b.tpb=(a[g.cG.zha.LOADING]={lGb:!0},a[g.cG.zha.EF]={fy:!0},a);b.Wob="showsubtitle";b.dmb="removesubtitle";d.cQa=b;},function(g,d,a){var f,p,m,r,u,k,v,n,y,A,z,q,N,E,qa,O,K,X,W,ba,R,w,D,ja,da,ga,V;function b(a){var b;b=this;this.j=a;this.MCa=Promise.resolve();this.ZW=t.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.fp=[];this.Ni=new k.Xj();this.rja=this.lZ=0;this.XN=[];this.Ua=y.yf(this.j,"MediaElementASE");this.yla=O.Tb;this.EZ=!1;this.Re={};this.sG={};this.NR=this.YN(function(){var a;if(b.Ca){a=b.nO();return a?a.totalVideoFrames:b.Ca.webkitDecodedFrameCount;}});this.jy=this.YN(function(){var a;if(b.Ca){a=b.nO();return a?a.droppedVideoFrames:b.Ca.webkitDroppedFrameCount;}});this.JI=this.YN(function(){var a;if(b.Ca){a=b.nO();return a&&a.corruptedVideoFrames;}});this.OR=this.YN(function(){var a;if(b.Ca){a=b.nO();return a&&X.Yf(a.totalFrameDelay*O.Yj);}});this.rka=function(){return b.Ni.Eb(R.uh.Bua);};this.dj=y.ba.get(ba.Sea).create(u.config.Mo,this,this.j);u.config.kv&&(this.MCa=new Promise(function(a){b.yla=a;b.j.addEventListener(ja.X.Fe,a);}));this.Ua.trace("Created Media Element");this.addEventListener=this.Ni.addListener;this.removeEventListener=this.Ni.removeListener;this.Ca=c(this.j.WE);this.sourceBuffers=this.fp;}function c(a){var b,f;b=y.ba.get(w.Cia).B$a();a=a.width/a.height*b.height;f=(b.width-a)/2;return u.config.zob?O.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+f+"px;top:0px"):O.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function l(a,b){var f,c,d;f=a.target;f=f&&f.error;c=a.errorCode;d=f&&f.code;O.ab(d)||(d=c&&c.code);c=f&&f.msExtendedCode;O.ab(c)||(c=f&&f.systemCode);O.ab(c)||(c=a.systemCode);a=O.Ma({},{code:d,systemCode:c},{Sp:!0});b={T:b(d),Ga:K.q7(a)};try{f&&f.message&&(b.OJ=f.message);}catch(fa){}c=O.Dd(c);W.ka(c)&&(b.mc=y.hna(c,4));return{BC:b,seb:a};}Object.defineProperty(d,"__esModule",{value:!0});f=a(61);p=a(140);m=a(63);r=a(6);u=a(8);k=a(67);v=a(55);n=a(29);y=a(3);A=a(2);z=a(113);q=a(12);N=a(94);E=a(432);qa=a(17);O=a(18);K=a(154);X=a(5);W=a(15);ba=a(277);R=a(173);w=a(303);D=a(4);ja=a(16);da=a(114);ga=!!(X.wA&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);V=ga&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||X.OF);b.prototype.yp=function(a){try{this.Ca&&(this.rja=this.Ca.currentTime);}catch(ma){this.Ua.error("Exception while getting VIDEO.currentTime",ma);a&&this.XA(A.I.VMa,ma);}return X.Yf(this.rja*O.Yj);};b.prototype.seek=function(a){var b;q.va(!this.ol);this.ula();b=this.yp(!0);if(!u.config.OXa&&X.KF(b-a)<=this.p$)this.Ua.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.p$});else try{this.Ua.trace("Setting video elements currentTime",{From:N.Rg(b),To:N.Rg(a)});this.ol={};this.Ca.currentTime=a/O.Yj;this.Ni.Eb(R.uh.Jm);}catch(ca){this.Ua.error("Exception while setting VIDEO.currentTime",ca);this.XA(A.I.WMa,ca);}};b.prototype.K$a=function(){return!!this.ol;};b.prototype.addSourceBuffer=function(a){var c,d,g,h;function b(a){return c.bWa(g,c.j.Mc,a);}c=this;d=O.Dd(this.lZ.toString()+this.fp.length.toString());d={sourceId:this.lZ,SP:d};g=y.ba.get(z.MA).NH(this.j.af.value.vc);try{h=new p.ufa(this.j,a,b,this.Be,d,this.Ua);}catch(Ta){h=O.Cc(Ta);this.Ua.error("Unable to add source buffer.",{mime:b(a),error:h});d=y.ba.get(m.ak);this.j.qd(d(A.I.vY,{T:a===f.kc.vg.AUDIO?O.H.ffa:O.H.gfa,Ga:h}));return;}this.fp.push(h);a==r.IF&&h.L3&&h.L3.addListener(this.yla);return h;};b.prototype.m0=function(a){for(var b=a.length,f=0;f<b;f++)this.addSourceBuffer(a[f]);this.Ni.Eb(R.uh.LAa);return!0;};b.prototype.removeSourceBuffer=function(a){for(var b=this.fp.length,f=0;f<b;f++)n.doa(a,this.fp[f])&&(this.fp=this.fp.splice(f,1));this.Be.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.n1&&this.Be.endOfStream();};b.prototype.Vn=function(a){this.fp=[];a&&a.$Gb();return!0;};b.prototype.aob=function(a){this.lZ=a;};b.prototype.Xra=function(){if(this.Be)return D.Yjb(this.Be.duration);};b.prototype.mob=function(a){this.Be&&(this.j.R8=a,this.Be.duration=a.b9(D.jm));};b.prototype.y4a=function(){var a;if(!this.EZ&&this.Ca&&2<=this.Ca.readyState){a=this.Ca.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.gtb)this.EZ=!0;}return this.EZ;};b.prototype.open=function(){var a,b,f;a=this;this.j.addEventListener(ja.X.CAa,function(b){return a.IUa(b);});if(ga){if(this.j.fv){if(!V){this.jl(A.I.jga);return;}if(X.OF&&X.OF.isTypeSupported&&this.dj.Wd)try{if(!X.OF.isTypeSupported(this.dj.Wd,"video/mp4")){this.sWa(function(b){a.jl(A.I.TF,b);});return;}}catch(la){this.XA(A.I.TF,la);return;}}try{this.Be=new X.wA();}catch(la){this.XA(A.I.KMa,la);return;}try{this.dg=URL.createObjectURL(this.Be);}catch(la){this.XA(A.I.LMa,la);return;}try{this.dj.nXa(this.rka);this.Be.addEventListener("sourceopen",function(b){return a.Wka(b);});this.Be.addEventListener(this.ZW+"sourceopen",function(b){return a.Wka(b);});this.Ca.addEventListener("error",this.Re.error=function(b){return a.GG(b);});this.Ca.addEventListener("seeking",this.Re.seeking=function(){return a.HUa();});this.Ca.addEventListener("seeked",this.Re.seeked=function(){return a.n_();});this.Ca.addEventListener("timeupdate",this.Re.timeupdate=function(){return a.JUa();});this.Ca.addEventListener("loadstart",this.Re.loadstart=function(){return a.GO();});this.Ca.addEventListener("volumechange",this.Re.volumechange=function(b){return a.KUa(b);});this.Ca.addEventListener(this.dj.Wy,this.Re[this.dj.Wy]=function(b){return a.DUa(b);});b=this.j.zf;f=b.lastChild;f?b.insertBefore(this.Ca,f):b.appendChild(this.Ca);u.config.Apa&&this.Ca.addEventListener("contextmenu",h);this.Ca.src=this.dg;v.he.addListener(v.UI,this.sG[v.UI]=function(){return a.Uka();});this.Uka();}catch(la){this.XA(A.I.MMa,la);}}else this.jl(A.I.kga);};b.prototype.close=function(){var b;function a(){b.dg&&(b.ula(),v.he.removeListener(v.UI,b.sG[v.UI]),b.PRa());}b=this;this.Ca.removeEventListener(this.dj.Wy,this.Re[this.dj.Wy]);this.Ca.removeEventListener("error",this.Re.error);this.Ca.removeEventListener("seeking",this.Re.seeking);this.Ca.removeEventListener("seeked",this.Re.seeked);this.Ca.removeEventListener("timeupdate",this.Re.timeupdate);this.Ca.removeEventListener("loadstart",this.Re.loadstart);this.Ca.removeEventListener("volumechange",this.Re.volumechange);this.dj.Zlb(this.rka);u.config.Mo?this.dj.Bxa().then(function(){return a();}):a();this.dj.Yya&&clearTimeout(this.dj.Yya);};b.prototype.DUa=function(a){return this.dj.x8(a);};b.prototype.nO=function(){if(this.Ca)return this.Ca.getVideoPlaybackQuality&&this.Ca.getVideoPlaybackQuality()||this.Ca.videoPlaybackQuality||this.Ca.playbackQuality;};b.prototype.TVa=function(){var a;a=this.j.Jh;return(a=a&&a.errorCode)&&0<=[A.I.fN,A.I.RM].indexOf(a);};b.prototype.PRa=function(){var a;a=!1;u.config.qkb&&this.TVa()&&(a=!0);u.config.E1&&!a&&(this.Ca.removeAttribute("src"),this.Ca.load&&this.Ca.load());URL.revokeObjectURL(this.dg);u.config.Apa&&this.Ca.removeEventListener("contextmenu",h);!a&&this.Ca&&this.j.zf.removeChild(this.Ca);this.Ca=this.Be=void 0;this.dg="";};b.prototype.Uka=function(){!0===X.yd.hidden?this.XN.forEach(function(a){a.refresh();a.ipb();}):this.XN.forEach(function(a){a.refresh();a.ypb();});};b.prototype.YN=function(a){var b;b=y.ba.get(E.Yfa)(a);this.XN.push(b);return function(){b.refresh();return b.R8a();};};b.prototype.bWa=function(a,b,c){var d;switch(c){case f.kc.vg.VIDEO:d=a;break;case f.kc.vg.AUDIO:d="AAC"==b.value.I1?r.sA:r.aKa;}return d;};b.prototype.XA=function(a,b){var f,c;f={T:O.H.Pe,Ga:O.Cc(b)};try{(c=b.message.match(/(?:[xWs]|^)([0-9a-f]{8})(?:[xWs]|$)/i)[1].toUpperCase())&&8==c.length&&(f.mc=c);}catch(ta){}b=y.ba.get(m.ak);this.j.qd(b(a,f));};b.prototype.ula=function(){this.XN.forEach(function(a){a.refresh();});};b.prototype.ySa=function(){return this.Ca&&this.Ca.msGraphicsTrustStatus;};b.prototype.jl=function(a,b,f){var c;c=y.ba.get(m.ak);this.j.qd(c(a,b,f));};b.prototype.sWa=function(a){var f,c;function b(c){b=O.Tb;f.Sf();a(c);}f=y.ba.get(da.Pw)(500,function(){b();});f.up();try{c=this.j.me.value.Dk.HGb.children.filter(function(a){return"pssh"==a.type&&a.c5a==r.VGa;})[0];new X.OF(this.dj.Wd).createSession("video/mp4",c.raw,null).addEventListener(this.ZW+"keyerror",function(a){a=l(a,A.xda);b(a.BC);});}catch(ta){b();}};b.prototype.IUa=function(a){var b,c,d,g,h,m,p;if(this.Ca){a=a.YL;b=this.ySa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ca.readyState;a.currentTime=""+this.Ca.currentTime;a.pbRate=""+this.Ca.playbackRate;}catch(Gb){}for(var b=this.fp.length,f;b--;){f=this.fp[b];c="";f.type==r.ZX?c="audio":f.type==r.IF&&(c="video");O.Ma(a,f.HR(),{prefix:c});u.config.C5a&&this.j.Jh&&r.IF==f.type&&(c=O.eL(f.$w),3E3>(c.data&&c.data.length)&&(c.data=qa.E0a(c.data).join(),O.Ma(a,c,{prefix:f.type})));}this.Be&&(b=this.Be.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.teb)try{d=this.j.gg;g=d&&d.Cd;if(g){h=g.expiration;isNaN(h)||(a.exp=h);m=g.keyStatuses.entries();if(m.next){p=m.next().value;p&&(a.keyStatus=p[1]);}}}catch(Gb){}}};b.prototype.Wka=function(a){this.cWa||(this.cWa=!0,this.Ni.Eb(R.uh.MAa,a));};b.prototype.HUa=function(){this.Ua.trace("Video element event: seeking");this.ol?this.ol.xhb=!0:(this.Ua.error("unexpected seeking event"),u.config.f7a&&this.jl(A.I.aNa));};b.prototype.n_=function(){this.Ua.trace("Video element event: seeked");this.ol?(q.va(this.ol.xhb),this.ol.whb=!0,this.Pla()):(this.Ua.error("unexpected seeked event"),u.config.e7a&&this.jl(A.I.$Ma));};b.prototype.JUa=function(){this.ol&&(this.ol.zhb=!0,this.Pla());this.Ni.Eb(R.uh.Jm);};b.prototype.GO=function(){this.Ua.trace("Video element event: loadstart");};b.prototype.KUa=function(a){this.Ua.trace("Video element event:",a.type);try{this.j.volume.set(this.Ca.volume);this.j.muted.set(this.Ca.muted);}catch(ma){this.Ua.error("error updating volume",ma);}};b.prototype.GG=function(a){a=l(a,A.CHa);this.Ua.error("Video element event: error",a.seb);this.jl(A.I.UMa,a.BC);};b.prototype.Pla=function(){this.ol&&this.ol.whb&&this.ol.zhb&&(this.ol=void 0,this.Ni.Eb(R.uh.WK));};na.Object.defineProperties(b.prototype,{p$:{configurable:!0,enumerable:!0,get:function(){return u.config.cpb;}}});d.JKa=b;},function(g,d,a){var r,u,k,v,n,y,A,z,q,N,E,t,O,K,X,W,ba;function b(){}function c(){}function h(){}function l(){}function f(){return z?z:"0.0.0.0";}function p(a,b,f){a=E(a,b,f);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function m(a){a({jxa:0,wL:0,Xsa:0,Cqa:0});}d=a(124);c.prototype.constructor=c;c.prototype.set=function(a,b){k[a]=b;v.save(a,b);};c.prototype.get=function(a,b){if(k.hasOwnProperty(a))return k[a];A.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");v.load(a,function(f){f.O?(k[a]=f.data,b&&b(f.data)):k[a]=void 0;});};c.prototype.remove=function(a){v.remove(a);};c.prototype.clear=function(){A.info("WARNING: Calling unimplemented function Storage.clear()");};c.prototype.bI=d.Mr.bI;c.prototype.oQ=d.Mr.oQ.bind(d.Mr);c.prototype.xA="NDA";h.prototype.now=function(){return n();};h.prototype.da=function(){return y();};h.prototype.YJ=function(a){return a+n()-y();};h.prototype.HT=function(a){return a+y()-n();};d=a(28).EventEmitter;a(48)(d,l.prototype);t=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.M=function(a){r=a.kz;E=a.Bd;v=a.storage;k=a.oD;n=a.i$a;q=a.OI;N=a.fJ;y=a.getTime;A=a.gYa;O=a.Fb;ba=a.Lq;K=a.eA;X=a.SourceBuffer;W=a.MediaSource;z=a.IFb;u=a.Tn;return{name:"cadmium",Tn:u,kz:r,OI:q,fJ:N,ready:b,storage:new c(),Storage:c,time:new h(),events:new l(),console:new p("JS-ASE",void 0,"default"),Console:p,options:b,Promise:t,Fb:O,eA:K,PKa:X,MediaSource:W,Lq:ba,Kk:{name:f},memory:{E9a:m},vGb:void 0};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(34);d.pOa=function(){b.Bd("ProbeDownloader");return{GI:function(a){c.Bb.xkb({url:a.url,ukb:a});}};}();},function(g,d,a){var c,h,l,f,p,m,r;function b(){var a;a=new h.Xj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Eb.bind(this);this.lx=m++;this.Ua=l.Bd("ProbeRequest");this.kla=c.pOa;f.va(void 0!==this.kla);this.cf=d.Lq.Gb.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});c=a(557);h=a(67);l=a(3);f=a(12);p=a(18);m=0;(function(){function a(){return JSON.stringify({url:this.dg,id:this.lx,affected:this.IN,readystate:this.cf});}p.Ma(b.prototype,{gj:function(a){a.affected=this.IN;a.probed={requestId:this.lx,url:this.dg,gd:this.Cla,groupId:this.dka};this.emit(d.Lq.kd.QF,a);},u8:function(a){this.$O=a.httpcode;a.affected=this.IN;a.probed={requestId:this.lx,url:this.dg,gd:this.Cla,groupId:this.dka};this.emit(d.Lq.kd.Ew,a);},open:function(a,b,f,c){if(!a)return!1;this.dg=a;this.IN=b;this.Cla=f;this.cf=d.Lq.Gb.OPENED;this.gTa=c;this.kla.GI(this);return!0;},Nd:function(){return!0;},aj:function(){return this.lx;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.cf;},set:function(){}},status:{get:function(){return this.$O;}},url:{get:function(){return this.dg;}},JBb:{get:function(){return this.IN;}},neb:{get:function(){return this.gTa;}}});}());(function(a){a.kd={QF:"pr0",Ew:"pr1"};a.Gb={UNSENT:0,OPENED:1,yt:2,DONE:3,xq:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(r||(r={})));d.Lq=Object.assign(b,r);},function(g,d,a){var c,h,l;function b(a){this.qy=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(117);h=a(1);b.prototype.create=function(b,c,d,g){return new(a(292)).TNa(b,c,d,g,this.qy);};l=b;l=g.__decorate([h.N(),g.__param(0,h.l(c.oA))],l);d.SNa=l;},function(g,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.kCa=function(){var a;a=this.j.Uk&&this.j.Uk.fj.get()||{};a.pg&&(this.j.pg=a.pg.Aa);a.pa&&(this.j.pa=a.pa.Aa);};a.prototype.ao=function(){-1===this.j.pa&&this.kCa();return this.j.pa;};a.prototype.UZa=function(a){-1!==this.j.pg&&-1!==this.j.pa||this.kCa();return-1===this.j.pg||-1===this.j.pa?Number.MAX_VALUE:this.j.pg+8*a/this.j.pa;};d.aEa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(16);h=a(295);l=a(24);f=a(1);p=a(4);a=a(22);b.prototype.uC=function(a){var b;a.KL={};if(!a.hD()&&a.Os&&0<a.Os.length&&(a.Ns=this.Qra(a),a.Ns)){b=this.Gob(a);b()||(a.addEventListener(c.X.Oh,b),a.me.addListener(b));}};b.prototype.Gob=function(a){var f;function b(){var d,g;if(!a.me.value||!a.haa)return!1;d=a.Ns;g=d.Ie();return g===h.km.LOADING?!1:g!==h.km.LOADED&&d.Ds?(d=f.pab(a))?(a.KL.offset=f.app.He().ma(p.za),a.Ns=d,d.download(),!0):!1:(a.removeEventListener(c.X.Oh,b),a.me.removeListener(b),!1);}f=this;return b;};b.prototype.pab=function(a){var b,f;b=this.config();f=a.vo.i5()<b.Crb;b=(a.me.value?a.me.value.P:0)>b.Brb;return this.I$a(a,f&&b);};b.prototype.I$a=function(a,b){if(b&&(b=this.Qra(a),this.msa(a,b.size)))return a.KL.eza="h",b;b=this.W9a(a);if(this.msa(a,b.size))return a.KL.eza="l",b;};b.prototype.msa=function(a,b){var f,c;f=this.config();c=Math.min(a.iH(),a.XL());return a.$Ya.UZa(b)*(1+.01*f.EXa[2])<c*f.Erb;};b.prototype.Qra=function(a){return a.Os[a.Os.length-1];};b.prototype.W9a=function(a){return a.Os[0];};m=b;m=g.__decorate([f.N(),g.__param(0,f.l(l.Oe)),g.__param(1,f.l(a.we))],m);d.tQa=m;},function(g,d,a){var c,h,l,f,p,m,r,u;function b(a,b,d,g,h,p,k,n){var x;x=this;this.j=a;this.id=b;this.height=d;this.width=g;this.tjb=h;this.ujb=p;this.size=k;this.Vc=n;this.type=c.Zf.aba;this.Ds=!0;this.state=m.km.cN;this.Mf={};this.MP={};this.Akb=function(a){if(a.O)try{x.data=f.Sib(a.content);x.state=m.km.LOADED;x.log.trace("TrickPlay parsed",{Images:x.data.images.length},x.Mf);x.j.fireEvent(r.X.JL);}catch(O){x.state=m.km.$fa;x.log.error("TrickPlay parse failed.",O);}else x.state=m.km.cN,x.log.error("TrickPlay download failed.",u.sn(a),x.Mf);};this.log=l.yf(a,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});c=a(75);h=a(8);l=a(3);f=a(296);p=a(34);m=a(295);r=a(16);u=a(2);b.prototype.A9a=function(a){if(this.data&&(a=Math.floor(a/this.data.Dk.FBa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Dk.FBa,height:this.height,width:this.width,pixelAspectHeight:this.tjb,pixelAspectWidth:this.ujb};};b.prototype.RR=function(){switch(this.state){case m.km.LOADED:return"downloaded";case m.km.LOADING:return"loading";case m.km.EF:return"downloadfailed";case m.km.$fa:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.wab();a?(this.state=m.km.LOADING,this.Q4a(a)):this.Ds=!1;};b.prototype.Ie=function(){return this.state;};b.prototype.wab=function(){var a,b,f;a=this;b=Object.keys(this.Vc).find(function(b){return(a.MP[a.Vc[b]]||0)<=h.config.Arb;});if(b){f=this.Vc[b];f in this.MP?this.MP[f]++:this.MP[f]=1;return{url:f,zH:b};}};b.prototype.Q4a=function(a){this.log.trace("Downloading",a.url,this.Mf);a={responseType:p.YC,Pb:this.o4(a.zH),url:a.url,track:this};this.j.aJ.download(a,this.Akb);};b.prototype.o4=function(a){return this.j.fi.find(function(b){return b&&b.id===a;});};d.rQa=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.qQa=function(b,c,d,g,f,p,m,r){return new(a(562)).rQa(b,c,d,g,f,p,m,r);};},function(g,d,a){var h,l,f,p;function b(a,b,f,c){this.ja=a;this.vmb=b;this.ga=f;this.app=c;this.Tc={};}function c(a,b){this.gf=a;this.app=b;this.Fc={};this.ga=a.qb("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(9);f=a(24);p=a(4);c.prototype.Slb=function(a,f){this.Fc[a]&&this.ga.warn("registerPlayback: xid "+a+" already registered, overriding");f=(f?f:this.app.He()).ma(p.za);this.ga.trace("registerPlayback: xid "+a+" at "+f);this.Fc[a]=new b(a,f,this.ga,this.app);return this.Fc[a];};c.prototype.r$a=function(a){this.Fc[a]||this.ga.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Fc[a];};c.prototype.bmb=function(a){this.ga.trace("removePlayback: xid "+a);delete this.Fc[a];};a=c;a=g.__decorate([h.N(),g.__param(0,h.l(l.yb)),g.__param(1,h.l(f.Oe))],a);d.WNa=a;b.prototype.sl=function(a,b){b=b?b.ma(p.za):this.app.He().ma(p.za)-this.vmb;this.ga.trace("addMilestone: xid "+this.ja+" "+a+" at "+b);this.Tc[a]=b;};},function(g,d,a){var b,c,h,l,f,p,m,r,u,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(180);c=a(564);h=a(380);l=a(563);f=a(294);p=a(561);m=a(293);r=a(560);u=a(415);k=a(559);d.j=new g.Zb(function(a){a(b.DY).to(c.WNa).$();a(h.kia).Ng(l.qQa);a(f.lia).to(p.tQa).$();a(u.Uga).to(k.SNa).$();a(m.dca).ph(function(){return function(a){return new r.aEa(a);};});});},function(g,d,a){var c,h;function b(){this.nL=new h.Ji();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(87);b.prototype.$D=function(a){this.nL.next(a);};na.Object.defineProperties(b.prototype,{Pj:{configurable:!0,enumerable:!0,get:function(){return this.nL;}}});a=b;a=g.__decorate([c.N()],a);d.FNa=a;},function(g,d,a){var c,h,l;function b(a,b){this.Lr=b;this.log=a.qb("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);a=a(73);b.prototype.AP=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.K4=function(a){return this.links[a];};b.prototype.dma=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.Lr().ig;a="drmContextId="+a.drmContextId;this.AP({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(h.yb)),g.__param(1,c.l(a.tq))],l);d.wNa=l;},function(g,d,a){var c,h,l,f,p;function b(a,b){a=h.ae.call(this,a,"PboConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(26);f=a(38);a=a(22);ia(b,h.ae);na.Object.defineProperties(b.prototype,{Wz:{configurable:!0,enumerable:!0,get:function(){return this.config().Fg.Wz||"";}},NV:{configurable:!0,enumerable:!0,get:function(){return this.config().Fg.NV||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},ixa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Fg.nz;}},cj:{configurable:!0,enumerable:!0,get:function(){return!1;}},Fva:{configurable:!0,enumerable:!0,get:function(){return!1;}},Hva:{configurable:!0,enumerable:!0,get:function(){return!1;}},fAa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},F5:{configurable:!0,enumerable:!0,get:function(){return 10;}}});p=b;g.__decorate([f.config(f.string,"uiVersion")],p.prototype,"Wz",null);g.__decorate([f.config(f.string,"uiPlatform")],p.prototype,"NV",null);g.__decorate([f.config(f.cw,"pboVersion")],p.prototype,"version",null);g.__decorate([f.config(f.string,"pboOrganization")],p.prototype,"ixa",null);g.__decorate([f.config(f.qaa,"pboLanguages")],p.prototype,"languages",null);g.__decorate([f.config(f.Te,"hasLimitedPlaybackFunctionality")],p.prototype,"cj",null);g.__decorate([f.config(f.Te,"mdxBindUsingNodeQuark")],p.prototype,"Fva",null);g.__decorate([f.config(f.Te,"mdxPairUsingNodeQuark")],p.prototype,"Hva",null);g.__decorate([f.config(f.object(),"pboCommands")],p.prototype,"fAa",null);g.__decorate([f.config(f.cw,"pboHistorySize")],p.prototype,"F5",null);p=g.__decorate([c.N(),g.__param(0,c.l(l.Ki)),g.__param(1,c.l(a.we))],p);d.rNa=p;},function(g,d,a){var l,f,p,m,r,u,k,v,n,y,A,z,q,N,E;function b(a){this.config=a;this.wl=[];}function c(a,b,f){this.Va=a;this.NE=b;this.context=f;this.startTime=this.Va.He();}function h(a,f,c,d,g,h,m,p,l){this.OBa=f;this.json=c;this.Va=d;this.HI=g;this.DK=h;this.ia=m;this.oc=l;this.log=a.qb("Pbo");this.wl=new b(p);this.NE=this.OBa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(4);p=a(2);m=a(298);r=a(9);u=a(39);k=a(24);v=a(52);n=a(116);y=a(30);A=a(297);z=a(106);q=a(68);N=a(16);E=a(40);h.prototype.send=function(a,b){var f;f=new c(this.Va,this.NE,a);this.wl.append(f);return this.pE(a,b,f);};h.prototype.pE=function(a,b,f){var c;c=this;return new Promise(function(d,g){c.Ds(a,b).then(function(a){var b,h;c.Knb(a);b=Aa(c.Ksb(a));h=b.next().value;b=b.next().value;h&&(c.X_a(f),d(a));b&&(c.Zna(f,b),g(b));})["catch"](function(a){var b;b=c.Zna(f,a);a.Ga&&(a.Ga=[a.Ga," ",b].join(""));g(a);});});};h.prototype.Knb=function(a){(a=a.serverTime)&&this.oc.Eb(N.Hea.eAa,f.sb(a));};h.prototype.Ksb=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Nib=function(a){var b;if(a){try{b=this.json.parse(a);}catch(K){throw{hz:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{hz:!0,code:"FAIL",message:"There is no result property on the response"};}throw{hz:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.zYa=function(a,b,f){var c;c=this;this.isb(b,a);this.NE=this.OBa();return this.NE.send(b,f).then(function(a){return{Ds:!1,result:c.Nib(a.body)};})["catch"](function(f){var d,g;g=f&&f.nj&&void 0!==f.nj.maxRetries?Math.min(f.nj.maxRetries,b.b$):b.b$;return c.eV(b,f,a,g)?(d=c.a_a(f,a,g),c.log.warn("Method failed, retrying",Object.assign({Method:b.uk,Attempt:a+1,WaitTime:d,MaxRetries:g},c.y2(f))),Promise.resolve({Ds:!0,rd:d,error:f})):Promise.resolve({Ds:!1,error:f});});};h.prototype.isb=function(a,b){var f;f=a.url.searchParams;f.set(E.IY.HOa,(b+1).toString());f.set(E.IY.$f,a.P9.toString());f.set(E.IY.IOa,a.O9);};h.prototype.Ds=function(a,b,f){var c;f=void 0===f?0:f;c=this;return this.zYa(f++,a,b).then(function(d){if(d.Ds)return c.ZL(d.rd).then(function(){return c.Ds(a,b,f);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return d.result;});};h.prototype.eV=function(a,b,f,c){var d;d=this.HI.a$||this.Ucb(b);if(d&&f<c)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.uk,Attempt:f+1,MaxRetries:c},this.y2(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.uk},this.y2(b)));return!1;};h.prototype.Ucb=function(a){var b,f;b=a&&a.code;f=a&&(a.T||a.eb);a=a.Jc!==p.OX.tga;f=!!f&&f>=p.H.kA&&f<=p.H.jA&&a;return!(!b||"RETRY"!==b)||f;};h.prototype.a_a=function(a,b,c){return a&&a.nj&&void 0!==a.nj.retryAfterSeconds?f.oh(a.nj.retryAfterSeconds):f.sb(this.DK.s9(1E3,1E3*Math.pow(2,Math.min(b-1,c))));};h.prototype.ZL=function(a){var b;b=this;return new Promise(function(c){b.ia.Qf(a||f.Vf,c);});};h.prototype.y2=function(a){return A.Lcb(a)?a:{message:a.message,subCode:a.eb,extCode:a.Jc,mslCode:a.Op,data:a.data};};h.prototype.X_a=function(a){a.$pb();};h.prototype.Zna=function(a,b){var f;a.fy(b);try{f=this.json.stringify(this.wl);this.log.error("PBO command history",this.json.parse(f));return f;}catch(X){return"";}};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(r.yb)),g.__param(1,l.l(m.jia)),g.__param(2,l.l(u.kt)),g.__param(3,l.l(k.Oe)),g.__param(4,l.l(v.fm)),g.__param(5,l.l(n.ZF)),g.__param(6,l.l(y.ag)),g.__param(7,l.l(z.DA)),g.__param(8,l.l(q.cX))],a);d.sNa=a;c.prototype.$pb=function(){this.O=!0;this.elapsedTime=this.Va.He().Jd(this.startTime);};c.prototype.fy=function(a){this.O=!1;this.elapsedTime=this.Va.He().Jd(this.startTime);this.Vpb=a.eb||a.subCode;this.R6a=a.Jc||a.extCode;};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){var a;a=Object.assign({success:this.O,method:this.context.uk,profile:this.context.profile.id,startTime:this.startTime.ma(f.za),elapsedTime:this.elapsedTime?this.elapsedTime.ma(f.za):"in progress"},this.NE.V1());return this.O?a:Object.assign({},a,this.NE.V1(),{subcode:this.Vpb,extcode:this.R6a});};b.prototype.append=function(a){this.wl.push(a);0<this.config.F5&&this.wl.length>this.config.F5&&this.wl.shift();};b.prototype.toJSON=function(){return this.wl;};},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(299);c=a(569);h=a(106);l=a(568);f=a(105);p=a(567);m=a(141);r=a(566);d.bjb=new g.Zb(function(a){a(h.DA).to(l.rNa).$();a(b.xga).to(c.sNa);a(f.Bga).to(p.wNa);a(f.EA).ph(function(a){return function(){return a.ac.get(f.Bga);};});a(m.kN).to(r.FNa).$();});},function(g,d,a){var c,h,l,f,p;function b(a){return h.ae.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(38);h=a(37);l=a(1);f=a(26);p=a(4);ia(b,h.ae);na.Object.defineProperties(b.prototype,{dwa:{configurable:!0,enumerable:!0,get:function(){return p.sb(5E3);}},fxa:{configurable:!0,enumerable:!0,get:function(){return p.sb(1E3);}},gxa:{configurable:!0,enumerable:!0,get:function(){return p.sb(1E3);}}});a=b;g.__decorate([c.config(c.Jg,"minDecoderBufferMilliseconds")],a.prototype,"dwa",null);g.__decorate([c.config(c.Jg,"optimalDecoderBufferMilliseconds")],a.prototype,"fxa",null);g.__decorate([c.config(c.Jg,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"gxa",null);a=g.__decorate([l.N(),g.__param(0,l.l(f.Ki))],a);d.eLa=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(427);c=a(571);d.zgb=new g.Zb(function(a){a(b.Dfa).to(c.eLa).$();});},function(g,d,a){var c,h,l,f,p,m,r,u,k,v;function b(a,b,f,c,d,g){this.FP=a;this.Bb=f;this.Pa=c;this.Va=d;this.config=g;this.log=b.qb("MediaHttp");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(300);h=a(82);l=a(2);f=a(9);p=a(1);m=a(80);r=a(23);u=a(24);k=a(4);a=a(22);b.prototype.LI=function(){return this.Va.He().ma(k.za);};b.prototype.Dwa=function(a,b){a.ghb({mediaRequest:a,timestamp:b});};b.prototype.Xwa=function(a){var b;b=a.mediaRequest.po;b.readyState=c.Gi.Gb.Hw;a=a.connect?a:{timestamp:this.LI(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.t8(a);};b.prototype.LT=function(a){this.Dwa(a.mediaRequest.po,a.timestamp);};b.prototype.MT=function(a){var b,f;b=a.mediaRequest.po;f=a.bytes;"undefined"!==typeof b&&(b.readyState===c.Gi.Gb.yt&&this.Xwa(a),this.Pa.Se(f)&&(a.mediaRequest=b,a.timestamp=this.LI(),f>b.De&&(a.newBytes=f-b.De,a.bytesLoaded=f,b.khb(a))));};b.prototype.qs=function(a){var b,f,d,g;b=a.mediaRequest;f=a.errorcode;d=a.httpcode;g=c.Gi.ct;if("undefined"!==typeof b&&(b=b.po,"undefined"!==typeof b&&b.readyState!==c.Gi.Gb.xq))if(f===l.H.ft)b.readyState=c.Gi.Gb.hw,a.mediaRequest=b,a.readyState=b.readyState,b.bhb(a);else{b.readyState=c.Gi.Gb.xq;switch(f){case l.H.kA:d=g.wW;break;case l.H.NX:d=g.KX;break;case l.H.yF:d=400<d&&500>d?g.PM:500<=d?g.MX:g.KX;break;case l.H.jA:d=g.LX;break;case l.H.xF:d=g.pca;break;case l.H.zF:d=g.QM;break;case l.H.uw:d=g.QM;break;case l.H.JX:d=g.Vda;break;case l.H.Sda:d=g.PM;break;case l.H.vGa:d=g.LX;break;default:d=g.QM;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=f;b.u8(a);}};b.prototype.Phb=function(a,b){var f,d;f=b.request.po;if(f)if(b.O){if(a.j&&f.readyState!==c.Gi.Gb.DONE){switch(f.readyState){case c.Gi.Gb.hw:return;case c.Gi.Gb.yt:this.Xwa({mediaRequest:b.request});}f.readyState=c.Gi.Gb.DONE;if(!f.Ec){d={mediaRequest:f,readyState:f.readyState,timestamp:this.LI(),cadmiumResponse:b};a.j.Saa+=1;f.mab();f.Tcb()&&(a.j.Y9+=1,b.ej.Pf=Math.ceil(f.D7a),b.ej.Sk=Math.ceil(f.j0a),b.ej.requestTime=Math.floor(f.heb));f.EH=d;f.gj(d);}}}else f.readyState!==c.Gi.Gb.hw&&(a={mediaRequest:b.request,timestamp:this.LI(),errorcode:b.T,httpcode:b.Ih},this.qs(a));};b.prototype.download=function(a,b){var f,d;f=this;b=this.Bb.download(a,b);if(a.po){d=a.po;-1<[c.Gi.Gb.OPENED,c.Gi.Gb.xq].indexOf(d.readyState)&&(d.readyState=c.Gi.Gb.yt,this.config().Lfb?b.job(function(a){f.LT(a);}):this.Dwa(d,this.LI()));}b.ema(function(b){f.Phb(a,b);});b.tob(function(a){f.MT(a);});b.hob(function(a){f.qs(a);});return b;};v=b;v=g.__decorate([p.N(),g.__param(0,p.l(h.jW)),g.__param(1,p.l(f.yb)),g.__param(2,p.l(m.pt)),g.__param(3,p.l(r.ne)),g.__param(4,p.l(u.Oe)),g.__param(5,p.l(a.we))],v);d.LKa=v;},function(g,d,a){var c,h,l,f,b;function b(a){function b(b,c){this.K=b;this.W6a=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.Ua=a.qb("DownloadTrack");this.Ut=c.Mp;}b.prototype.Vn=function(){this.lP=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.lP+" config: "+JSON.stringify(this.K);};b.prototype.toJSON=function(){return"Download Track id:"+this.lP+" config: "+JSON.stringify(this.K);};b.prototype.Nya=function(a){var b;b=a.connections;this.K.connections!==b&&(this.K=a,this.Ut.yIb(b));};b.prototype.jo=function(){return 1<this.K.connections?!0:!1;};na.Object.defineProperties(b.prototype,{Wb:{configurable:!0,enumerable:!0,get:function(){return this.lP;}},sQ:{configurable:!0,enumerable:!0,get:function(){return void 0===this.lP;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},kz:{configurable:!0,enumerable:!0,get:function(){return this.Ua;}},Mp:{configurable:!0,enumerable:!0,get:function(){return this.Ut;}}});this.eA=Object.assign(b,new l.RGa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);l=a(143);f=a(142).EventEmitter;b=g.__decorate([c.N(),g.__param(0,c.l(h.yb))],b);d.QGa=b;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(143);c=a(574);h=a(301);l=a(573);d.fYa=new g.Zb(function(a){a(b.eda).to(c.QGa).$();a(h.vfa).to(l.LKa).$();});},function(g,d,a){var c,h,l,f,p;function b(a){return h.ae.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(26);f=a(38);p=a(4);ia(b,h.ae);na.Object.defineProperties(b.prototype,{Xza:{configurable:!0,enumerable:!0,get:function(){return!0;}},c7:{configurable:!0,enumerable:!0,get:function(){return p.Y7(5);}}});a=b;g.__decorate([f.config(f.Te,"sendPrefetchEventLogs")],a.prototype,"Xza",null);g.__decorate([f.config(f.Jg,"logsInterval")],a.prototype,"c7",null);a=g.__decorate([c.N(),g.__param(0,c.l(l.Ki))],a);d.kOa=a;},function(g,d,a){var c,h,l;function b(a,b){this.Pa=b;this.ga=a.qb("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);a=a(23);b.prototype.q4a=function(a){var b;b=this;try{return{direction:a.direction,Ddb:a.layoutHasChanged,Smb:a.rowInteractionIndex,xa:a.lolomos.map(function(a){return b.l4a(a);})};}catch(m){this.ga.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.l4a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.k4a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Umb:a.rowSegment};};b.prototype.k4a=function(a){var b,f;b={Mb:a.pts,property:a.property,Ne:a.viewableId,index:a.index};f=a.preplay;this.Pa.eh(f)&&(b.XD=this.o4a(f));a=a.params;this.Pa.eh(a)&&(b.cb=this.wpa(a));return b;};b.prototype.o4a=function(a){var b;b={Mb:a.pts,Ne:a.viewableId,jz:a.pipelineNum,index:a.index};a=a.params;this.Pa.eh(a)&&(b.cb=this.wpa(a));return b;};b.prototype.wpa=function(a){return{wc:a.uiLabel,Tf:a.trackingId,zi:a.sessionParams};};b.prototype.xpa=function(a){var b;b=this;try{return a.map(function(a){return b.m4a(a);});}catch(m){this.ga.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.m4a=function(a){var b,f;f=a.params;this.Pa.eh(f)&&(b=this.n4a(f));return{S:a.movieId,Fd:a.priority,force:a.force,cb:b,wc:a.uiLabel,XIb:a.uiExpectedStartTime,WIb:a.uiExpectedEndTime,ji:a.firstTimeAdded};};b.prototype.n4a=function(a){var b,f;b=void 0;f=a.sessionParams;this.Pa.eh(f)&&(b=this.p4a(f));return{PB:this.j4a(a.authParams),zi:b,Tf:a.trackingId,U:a.startPts,Ha:a.manifest,ff:a.isBranching};};b.prototype.j4a=function(a){return{Dxa:(a||{}).pinCapableClient};};b.prototype.p4a=function(a){a.ZIb=a.uiplaycontext;return a;};b.prototype.Onb=function(a){var b,f;try{b="";this.Pa.eh(a.Xxa)&&(b=JSON.stringify(this.Rnb(JSON.parse(a.Xxa))));f="";this.Pa.eh(a.Yxa)&&(f=JSON.stringify(this.Snb(JSON.parse(a.Yxa))));return{dest_id:a.HQ,offset:a.offset,predictions:a.cya.map(this.Unb,this),ppm_input:b,ppm_output:f,prepare_type:a.FHb};}catch(r){this.ga.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Unb=function(a){return{title_id:a.Go};};b.prototype.Rnb=function(a){return{direction:a.direction,layoutHasChanged:a.Ddb,rowInteractionIndex:a.Smb,lolomos:a.xa.map(this.Qnb,this)};};b.prototype.Qnb=function(a){return{context:a.context,list:a.list.map(this.Pnb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Umb};};b.prototype.Pnb=function(a){var b,f;this.Pa.eh(a.XD)&&(b=this.Vnb(a.XD));this.Pa.eh(a.cb)&&(f=this.F$(a.cb));return{preplay:b,pts:a.Mb,viewableId:a.Ne,params:f,property:a.property,index:a.index};};b.prototype.Vnb=function(a){var b;this.Pa.eh(a.cb)&&(b=this.F$(a.cb));return{pts:a.Mb,viewableId:a.Ne,params:b,pipelineNum:a.jz,index:a.index};};b.prototype.F$=function(a){return{uiLabel:a.wc,trackingId:a.Tf,sessionParams:a.zi};};b.prototype.Snb=function(a){return a.map(this.Tnb,this);};b.prototype.Tnb=function(a){var b;this.Pa.eh(a.cb)&&(b=this.F$(a.cb));return{movieId:a.S,priority:a.Fd,params:b,uiLabel:a.wc,firstTimeAdded:a.ji,viewableId:a.Ne,pts:a.Mb};};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(h.yb)),g.__param(1,c.l(a.ne))],l);d.LNa=l;},function(g,d,a){var h,l,f,p,m,r,u,k,v;function b(a,b,c,f,d,g,h,m){this.Ig=a;this.Qy=b;this.ia=c;this.Ev=d;this.config=g;this.n4=h;this.P8=m;this.sU=[];this.A6=[];this.d9={};this.ga=f.qb("PrefetchEvents");}function c(a,b,c,f,d,g){this.Ig=a;this.Qy=b;this.ia=c;this.gf=f;this.config=d;this.P8=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(112);l=a(1);f=a(4);p=a(57);m=a(110);r=a(30);u=a(9);k=a(302);a=a(181);c.prototype.create=function(a,c){return new b(this.Ig,this.Qy,this.ia,this.gf,a,this.config,c,this.P8);};v=c;v=g.__decorate([l.N(),g.__param(0,l.l(p.qt)),g.__param(1,l.l(m.pA)),g.__param(2,l.l(r.ag)),g.__param(3,l.l(u.yb)),g.__param(4,l.l(k.cha)),g.__param(5,l.l(a.BY))],v);d.lOa=v;b.prototype.LZa=function(a,b,c){this.Fy(h.$d.rw.sEa,a,b,void 0,c);};b.prototype.NZa=function(a,b,c){this.Fy(h.$d.rw.tEa,a,b,void 0,c);};b.prototype.JZa=function(a,b,c){this.Fy(h.$d.rw.rEa,a,b,void 0,c);};b.prototype.HZa=function(a,b,c){this.Fy(h.$d.rw.pEa,a,b,void 0,c);};b.prototype.wH=function(a,b,c){this.Fy(h.$d.rw.qEa,a,b,void 0,c);};b.prototype.Ejb=function(a){this.Fy(h.$d.rw.cMa,void 0,a);};b.prototype.Nk=function(a,b,c,f,d,g,m){this.wP()&&(this.Fy(h.$d.rw.$Oa,void 0,a),this.yeb(a,b,c,f,d,g,m),this.Xqa(),this.Mua());this.Pcb(a)&&this.ymb();};b.prototype.r4a=function(a){a={dest_id:a,cache:this.E$(this.n4())};this.$K("destiny_start",a);};b.prototype.ekb=function(a){(a=this.P8.Onb(a))?this.$K("destiny_prepare",a):this.ga.error("failed to serialize prepare event");};b.prototype.Xqa=function(){0<this.sU.length&&this.wP()&&(this.$K("destiny_events",{dest_id:this.Ev.om,events:this.sU}),this.sU=[]);this.NU&&(this.NU.cancel(),this.NU=void 0);this.rqa();};b.prototype.Mua=function(){var a;if(this.MZa()&&this.wP()){a=this.n4();this.A6=a;a={dest_id:this.Ev.om,offset:this.Ev.KR(),cache:this.E$(a)};this.$K("destiny_cachestate",a);}this.MU&&(this.MU.cancel(),this.MU=void 0);this.qqa();};b.prototype.update=function(a){var b;b=this;a.xa.forEach(function(a){a.list.forEach(function(a){b.d9[a.Ne]=!0;});});};b.prototype.Pcb=function(a){return this.d9[a];};b.prototype.MZa=function(){var a,b,c;a=this;b=this.n4();if(b.length!==this.A6.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.A6[f])&&(c=!0);}catch(N){a.ga.error("Failed to stringify cachedTitle",N);}});return c;};b.prototype.Fy=function(a,b,c,f,d){this.wP()&&(a={offset:this.Ev.KR(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.sU.push(a),this.rqa(),this.qqa());};b.prototype.rqa=function(){this.NU||(this.NU=this.ia.Qf(this.config.c7,this.Xqa.bind(this)));};b.prototype.qqa=function(){this.MU||(this.MU=this.ia.Qf(this.config.c7,this.Mua.bind(this)));};b.prototype.yeb=function(a,b,c,d,g,m,l){var p;p=[];c&&p.push({Go:a,qr:h.$d.Ei.Fba,state:h.$d.dM.oM});d&&p.push({Go:a,qr:h.$d.Ei.ot,state:h.$d.dM.oM});g&&p.push({Go:a,qr:h.$d.Ei.uF,state:h.$d.dM.oM});(0<m.ma(f.za)||0<l.ma(f.za))&&p.push({Go:a,qr:h.$d.Ei.MEDIA,state:h.$d.dM.oM,HYa:m.ma(f.za),Ysb:l.ma(f.za)});a={dest_id:this.Ev.om,offset:this.Ev.KR(),xid:b,cache:this.E$(p)};this.$K("destiny_playback",a);};b.prototype.$K=function(a,b){this.config.Xza&&(a=this.Qy.Bu(a,"info",b),this.Ig.Vb(a));};b.prototype.E$=function(a){return a.map(function(a){return{title_id:a.Go,state:a.state,asset_type:a.qr,size:a.size,audio_ms:a.HYa,video_ms:a.Ysb};});};b.prototype.wP=function(){return 0!==this.Ev.om;};b.prototype.ymb=function(){this.Ev.xmb();this.d9={};};},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(112);c=a(578);h=a(181);l=a(577);f=a(576);p=a(302);d.Usb=new g.Zb(function(a){a(p.cha).to(f.kOa).$();a(b.dha).to(c.lOa).$();a(h.BY).to(l.LNa).$();});},function(g,d,a){var c,h,l,f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(5);l=a(182);b.prototype.B$a=function(){var a;a=t.devicePixelRatio||1;return{width:this.u_.UFa||h.Eq.width*a,height:this.u_.TFa||h.Eq.height*a};};na.Object.defineProperties(b.prototype,{u_:{configurable:!0,enumerable:!0,get:function(){return a(33).Cf;}}});f=b;g.__decorate([l.NS],f.prototype,"u_",null);f=g.__decorate([c.N()],f);d.TQa=f;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(121);b.prototype.compare=function(a,b){var c;c=[];this.M1(a,b,"",c);return c;};b.prototype.M1=function(a,b,c,d){var f;f=this;if(h.zq.iu(a))h.zq.iu(b)&&a.length===b.length?a.forEach(function(g,h){f.M1(a[h],b[h],c+"["+h+"]",d);}):d.push({a:a,b:b,path:c});else if(h.zq.Ex(a)&&null!=a)if(h.zq.Ex(b)&&null!=b){for(var g in a)this.M1(a[g],b[g],c+"."+g,d);for(var m in b)m in a||void 0===b[m]||d.push({a:void 0,b:b[m],path:c+"."+m});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};a=b;a=g.__decorate([c.N()],a);d.JLa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.KLa="ObjectComparerSymbol";},function(g,d,a){var c,h,l,f;function b(a){this.location=a;h.Hk(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(51);l=a(39);a=a(1);b.TT=function(a){var b,d,g;b={};if(0<a.length){a=a.split("&");for(var f=0;f<a.length;f++){d=a[f].trim();g=d.indexOf("=");0<=g?b[decodeURIComponent(d.substr(0,g).replace(c.pga,"%20"))]=decodeURIComponent(d.substr(g+1).replace(c.pga,"%20")):b[d.toLowerCase()]="";}}return b;};na.Object.defineProperties(b.prototype,{Vkb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=c.TT(this.rya);}},rya:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.CK)return this.CK;this.CK=this.location.search.substr(1);a=this.CK.indexOf("#");0<=a&&(this.CK=this.rya.substr(0,a));return this.CK;}}});f=c=b;f.pga=/[+]/g;f=c=g.__decorate([a.N(),g.__param(0,a.l(l.Uea))],f);d.tOa=f;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.h4=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.h4(a);});};c=b;c=g.__decorate([a.N()],c);d.EQa=c;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.is=a;this.json=b;h.Hk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(51);l=a(39);f=a(1);p=a(23);m=a(135);b.prototype.zya=function(a){var b;b=this;return c.read(a,function(a){return parseInt(a);},function(a){return b.is.t0(a);});};b.prototype.w9=function(a){var b;b=this;return c.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.GB(a);});};b.prototype.Fa=function(a){var b;b=this;return c.read(a,function(a){return parseInt(a);},function(a){return b.is.kp(a);});};b.prototype.elb=function(a){var b;b=this;return c.read(a,function(a){return parseFloat(a);},function(a){return b.is.Se(a);});};b.prototype.xya=function(a,b){return c.read(a,function(a){return c.s7a(a,b);},function(a){return void 0!==a;});};b.prototype.y9=function(a,b){return c.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.Aya=function(a){var b,f;b=void 0===b?function(){return!0;}:b;f=this;try{return c.read(a,function(a){return f.json.parse(decodeURIComponent(a));},function(a){return f.is.Ex(a)&&b(a);});}catch(v){return new m.hm();}};b.prototype.Le=function(a,b,f){var d,g;f=void 0===f?1:f;d=this;a=a.trim();g=b instanceof Function?b:this.J2a(b,f);b=a.indexOf("[");f=a.lastIndexOf("]");if(0!=b||f!=a.length-1)return new m.hm();a=a.substring(b+1,f);try{return c.Kib(a).map(function(a){a=g(d,c.Jsb(a));if(a instanceof m.hm)throw a;return a;});}catch(y){return y instanceof m.hm?y:new m.hm();}};b.prototype.J2a=function(a,b){var f;b=void 0===b?1:b;f=this;return function(d,g){d=c.m$a(a);return 1<b?f.Le(g,a,b-1):d(f,g);};};b.s7a=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new m.hm();};b.m$a=function(a){switch(a){case"int":return function(a,b){return a.zya(b);};case"bool":return function(a,b){return a.w9(b);};case"uint":return function(a,b){return a.Fa(b);};case"float":return function(a,b){return a.elb(b);};case"string":return function(a,b){return a.y9(b);};case"object":return function(a,b){return a.Aya(b);};}};b.Kib=function(a){var p;for(var b=[["[","]"]],c=[],f=0,d=0,g=0,h=[],l={};d<a.length;l={"char":l["char"]},++d){l["char"]=a.charAt(d);p=void 0;","==l["char"]&&0==g?(c.push(a.substr(f,d-f)),f=d+1):(p=b.find(function(a){return function(b){return b[0]==a["char"];};}(l)))?(++g,h.push(p)):0<h.length&&h[h.length-1][1]==l["char"]&&(--g,h.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new m.hm();return c;};b.Jsb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new m.hm();return a.substring(1,a.length-1);}return a;};a=c=b;a=c=g.__decorate([f.N(),g.__param(0,f.l(p.ne)),g.__param(1,f.l(l.kt))],a);d.KPa=a;},function(g,d,a){var b,c,h,l,f,p,m,r,k,x;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(585);c=a(584);h=a(583);l=a(135);f=a(462);p=a(210);m=a(582);r=a(581);k=a(303);x=a(580);d.Kd=new g.Zb(function(a){a(l.UY).to(b.KPa).$();a(f.HY).to(h.tOa).$();a(p.cZ).to(c.EQa).$();a(m.KLa).to(r.JLa).$();a(k.Cia).to(x.TQa).$();});},function(g,d,a){var c,h;function b(a){this.Tgb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(304);a=a(1);b.prototype.Era=function(){var a;a=this.Tgb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};h=b;h=g.__decorate([a.N(),g.__param(0,a.l(c.Qfa))],h);d.rFa=h;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(304);c=a(336);h=a(337);l=a(587);f=a(5);d.crypto=new g.Zb(function(a){a(h.Kca).to(l.rFa).$();a(b.Qfa).Ng(f.Dw);a(c.Lca).Ng(f.kY);});},function(g,d,a){var c,h,l,f,p,m,r;function b(a,b,c){var f;f=m.sN.call(this,a,b,"network")||this;f.yQ=c;f.MQ=p.MW.vKa;f.ifb=30;f.iib=function(a){f.MQ=a.target.value;f.refresh();};f.Mhb=function(){f.data={};f.refresh();};f.yza=function(a){a=JSON.stringify(f.data[f.MQ][Number(a.target.id)].value,null,4);f.Aoa(a);};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);l=a(23);f=a(68);p=a(147);m=a(307);r=a(104);ia(b,m.sN);b.prototype.Dc=function(){var a;a=this;if(this.Sm)return Promise.resolve();t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==r.mt.iLa&&a.toggle();});this.data={};this.yQ.addListener(p.Zca.izb,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.ifb&&c.shift();c.push(b);b.type===a.MQ&&a.refresh();});this.Sm=!0;return Promise.resolve();};b.prototype.B4=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.W4=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.zna.Ln(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.e5=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.B4(),b=this.data[this.MQ],c=0;c<b.length;++c)a+=this.W4(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.Cra=function(){var a;a=this.Xb.createElement("button",m.eF,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Mhb;return[a,this.T2a(),this.M2a()];};b.prototype.T2a=function(){var a;a=this.Xb.createElement("select",m.eF,Object.keys(p.MW).reduce(function(a,b){b=p.MW[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.iib;return a;};b.prototype.M2a=function(){var a,b,c,f;a=this;b=this.Xb.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.xK;b.onchange=function(){return a.arb();};c=this.Xb.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.Xb.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};b.prototype.Oya=function(){return Promise.resolve(this.e5());};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ze)),g.__param(1,c.l(l.ne)),g.__param(2,c.l(f.jF))],a);d.oyb=a;},function(g,d,a){var l,f,p,m,r,k,x,v,n,y,A,z,q,N;function b(a,b,c,f,d,g,m,l,p){var r;r=this;this.Ka=a;this.app=b;this.Xb=c;this.ia=f;this.pj=d;this.config=g;this.Lr=m;this.zqb=l;this.Af=p;this.Aqb=function(){r.jCa.nb(function(){r.update();});};this.clear=function(){r.entries=[];r.update();};this.bwa=function(){r.jd.fD=!r.jd.fD;r.ov&&r.rv&&(r.jd.fD?(r.ov.style.display="inline-block",r.rv.style.display="none"):(r.rv.style.display="inline-block",r.ov.style.display="none"));r.Gz(!1);};this.Feb=function(a){var b;r.entries.push(a);b=r.config.qD;0<=b&&r.entries.length>b&&r.entries.shift();void 0===r.jd.Dr[a.Hm]&&(r.jd.Dr[a.Hm]=!0,r.Gz(!1));r.jd.Ml&&!r.sBa?r.Aqb():r.jCa.nb();};this.O4a=function(){h.download("all",r.entries.map(function(a){return a.EL(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Sm=!1;this.jd={Ml:!1,fD:!0,LQ:!0,Z6:n.Vh.PX,Dr:{}};this.jCa=this.zqb(k.oh(1));this.entries=[];}function c(a){var b;this.elements=[];b=document.createElementNS(c.uL,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(21);p=a(84);m=a(30);r=a(36);k=a(4);x=a(24);v=a(73);n=a(9);y=a(83);A=a(144);z=a(305);q=a(53);N=a(104);h.download=function(a,b){return h.x9a(a).then(function(a){return h.hab(a,b.join("rn")).then(function(a){return h.N4a(a.filename,a.text);});});};h.x9a=function(a){return new Promise(function(b,c){var f,d,g,h,m,l,p;try{f=new Date();d=f.getDate().toString();g=(f.getMonth()+1).toString();h=f.getFullYear().toString();m=f.getHours().toString();l=f.getMinutes().toString();p=f.getSeconds().toString();1===d.length&&(d="0"+d);1===g.length&&(g="0"+g);1===m.length&&(m="0"+m);1===l.length&&(l="0"+l);1===p.length&&(p="0"+p);b(h+g+d+m+l+p+"."+a+".log");}catch(ja){c(ja);}});};h.hab=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(X){f(X);}});};h.N4a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(K){return Promise.reject(K);}};c.prototype.zE=function(){var a;a=document.createElementNS(c.uL,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};c.prototype.AE=function(a,b,f){var d;d=document.createElementNS(c.uL,"path");d.setAttribute("d",a);b&&d.setAttribute("fill",b);f&&d.setAttribute("fill-rule",f);this.addElement(d);return this;};c.prototype.jL=function(a,b,f,d,g){var h;g=void 0===g?"#000000":g;h=document.createElementNS(c.uL,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",f.toString());h.setAttribute("width",d.toString());g&&h.setAttribute("fill",g);this.addElement(h);return this;};c.prototype.ppb=function(){var a;a=document.createElementNS(c.uL,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};c.prototype.end=function(){this.elements.pop();return this;};c.prototype.Ln=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};c.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};na.Object.defineProperties(c,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},Vx:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});c.uL="http://www.w3.org/2000/svg";b.prototype.Dc=function(){var a;a=this;this.hh||(this.hh=new Promise(function(b){t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==N.mt.sJa&&a.toggle();});a.pj.bE(A.rA.VFa,a.Feb);b();}));return this.hh;};b.prototype.show=function(){document.body&&(this.element||(this.s2a(),this.Sm=!0),!this.jd.Ml&&this.element&&(document.body.appendChild(this.element),this.jd.Ml=!0,this.update(!0)));};b.prototype.py=function(){this.Sm&&this.jd.Ml&&this.element&&(document.body.removeChild(this.element),this.jd.Ml=!1);};b.prototype.toggle=function(){this.jd.Ml?this.py():this.show();this.Gz(!1);};b.prototype.s2a=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.aw=this.R2a());a.appendChild(this.S2a());a.appendChild(this.n2a());this.element=a;}catch(O){console.error("Unable to create the log console",O);}};b.prototype.R2a=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.sBa=!0;a.update();a.aw&&(a.aw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.sBa=!1;a.update();a.aw&&(a.aw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.S2a=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.E2a());a.appendChild(this.z2a());a.appendChild(this.v2a());a.appendChild(this.U2a());a.appendChild(this.q2a());a.appendChild(this.I2a());a.appendChild(this.H2a());a.appendChild(this.x2a());a.appendChild(this.r2a());return a;};b.prototype.n2a=function(){var a,b,c,f,d,g;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");f=this.createElement("SELECT",this.Ap(22,160,1,2),"<option>Select categories</option>");d=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.jd.Dr).sort()).forEach(function(b){d.appendChild(a.o2a(b,c));}),d.style.display="block");g=!g;});return b;};b.prototype.o2a=function(a,b){var c,f,d;c=this;f=this.createElement("LABEL","display: block;margin:1px");f.htmlFor=a;d=this.createElement("INPUT","margin:1px");d.type="checkbox";d.id=a;d.checked=this.jd.Dr[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.jd.Dr).forEach(function(b){c.jd.Dr[b]="all"===a;}),b.click()):c.jd.Dr[a]=!c.jd.Dr[a];c.Gz(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.E2a=function(){var a,b;a=this;b=this.createElement("SELECT",this.Ap(22,NaN,1,2),'<option value="'+n.Vh.ERROR+'">Error</option>'+('<option value="'+n.Vh.zia+'">Warn</option>')+('<option value="'+n.Vh.PX+'">Info</option>')+('<option value="'+n.Vh.WY+'">Trace</option>')+('<option value="'+n.Vh.sq+'">Debug</option>'));b.value=this.jd.Z6.toString();b.addEventListener("change",function(b){a.jd.Z6=parseInt(b.target.value);a.Gz(!0);},!1);return b;};b.prototype.z2a=function(){var b,c;function a(a){a=a.target.value;b.jd.filter=a?new RegExp(a):void 0;b.Gz(!0);}b=this;c=this.createElement("INPUT",this.Ap(14,150,1,2));c.value=this.jd.filter?this.jd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.v2a=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Ap(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.jd.LQ;c.addEventListener("change",function(b){a.jd.LQ=b.target.checked;a.Gz(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};b.prototype.U2a=function(){var a,b,f;a=this;b=this.createElement("BUTTON",this.Ap());f=new c("0 0 24 24").zE().ppb().end().AE("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",c.Vx,"nonzero").end().end().Ln();b.appendChild(f);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.q2a=function(){var a,b;a=this.createElement("BUTTON",this.Ap());b=new c("0 0 24 24").zE().jL(0,0,24,24,c.background).end().AE("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",c.Vx).end().end().Ln();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.I2a=function(){var a;this.rv=this.createElement("BUTTON",this.Ap());this.rv.style.display=this.jd.fD?"none":"inline-block";a=new c("0 0 24 24").zE().jL(0,0,24,24,c.background).end().AE("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",c.Vx,"nonzero").end().end().Ln();this.rv.addEventListener("click",this.bwa,!1);this.rv.appendChild(a);this.rv.setAttribute("title","Shrink the log console");return this.rv;};b.prototype.H2a=function(){var a;this.ov=this.createElement("BUTTON",this.Ap());this.ov.style.display=this.jd.fD?"inline-block":"none";a=new c("0 0 24 24").zE().jL(4,4,16,16,c.background).end().AE("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",c.Vx,"nonzero").end().end().Ln();this.ov.addEventListener("click",this.bwa,!1);this.ov.appendChild(a);this.ov.setAttribute("title","Expand the log console");return this.ov;};b.prototype.x2a=function(){var a,b;a=this.createElement("BUTTON",this.Ap());b=new c("0 0 26 26").zE().jL(0,0,24,24,c.background).end().AE("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",c.Vx,"nonzero").end().end().Ln();a.appendChild(b);a.addEventListener("click",this.O4a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.r2a=function(){var a,b,f;a=this;b=this.createElement("BUTTON",this.Ap());f=new c("0 0 24 24").zE().jL(0,0,24,24,c.background).end().AE("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",c.Vx,"nonzero").end().end().Ln();b.appendChild(f);b.addEventListener("click",function(){a.py();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.Gz=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.KK&&Promise.resolve(this.AZa()+this.y9a().join("rn")).then(function(c){b.element&&b.aw&&(b.aw.value=c,b.element.style.cssText=b.jd.fD?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ia.Qf(k.Vf,function(){b.aw.scrollTop=b.aw.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.y9a=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.jd.Z6&&a.jd.Dr[c.Hm]&&(c=c.EL(!a.jd.LQ,!a.jd.LQ),a.jd.filter&&!a.jd.filter.test(c)||b.push(c));});return b;};b.prototype.AZa=function(){var a;a=this.Lr();return"Version: 6.0015.328.031 n"+((a?"Esn: "+a.ig:"")+"n")+("JsSid: "+this.app.id+", Epoch: "+this.Ka.hg.ma(k.jm)+", Start: "+this.app.nD.ma(k.jm)+", TimeZone: "+new Date().getTimezoneOffset()+"n")+("Href: "+location.href+"n")+("UserAgent: "+navigator.userAgent+"n")+"--------------------------------------------------------------------------------n";};b.prototype.createElement=function(a,b,c,f){return this.Xb.createElement(a,b,c,f);};b.prototype.Ap=function(a,b,f,d){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===f?0:f)+"px solid "+c.Vx+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(d?"border-radius:"+d+"px;":"");};a=b;a.Ipb="logDxDisplay";a=g.__decorate([l.N(),g.__param(0,l.l(r.Fi)),g.__param(1,l.l(x.Oe)),g.__param(2,l.l(f.ze)),g.__param(3,l.l(m.ag)),g.__param(4,l.l(y.yw)),g.__param(5,l.l(z.Wea)),g.__param(6,l.l(v.tq)),g.__param(7,l.l(p.Nw)),g.__param(8,l.l(q.cm))],a);d.JJa=a;},function(g,d,a){var c,h,l,f,p;function b(a,b){a=l.ae.call(this,a,"LogDisplayConfigImpl")||this;a.Gu=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(37);f=a(26);a=a(168);ia(b,l.ae);na.Object.defineProperties(b.prototype,{KK:{configurable:!0,enumerable:!0,get:function(){return!0;}},qD:{configurable:!0,enumerable:!0,get:function(){return this.Gu.qD;}},Oua:{configurable:!0,enumerable:!0,get:function(){return-1;}}});p=b;g.__decorate([h.config(h.Te,"renderDomDiagnostics")],p.prototype,"KK",null);g.__decorate([h.config(h.e6,"logDisplayMaxEntryCount")],p.prototype,"qD",null);g.__decorate([h.config(h.e6,"logDisplayAutoshowLevel")],p.prototype,"Oua",null);p=g.__decorate([c.N(),g.__param(0,c.l(f.Ki)),g.__param(1,c.l(a.lN))],p);d.IJa=p;},function(g,d,a){var c,h;function b(){this.r$="";this.JCa=[[],[]];this.Y=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a(4);h=a(82);b.prototype.downloadRequest=function(a){var b;""===this.r$&&(this.r$=a.en);if(!a.Ec){b=this.Vqb(a);this.Y[a.R].push(b);this.JCa[a.R].forEach(function(a){a.IBb(b);});}};b.prototype.Vqb=function(a){return{id:this.H9a(a),en:a.en,R:a.R,Rn:a.Rn,startTime:a.zs,endTime:a.ZD,offset:a.Qk,vH:a.vH,uH:a.uH,duration:a.Or,P:a.P,state:h.Wba.Npa,na:a.na,gU:!1,xFb:!1,Msa:!1,JDb:h.Uba.waiting};};b.prototype.H9a=function(a){return a.aj();};b.prototype.update=function(a){this.JCa[a.R].forEach(function(b){b.dJb(a);});};na.Object.defineProperties(b.prototype,{en:{configurable:!0,enumerable:!0,get:function(){return this.r$;}}});a=b;a=g.__decorate([c.N()],a);d.BDa=a;},function(g,d,a){var c,h;function b(a){this.I4a=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(308);b.prototype.Dc=function(){var a;a=this;this.hh||(this.hh=new Promise(function(b,c){var f;f=[];a.I4a.forEach(function(a){f.push(a.Dc());});Promise.all(f).then(function(){b();})["catch"](function(a){c(a);});}));return this.hh;};h=b;h=g.__decorate([c.N(),g.__param(0,c.Uy(a.jda))],h);d.ZGa=h;},function(g,d){function a(a){this.is=a;this.gdb="#881391";this.Ppb="#C41A16";this.mZa=this.qhb="#1C00CF";this.ncb="#D79BDB";this.Srb=this.ohb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Ln=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Vu=function(a,c){return'<font color="'+((void 0===c?0:c)?this.ncb:this.gdb)+'">'+a+": </font>";};a.prototype.ora=function(a,c){c=c||"";a=""+('<li><a href="#">'+this.Vu(a)+"Array["+c.length+"]</a>");a+="<ul>";for(var b=0;b<c.length;++b)a+=this.getValue(b.toString(),c[b]);a+=this.getValue("length",c.length,!0);return a+"</ul></li>";};a.prototype.bsa=function(a,c){var b,d,f;b=this;if(c instanceof CryptoKey)return this.T8a(a,c);d=Object.keys(c);f="";f=f+('<li><a href="#">'+("~~NONAME~~"!==a?this.Vu(a):"")+"Object</a>");f=f+"<ul>";d.forEach(function(a){f=a.startsWith("$")?f+b.getValue(a,"REMOVED"):f+b.getValue(a,c[a]);});f+="</ul>";return f+="</li>";};a.prototype.T8a=function(a,c){a=""+('<li><a href="#">'+this.Vu(a)+"CryptoKey</a>");a=a+"<ul>"+this.bsa("algorithm",c.algorithm);a+=this.ura("extractable",c.extractable);a+=this.rsa("type",c.type);a+=this.ora("usages",c.usages);return a+"</ul></li>";};a.prototype.k$a=function(a,c,d){return'<li><a href="#">'+this.Vu(a,void 0===d?!1:d)+('<font color="'+this.qhb+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.ura=function(a,c,d){return'<li><a href="#">'+this.Vu(a,void 0===d?!1:d)+('<font color="'+this.mZa+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.rsa=function(a,c,d){128<c.length&&(c=c.substr(0,128)+"...");return'<li><a href="#">'+this.Vu(a,void 0===d?!1:d)+('<font color="'+this.Ppb+'">"'+c+'"</font>')+"</a></li>";};a.prototype.j$a=function(a){return'<li><a href="#">'+this.Vu(a)+('<font color="'+this.ohb+'">null</font>')+"</a></li>";};a.prototype.vab=function(a,c){c="undefined"===typeof c?"":c.toString();255<c.length&&(c=c.substr(0,255)+"...");return'<li><a href="#">'+this.Vu(a)+('<font color="'+this.Srb+'">'+c+"</font>")+"</a></li>";};a.prototype.getValue=function(a,c,d){d=void 0===d?!1:d;return null===c?""+this.j$a(a):this.is.iu(c)?""+this.ora(a,c):this.is.Ex(c)?""+this.bsa(a,c):this.is.Ah(c)?""+this.rsa(a,c,d):this.is.Se(c)?""+this.k$a(a,c,d):this.is.GB(c)?""+this.ura(a,c,d):""+this.vab(a,c);};d.pQa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c){var f;f=p.sN.call(this,a,b,"idb")||this;f.Af=c;f.yza=function(a){f.d4a(a.target.id).then(function(){return f.refresh();});};f.Nhb=function(){f.O_a().then(function(){return f.refresh();});};f.$hb=function(){f.refresh();};f.Qhb=function(){f.G0a();};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);l=a(23);f=a(158);p=a(307);m=a(104);ia(b,p.sN);b.prototype.Dc=function(){var a;a=this;if(this.Sm)return Promise.resolve();t.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==m.mt.fIa&&a.toggle();});return this.Af.create().then(function(b){a.storage=b;a.Sm=!0;});};b.prototype.B4=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.W4=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.zna.Ln({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.e5=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.B4(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.W4(f,c[f],a[c[f]]);return b+"</table>";};b.prototype.Cra=function(){var a,b,c;a=this.Xb.createElement("button",p.eF,"Clear",{"class":this.prefix+"-display-btn"});b=this.Xb.createElement("button",p.eF,"Refresh",{"class":this.prefix+"-display-btn"});c=this.Xb.createElement("button",p.eF,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Nhb;b.onclick=this.$hb;c.onclick=this.Qhb;return[a,b,c];};b.prototype.deb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.hta=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.hta;});};b.prototype.d4a=function(a){return this.storage.remove(a);};b.prototype.O_a=function(){return this.storage.removeAll();};b.prototype.Oya=function(){var a;a=this;return this.deb().then(function(b){return a.e5(b);});};b.prototype.G0a=function(){var a;a=JSON.stringify(this.hta,null,4);this.Aoa(a);};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ze)),g.__param(1,c.l(l.ne)),g.__param(2,c.l(f.SX))],a);d.fxb=a;},function(g,d,a){var c,h,l,f,p,m,r,k;function b(a){return function(){return new Promise(function(b,c){var f;f=a.ac.get(h.lda);f.Dc().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(308);a(595);h=a(306);l=a(593);f=a(82);p=a(592);m=a(305);r=a(591);k=a(590);a(589);d.p5a=new g.Zb(function(a){a(m.Wea).to(r.IJa).$();a(c.jda).to(k.JJa);a(f.jW).to(p.BDa).$();a(h.lda).to(l.ZGa).$();a(h.kda).FL(b);});},function(g,d,a){var l,f,p,m;function b(){}function c(a){this.cjb=a;}function h(a){this.ejb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(183);p=a(45);m=a(2);h.prototype.No=function(a){a.map(this.ejb.No);};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(f.Iga))],a);d.ANa=a;c.prototype.No=function(a){this.cjb.No(a.data);};a=c;a=g.__decorate([l.N(),g.__param(0,l.l(f.Fga))],a);d.BNa=a;b.prototype.No=function(a){if(!a.ja||"string"!==typeof a.ja)throw new p.Yb(m.I.ht,m.H.Ys,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.ja);};f=b;f=g.__decorate([l.N()],f);d.ENa=f;},function(g,d,a){var c,h,l,f;function b(a,b,c){this.CH=b;this.Bx=c;this.log=a.qb("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(71);h=a(62);l=a(9);a=a(1);b.prototype.C$=function(a,b){var c;c=this.CH(h.Uh.start);return this.vqa(c,a,b);};b.prototype.aAa=function(a){var b,c;b=this;c=this.CH(h.Uh.stop);return this.Bx().then(function(f){return c.Gg(b.log,f.Yu(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.ZK=function(a,b,c){a=this.CH(a);return this.vqa(a,b,c);};b.prototype.vqa=function(a,b,c){var f;f=this;return this.Bx().then(function(d){return a.wp(f.log,d.Yu(c.profileId),b.Ha.Ey,c);}).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};f=b;f=g.__decorate([a.N(),g.__param(0,a.l(l.yb)),g.__param(1,a.l(h.$W)),g.__param(2,a.l(c.Ss))],f);d.tNa=f;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){a=h.ae.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(26);f=a(38);p=a(4);a=a(52);ia(b,h.ae);na.Object.defineProperties(b.prototype,{PD:{configurable:!0,enumerable:!0,get:function(){return this.config.Lm?"unsentplaydatatest":"unsentplaydata";}},A$:{configurable:!0,enumerable:!0,get:function(){return!0;}},Vza:{configurable:!0,enumerable:!0,get:function(){return p.sb(1E4);}},K8:{configurable:!0,enumerable:!0,get:function(){return p.sb(4E3);}},lua:{configurable:!0,enumerable:!0,get:function(){return p.Y7(1);}},mua:{configurable:!0,enumerable:!0,get:function(){return p.oh(30);}}});m=b;g.__decorate([f.config(f.string,"playdataPersistKey")],m.prototype,"PD",null);g.__decorate([f.config(f.Te,"sendPersistedPlaydata")],m.prototype,"A$",null);g.__decorate([f.config(f.Jg,"playdataSendDelayMilliseconds")],m.prototype,"Vza",null);g.__decorate([f.config(f.Jg,"playdataPersistIntervalMilliseconds")],m.prototype,"K8",null);g.__decorate([f.config(f.Jg,"heartbeatCooldown")],m.prototype,"lua",null);g.__decorate([f.config(f.Jg,"keepAliveWindow")],m.prototype,"mua",null);m=g.__decorate([c.N(),g.__param(0,c.l(l.Ki)),g.__param(1,c.l(a.fm))],m);d.ZNa=m;},function(g,d,a){var l,f,p,m,r,k,x,v,n,y,A,z,q,N;function b(a,b,f,d,g,h,m,l){this.config=a;this.ia=f;this.kq=d;this.lz=g;this.eU=h;this.mg=m;this.By=Promise.resolve();this.closed=!1;this.log=b.qb("PlaydataServices");this.Gv=[];this.active=[];this.Mmb=new c(a,l);}function c(a,b){this.config=a;this.Ka=b;}function h(a,b,c,f,d,g){this.log=a;this.ia=b;this.j=c;this.Pm=f;this.kq=d;this.yjb=g;this.xH=!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(4);p=a(9);m=a(30);r=a(225);k=a(311);x=a(16);v=a(310);n=a(2);y=a(184);A=a(309);z=a(129);q=a(36);a=a(63);h.prototype.vT=function(a,b){var f;function c(){var a;a=f.Pm.Au(f.j,!1);f.kq.iba(a)["catch"](function(a){f.log.error("Unable to schedule playdata changes",a);});}f=this;this.log.trace("Adding initial playdata",b);this.kq.tXa(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.Zp=f.ia.Kza(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new y.yY().encode(b)});f.Zp=f.ia.Kza(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.xH)return Promise.resolve();this.Zp.cancel();c=this.Pm.Au(this.j,!1);return this.kq.iba(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.j.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.yjb.aAa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.kq.Wya(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.S);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.xH=!0;this.Zp.cancel();this.kq.iba(this.Pm.Au(this.j,!1));};na.Object.defineProperties(c.prototype,{f_a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ka.hg;return!this.By||0<=a.Jd(this.By).xl(this.config.mua)?(this.By=a,!0):!1;}}});d.jzb=c;b.prototype.Dc=function(){var a;a=this;this.hh||(this.log.trace("Starting playdata services"),this.hh=this.kq.jlb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.hh;};b.prototype.close=function(){this.closed=!0;this.Gv.forEach(function(a){a.vT.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.PD&&b.A$?this.Enb(a):Promise.resolve();};b.prototype.mpb=function(a){this.closed||this.npb(a);};b.prototype.Apb=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=[];f=this.lz.Au(a,!1);this.active=this.active.filter(function(a){return a!==f.ja;});a=this.Gv.filter(function(a){return a.key===f.ja.toString();}).map(function(a){c.push(a);a.WAa=!0;return a.vT.stop(b.config.A$);});return Promise.all(a).then(function(){c.forEach(function(a){return b.Gv.splice(b.Gv.indexOf(a),1);});});};b.prototype.npb=function(a){var b;b=this;a.addEventListener(x.X.Oh,function(){b.RAa(a);});a.background||a.addEventListener(x.X.OS,function(){b.RAa(a);});a.addEventListener(x.X.Oh,function(){b.C$(a);});a.addEventListener(x.X.Oh,function(){b.jpb(a);},1);a.addEventListener(x.X.Fe,function(){b.zpb();});a.addEventListener(x.X.zCa,function(){b.Jnb(a);});a.pc.addListener(function(){a.Ta.R2?b.log.trace("stickiness is disabled for timedtext"):b.$za(a);});a.Mc.addListener(function(){a.Ta.R2?b.log.trace("stickiness is disabled for audio"):b.$za(a);});};b.prototype.RAa=function(a){var b,c;a.ke("pdb");if(this.config.K8.Wta()){b=this.lz.Au(a,!1);c=b.ja;0<=this.Gv.findIndex(function(a){return a.key===c;})?this.log.trace("Already collecting online playdata, ignoring",b):(this.log.info("Starting to collect online playdata",b),this.active.push(c),this.Gv.push({key:c,vT:this.c$a(a,b),Hz:!1,WAa:!1}));}};b.prototype.Enb=function(a){var b,c,f,d;b=this;c=this.kq.dU.filter(function(a){return 0>b.active.indexOf(a.ja);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=Aa(z.Bv(function(b){return b.S===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.ia.Qf(this.config.Vza,function(){b.Zza(d);});return f&&0!==f.length?this.Zza(f):Promise.resolve();};b.prototype.Zza=function(a){var b;b=this;return a.map(function(a){return function(){return b.eU.aAa(a).then(function(){return b.amb(a);});};}).reduce(function(a,b){return a.then(function(){return b();});},Promise.resolve());};b.prototype.amb=function(a){var b;b=this;return this.kq.Wya(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.c$a=function(a,b){a=new h(this.log,this.ia,a,this.lz,this.kq,this.eU);a.vT(this.config.K8,b);return a;};b.prototype.C$=function(a){var b,c;b=this;c=this.lz.Au(a,!0);this.eU.C$(a,c).then(function(){b.Gv.filter(function(b){return b.key===a.ja.toString();}).forEach(function(a){a.Hz=!0;});})["catch"](function(f){b.log.error("Start command failed",{playdata:c,error:f});return a.qd(b.mg(n.I.xha,f));});};b.prototype.Jnb=function(a){this.Mmb.f_a&&this.ZK(A.xY.tJ,a,n.I.WX)["catch"](function(){});};b.prototype.$za=function(a){this.ZK(A.xY.splice,a,n.I.wha)["catch"](function(){});};b.prototype.ZK=function(a,b,c){var d;function f(a){var b;b=d.Gv.filter(function(b){return b.key===a.ja.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.WAa||!b.Hz;},!1);}d=this;return f(b)?this.By:this.By=this.By["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.lz.Au(b,!1);return d.eU.ZK(a,b,c);}).then(function(a){return a;})["catch"](function(f){d.log.error("Failed to send event",{eventKey:a,xid:b.ja,error:f});f.wf&&b.qd(d.mg(c,f));f.Op===n.gY.aZ&&b.qd(d.mg(c,f));throw f;});};b.prototype.jpb=function(a){this.Qob(a)&&this.eaa(this.R9a(a),a);};b.prototype.eaa=function(a,b){var c;c=this;this.C1();this.v6=this.ia.Qf(a,function(){c.C1();c.ZK(A.xY.tJ,b,n.I.WX).then(function(){c.eaa(a,b);})["catch"](function(f){f.Op===n.gY.aZ&&c.eaa(a,b);});});};b.prototype.zpb=function(){this.C1();};b.prototype.Qob=function(a){return a.state.value==x.wh.Mq;};b.prototype.C1=function(){this.v6&&(this.v6.cancel(),this.v6=void 0);};b.prototype.R9a=function(a){return a.Ta.v5?f.sb(a.Ta.v5):this.config.lua;};N=b;N=g.__decorate([l.N(),g.__param(0,l.l(v.Vga)),g.__param(1,l.l(p.yb)),g.__param(2,l.l(m.ag)),g.__param(3,l.l(k.wga)),g.__param(4,l.l(r.zY)),g.__param(5,l.l(A.yga)),g.__param(6,l.l(a.ak)),g.__param(7,l.l(q.Fi))],N);d.DNa=N;},function(g,d,a){var l,f,p,m,r,k,x,v,n,y;function b(){}function c(){}function h(a,c,f,d,g){var h;h=this;this.is=a;this.Af=c;this.config=f;this.Lr=d;this.djb=g;this.iq=function(){return new b().encode({version:h.version,data:h.dU});};this.nsb=function(a){a=h.jba(a);h.djb.No(a);return a;};this.jba=function(a){if(h.is.Ti(a))return h.psb(a);if(void 0!=a.version&&h.is.Se(a.version)&&1==a.version)return h.qsb(a);if(void 0!=a.version&&h.is.Se(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Se(a.version))throw new r.Yb(p.I.ht,p.H.mca,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new r.Yb(p.I.ht,p.H.Ys,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.hn=new k.Bea(2,this.config().Pxa,""!==this.config().Pxa&&0<this.config().Ijb,this.Af,this.iq);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(22);p=a(2);m=a(23);r=a(45);k=a(464);x=a(53);v=a(73);n=a(184);a=a(183);h.prototype.jlb=function(){return this.hn.load(this.nsb)["catch"](function(a){throw new r.Yb(p.I.ht,a.T||a.eb,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.tXa=function(a){return this.hn.add(a);};h.prototype.Wya=function(a){return this.hn.remove(a,function(a,b){return a.ja===b.ja;});};h.prototype.iba=function(a){return this.hn.update(a,function(a,b){return a.ja===b.ja;});};h.prototype.toString=function(){return JSON.stringify(this.iq(),null,"  ");};h.prototype.nCa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.Lr().ig:"";};h.prototype.kba=function(a){return a.map(function(a){return{sd:a.downloadableId,duration:a.duration};});};h.prototype.pCa=function(a){return a?{total:a.playTimes.total,audio:this.kba(a.playTimes.audio||[]),video:this.kba(a.playTimes.video||[]),text:this.kba(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.psb=function(a){var b,c,f;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.nCa(a.playbackContextId),ja:a.xid?a.xid.toString():"",S:a.movieId,position:a.position,AH:a.timestamp,bL:a.playback?1E3*a.playback.startEpoch:-1,Oy:a.mediaId,pK:this.pCa(a.playback),Wb:"",zi:{dummy:"dummy"}};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Af.create().then(function(a){a.save(b.config().iI,f,!1);});if(!c.profileId||""===c.href||""===c.ja)throw new r.Yb(p.I.ht,p.H.Ys);return{version:2,data:[c]};};h.prototype.qsb=function(a){var b;b=this;if(!a.playdata||!this.is.iu(a.playdata))throw new r.Yb(p.I.ht,p.H.Ys,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.nCa(a.playbackContextId),ja:a.xid?a.xid.toString():"",S:a.movieId,position:a.position,AH:a.timestamp,bL:a.playback?1E3*a.playback.startEpoch:-1,Oy:a.mediaId,pK:b.pCa(a.playback),Wb:"",zi:{dummy:"dummy"}};});}(a.playdata)};};na.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.hn.version;}},dU:{configurable:!0,enumerable:!0,get:function(){return this.hn.pp;}}});y=h;y=g.__decorate([l.N(),g.__param(0,l.l(m.ne)),g.__param(1,l.l(x.cm)),g.__param(2,l.l(f.we)),g.__param(3,l.l(v.tq)),g.__param(4,l.l(a.Gga))],y);d.pNa=y;c.prototype.encode=function(a){var b;b=new n.yY();return a.map(b.encode);};c.prototype.decode=function(a){var b;b=new n.yY();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new c().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new c().decode(a.data)};};},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n,y;function b(a){return function(){return a.ac.get(c.Hga).Dc();};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);c=a(125);h=a(225);l=a(184);f=a(311);p=a(601);m=a(600);r=a(310);k=a(599);x=a(309);v=a(598);n=a(183);y=a(597);d.dU=new g.Zb(function(a){a(r.Vga).to(k.ZNa).$();a(h.zY).to(l.CNa).$();a(f.wga).to(p.pNa).$();a(c.Hga).to(m.DNa).$();a(c.jN).FL(b);a(x.yga).to(v.tNa).$().$L();a(n.Iga).to(y.ENa).$();a(n.Fga).to(y.ANa).$();a(n.Gga).to(y.BNa).$();});},function(g,d,a){var c,h,l;function b(a){var b;b=l.CM.call(this)||this;b.Xb=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);l=a(332);ia(b,l.CM);b.prototype.decode=function(a){return{S:a.movieId,ij:a.packageId,$i:a.drmType,d5a:a.drmVersion,N6a:a.expiration,s_a:this.o3a(a.cdnResponseData),media:this.w3a(a.media),duration:a.duration,kf:a.playbackContextId,qpa:this.r3a(a.defaultTrackOrderList),Ij:a.drmContextId,ebb:a.hasDrmProfile,cbb:a.hasClearProfile,EBa:this.C3a(a.timedtexttracks),QBa:this.F3a(a.trickplays),P0:this.n3a(a.audio_tracks),$V:this.K3a(a.video_tracks),jn:this.hpa(a.servers),Nj:this.u3a(a.locations),Zcb:a.isUsingLegacyBatchingAPI,Z0:a.bookmark,Ksa:a.hasDrmStreams,dbb:a.hasClearStreams,links:a.links,I_a:this.p3a(a.choiceMap),jb:a.initialHeader,ftb:this.L3a(a.watermarkInfo),ff:a.isBranching,Y4a:a.dpsid,Zsb:a.viewableType,hD:a.isSupplemental,Wna:a.clientIpAddress};};b.prototype.encode=function(a){return{movieId:a.S,packageId:a.ij,drmType:a.$i,drmVersion:a.d5a,expiration:a.N6a,cdnResponseData:this.R5a(a.s_a),media:this.Z5a(a.media),duration:a.duration,playbackContextId:a.kf,defaultTrackOrderList:this.U5a(a.qpa),drmContextId:a.Ij,timedtexttracks:this.e6a(a.EBa),trickplays:this.i6a(a.QBa),audio_tracks:this.Q5a(a.P0),video_tracks:this.n6a(a.$V),servers:this.hqa(a.jn),locations:this.X5a(a.Nj),isUsingLegacyBatchingAPI:a.Zcb,bookmark:a.Z0,hasDrmProfile:a.ebb,hasClearProfile:a.cbb,hasDrmStreams:a.Ksa,hasClearStreams:a.dbb,links:a.links,choiceMap:this.S5a(a.I_a),initialHeader:a.jb,watermarkInfo:this.o6a(a.ftb),isBranching:a.ff,dpsid:a.Y4a,viewableType:a.Zsb,isSupplemental:a.hD,clientIpAddress:a.Wna};};b.prototype.L3a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.o6a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.p3a=function(a){var b;b=this;return a&&{jJ:a.initialSegment,type:a.type,Ne:a.viewableId,$e:this.vC(a.segments,function(a){return{Fo:a.startTimeMs,wC:a.endTimeMs,CQ:a.defaultNext,next:b.vC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.S5a=function(a){var b;b=this;return a&&{initialSegment:a.jJ,type:a.type,viewableId:a.Ne,segments:this.vC(a.$e,function(a){return{startTimeMs:a.Fo,endTimeMs:a.wC,defaultNext:a.CQ,next:b.vC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.o3a=function(a){return{VT:a.pbcid,Ov:a.sessionABTestCell};};b.prototype.R5a=function(a){return{pbcid:a.VT,sessionABTestCell:a.Ov};};b.prototype.w3a=function(a){return this.Hf(a,this.v3a);};b.prototype.Z5a=function(a){return this.Hf(a,this.Y5a);};b.prototype.v3a=function(a){return{Vaa:this.D3a(a.tracks),id:a.id};};b.prototype.Y5a=function(a){return{tracks:this.g6a(a.Vaa),id:a.id};};b.prototype.D3a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,aia:a.TEXT};};b.prototype.g6a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.aia};};b.prototype.r3a=function(a){return this.Hf(a,this.q3a);};b.prototype.U5a=function(a){return this.Hf(a,this.T5a);};b.prototype.q3a=function(a){return{OB:a.audioTrackId,Oy:a.mediaId,Xsb:a.videoTrackId,dBa:a.subtitleTrackId,bkb:a.preferenceOrder};};b.prototype.T5a=function(a){return{audioTrackId:a.OB,mediaId:a.Oy,videoTrackId:a.Xsb,subtitleTrackId:a.dBa,preferenceOrder:a.bkb};};b.prototype.C3a=function(a){return this.Hf(a,this.B3a);};b.prototype.e6a=function(a){return this.Hf(a,this.d6a);};b.prototype.B3a=function(a){return this.Xb.si(this.A2(a),{type:a.type,TBa:this.A3a(a.ttDownloadables),vz:a.rawTrackType,jD:a.languageDescription,language:a.language,id:a.id,DS:a.isNoneTrack,zS:a.isForcedNarrative,Mpa:a.downloadableIds,Lna:this.hpa(a.cdnlist),rJ:a.isLanguageLeftToRight});};b.prototype.d6a=function(a){return this.Xb.si(this.i3(a),{type:a.type,ttDownloadables:this.c6a(a.TBa),rawTrackType:a.vz,languageDescription:a.jD,language:a.language,id:a.id,isNoneTrack:a.DS,isForcedNarrative:a.zS,downloadableIds:a.Mpa,cdnlist:this.hqa(a.Lna),trackType:a.Ci,new_track_id:a.so,isLanguageLeftToRight:a.rJ});};b.prototype.A3a=function(a){return this.vC(a,this.z3a);};b.prototype.c6a=function(a){return this.vC(a,this.b6a);};b.prototype.z3a=function(a){return{Nr:a.downloadUrls,ibb:a.hashAlgo,jbb:a.hashValue,height:a.height,width:a.width,Ecb:a.isImage,SJ:a.midxOffset,jT:a.midxSize,size:a.size,xqb:a.textKey};};b.prototype.b6a=function(a){return{downloadUrls:a.Nr,hashAlgo:a.ibb,hashValue:a.jbb,height:a.height,width:a.width,isImage:a.Ecb,midxOffset:a.SJ,midxSize:a.jT,size:a.size,textKey:a.xqb};};b.prototype.F3a=function(a){if(a)return this.Hf(a,this.E3a);};b.prototype.i6a=function(a){if(a)return this.Hf(a,this.h6a);};b.prototype.E3a=function(a){return{interval:a.interval,Ixa:a.pixelsAspectY,Hxa:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,qC:a.downloadable_id,Vc:a.urls,id:a.id};};b.prototype.h6a=function(a){return{interval:a.interval,pixelsAspectY:a.Ixa,pixelsAspectX:a.Hxa,width:a.width,height:a.height,size:a.size,downloadable_id:a.qC,urls:a.Vc,id:a.id};};b.prototype.n3a=function(a){return this.Hf(a,this.m3a);};b.prototype.Q5a=function(a){return this.Hf(a,this.P5a);};b.prototype.m3a=function(a){return this.Xb.si(this.A2(a),{id:a.id,vc:this.l3a(a.streams),Ci:a.trackType,tk:a.channels,language:a.language,v1:a.channelsFormat,waa:a.surroundFormatLabel,jD:a.languageDescription,isNative:a.isNative,E4a:a.disallowedSubtitleTracks,IL:a.track_id,U3a:a.defaultTimedText,l9:a.profileType,type:a.type,iaa:a.stereo,profile:a.profile,I1:a.codecName,vz:a.rawTrackType});};b.prototype.P5a=function(a){return this.Xb.si(this.i3(a),{id:a.id,streams:this.O5a(a.vc),trackType:a.Ci,channels:a.tk,language:a.language,channelsFormat:a.v1,surroundFormatLabel:a.waa,languageDescription:a.jD,isNative:a.isNative,disallowedSubtitleTracks:a.E4a,track_id:a.IL,defaultTimedText:a.U3a,profileType:a.l9,type:a.type,stereo:a.iaa,profile:a.profile,codecName:a.I1,rawTrackType:a.vz});};b.prototype.K3a=function(a){return this.Hf(a,this.J3a);};b.prototype.n6a=function(a){return this.Hf(a,this.m6a);};b.prototype.J3a=function(a){return this.Xb.si(this.A2(a),{type:a.type,vc:this.I3a(a.streams),Ve:a.drmHeader&&this.gpa(a.drmHeader),P2:a.dimensionsCount,Q2:a.dimensionsLabel,Mbb:a.ict,efb:a.maxCroppedHeight,ffb:a.maxCroppedWidth,gfb:a.maxCroppedX,hfb:a.maxCroppedY,l9:a.profileType,iaa:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Fxa:a.pixelAspectX,Gxa:a.pixelAspectY,profile:a.profile,ufb:a.max_framerate_value,tfb:a.max_framerate_scale,ggb:a.minCroppedHeight,hgb:a.minCroppedWidth,igb:a.minCroppedX,jgb:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,h9:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.gpa),AI:a.flavor,IL:a.track_id});};b.prototype.m6a=function(a){return this.Xb.si(this.i3(a),{type:a.type,streams:this.l6a(a.vc),drmHeader:a.Ve&&this.gqa(a.Ve),dimensionsCount:a.P2,dimensionsLabel:a.Q2,ict:a.Mbb,maxCroppedHeight:a.efb,maxCroppedWidth:a.ffb,maxCroppedX:a.gfb,maxCroppedY:a.hfb,profileType:a.l9,stereo:a.iaa,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.Fxa,pixelAspectY:a.Gxa,profile:a.profile,max_framerate_value:a.ufb,max_framerate_scale:a.tfb,minCroppedHeight:a.ggb,minCroppedWidth:a.hgb,minCroppedX:a.igb,minCroppedY:a.jgb,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.h9&&a.h9.map(this.gqa),flavor:a.AI,track_id:a.IL});};b.prototype.gpa=function(a){return{Z:a.bytes,F_a:a.checksum,uJ:a.keyId};};b.prototype.gqa=function(a){return{bytes:a.Z,checksum:a.F_a,keyId:a.uJ};};b.prototype.A2=function(a){return{Ci:a.trackType,so:a.new_track_id,type:a.type};};b.prototype.i3=function(a){return{trackType:a.Ci,new_track_id:a.so,type:a.type};};b.prototype.l3a=function(a){return this.Hf(a,this.k3a);};b.prototype.O5a=function(a){return this.Hf(a,this.N5a);};b.prototype.k3a=function(a){return{dC:a.content_profile,Ci:a.trackType,P:a.bitrate,size:a.size,Ll:a.isDrm,qC:a.downloadable_id,type:a.type,k8:a.new_stream_id,Vc:this.ipa(a.urls),tk:a.channels,v1:a.channelsFormat,waa:a.surroundFormatLabel,language:a.language,CYa:a.audioKey};};b.prototype.N5a=function(a){return{content_profile:a.dC,trackType:a.Ci,bitrate:a.P,size:a.size,isDrm:a.Ll,downloadable_id:a.qC,type:a.type,new_stream_id:a.k8,urls:this.iqa(a.Vc),channels:a.tk,channelsFormat:a.v1,surroundFormatLabel:a.waa,language:a.language,audioKey:a.CYa};};b.prototype.I3a=function(a){return this.Hf(a,this.H3a);};b.prototype.l6a=function(a){return this.Hf(a,this.k6a);};b.prototype.H3a=function(a){return{dC:a.content_profile,Ci:a.trackType,P:a.bitrate,size:a.size,Ll:a.isDrm,qC:a.downloadable_id,type:a.type,k8:a.new_stream_id,Vc:this.ipa(a.urls),gjb:a.peakBitrate,P2:a.dimensionsCount,Q2:a.dimensionsLabel,sjb:a.pix_w,rjb:a.pix_h,gza:a.res_w,fza:a.res_h,ira:a.framerate_value,hra:a.framerate_scale,hpb:a.startByteOffset,qc:a.vmaf,Uoa:a.crop_x,Voa:a.crop_y,Soa:a.crop_h,Toa:a.crop_w};};b.prototype.k6a=function(a){return{content_profile:a.dC,trackType:a.Ci,bitrate:a.P,size:a.size,isDrm:a.Ll,downloadable_id:a.qC,type:a.type,new_stream_id:a.k8,urls:this.iqa(a.Vc),peakBitrate:a.gjb,dimensionsCount:a.P2,dimensionsLabel:a.Q2,pix_w:a.sjb,pix_h:a.rjb,res_w:a.gza,res_h:a.fza,framerate_value:a.ira,framerate_scale:a.hra,startByteOffset:a.hpb,vmaf:a.qc,crop_x:a.Uoa,crop_y:a.Voa,crop_h:a.Soa,crop_w:a.Toa};};b.prototype.ipa=function(a){return this.Hf(a,this.G3a);};b.prototype.iqa=function(a){return this.Hf(a,this.j6a);};b.prototype.G3a=function(a){return{url:a.url,Kna:a.cdn_id};};b.prototype.j6a=function(a){return{url:a.url,cdn_id:a.Kna};};b.prototype.hpa=function(a){return this.Hf(a,this.y3a);};b.prototype.hqa=function(a){return this.Hf(a,this.a6a);};b.prototype.y3a=function(a){return{id:a.id,key:a.key,Zua:a.lowgrade,name:a.name,Sd:a.rank,type:a.type,M4a:this.s3a(a.dns)};};b.prototype.a6a=function(a){return{id:a.id,key:a.key,lowgrade:a.Zua,name:a.name,rank:a.Sd,type:a.type,dns:this.V5a(a.M4a)};};b.prototype.s3a=function(a){if(a)return{host:a.host,qcb:a.ipv4,rcb:a.ipv6,P7a:a.forceLookup};};b.prototype.V5a=function(a){if(a)return{host:a.host,ipv4:a.qcb,ipv6:a.rcb,forceLookup:a.P7a};};b.prototype.u3a=function(a){return this.Hf(a,this.t3a);};b.prototype.X5a=function(a){return this.Hf(a,this.W5a);};b.prototype.t3a=function(a){return{key:a.key,Sd:a.rank,weight:a.weight,level:a.level};};b.prototype.W5a=function(a){return{key:a.key,rank:a.Sd,weight:a.weight,level:a.level};};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ze))],a);d.wKa=a;},function(g,d,a){var c,h,l,f,p,m,r,k;function b(a,b,c,d,f,g,h){this.$Wa=a;this.Ulb=b;this.Lr=d;this.N6=f;this.dza=g;this.pza=h;this.ga=c.qb("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);l=a(316);a(315);f=a(73);p=a(314);m=a(105);r=a(313);a=a(312);b.prototype.IB=function(a,b){var c,d;c=this;d=this.dza.jrb(a);return this.$Wa.wp(this.ga,b.profile,this.j8a(a),d).then(function(a){a.map(function(a){return a.gGb;});return c.pza.krb(a);})["catch"](function(a){c.ga.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.dza.mrb(a);return this.Ulb.Gg(this.ga,b.profile,a).then(function(a){return c.pza.nrb(a);})["catch"](function(a){c.ga.error("PBO release license failed",a);return Promise.reject(a);});};b.prototype.j8a=function(a){var b;b=this.N6();b.AP({ldl:{href:this.xna(a,"limited"),rel:"ldl"},license:{href:this.xna(a,"standard"),rel:"license"}});return b;};b.prototype.xna=function(a,b){return"/license?licenseType="+b+"&playbackContextId="+a.kf+"&esn="+this.Lr().ig;};k=b;k=g.__decorate([c.N(),g.__param(0,c.l(l.uga)),g.__param(1,c.l(p.Jga)),g.__param(2,c.l(h.yb)),g.__param(3,c.l(f.tq)),g.__param(4,c.l(m.EA)),g.__param(5,c.l(r.zga)),g.__param(6,c.l(a.Aga))],k);d.DJa=k;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c){this.Teb=a;this.Bx=c;this.ga=b.qb("ManifestProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(15);l=a(317);f=a(9);p=a(71);m=a(17);b.prototype.NC=function(a,b){var c;c=this;return this.Bx().then(function(d){return c.Teb.wp(c.ga,d.profile,b,a);})["catch"](function(a){c.ga.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.boa=function(a,b){var c;c={};a&&m.tc(a,function(a,b){c[a]=h.Vd(b)?b:JSON.stringify(b);});b&&m.tc(b,function(a,b){c[a]=h.Vd(b)?b:JSON.stringify(b);});return c;};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(l.Dga)),g.__param(1,c.l(f.yb)),g.__param(2,c.l(p.Ss))],a);d.BKa=a;},function(g,d,a){var c,h,l;function b(a){this.N6=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(105);l=a(212);b.prototype.decode=function(a){var b;b=this.S$a(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.L4(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.a9a(a),timedtexttracks:this.kab(a.textTracks,b),media:this.OC(a.media),trickplays:this.qab(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.u9a(a),initialHeader:void 0};b.Bz=a.Bz;b.eE=a.eE;b.Ey=this.N6();b.Ey.dma(b);return b;};b.prototype.a9a=function(a){var b,c,d;b=Aa(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.L4=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.S$a=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Asa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.q8a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.q8a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.Asa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.zab(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.zab=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.Asa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.kab=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.fab(a.downloadables),ttDownloadables:c.gab(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.fab=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.u$a=function(a){var b;b=l.VY.R4();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(xb(a.map(function(a){return a.pixHeight;}))));};b.prototype.gab=function(a){var b;if(a){b=this.u$a(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.OC=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.qab=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.u9a=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.EA))],a);d.CKa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QQa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.GHa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n;function b(a,b,c,d,f,g,h){this.Xb=b;this.tl=c;this.UV=d;this.Bb=f;this.yua=g;this.Bx=h;this.ga=a.qb("DrmProvider");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);l=a(44);f=a(98);p=a(9);m=a(80);r=a(71);k=a(162);x=a(86);v=a(607);a=a(145);b.prototype.ie=function(a){var b;b=this;return this.Bx().then(function(c){return b.Xb.yu(a.Nn[0].data,[8,4])?{Cb:[{id:"ddd",jv:"cert",pD:void 0}],Dy:[{sessionId:"ddd",data:new Uint8Array(b.tl.decode(v.QQa))}]}:b.Xb.yu(a.Nn[0].data,b.UV.decode("certificate"))?{Cb:[{id:"ddd",jv:"cert",pD:void 0}],Dy:[{sessionId:"ddd",data:new Uint8Array(b.tl.decode(v.GHa))}]}:b.yua.IB(b.X7a(a),b.RI(c)).then(function(a){return b.Y7a(a);});});};b.prototype.release=function(a){var b;b=this;return this.Bx().then(function(c){return b.yua.release(b.$7a(a),b.RI(c)).then(function(c){return b.a8a(c,a);});});};b.prototype.X7a=function(a){var b;b=this;return{ja:a.ja,kf:a.kf,QQ:a.QQ,Hg:x.Aua(a.Hg),$i:k.qn[a.$i],Nn:a.Nn.map(function(a){return{sessionId:a.sessionId,dataBase64:b.tl.encode(a.data)};}),NJ:a.NJ};};b.prototype.$7a=function(a){var b;b={};a.Mn&&a.Cb[0].id&&(b[a.Cb[0].id]=this.tl.encode(a.Mn));return a&&a.Mn?{ja:a.ja,Cb:a.Cb,VK:b}:{ja:a.ja,Cb:a.Cb};};b.prototype.Y7a=function(a){return{Cb:a.Cb,Dy:a.Dy};};b.prototype.a8a=function(a,b){return a&&a.response&&a.response.data&&b.Cb[0].id&&(a=a.response.data[b.Cb[0].id])?{response:this.tl.decode(a)}:{};};b.prototype.RI=function(a){return{log:this.ga,Bb:this.Bb,profile:a.profile};};n=b;n=g.__decorate([c.N(),g.__param(0,c.l(p.yb)),g.__param(1,c.l(h.ze)),g.__param(2,c.l(l.tj)),g.__param(3,c.l(f.Rw)),g.__param(4,c.l(m.pt)),g.__param(5,c.l(a.GF)),g.__param(6,c.l(r.Ss))],n);d.TGa=n;},function(g,d,a){var c,h,l,f,p,m,r;function b(a,b,c,d){this.is=b;this.Bb=c;this.Gh=d;this.log=a.qb("IdentityProvider");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(9);f=a(23);p=a(45);m=a(80);a=a(318);b.prototype.ping=function(a,b){var c;c=this;return this.Gh.Ipa?new Promise(function(d,f){c.Gh.Ipa(c.RI(a,b)).then(function(){d();})["catch"](function(a){f(new p.Yb(h.I.sY,a.T,a.mc,a.zC,a.Nu,a.wf,a.Ga,a.Mm));});}):Promise.reject(new p.Yb(h.I.sY,h.H.rga));};b.prototype.Gy=function(a,b){var c;c=this;return this.Gh.Gy?new Promise(function(d,f){c.Gh.Gy(c.RI(a,b)).then(function(a){d({hu:a.hu,jh:a.jh,cj:a.cj});})["catch"](function(a){f(new p.Yb(h.I.FF,a.T,a.mc,a.zC,a.Nu,a.wf,a.Ga,a.Mm));});}):Promise.reject(new p.Yb(h.I.FF,h.H.rga));};b.prototype.RI=function(a,b){a={log:this.log,Bb:this.Bb,profile:a};this.Acb(b)&&(a.cy=b.cy,a.password=b.password);this.is.GB(b)&&(a.useNetflixUserAuthData=b);this.is.Ti(b)&&(a.jh=b);return a;};b.prototype.Acb=function(a){return void 0===a?!1:this.is.uP(a)?this.is.Ti(a.cy):!1;};r=b;r=g.__decorate([c.N(),g.__param(0,c.l(l.yb)),g.__param(1,c.l(f.ne)),g.__param(2,c.l(m.pt)),g.__param(3,c.l(a.Ica))],r);d.cJa=r;},function(g,d,a){var b,c,h,l,f,p,m,r,k,x,v,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(318);c=a(438);h=a(609);l=a(437);f=a(608);p=a(606);m=a(157);r=a(605);k=a(185);x=a(145);v=a(604);n=a(603);d.Jkb=new g.Zb(function(a){a(b.Ica).Sz(function(){return t._cad_global.controlProtocol;});a(c.Cea).to(h.cJa).$();a(l.gda).to(f.TGa).$();a(m.bY).to(p.CKa).$();a(m.mfa).to(n.wKa).$();a(k.aY).to(r.BKa).$();a(x.GF).to(v.DJa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oGb=function(a){return a;};d.Seb=function(a){return a;};d.pGb=function(a){return Object.assign({},a);};},function(g,d,a){var c,h,l,f,p,m,r,k,x;function b(a,b,c){this.Ka=a;this.ptb=b;this.performance=c;h.Hk(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(51);l=a(611);f=a(31);p=a(39);m=a(36);r=a(1);k=a(322);x=a(4);b.prototype.get=function(a,b,d){var g;g=this;return new Promise(function(h,m){var l,p,r;try{l=g.ptb.create();"withCredentials"in l||m(Error("Missing CORS support"));l.open("GET",a,!0);b&&(l.withCredentials=!0);d&&(l.timeout=d.ma(x.za));p=g.Ka.hg;r=void 0;l.onreadystatechange=function(){var b;switch(l.readyState){case XMLHttpRequest.HEADERS_RECEIVED:r=g.Ka.hg.Jd(p);break;case XMLHttpRequest.DONE:b=g.Ka.hg.Jd(p);h({body:l.responseText,status:l.status,headers:c.Iib(l.getAllResponseHeaders()),Sc:g.a$a(a,f.Z(l.responseText.length),b,r)});}};l.send();}catch(O){m(O);}});};b.Iib=function(a){var b,d,f;b={};a=a.split("rn");for(var c=0;c<a.length;c++){d=a[c];f=d.indexOf(": ");0<f&&(b[d.substring(0,f).toLowerCase()]=d.substring(f+2));}return b;};b.prototype.a$a=function(a,b,c,d){b={size:b,duration:c,Jaa:d};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=l.Seb(b);a.M3a&&(b.size=f.Z(a.M3a));0<a.duration?b.duration=x.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=x.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.Fpa=x.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Caa=x.timestamp(a.connectEnd-a.connectStart),b.Jaa=x.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Naa=x.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.Naa=x.timestamp(c),b.Caa=x.timestamp(a.connectEnd-a.connectStart-c)));return b;};a=c=b;a=c=g.__decorate([r.N(),g.__param(0,r.l(m.Fi)),g.__param(1,r.l(k.Eia)),g.__param(2,r.l(p.AY)),g.__param(2,r.optional())],a);d.eIa=a;},function(g,d,a){var c,h,l,f,p;function b(a,b){this.is=a;this.json=b;h.Hk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(51);l=a(39);f=a(4);a=a(23);b.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.uP(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.HB(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.HB(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(!this.is.HB(a.pulse_delay))throw Error("FtlProbe: param.pulse_delay: not a positive integer");if(!this.is.HB(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.iu(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Ti(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Ex(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.uP(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Ah(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Ah(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Tkb:a.pulses,Rkb:f.sb(a.pulse_delay),Skb:f.sb(a.pulse_timeout),kua:a.next?f.sb(a.next):void 0,Vc:a.urls,b7:a.logblob,context:a.ctx};};p=b;p=g.__decorate([c.N(),g.__param(0,c.l(a.ne)),g.__param(1,c.l(l.kt))],p);d.NHa=p;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.Ig=a;this.Qy=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(31);f=a(4);p=a(57);a=a(110);b.prototype.LK=function(a){a=this.Qy.Bu("ftlProbeError","info",c.ktb({url:a.url,sc:a.status,pf_err:a.N8},a));this.Ig.Vb(a);};b.ktb=function(a,b){b.Sc&&(b=b.Sc,c.jp(a,"d",b.duration),c.jp(a,"dns",b.Fpa),c.jp(a,"tcp",b.Caa),c.jp(a,"tls",b.Naa),c.jp(a,"ttfb",b.Jaa),a.sz=b.size.ma(l.dm));return a;};b.jp=function(a,b,c){c&&(a[b]=c.ma(f.za));return a;};m=c=b;m=c=g.__decorate([h.N(),g.__param(0,h.l(p.qt)),g.__param(1,h.l(a.pA))],m);d.EOa=m;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.Ig=a;this.Qy=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(31);f=a(4);p=a(57);a=a(110);b.prototype.LK=function(a){a=this.Qy.Bu(a.b7,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return c.ltb({d:a.Sc.duration.ma(f.za),sc:a.status,sz:a.Sc.size.ma(l.dm),via:a.Nsb,cip:a.L_a,err:a.m3},a);})};})});this.Ig.Vb(a);};b.ltb=function(a,b){c.jp(a,"dns",b.Sc.Fpa);c.jp(a,"tcp",b.Sc.Caa);c.jp(a,"tls",b.Sc.Naa);c.jp(a,"ttfb",b.Sc.Jaa);return a;};b.jp=function(a,b,c){c&&(a[b]=c.ma(f.za));return a;};m=c=b;m=c=g.__decorate([h.N(),g.__param(0,h.l(p.qt)),g.__param(1,h.l(a.pA))],m);d.FOa=m;},function(g,d,a){var c,h,l,f,p,m,r,k;function b(a,b,c,d,f,g,h){this.config=a;this.eta=b;this.ia=c;this.u=d;this.omb=f;this.L9=g;this.edb=0;this.ga=h.qb("FTL");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);f=a(30);p=a(9);m=a(320);r=a(319);a=a(166);b.prototype.start=function(){this.config.enabled&&!this.Zp&&(this.Zp=this.ia.Qf(this.config.QAa,this.iE.bind(this)));};b.prototype.stop=function(){this.Zp&&(this.Zp.cancel(),this.Zp=void 0);};b.prototype.iE=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.edb++;this.eab(b).then(function(b){return Promise.all(b.Vc.map(function(c){return a.abb(b,c.url,c.name);})).then(function(c){0<c.length&&a.omb.LK({data:c,context:b.context,b7:b.b7});}).then(function(){return b;});}).then(function(b){a.Zp&&(b.kua?a.Zp=a.ia.Qf(b.kua,a.iE.bind(a)):a.stop());})["catch"](function(b){return a.ga.error("FTL run failed",b);});};b.prototype.eab=function(a){var b;b=this;return this.eta.get(a,!1).then(function(c){var d;if(200!=c.status||null==c.body)return b.L9.LK({url:a,status:c.status,N8:"FTL API request failed",Sc:c.Sc}),Promise.reject(Error("FTL API request failed: "+c.status));d=b.u.parse(c.body);return d instanceof Error?(b.L9.LK({url:a,status:4,N8:"FTL Probe API JSON parsing error",Sc:c.Sc}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error&&(b.L9.LK({url:a,status:0,N8:c.message}),b.ga.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.abb=function(a,b,d){var f;f=this;return new Promise(function(g,h){var x;for(var m,p,r,k=[],u={},v=0;v<a.Tkb;u={rd:u.rd},++v){u.rd=0==v?l.Vf:a.Rkb;x=function(d){return function(){return new Promise(function(g,h){f.ia.Qf(d.rd,function(){c.ykb(f.eta,b,a.Skb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}m=b(m,"via",a);p=b(p,"x-ftl-probe-data",a);r=b(r,"x-ftl-error",a);g({status:a.status,Sc:a.Sc,Nsb:m||"",L_a:p||"",m3:r||""});})["catch"](function(a){h(a);});});});};}(u);k.push(0<v?k[v-1].then(x):x());}Promise.all(k).then(function(a){g({url:b,name:d,data:a});})["catch"](function(a){h(a);});});};b.ykb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};k=c=b;k=c=g.__decorate([h.N(),g.__param(0,h.l(a.Gda)),g.__param(1,h.l(r.Xda)),g.__param(2,h.l(f.ag)),g.__param(3,h.l(m.Fda)),g.__param(4,h.l(a.qha)),g.__param(5,h.l(a.pha)),g.__param(6,h.l(p.yb))],k);d.PHa=k;},function(g,d,a){var b,c,h,l,f,p,m,r;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(616);c=a(615);h=a(614);l=a(613);f=a(612);p=a(320);m=a(319);r=a(166);d.c8a=new g.Zb(function(a){a(r.Hda).to(b.PHa).$();a(r.qha).to(c.FOa).$();a(r.pha).to(h.EOa).$();a(p.Fda).to(l.NHa).$();a(m.Xda).to(f.eIa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.lp=a;}a.prototype.$y=function(){var a,c,d;a=this.lp.O9a();c=this.lp.P9a();d=this.lp.Q9a();if("number"===typeof a&&"number"===typeof c&&"number"===typeof d)return(d-a)/c;};return a;}();d.CLa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,c){this.lp=a;this.$y=c;}a.prototype.K$=function(a){return this.lp.K$(a);};a.prototype.ao=function(){return this.lp.ao();};a.prototype.h$a=function(){return this.$y.$y();};return a;}();d.BLa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Jua=a;}a.prototype.K$=function(a){try{this.Jua.setItem("gtp",JSON.stringify(a));}catch(c){return!1;}return!0;};a.prototype.Pra=function(){var a;try{a=this.Jua.getItem("gtp");if(a)return JSON.parse(a);}catch(c){}};a.prototype.ao=function(){var a;a=this.Pra();if(a&&a.tp)return a.tp.a;};a.prototype.O9a=function(){var a;a=this.H4();if(a)return a.p25;};a.prototype.P9a=function(){var a;a=this.H4();if(a)return a.p50;};a.prototype.Q9a=function(){var a;a=this.H4();if(a)return a.p75;};a.prototype.H4=function(){var a;a=this.Pra();if(a&&(a=a.iqr))return a;};return a;}();d.Rba=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(620);c=a(619);h=a(618);d["default"]=function(a){var d;a=new b.Rba(a);d=new h.CLa(a);return new c.BLa(a,d);};},function(g,d,a){var c,h,l,f;function b(a,b,c){this.config=a;this.meb=b;this.fj=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(461);h=a(1);l=a(159);a=a(321);b.prototype.d2=function(){if(this.config.uCa)return this.fj(this.meb());};f=b;f=g.__decorate([h.N(),g.__param(0,h.l(c.Ofa)),g.__param(1,h.l(l.Nfa)),g.__param(2,h.l(a.Pfa))],f);d.ALa=f;},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};c=b;c=g.__decorate([a.N()],c);d.WQa=c;},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(623);c=a(80);h=a(322);l=a(622);f=a(186);p=a(321);m=a(621);d.Pgb=new g.Zb(function(a){a(h.Eia).to(b.WQa).$();a(c.pt).Sz(function(){return t._cad_global.http;});a(f.dN).to(l.ALa).$();a(p.Pfa).Ng(m["default"]);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xe={YCa:"aseexception",ZCa:"asereport",IDa:"audioswitch",fEa:"bitraterestriction",gEa:"blockedautoplay",$Ea:"cdnsel",bFa:"chgstrm",NGa:"dlreport",OGa:"dlreq",wHa:"endplay",lJa:"intrplay",YKa:"midplay",Tga:"playbackaborted",DOa:"renderstrmswitch",GOa:"repos",KOa:"resumeplay",qPa:"securestop",vPa:"serversel",EPa:"startplay",FPa:"statechanged",MPa:"subtitleerror",OPa:"subtitleqoe",eQa:"timedtextrebuffer",fQa:"timedtextswitch",mQa:"transition"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dfb=function(a,b){var f,p;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),g=1;g<a.length;g++){f=a[g];p=b(f);p>d&&(c=f,d=p);}return c;}};},function(g,d,a){var c;function b(a,b,d){a=c.OW.call(this,a,b)||this;a.zH=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(326);ia(b,c.OW);d.YEa=b;},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n,q,A,z,I,N;function b(a,b,c,d,f,g,h,m,l,p,r,k,u,v){this.Hqb=a;this.$P=b;this.Ig=c;this.K7=d;this.x3=f;this.Ym=g;this.Kd=h;this.PQ=m;this.Bb=l;this.config=p;this.Ka=r;this.Va=k;this.platform=u;this.y0=v;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(224);h=a(411);l=a(57);f=a(21);p=a(404);m=a(220);r=a(106);k=a(1);x=a(327);v=a(324);n=a(80);q=a(22);A=a(36);z=a(24);I=a(65);a=a(219);b.prototype.create=function(a){return new x.RJa(a,this.Hqb,this.$P,this.Ig,this.K7,this.x3,this.Ym,this.Kd,this.PQ,this.Bb,this.config,this.Ka,this.Va,this.platform,this.y0);};N=b;N=g.__decorate([k.N(),g.__param(0,k.l(c.ZY)),g.__param(1,k.l(h.zca)),g.__param(2,k.l(l.qt)),g.__param(3,k.l(p.rfa)),g.__param(4,k.l(m.zda)),g.__param(5,k.l(r.DA)),g.__param(6,k.l(f.ze)),g.__param(7,k.l(v.dda)),g.__param(8,k.l(n.pt)),g.__param(9,k.l(q.we)),g.__param(10,k.l(A.Fi)),g.__param(11,k.l(z.Oe)),g.__param(12,k.l(I.un)),g.__param(13,k.l(a.Sba))],N);d.QJa=N;},function(g,d,a){var c,h,l;function b(a){this.Eg=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(31);a=a(73);b.prototype.veb=function(){var a;a=this.Eg()?this.Eg().ig.length:40;return h.Z(a+33);};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.tq))],l);d.OJa=l;},function(g,d,a){var h,l,f,p,m,r,k,x;function b(a,b,c,d,f,g,h,m,l,p,r){this.platform=b;this.m2=c;this.type=d;this.severity=f;this.timestamp=g;this.data=h;this.data.clver=this.platform.version;a&&a.Xi&&(a.Xi.os&&(this.data.osplatform=a.Xi.os.name,this.data.osver=a.Xi.os.version),this.data.browsername=a.Xi.name,this.data.browserver=a.Xi.version);a.FS&&(this.data.tester=!0);a.Dp&&!this.data.groupname&&(this.data.groupname=a.Dp);a.Cr&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.Cr:a.Cr);a.Qs&&(this.data.uigroupname=a.Qs);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=m;this.data.uniqueLogId=p.h4();this.data.appId=l;r&&(this.data.soffms=r.my(),this.data.mid=r.S,this.data.lvpi=r.EJ,this.data.uiLabel=r.wc,this.data["startup"===d?"playbackxid":"xid"]=r.ja,r.Ov&&(a=r.Ov,(r=r.Ov.split("."))&&1<r.length&&"S"!==r[0][0]&&(a="SABTest"+r[0]+".Cell"+r[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+a:a));}function c(a,b,c,d,f,g){this.Ka=a;this.m2=b;this.config=c;this.Va=d;this.Gsb=f;this.platform=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(31);l=a(1);f=a(36);p=a(429);m=a(52);r=a(24);k=a(210);a=a(65);c.prototype.Bu=function(a,c,d,f){return new b(this.config,this.platform,this.m2,a,c,this.Ka.hg,d,this.Va.Vra(),this.Va.id,this.Gsb,f);};x=c;x=g.__decorate([l.N(),g.__param(0,l.l(f.Fi)),g.__param(1,l.l(p.Mca)),g.__param(2,l.l(m.fm)),g.__param(3,l.l(r.Oe)),g.__param(4,l.l(k.cZ)),g.__param(5,l.l(a.un))],x);d.NJa=x;na.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Ena||(this.Ena=h.Z(this.m2.encode(this.data).length));return this.Ena;}}});},function(g,d,a){var c,h,l,f;function b(a){this.config=a;this.jfb=c.Z(5E5);this.Fnb=h.Y7(1);this.Gza=h.oh(5);this.tva=c.Z(1E6);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(31);h=a(4);l=a(1);a=a(22);na.Object.defineProperties(b.prototype,{Oob:{configurable:!0,enumerable:!0,get:function(){return this.config().Pob;}},a7:{configurable:!0,enumerable:!0,get:function(){return this.config().a7;}},j0:{configurable:!0,enumerable:!0,get:function(){return this.config().j0;}}});f=b;f=g.__decorate([l.N(),g.__param(0,l.l(a.we))],f);d.GJa=f;},function(g,d,a){var c,h,l,f;function b(a,b){this.Ig=a;this.q0a=b();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(31);l=a(57);a=a(22);b.prototype.Dc=function(){this.Ig.Dc();};b.prototype.Vb=function(a){var b;b=a;this.q0a.vCa||(b=Object.assign({},a,{severity:a.data.sev,size:h.Z(a.U8a().length)}));this.Ig.Vb(b);};b.prototype.flush=function(a){return this.Ig.flush(a);};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(l.qt)),g.__param(1,c.l(a.we))],f);d.AJa=f;},function(g,d,a){var c,h,l;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(188);l=a(31);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.veb());}).reduce(function(a,b){return a.add(b);},l.Z(0));};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Zea))],a);d.PJa=a;},function(g,d,a){var h,l,f,p,m,r,k,x,v,n,q;function b(a,b,c,d,f,g,h,m){this.Va=a;this.platform=c;this.Eg=d;this.json=f;this.Xb=g;this.Ym=h;this.Deb=m;l.Hk(this,"json");this.ga=b.qb("LogblobSender");}function c(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(39);p=a(4);m=a(21);r=a(24);k=a(65);x=a(73);v=a(9);n=a(331);a=a(106);b.prototype.send=function(a,b){var d;d=this;return new Promise(function(a,f){var g;try{g=b.reduce(function(a,b){a.entries.push(d.F2a(b));return a;},new c());a(d.f8a(g));}catch(O){d.ga.error(O.message);f(O);}}).then(function(b){return d.pE(b,a);});};b.prototype.F2a=function(a){return this.Xb.si(this.Xb.si({},a.data),{esn:this.Eg().ig,sev:a.severity,type:a.type,lver:this.platform.Rua,jssid:this.Va.id,devmod:this.platform.M2,jsoffms:a.timestamp.Jd(this.Va.nD).ma(p.za),clienttime:a.timestamp.ma(p.za),client_utc:a.timestamp.ma(p.jm),uiver:this.Ym.Wz});};b.prototype.f8a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(E){for(var c={},d=0;d<a.entries.length;c={mL:c.mL,Qd:c.Qd},++d){c.Qd=Object.assign({},a.entries[d]);try{this.json.stringify(c.Qd);}catch(qa){c.mL=void 0;this.Xb.Qr(c.Qd,function(a){return function(c,d){try{b.json.stringify(d);}catch(W){a.mL=W.message;a.Qd[c]=a.mL;}};}(c));c.Qd.stringifyException=c.mL;c.Qd.originalType=c.Qd.type;c.Qd.type="debug";c.Qd.sev="error";}}return this.json.stringify(a);}};b.prototype.pE=function(a,b){var c;c=this;return this.Deb.Gg(this.ga,b,{logblobs:a}).then(function(){})["catch"](function(a){c.ga.error("PBO logblob failed",a);return Promise.reject(a);});};q=b;q=g.__decorate([h.N(),g.__param(0,h.l(r.Oe)),g.__param(1,h.l(v.yb)),g.__param(2,h.l(k.un)),g.__param(3,h.l(x.tq)),g.__param(4,h.l(f.kt)),g.__param(5,h.l(m.ze)),g.__param(6,h.l(a.DA)),g.__param(7,h.l(n.Cga))],q);d.SJa=q;},function(g,d,a){var c,h,l;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(4);l=a(31);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.sb(a.timestamp),size:l.Z(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.ma(h.za),size:a.size.ma(l.dm)};};a=b;a=g.__decorate([c.N()],a);d.MJa=a;},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n,q,A,z;function b(a,b,c,d,f,g,m,l){var p;p=this;this.ia=a;this.Af=b;this.qy=d;this.Np=f;this.config=g;this.gf=m;this.json=l;this.r2=[];h.Hk(this,"json");this.ga=this.gf.qb("MessageQueue");this.Mu=new q.UKa(this.Np);c().then(function(a){p.ah=a;p.data=new n.VKa(p.Np,a.profile);p.feb(a);})["catch"](function(a){p.ga.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(51);l=a(31);f=a(117);p=a(188);m=a(30);r=a(9);k=a(71);x=a(57);v=a(53);n=a(333);q=a(333);A=a(39);z=a(2);b.prototype.nr=function(a,b,c){var d;try{d={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.nr(c.id,this.Zra(b),"logblobs",d),this.pqa()):this.r2.push(d);}catch(O){b={};(c=a.data.debugMessage)&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ga.error("JSON.stringify error: "+O.message,b);}};b.prototype.wz=function(a){this.data.wz(a);this.pqa();};b.prototype.A8a=function(){var a,b,c,k;a=[];if(this.data){b=this.config.tva.to(l.dm);for(c in this.data.Rd)for(var d=this.Yu(c),f=this.data.Rd[c],g=[],h=[],m=l.Z(0),p=0;p<f.Rd.length;p++){k=f.Rd[p];g.push(k.message);h.push(k.id);m=m.add(this.Np.measure([k.message]));if(0<=m.xl(b)||p+1===f.Rd.length)this.ga.trace("Batch_"+a.length+": "+g.length+"/"+m,r.qw),a.push({profile:d,ita:h.slice(),Rd:g.slice(),size:m}),g=[],h=[],m=l.Z(0);}}return a;};b.prototype.feb=function(a){var b;b=this;this.config.Gza.Wta()&&(this.Kma=this.Af.create(),this.Kma.then(function(a){return a.load("messages");}).then(function(a){b.eeb(a.value);})["catch"](function(a){a.T===z.H.im?b.ga.info("No messages to load."):b.ga.error("Failed to load messages.",a);}));this.r2.forEach(function(c){b.data.nr(a.profile.id,b.Zra(!1),"logblobs",c);});this.r2=[];};b.prototype.eeb=function(a){var b,c,d;b=this;try{c=this.Mu.decode(a);d=this.ah.Yu(c.vP);if(d&&d.Bh.id===this.data.vP){this.ga.trace("Loading messageQueue.");a={};for(var f in c.Rd)a.profileId=f,c.Rd[a.profileId].Rd.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.nr(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ga.trace("AcountId does not match, ignoring persisted messages.");}catch(K){this.ga.error("Load messageQueue failed.",K);}};b.prototype.bnb=function(){var a,b;a=this;b=this.Mu.encode(this.data);this.Kma.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ga.info("MessageQueue: Saved",r.qw);})["catch"](function(b){a.ga.error("Failed to save messages.",b);});};b.prototype.Cpb=function(){this.KU&&(this.KU.cancel(),this.KU=void 0);};b.prototype.pqa=function(){this.config.Oob&&!this.KU&&(this.KU=this.ia.Qf(this.config.Gza,this.cib.bind(this)));};b.prototype.cib=function(){this.Cpb();this.bnb();};b.prototype.Zra=function(a){return a?this.qy.KH():0;};b.prototype.Yu=function(a){return this.ah.Yu(a)||this.ah.profile;};na.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=l.Z(0);if(this.data)for(var b in this.data.Rd)a=a.add(this.data.Rd[b].size);return a;}}});a=b;a=g.__decorate([c.N(),g.__param(0,c.l(m.ag)),g.__param(1,c.l(v.cm)),g.__param(2,c.l(k.Ss)),g.__param(3,c.l(f.oA)),g.__param(4,c.l(p.$ea)),g.__param(5,c.l(x.YX)),g.__param(6,c.l(r.yb)),g.__param(7,c.l(A.kt))],a);d.WKa=a;},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n;function b(a,b,c,d,f,g,m,l){var p;p=this;this.config=a;this.json=c;this.ia=d;this.reb=f;this.QJ=m;this.yQ=l;this.AS=this.CS=this.Sm=!1;this.listeners=[];h.Hk(this,"json");this.ga=g.qb("LogBatcher");this.up();b().then(function(a){p.ah=a;p.ah.CS().subscribe(function(a){return p.CS=a;});})["catch"](function(a){p.ga.error("Unable to initialize the account manager for the log batcher",a,r.qw);});}Object.defineProperty(d,"__esModule",{value:!0});c=a(0);g=a(1);h=a(51);l=a(39);f=a(335);p=a(71);m=a(30);r=a(9);k=a(57);x=a(334);v=a(2);n=a(68);a(147);d.pxb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.Dc=function(){this.Sm=!0;};b.prototype.Vb=function(a,b,c){var d;b=void 0===b?!1:b;d=this;0<a.size.xl(this.config.jfb)?this.ga.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!c&&this.ah&&(c=this.ah.profile),this.listeners.forEach(function(b){return b.Rva(a);}),b=b||0<=this.config.a7.indexOf(a.type),this.QJ.nr(a,b,c),this.ia.nb(function(){d.C7a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.AS?(this.ga.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.ga.trace("Flushing",r.qw);b.Sf();b.ia.nb(function(){b.z$(a).then(function(){c();})["catch"](function(){d();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.z$=function(a){a=void 0===a?!1:a;return c.__awaiter(this,void 0,void 0,function(){var c,d,f,g,h,m,l,p,k,u,x;function b(b){for(;;)switch(c){case 0:k=u;if(u.Sm&&u.CS){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!u.AS){c=2;break;}u.ga.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:p=u.QJ.A8a();l=!1;if(!(0<p.length||a)){c=3;break;}u.Sf();u.listeners.forEach(function(a){return a.bAa();});m={};h=Aa(p);g=h.next();case 4:if(g.done){c=6;break;}m.wr=g.value;try{return u.wz(m.wr),u.ga.trace("Sending batch: "+m.wr.size,r.qw),c=9,{value:u.reb.send(m.wr.profile,m.wr.Rd),done:!1};}catch(D){f=D;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(D){f=D;c=7;break;}case 10:try{c=8;break;}catch(D){f=D;c=7;break;}case 7:d=f;l=!0;u.ga.warn("Failed to send logblobs.",d,r.qw);u.Job(d)&&(u.ga.trace("re-adding failed batch"),m.wr.Rd.forEach(function(a){return function(b,c){k.QJ.nr(b,0!==a.wr.ita[c],a.wr.profile);};}(m)));if(!u.Sob(d)){c=11;break;}u.AS=!0;c=6;break;case 11:case 8:case 5:m={wr:m.wr};g=h.next();c=4;break;case 6:case 3:u.up();if(!l){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;u=this;x={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};Za();x[Symbol.iterator]=function(){return this;};return x;});};b.prototype.Job=function(a){return a.Jc===v.OX.tga?!1:this.config.j0;};b.prototype.Sob=function(a){return a.eb===v.H.Jda||a.eb===v.H.xF||a.eb===v.H.kA?!0:!1;};b.prototype.C7a=function(){var a;a=this;0<this.QJ.size.xl(this.config.tva)?this.z$()["catch"](function(){return a.ga.warn("failed to send log messages on size threshold");}):this.up();};b.prototype.Sf=function(){this.zy&&(this.zy.cancel(),this.zy=void 0);};b.prototype.up=function(){this.zy||(this.zy=this.ia.Qf(this.config.Fnb,this.rs.bind(this)));};b.prototype.rs=function(){var a;a=this;this.AS=!1;this.Sf();this.z$()["catch"](function(){return a.ga.warn("failed to send log messages on timer");});};b.prototype.wz=function(a){this.QJ.wz(a.ita);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(z){}return b;};a=b;a=c.__decorate([g.N(),c.__param(0,g.l(k.YX)),c.__param(1,g.l(p.Ss)),c.__param(2,g.l(l.kt)),c.__param(3,g.l(m.ag)),c.__param(4,g.l(f.bfa)),c.__param(5,g.l(r.yb)),c.__param(6,g.l(x.zfa)),c.__param(7,g.l(n.jF))],a);d.HJa=a;},function(g,d,a){var c,h,l,f,p,m,r;function b(a,b,d,f){var g;g=this;this.Geb=a;this.web=b;this.config=f;this.C9=[];this.Geb.bE(c.UCa,this.Pab.bind(this));d().then(function(a){var b;b=f().Fg.N7a;g.nfb=b?r.Vh[b.toUpperCase()]:r.Vh.ERROR;g.Ig=a;g.Inb();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(22);f=a(83);p=a(57);m=a(110);r=a(9);b.prototype.Pab=function(a,b){this.Ig?this.sya(a,b):this.C9.push([a,b]);};b.prototype.Inb=function(){var a,b;a=this;b=this.C9;this.C9=[];b.forEach(function(b){a.sya(b[0],b[1]);});};b.prototype.sya=function(a,b){var c;if(this.Ig&&this.Lob(a)){c={debugMessage:a.message,debugCategory:a.Hm};a.Zc.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});a=this.web.Bu("debug",r.Vh[a.level].toLowerCase(),c,b);this.Ig.Vb(a);}};b.prototype.Lob=function(a){var b;b=this.nfb;return void 0!==b&&a.level<=b&&!a.Zc.find(function(a){return a.rI(r.qw);});};a=c=b;a.UCa="adaptorAll";a=c=g.__decorate([h.N(),g.__param(0,h.l(f.yw)),g.__param(1,h.l(m.pA)),g.__param(2,h.l(p.Vea)),g.__param(3,h.l(l.we))],a);d.tDa=a;},function(g,d,a){var b,c,h,l,f,p,m,r,k,x,v,n,q,A,z,I,N,E,t,O,K,w,W,ba;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(118);c=a(638);h=a(637);l=a(636);f=a(634);p=a(633);m=a(632);r=a(22);k=a(631);x=a(630);v=a(629);n=a(30);q=a(73);A=a(330);z=a(334);I=a(335);N=a(329);E=a(110);t=a(188);O=a(57);K=a(328);w=a(628);W=a(324);ba=a(323);d.Eeb=new g.Zb(function(a){a(O.qt).to(h.HJa).$();a(z.zfa).to(l.WKa).$();a(I.bfa).to(f.SJa).$();a(t.$ea).to(p.PJa).$();a(O.YX).to(k.GJa).$();a(E.pA).to(x.NJa).$();a(t.Zea).to(v.OJa).$();a(K.afa).to(w.QJa).$();a(W.dda).to(ba.PGa).$();a(A.Qba).to(c.tDa).$();a(O.Vea).FL(function(a){return function(){return new Promise(function(c){var f,g,h,m;function d(){g()&&h()&&m.Kg?c(a.ac.get(O.qt)):f.nb(d);}f=a.ac.get(n.ag);g=a.ac.get(r.we);h=a.ac.get(q.tq);m=a.ac.get(b.uA);f.nb(d);});};});a(N.Qea).to(m.AJa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.HGa=function(a,b,c,d){this.ig=a;this.Nm=b;this.CC=c;this.inb=d;};},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n,q,A;function b(a,b,c,d,f,g,h,m,l){this.ypa=a;this.Af=b;this.Pa=d;this.l2=f;this.Ce=g;this.debug=h;this.SL=m;this.k2=l;this.pF=/^(SDK-|SLW32-|SLW64-|SLMAC-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.qb("Device");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(2);h=a(23);l=a(640);f=a(9);p=a(340);m=a(44);r=a(136);k=a(21);x=a(1);v=a(53);n=a(337);q=a(336);A=a(87);b.prototype.zqa=function(a){try{return a.match(this.pF)[2];}catch(I){}};b.prototype.Aqa=function(a){try{return a.match(this.pF)[1];}catch(I){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(d,f){b.Af.create().then(function(g){var m,p,r,k,u,x;function h(g){b.Pa.Ti(g)&&b.Pa.Ti(m)?(p=new l.HGa(g,m,r,a.zpa||"cadmium"),d(p)):f({T:c.H.Qca});}m=a.Nm;if(a.f4){u=a.ig;if(b.Pa.Ti(u)){x=b.Aqa(u);x!=a.Nm&&b.log.error("esn prefix from ui is different",{ui:x,cad:a.Nm,ua:a.userAgent});}else a.X6&&b.log.error("esn from ui is missing");x=Promise.resolve({O:!1});a.II&&(x=b.ceb(g,a));x.then(function(d){d.O&&d.CC&&d.deviceId?(r=d.CC,h(m+d.deviceId)):g.load(a.JQ).then(function(a){k=a.value;b.Pa.Ti(k)&&(b.Pa.Ti(u)?(a=b.zqa(u),r=a===k?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):r="storage_esn_not_in_config",h(m+k));})["catch"](function(d){var p;function l(){g.save(a.JQ,p,!1).then(function(){h(m+p);})["catch"](function(a){f(a);});}d.T===c.H.im?(b.Pa.Ti(a.ig)?(p=b.zqa(a.ig),b.Pa.Ti(p)?r="config_since_not_in_storage":(r="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.ig),p=b.ypa.lra())):(r="generated_since_not_in_config_and_storage",p=b.ypa.lra()),l()):f(d);});})["catch"](f);}else a.v4a&&b.l2&&b.l2.getKeyByName?b.l2.getKeyByName(a.IYa).then(function(a){a=a.id;if(b.Pa.Ah(a))a=String.fromCharCode.apply(void 0,b.Ce.decode(a)),b.debug.assert(""!=a),m=b.Aqa(a),h(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({T:c.H.EW,Ga:b.SL.Cc(a)});}):a.u4a&&b.k2&&b.k2.Era?b.k2.Era().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=m+a;b.debug.assert(b.pF.test(a));h(c);})["catch"](function(){f({T:c.H.EW});}):h();})["catch"](function(a){f(a);});});};b.prototype.ceb=function(a,b){var c;c=this;return new Promise(function(d,f){c.geb(a,b).then(function(f){b.Hsa?c.II(b.Hsa).then(function(g){var h;if(c.Pa.Ah(g)&&c.pF.test(b.Nm+g)){h=Promise.resolve();c.B6a(f,g)&&(h=c.prb(a,b));h.then(function(){a.save(b.JQ,g,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:g,exception:c.SL.Cc(a)});});d({O:!0,deviceId:g,CC:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.SL.Cc(a)});d({O:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:g}),d({O:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.SL.Cc(a)});d({O:!1});}):(c.log.error("hardwareDeviceId not provided"),d({O:!1}));})["catch"](f);});};b.prototype.geb=function(a,b){var d;d=this;return new Promise(function(f){a.load(b.JQ).then(function(a){a=a.value;d.Pa.Ah(a)&&d.pF.test(b.Nm+a)?f(a):(f(void 0),d.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.T!==c.H.im&&d.log.error("Error loading ESN",a);f(void 0);});});};b.prototype.B6a=function(a,b){return a!==b;};b.prototype.prb=function(a,b){return a.remove(b.Dgb);};b.prototype.II=function(a){var b;b=this;return new Promise(function(c,d){try{A.sa.from(a.hardwareDeviceId).EE(1).subscribe(function(a){b.Pa.Ah(a)?c(a):d("Hardware deviceId was not a string: "+a);},function(a){d(a);});}catch(qa){d(qa);}});};a=b;a=g.__decorate([x.N(),g.__param(0,x.l(p.ada)),g.__param(1,x.l(v.cm)),g.__param(2,x.l(f.yb)),g.__param(3,x.l(h.ne)),g.__param(4,x.l(q.Lca)),g.__param(5,x.l(m.tj)),g.__param(6,x.l(r.kF)),g.__param(7,x.l(k.ze)),g.__param(8,x.l(n.Kca))],a);d.IGa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){this.Ka=a;this.DK=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(36);h=a(4);l=a(116);f=a(339);p=a(51);a=a(1);b.prototype.lra=function(){for(var a="",b=this.Ka.hg.ma(h.za),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.DK.s9(new f.nha(0,31,p.rhb))];return a;};m=b;m=g.__decorate([a.N(),g.__param(0,a.l(c.Fi)),g.__param(1,a.l(l.ZF))],m);d.GGa=m;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(73);c=a(340);h=a(642);l=a(338);f=a(641);d.Eg=new g.Zb(function(a){a(b.tq).ph(function(){return function(){return t._cad_global.device;};});a(l.bda).to(f.IGa).$();a(c.ada).to(h.GGa).$();});},function(g,d,a){var c,h;function b(a){this.Kg=a;this.CU=0;this.i6=!1;this.Cz=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(118);b.prototype.send=function(a){var b,c,d;b=this;c=!!a.qJ&&0!==this.CU;d=this.Cz.some(function(a){return!!a.wT.qJ;});return(c||this.i6||d?new Promise(function(c,d){b.Cz.push({wT:a,resolve:c,reject:d});}):this.pE(a)).then(function(a){b.$wa();return a;})["catch"](function(a){b.$wa();throw a;});};b.prototype.pE=function(a){this.CU++;a.qJ&&(this.i6=!0);return this.Kg.send(a);};b.prototype.Yza=function(a){this.pE(a.wT).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.$wa=function(){var a;this.CU--;this.i6=!1;if(0===this.CU&&0<this.Cz.length){a=this.Cz.shift();this.Yza(a);if(!a.wT.qJ)for(;0<this.Cz.length&&!this.Cz[0].wT.qJ;)this.Yza(this.Cz.shift());}};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.uA))],h);d.fLa=h;},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n,q,A,z,I,N,t,qa,O;function b(a,b,c,d,f,g,h,m,p,r,k,u,x,v){this.platform=a;this.config=b;this.HI=c;this.Fdb=d;this.Ce=f;this.Va=g;this.Kg=h;this.Lnb=m;this.DE=p;this.am=r;this.Xb=k;this.DK=u;this.json=x;this.w0=v;this.wl=[];l.Hk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(65);p=a(22);m=a(52);r=a(24);k=a(44);x=a(4);v=a(118);n=a(161);q=a(98);A=a(21);z=a(2);I=a(116);N=a(80);t=a(39);qa=a(88);a=a(342);b.prototype.send=function(a,b,d,f){var k,u,v,n;function g(b){return new Promise(function(c,d){function f(a){var d,f;function c(a,c){u.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.ks.profile?b.ks.profile.id:void 0,nonReplayable:b.o8,retryCount:b.Lv,userId:b.RL,userTokens:JSON.stringify(k.Kg.Kg.getUserIdTokenKeys())})});return{O:!1,result:{errorSubCode:a,errorExternalCode:c}};}d=k.json.parse(a);if(2!=d.length)return u.trace("The MSL envelope did not have enough array items."),c(z.H.JF);if(!d[1].payload)return u.trace("The MSL envelope did not have a payload."),c(z.H.JF);if(!d[1].status)return u.trace("The MSL envelope did not have a status."),c(z.H.JF);a=d[1].status;f=parseInt(a,10);if(isNaN(f)&&"ok"!=a.toLowerCase()||!(200<=f&&300>f))return d=d[1].payload.data,d=k.Ce.decode(d),u.error("The MSL status indicated an error",{status:f},k.am.encode(d)),c(z.H.ifa,a);d=d[1].payload.data;d=k.am.encode(k.Ce.decode(d));if(!d)return u.trace("The MSL payload is missing."),c(z.H.jfa);try{return k.json.parse(d);}catch(ab){return u.error("EDGE response this.json parse error: ",ab,d),c(z.H.jfa);}}h(b,b.Lv).then(function(g){var h,m;if(g.body)if(g=f(g.body),u.trace("Received EDGE response",{Method:a.method}),g.success){if(k.config().Fg.V6a&&k.Dcb(a)){h=a.YIb;m=g.profileGuid;if(h&&m!==h){g={T:z.H.kNa,Ga:JSON.stringify({serverGuid:m,clientGuid:h})};r(g,b);d(g);return;}}n.success=!0;n.profileId=b.RL;n.elapsedtime=k.Va.He().ma(x.za)-n.starttime;n.userTokens=JSON.stringify(k.Kg.Kg.getUserIdTokenKeys());c(g.result);}else{m=g.result;g.__logs&&(m.lBb=g.__logs);try{h=k.json.stringify(m.data);}catch(Pa){}g=r(m,b);d({T:m.errorSubCode,mc:m.errorExternalCode,zC:m.errorEdgeCode,Ga:m.errorDetails?[m.errorDetails," ",g].join(""):void 0,wf:m.errorDisplayMessage,Mm:h});}else d({T:z.H.JF,Ga:r({T:z.H.JF},b)});})["catch"](function(a){var c;c=r(a,b);a.Ga&&(a.Ga=[a.Ga," ",c].join(""));d(a);});});}function h(b,d){return new Promise(function(f,g){function h(b,d,p){return k.Lnb.send(b).then(function(a){f(a);})["catch"](function(f){var r,x;x=f&&f.nj&&void 0!==f.nj.maxRetries?Math.min(f.nj.maxRetries,p):p;(k.HI.a$||m(f))&&d<=x?r=!0:(u.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:d,MaxRetries:x},c.yda(f)),r=!1);if(r)return r=f&&f.nj&&void 0!==f.nj.retryAfterSeconds?1E3*f.nj.retryAfterSeconds:k.DK.s9(1E3,1E3*Math.pow(2,Math.min(d-1,x))),u.warn("Method failed, retrying",{Method:a.method,Attempt:d,WaitTime:r,MaxRetries:x},c.yda(f)),l(r).then(function(){return h(b,d+1,x);});g(f);});}return h(b,1,d);});}function m(a){return(a=a&&a.T)&&a>=z.H.kA&&a<=z.H.jA;}function l(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function p(){var c,g;c="";d&&(c+=(0<c.length?"&":"")+"logs=true");f&&(c+=(0<c.length?"&":"")+"debug=true");a.languages=k.config().Fg.nz;a.clientVersion=k.platform.version;a.uiVersion=k.config().Fg.Wz;g={};k.config().owa&&(g["X-Netflix.request.expiry.timeout"]=k.config().owa.toString());c=[{},{headers:g,path:k.config().Fg.Xpa,payload:{data:k.json.stringify(a)},query:c}];k.config().Fg&&(u.debug("Request payload",{Method:a.method},k.DE.xV(c)),u.debug("Request parameters",{Method:a.method},k.DE.xV(a)));return{ks:b,method:a.method,url:""+(k.w0.endpoint+k.config().Fg.iwa)+k.platform.Nm+"/cadmium/"+a.method,body:k.json.stringify(c),timeout:v.ma(x.za),RL:b.profile?b.profile.id:void 0,mmb:!0,o8:!1,j3:!0,Lv:3,qJ:a.isExclusive};}function r(a,b){n.success=!1;n.profileId=b.RL;n.elapsedtime=k.Va.He().ma(x.za)-n.starttime;n.userTokens=JSON.stringify(k.Kg.Kg.getUserIdTokenKeys());n.subcode=a.errorSubCode||a.T;n.extcode=a.errorExternalCode||a.mc;u.error("BladeRunner command history",k.DE.xV(k.wl));return k.json.stringify(k.wl);}d=void 0===d?!1:d;f=void 0===f?!1:f;k=this;b=this.Xb.si({Bb:this.Fdb},b);u=b.log;v=x.oh(59);n={method:a.method,starttime:this.Va.He().ma(x.za)};this.wl.push(n);this.wl.length>this.config().hZa&&this.wl.shift();u.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=p();g(c).then(function(b){a(b);})["catch"](function(a){var c;c={O:!1};k.Xb.si(c,a,{Sp:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.Dcb=function(a){return 0<=["bind","ping"].indexOf(a.method)?!0:!1;};b.yda=function(a){var b,c,d;b={};c=a.errorExternalCode||a.mc;d=a.errorDetails||a.Ga;b.ErrorSubCode=a.errorSubCode||a.T||z.H.Yh;c&&(b.ErrorExternalCode=c);d&&(b.ErrorDetails=d);return b;};O=c=b;O=c=g.__decorate([h.N(),g.__param(0,h.l(f.un)),g.__param(1,h.l(p.we)),g.__param(2,h.l(m.fm)),g.__param(3,h.l(N.pt)),g.__param(4,h.l(k.tj)),g.__param(5,h.l(r.Oe)),g.__param(6,h.l(v.uA)),g.__param(7,h.l(a.Efa)),g.__param(8,h.l(n.rN)),g.__param(9,h.l(q.Rw)),g.__param(10,h.l(A.ze)),g.__param(11,h.l(I.ZF)),g.__param(12,h.l(t.kt)),g.__param(13,h.l(qa.Ts))],O);d.gLa=O;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(118);c=a(645);h=a(341);l=a(342);f=a(644);d.Xm=new g.Zb(function(a){a(b.uA).Sz(function(){return t._cad_global.msl;});a(h.Ffa).to(c.gLa).$();a(l.Efa).to(f.fLa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Q2a=function(a,b,c){return{jsa:function(){return a.O4();},ga:b,request:c,uc:!1};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=[b.I.AIa,b.I.rea,b.I.oea,b.I.fea,b.I.pea,b.I.qea,b.I.jea,b.I.vea,b.I.kea,b.I.hea,b.I.QX,b.I.xea,b.I.lea,b.I.TM,b.I.eea,b.I.iea,b.I.ht,b.I.cea,b.I.wea,b.I.gea,b.I.tea,b.I.IIa,b.I.uea,b.I.BIa,b.I.DIa,b.I.HIa,b.I.FIa,b.I.EIa,b.I.CIa,b.I.GIa,b.I.sea,b.I.nea,b.I.mea,b.I.dea];(function(a){a.DLa=function(a){var f;for(var c={},d=0;d<a.length;d++){f=a[d];if(c[f.On])return{On:f.On,ioa:b.H.cDa};c[f.On]=1;}};a.ELa=function(a){var f;for(var d=0;d<a.length;d++){f=a[d];if(-1===c.indexOf(f.On))return{On:f.On,ioa:b.H.dDa};}};}(h||(h={})));d.skb=function(a){return new Promise(function(b,d){var f;f=h.ELa(a);f&&d(f);(f=h.DLa(a))&&d(f);b(a.sort(function(a,b){return c.indexOf(a.On)-c.indexOf(b.On);}));});};},function(g){g.M={sv:["minInitVideoBitrate",-Infinity],T7:["minHCInitVideoBitrate",-Infinity],Ly:["maxInitVideoBitrate",Infinity],UJ:["minInitAudioBitrate",-Infinity],TJ:["minHCInitAudioBitrate",-Infinity],IJ:["maxInitAudioBitrate",Infinity],kT:["minAcceptableVideoBitrate",-Infinity],Xva:["minAllowedVideoBitrate",-Infinity],lva:["maxAllowedVideoBitrate",Infinity],Yva:["minAllowedVmaf",-Infinity],mva:["maxAllowedVmaf",Infinity],wV:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],VJ:["minRequiredBuffer",2E4],pT:["minRequiredAudioBuffer",0],ri:["minPrebufSize",5800],R9:["requireDownloadDataAtBuffering",!1],S9:["requireSetupConnectionDuringBuffering",!1],A9:["rebufferingFactor",1],gs:["maxBufferingTime",2E3],lba:["useMaxPrebufSize",!0],yD:["maxPrebufSize",4E4],E7:["maxRebufSize",Infinity],a7a:["fastRebufferRecoveryThreshold",Infinity],$6a:["fastRebufferRecoverBwThrehold",3E3],pS:["initialBitrateSelectionCurve",null],wta:["initSelectionLowerBound",-Infinity],xta:["initSelectionUpperBound",Infinity],EV:["throughputPercentForAudio",15],S0:["bandwidthMargin",0],U0:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],XYa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Er:76376,scale:18862.4,gamma:3.0569}],T0:["bandwidthMarginContinuous",!1],YYa:["bandwidthMarginForAudio",!0],xaa:["switchConfigBasedOnInSessionTput",!0],S1:["conservBandwidthMargin",20],GH:["conservBandwidthMarginTputThreshold",6E3],T1:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],jBa:["switchAlgoBasedOnHistIQR",!1],Yv:["switchConfigBasedOnThroughputHistory","iqr"],D7:["maxPlayerStateToSwitchConfig",-1],f7:["lowEndMarkingCriteria","iqr"],RX:["IQRThreshold",.5],E5:["histIQRCalcToUse","simple"],Em:["bandwidthManifold",{curves:[{min:.05,max:.82,Er:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Er:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],hs:["maxTotalBufferLevelPerSession",0],Ysa:["highWatermarkLevel",3E4],HBa:["toStableThreshold",3E4],JV:["toUnstableThreshold",0],$$:["skipBitrateInUpswitch",!1],tba:["watermarkLevelForSkipStart",8E3],x5:["highStreamRetentionWindow",9E4],g7:["lowStreamTransitionWindow",51E4],z5:["highStreamRetentionWindowUp",5E5],i7:["lowStreamTransitionWindowUp",1E5],y5:["highStreamRetentionWindowDown",6E5],h7:["lowStreamTransitionWindowDown",0],w5:["highStreamInfeasibleBitrateFactor",.5],Iy:["lowestBufForUpswitch",9E3],SS:["lockPeriodAfterDownswitch",15E3],k7:["lowWatermarkLevel",15E3],Jy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],n7:["lowestWaterMarkLevelBufferRelaxed",!1],L7:["mediaRate",1.5],G7:["maxTrailingBufferLen",15E3],L0:["audioBufferTargetAvailableSize",262144],qba:["videoBufferTargetAvailableSize",1048576],Cva:["maxVideoTrailingBufferSize",8388608],pva:["maxAudioTrailingBufferSize",393216],mR:["fastUpswitchFactor",3],B3:["fastDownswitchFactor",3],ZS:["maxMediaBufferAllowed",27E4],AD:["maxMediaBufferAllowedInBytes",0],Y$:["simulatePartialBlocks",!0],HAa:["simulateBufferFull",!0],U1:["considerConnectTime",!0],R1:["connectTimeMultiplier",1],Wua:["lowGradeModeEnterThreshold",12E4],Xua:["lowGradeModeExitThreshold",9E4],qva:["maxDomainFailureWaitDuration",3E4],nva:["maxAttemptsOnFailure",18],wqa:["exhaustAllLocationsForFailure",!0],vva:["maxNetworkErrorsDuringBuffering",20],y7:["maxBufferingTimeAllowedWithNetworkError",6E4],A3:["fastDomainSelectionBwThreshold",2E3],Gaa:["throughputProbingEnterThreshold",4E4],wBa:["throughputProbingExitThreshold",34E3],Kua:["locationProbingTimeout",1E4],Gqa:["finalLocationSelectionBwThreshold",1E4],uBa:["throughputHighConfidenceLevel",.75],vBa:["throughputLowConfidenceLevel",.4],U6:["locationStatisticsUpdateInterval",6E4],oeb:["locationSelectorPersistFailures",!0],tC:["enablePerfBasedLocationSwitch",!1],sGb:["maxRateMaxFragmentGroups",4500],O8:["pipelineScheduleTimeoutMs",2],My:["maxPartialBuffersAtBufferingStart",2],U7:["minPendingBufferLen",3E3],xD:["maxPendingBufferLen",6E3],ysb:["usePtsUpdateAsSignal",!1],aR:["enableRequestPacing",!1],E5a:["enableNginxRateLimit",!1],ET:["nginxSendingRate",4E4],H5a:["enableRequestPacingToken",!1],Ofb:["mediaRequestPacingSpeedBeforePlayback",.5],Nfb:["mediaRequestPacingSpeed",2],b6:["initialMediaRequestToken",2E4],VS:["maxActiveRequestsSABCell100",2],aT:["maxPendingBufferLenSABCell100",500],hza:["resetActiveRequestsAtSessionInit",!0],F7:["maxStreamingSkew",2E3],$eb:["maxBufferOccupancyForSkewCheck",Infinity],usb:["useBufferOccupancySkipBack",!0],C7:["maxPendingBufferPercentage",10],Ny:["maxRequestsInBuffer",120],gS:["headerRequestSize",4096],lbb:["headerCacheEstimateHeaderSize",!1],i8:["neverWipeHeaderCache",!1],yCa:["useSidxInfoFromManifestForHeaderRequestSize",!1],lR:["fastPlayHeaderRequestSize",0],zD:["maxRequestSize",0],S7:["minBufferLenForHeaderDownloading",1E4],ngb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],DU:["reserveForSkipbackBufferMs",15E3],v8:["numExtraFragmentsAllowed",2],uo:["pipelineEnabled",!0],LJ:["maxParallelConnections",3],JAa:["socketReceiveBufferSize",0],O0:["audioSocketReceiveBufferSize",32768],rba:["videoSocketReceiveBufferSize",65536],u5:["headersSocketReceiveBufferSize",32768],W7:["minTimeBetweenHeaderRequests",void 0],PV:["updatePtsIntervalMs",1E3],d1:["bufferTraceDenominator",0],TB:["bufferLevelNotifyIntervalMs",2E3],cqa:["enableAbortTesting",!1],ama:["abortRequestFrequency",8],naa:["streamingStatusIntervalMs",2E3],VD:["prebufferTimeLimit",6E4],nT:["minBufferLevelForTrackSwitch",2E3],G5a:["enablePenaltyForLongConnectTime",!1],H8:["penaltyFactorForLongConnectTime",2],d7:["longConnectTimeThreshold",200],n0:["additionalBufferingLongConnectTime",2E3],o0:["additionalBufferingPerFailure",8E3],IK:["rebufferCheckDuration",6E4],fqa:["enableLookaheadHints",!1],Tua:["lookaheadFragments",2],sp:["enableOCSideChannel",!0],i9:["probeRequestTimeoutMilliseconds",3E4],KHb:["probeRequestConnectTimeoutMilliseconds",8E3],eN:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],dCa:["updateDrmRequestOnNetworkFailure",!0],XS:["maxDiffAudioVideoEndPtsMs",1E3],Zeb:["maxAudioFragmentOverlapMs",80],a4a:["deferAseHeaderCache",!1],FQ:["deferAseScheduling",!1],Kqb:["timeBeforeEndOfStreamBufferMark",6E3],B7:["maxFastPlayBufferInMs",2E4],A7:["maxFastPlayBitThreshold",2E8],afb:["maxBufferingCompleteBufferInMs",Infinity],lT:["minAudioMediaRequestSizeBytes",0],sT:["minVideoMediaRequestSizeBytes",0],FD:["minAudioMediaRequestDuration",0],GD:["minVideoMediaRequestDuration",0],oT:["minMediaRequestDuration",0],egb:["minAudioMediaRequestDurationCache",0],qgb:["minVideoMediaRequestDurationCache",0],D5a:["enableMultiFragmentRequest",!1],TE:[["useHeaderCache","usehc"],!0],SV:[["useHeaderCacheData","usehcd"],!0],BQ:["defaultHeaderCacheSize",4],C2:["defaultHeaderCacheDataCount",4],D2:["defaultHeaderCacheDataPrefetchMs",0],r5:["headerCacheMaxPendingData",6],s5:["headerCachePriorityLimit",5],kbb:["headerCacheAdoptBothAV",!1],wsb:["usePipelineForBranchedAudio",!0],kib:["onlyDriveSingleChild",!1],H_a:["childBranchBatchedAmount",1E4],tT:["minimumTimeBeforeBranchDecision",2E3],rfb:["maxRequestsToAttachOnBranchActivation",void 0],X7:["minimumJustInTimeBufferLevel",3E3],eqa:["enableJustInTimeAppends",!1],lI:["enableDelayedSeamless",!1],oZa:["branchEndPtsIntervalMs",250],Qbb:["ignorePtsJustBeforeCurrentSegment",!1],kfb:["maxFragsForFittableOnBranching",300],Yib:["pausePlaylistAtEnd",!0],dXa:["adaptiveParallelTimeoutMs",1E3],sC:["enableAdaptiveParallelStreaming",!1],C4a:["disableBitrateSelectionOnSingleConnection",!1],TP:["bufferThresholdToSwitchToSingleConnMs",45E3],c1:["bufferThresholdToSwitchToParallelConnMs",35E3],g8:["networkFailureResetWaitMs",2E3],f8:["networkFailureAbandonMs",6E4],cT:["maxThrottledNetworkFailures",5],DV:["throttledNetworkFailureThresholdMs",200],kr:["abortUnsentBlocks",!0],b0:["abortStreamSelectionPeriod",2E3],H7:["maxUnsentBlocks",2],j7:["lowThroughputThreshold",400],r3:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Jqb:["timeAtEachBitrateRoundRobin",1E4],Rmb:["roundRobinDirection","forward"],Kab:["hackForHttpsErrorCodes",!1],Kbb:["httpsConnectErrorAsPerm",!1],gwa:["mp4ParsingInNative",!1],We:["enableManagerDebugTraces",!1],gva:["managerDebugMessageInterval",1E3],fva:["managerDebugMessageCount",20],Ewa:["notifyManifestCacheEom",!0],oI:["enableUsingHeaderCount",!1],KAa:["sourceBufferInOrderAppend",!0],cn:["requireAudioStreamToEncompassVideo",!1],Bma:["allowAudioToStreamPastVideo",!1],KB:["allowReissueMediaRequestAfterAbort",!1],Boa:["countGapInBuffer",!1],s0:["allowCallToStreamSelector",!1],b1:["bufferThresholdForAbort",2E4],laa:["ase_stream_selector","optimized"],Zma:["audiostreamSelectorAlgorithm","selectaudioadaptive"],X5:["initBitrateSelectorAlgorithm","default"],f1:["bufferingSelectorAlgorithm","default"],v2:["ase_ls_failure_simulation",""],t2:["ase_dump_fragments",!1],u2:["ase_location_history",0],w2:["ase_throughput",0],fpa:["ase_simulate_verbose",!1],Wl:["stallAtFrameCount",void 0],u7:["marginPredictor","simple"],GAa:["simplePercentilePredictorPercentile",25],EAa:["simplePercentilePredictorCalcToUse","simple"],FAa:["simplePercentilePredictorMethod","simple"],tsb:["useBackupUnderflowTimer",!0],fJb:["useManifestDrmHeader",!0],gJb:["useOnlyManifestDrmHeader",!0],Aea:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],h8:["networkMeasurementGranularity","video_location"],Ngb:["netIntrStoreWindow",36E3],MGb:["minNetIntrDuration",8E3],qSa:["fastHistoricBandwidthExpirationTime",10368E3],QSa:["bandwidthExpirationTime",5184E3],pSa:["failureExpirationTime",86400],dla:["historyTimeOfDayGranularity",4],nSa:["expandDownloadTime",!0],CTa:["minimumMeasurementTime",500],BTa:["minimumMeasurementBytes",131072],$Ua:["throughputMeasurementTimeout",2E3],ZUa:["initThroughputMeasureDataSize",262144],hTa:["historicBandwidthUpdateInterval",2E3],ATa:["minimumBufferToStopProbing",1E4],DBb:["throughputPredictor","ewma"],l$:["secondThroughputEstimator","slidingwindow"],Oza:["secondThroughputMeasureWindowInMs",3E5],CBb:["throughputMeasureWindow",5E3],EBb:["throughputWarmupTime",5E3],BBb:["throughputIQRMeasureWindow",1E3],hBb:["IQRBucketizerWindow",15E3],sva:["maxIQRSamples",100],awa:["minIQRSamples",5],yBb:["connectTimeHalflife",10],sBb:["responseTimeHalflife",10],rBb:["historicThroughputHalflife",14400],qBb:["historicResponseTimeHalflife",100],pBb:["historicHttpResponseTimeHalflife",100],Wda:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Jka:["minReportedNetIntrDuration",4E3],ABb:["throughputBucketMs",500],mBb:["bucketHoltWintersWindow",2E3],iSa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],QZ:["filterDefinitionOverrides",{}],XRa:["defaultFilter","throughput-ewma"],GVa:["secondaryFilter","throughput-sw"],aB:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:0},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":0},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":0},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":0},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],dy:["enableHudsonFieldTest",!1],J5:["hudsonTitles",["81127954"]],pfb:["maxPartialBuffersAtHudson",1],w8:["numberOfChunksPerSegment",4],nBa:["targetContentLatency",1E4],uqb:["targetLongContentLatency",3E4],wgb:["minimumTimeDelay",1],nI:["enableSessionHistoryReport",!1],a3:["earlyStageEstimatePeriod",1E4],uua:["lateStageEstimatePeriod",3E4],$S:["maxNumSessionHistoryStored",30],qT:["minSessionHistoryDuration",3E4],mI:["enableInitThroughputEstimate",!1],C0:["applyInitThroughputEstimate",!1],yta:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],zP:["addHeaderDataToNetworkMonitor",!0],faa:["startMonitorOnLoadStart",!1],M9:["reportFailedRequestsToNetworkMonitor",!1],ZT:["periodicHistoryPersistMs",0],LU:["saveVideoBitrateMs",0],$J:["needMinimumNetworkConfidence",!0],X0:["biasTowardHistoricalThroughput",!1],eya:["preferCurrentLocationThroughput",!1],dya:["preferCurrentLocationThreshold",0],ueb:["logMemoryUsage",!1],Vsa:["headerCacheTruncateHeaderAfterParsing",!0],BYa:["audioFragmentDurationMilliseconds",null],Qsb:["videoFragmentDurationMilliseconds",null],xo:["probeServerWhenError",!0],pr:["allowSwitchback",!0],pz:["probeDetailDenominator",100],WS:["maxDelayToReportFailure",300],bH:["allowParallelStreaming",!1],Kfb:["mediaPrefetchDisabled",!1],$va:["minBufferLevelToAllowPrefetch",5E3],Pr:["editVideoFragments",!1],Km:["editAudioFragments",!0],PU:["seamlessAudio",!1],jnb:["seamlessAudioProfiles",[]],knb:["seamlessAudioProfilesAndTitles",{}],k$:["seamlessAudioMaximumSyncError",void 0],lJ:["insertSilentFrames",0],Hta:["insertSilentFramesOnExit",void 0],Gta:["insertSilentFramesOnEntry",void 0],Fta:["insertSilentFramesForProfile",void 0],O7a:["forceDiscontinuityAtTransition",!0],Xv:["supportAudioResetOnDiscontinuity",void 0],Wv:["supportAudioEasingOnDiscontinuity",void 0],mp:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],t5a:["editCompleteFragments",!0],sgb:["minimumAudioFramesPerFragment",1],Gx:["applyProfileTimestampOffset",!1],Hn:["applyProfileStreamingOffset",!0],yK:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Pva:["mediaSourceSupportsNegativePts",!1],mT:["minAudioPtsGap",void 0],ZQ:["enablePsd",!1],p9:["psdCallFrequency",6E4],q9:["psdReturnToNormal",!1],AK:["psdThroughputThresh",0],aI:["discardLastNPsdBins",0],Mg:["psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}],$Q:["enableRecordJSBridgePerf",!1],Kea:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Gqb:["throughputThresholdSelectorParam",0],rsb:["upswitchDuringBufferingFactor",2],PXa:["allowUpswitchDuringBuffering",!1],toa:["contentOverrides",void 0],W1:["contentProfileOverrides",void 0],D5:["hindsightDenominator",0],C5:["hindsightDebugDenominator",0],YI:["hindsightAlgorithmsEnabled",["htwbr"]],hS:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],A0:["appendMediaRequestOnComplete",!1],bW:["waitForDrmToAppendMedia",!1],Q3:["forceAppendHeadersAfterDrm",!1],HK:["reappendRequestsOnSkip",!1],x2:["declareBufferingCompleteAtSegmentEnd",!1],HJ:["maxActiveRequestsPerSession",void 0],M6:["limitAudioDiscountByMaxAudioBitrate",!1],z0:["appendFirstHeaderOnComplete",!0],lL:["strictBufferCapacityCheck",!1],NB:["aseReportDenominator",0],H0:["aseReportIntervalMs",3E5],Yaa:["translateToVp9Draft",!1],DYa:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Aaa:["switchableAudioProfilesOverride",[]],EYa:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Bva:["maxStartingVideoVMAF",110],V7:["minStartingVideoVMAF",1],cma:["activateSelectStartingVMAF",!1],VU:["selectStartingVMAFTDigest",-1],UU:["selectStartingVMAFMethod","fallback"],Tza:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],mK:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],D4a:["disablePtsStartsEvent",!0],B9:["recordFirstFragmentOnSubBranchCreate",!0],Gfb:["mediaCacheConvertToBinaryData",!1],Jfb:["mediaCacheSaveOneObject",!1],kva:["markRequestActiveOnFirstByte",!1],b7a:["fastplayOverwrite",!1],WQ:["earlyAppendSingleChildBranch",!0],UE:["useNativeDataViewMethods",!1]};},function(g){g.M="4.1.13";},function(g,d,a){var c,h,l,f,p,m;function b(a){var b;b=nrdp.Eg.EIb.match(/android-(d*)/);b?23<b[1]?(a.Xv=!1,a.Wv=!1,a.mp=void 0):(b=nrdp.Eg.Hzb.GCb.platform.xHb.match(/(d*).(d*).(d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.Xv=!0,a.Wv=!1,a.mp=void 0):(a.Xv=!1,a.Wv=!1,a.mp=[]):(a.Xv=!1,a.Wv=!1,a.mp=[]):(a.Xv=!1,a.Wv=!1,a.mp=[]);}c=a(14);h=a(109);l=a(7);f=l.Fb;p=l.MediaSource;m=l.PKa;g.M=function(a){var d,g,r,k,n,q;new l.Console("ASEJSMONKEY","media|asejs");if(!l.Fb.jc){d=m.prototype.appendBuffer;if(a.A0){f.jc={gE:{Dba:!0,Kw:!1,Mfa:!0}};Object.defineProperties(f.prototype,{nx:{get:function(){return this.ZQa;},set:function(){}},Ec:{get:function(){return!this.k6;}}});g=f.prototype.gj;f.prototype.gj=function(a){a.response&&(this.ZQa=a.response instanceof ArrayBuffer?a.response:a.response.buffer);return g.call(this,a);};f.prototype.xU=function(){this.response=void 0;};l.MediaSource.jc||(l.MediaSource.jc={});void 0===l.MediaSource.jc.cQ&&(l.MediaSource.jc.cQ=!0);Object.defineProperty(p.prototype,"duration",{get:function(){return this.pm;},set:function(a){var b;this.pm=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.pm=b;});}});r=m.prototype.R$;k={Ec:!1,aj:function(){return this.requestId;},Rna:function(){this.response=void 0;},constructor:{name:"MediaRequest"},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.en,isHeader:this.Ec,ptsStart:this.zs,ptsOffset:this.Qk,responseType:this.SO,duration:this.Or,readystate:this.cf};this.stream&&(a.bitrate=this.stream.P);return JSON.stringify(a);}};m.prototype.appendBuffer=function(a,b){var c;if(!b)return d.call(this,a);c=Object.create(k);h({R:this.R,readyState:5,requestId:b.aj(),zs:b.U,ZD:b.U+b.duration,Or:b.duration,Qk:this.qka||0,Rn:b.Rn,en:b.jf.Ic.qa.id,Ya:b.Ya,gd:b.gd,location:b.location,vH:b.offset,uH:b.offset+b.Z-1,P:b.P,response:a,Msa:a&&0<a.byteLength,jf:{Ic:{qa:{ea:this.pm-(this.qka||0)||Infinity}}}},c);return this.DP(c);};m.prototype.R$=function(a,b){this.qka=Math.floor(1E3*a/b);return r.call(this,a,b);};}else{n=function(a){this.uTa=a;};l.MediaSource.jc||(l.MediaSource.jc={});"undefined"!==typeof nrdp&&nrdp.LBb&&(b(l.MediaSource.jc),l.MediaSource.jc.cQ=!1);l.Fb.jc={gE:{Dba:!0,Kw:!0,Mfa:!0}};Object.defineProperty(f.prototype,"_response",{get:function(){return this.hWa||this.WRa;},set:function(a){this.WRa=a;}});q=f.prototype.open;f.prototype.open=function(a,b,c,d,f,g,h){1===c&&(this.hWa=new n(this));return q.call(this,a,b,c,d,f,g,h);};f.prototype.xU=function(){this.nx=void 0;};m.prototype.appendBuffer=function(a){if(a instanceof ArrayBuffer)return d.call(this,a);if(a instanceof n)return this.DP(a.uTa);c(!1);};}}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$Ca=function(){return function(a,b){var c;c=this;this.Ix=[];this.wD=[];this.ym=1;this.acb=function(){c.ym++;};this.Q3a=function(){c.ym--;0>=c.ym&&c.kSa();};this.id=a.movieId;this.Ha=a;this.kSa=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(652);new(a(7)).Console("ASEVIEWABLECACHE","media|asejs");g=function(){function a(){this.rP={};}a.prototype.Bab=function(a){var c,d,g;c=this;d=a&&(a.playbackContextId||a.movieId);g=this.rP[d];g?g.acb():a&&(g=new b.$Ca(a,function(){delete c.rP[d];}),d&&(this.rP[d]=g));return g;};a.prototype.clear=function(){this.rP={};};return a;}();d.hYa=new g();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});g=a(47);b=a(653);a=function(){function a(a,c,d,g,m,r,k,x,v){void 0===c&&(c=!1);void 0===g&&(g=0);this.Um=0;this.jb=[];this.zx=b.hYa.Bab(a);this.replace=c;this.je=d;this.U=g;this.ea=m;this.O6=r;this.mo=k;this.yC=x;this.Ms=v;}a.prototype.Nd=function(){this.zx.Q3a();};return a;}();d.xKa=a;g.gi(a.prototype,{S:g.L({get:function(){return this.zx.id;}}),Ha:g.L({get:function(){return this.zx.Ha;}}),Ix:{get:function(){return this.zx.Ix;},set:function(a){this.zx.Ix=a;}},wD:{get:function(){return this.zx.wD;},set:function(a){this.zx.wD=a;}}});},function(g,d,a){var c,h,l;function b(a){h.call(this);this.pB=a;this.bg=new c();this.bg.on(this,h.kd.QF,this.FO);this.bg.on(this,h.kd.Ew,this.GG);this.W=l;this.dka=a.groupId;}c=a(28).rF;d=a(7);h=d.Lq;l=new d.Console("ASEJS","media|asejs");b.prototype=Object.create(h.prototype);b.prototype.constructor=b;b.prototype.open=function(a,b,c){h.prototype.open.call(this,a,b,c);};b.prototype.Nd=function(){this.bg&&this.bg.clear();h.prototype.Nd.call(this);};b.prototype.FO=function(a){this.pB.wkb(a.probed,a.affected);this.Nd();};b.prototype.GG=function(a){this.pB.tkb(a.probed,a.affected);this.Nd();};g.M=b;},function(g,d,a){var c,h,l;function b(a,b){this.BG=a;this.hx=0===Math.floor(1E6*Math.random())%b.pz;this.groupId=1;this.config=b;this.Rr={};this.Jv={};}c=a(11);h=a(655);l=a(7);new l.Console("ASEJS_PROBE_MANAGER","asejs");b.prototype.constructor=b;b.prototype.vkb=function(a,b){var d,f,g,h,p,k,n,q,z,I,N;d=this.BG;f=a.gd;g=d.$Aa(a.url);h=d.RS(a.url);p=this.config;k=l.time.da();q=b;z=[];I=g.Nj[0];N=!1;n=this.Rr[f];if(!n)n=this.Rr[f]={count:0,Xe:k,Bs:!1,error:b,I$:[],j9:{}};else if(n.Xe>=k-p.DV)return;n.Bs||(I&&h.id===I.id&&(a.isPrimary=!0),n.Xe=k,n.Bs=!1,n.error=b,++n.count,g&&g.Vc&&0!==g.Vc.length&&(c.forEach(g.Vc,function(b){var c,d,g;c=b.Sb.id;d=c+"-"+f;g=this.Jv[d];if(void 0===g||void 0===g.jU)g&&g.Vk&&clearTimeout(g.Vk),b=this.Joa(b.url,a,c),this.Jv[d]={O:!1,count:0,jU:b.aj()},z.push(b.aj()),N=!0;-1===n.I$.indexOf(c)&&n.I$.push(c);},this),this.hx&&0<z.length&&(g={type:"logdata",target:"endplay",fields:{}},b=q,q={ts:l.time.da(),es:b.zma,fc:b.zk,fn:b.Bqa,nc:b.Ol,pb:z,gid:this.groupId},b.$I&&(q.hc=b.$I),g.fields.errpb={type:"array",value:q,adjust:["ts"]},d.az(g)),N&&this.groupId++));};b.prototype.Joa=function(a,b,c){var d,f,g,m;d=this.BG.RS(b.url);d=d&&d.Ia&&d.Ia.ho&&d.Ia.ho.Aa||300*Math.random(0,1);f=new h(this);g=a.split("?");m="random="+parseInt(1E7*Math.random(),10);f.open(1<g.length?a+"&"+m:a+"?"+m,b,c,d);return f;};b.prototype.wkb=function(a,b){var c,d,f,g,h,p,k,n;c=this.BG;d=this.config;f=b.gd;g=this.Rr[f];p=a.url;k=this.Jv[a.gd+"-"+f];if(g&&(h=g.error,k)){k&&k.Vk&&clearTimeout(k.Vk);k.O=!0;k.count=0;k.jU=void 0;g.j9[a.gd]=!0;(k=this.Rr[a.gd])&&!0===k.Bs&&d.pr&&(c.lza(a.gd,k.error.ML[1]),this.hx&&(k={type:"logdata",target:"endplay",fields:{}},k.fields.errst={type:"array",value:{ts:l.time.da(),id:a.requestId,servid:b.gd,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.az(k)),this.Rr[a.gd]=void 0);if(p!==b.url){n=this.Jv[f+"-"+f];n&&n.O||(f=(f=c.RS(p))&&f.Ia&&f.Ia.ho&&f.Ia.ho.Aa||Math.random(0,1)*d.WS,f=Math.min(f,d.WS),setTimeout(function(){var d;if(!(!1!==g.Bs||n&&n.O)&&(g.Bs=!0,c.Rl(h.ML[0],h.ML[1],b.url,h),this.hx)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:l.time.da(),id:a.requestId,servid:b.gd,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.az(d);}}.bind(this),f));}this.hx&&(k={type:"logdata",target:"endplay",fields:{}},k.fields.pbres={type:"array",value:{ts:l.time.da(),id:a.requestId,result:1,servid:a.gd,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.az(k));}};b.prototype.tkb=function(a,b){var d,f,g,h,p,k,n,q,z,I;d=this.BG;f=parseInt(b.gd,10);g=this.Rr[f];h=parseInt(a.gd,10);p=this.Jv[h+"-"+f];k=0;z=this.config;if(p&&g){p.O=!1;p.jU=void 0;g.j9[h]=!1;q=g.I$;if(z.pr&&h===f&&b.isPrimary){I=d.RS(b.url);I=I&&I.Ia&&I.Ia.ho&&I.Ia.ho.Aa||300*Math.random(0,1);I=I*Math.pow(2,p.count);I=Math.min(I,12E4);I=I+Math.random(0,1)*(1E4>I?100:1E4);p.Vk=setTimeout(function(){var c;p.Vk=void 0;c=this.Joa(a.url,b,h);p.jU=c.aj();}.bind(this),I);}++p.count;h===f&&(k=0,q.forEach(function(a){!1===g.j9[a]&&k++;}),q.length===k&&g.count>=z.cT&&(n=g.error,g.Bs=!0,c.forEach(d.$Aa(b.url).Vc,function(a){var b;d.Rl(n.ML[0],n.ML[1],a.url,n);if(this.hx){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:l.time.da(),id:-1,servid:a.Sb.id},adjust:["ts"]};d.az(b);}},this)));this.hx&&(f={type:"logdata",target:"endplay",fields:{}},f.fields.pbres={type:"array",value:{ts:l.time.da(),id:a.requestId,result:0,servid:a.gd,gid:a.groupId?a.groupId:-1},adjust:["ts"]},d.az(f));}};b.prototype.hba=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.BG;b=a.dAa(b);c=this.Rr[b];d=this.Jv[b+"-"+b];c&&c.Bs&&this.config.pr&&(a.lza(c.error.zma,!1),this.hx&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:l.time.da(),id:-1,servid:b},adjust:["ts"]},a.az(c)),this.Rr[b]=void 0,d&&d.Vk&&clearTimeout(d.Vk));}};b.prototype.reset=function(){var a,b,c;a=this.Jv;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.Vk&&clearTimeout(b.Vk);this.Jv={};this.Rr={};};g.M=b;},function(g,d,a){var c,h,l,f,p,m,r,k,x,v,n,q,A,z,I,t;function b(a,b,c){var d,f;this.mo=b;this.config=c;I[z.IX]=c.Kbb?v:A;this.mo.on("networkFailed",this.Rab.bind(this));this.lD=l.time.da();this.tQ=0;d=this.hba.bind(this);f=this.Khb.bind(this);a.on("underflow",this.B8.bind(this));a.on("requestProgress",d);a.on("requestComplete",d);a.on("startBuffering",f);this.Faa={};this.pB=new r(b,c);this.dcb();}d=a(48);c=a(28).EventEmitter;h=a(11);l=a(7);f=new l.Console("ASEJS_ERROR_DIRECTOR","asejs");p=a(13);m=l.Fb;r=a(656);a=[p.qf.Cq,!1];k=[p.qf.Cq,!0];x=[p.qf.Jw,!1];v=[p.qf.Jw,!0];n=[p.qf.URL,!0];q=[];A=[p.qf.Jw,!1];z=m.ct;I={};I[z.Btb]=x;I[z.eGa]=x;I[z.Tca]=x;I[z.qGa]=x;I[z.iGa]=v;I[z.EEa]=v;I[z.qca]=A;I[z.wW]=A;I[z.FEa]=q;I[z.GEa]=A;I[z.HEa]=A;I[z.BEa]=x;I[z.DEa]=x;I[z.pca]=a;I[z.CEa]=x;I[z.AEa]=A;I[z.Lub]=v;I[z.$Ha]=A;I[z.Uda]=A;I[z.Tda]=A;I[z.IX]=A;I[z.Rda]=A;I[z.ZHa]=n;I[z.KX]=v;I[z.PM]=n;I[z.LX]=k;I[z.MX]=v;I[z.bIa]=n;I[z.QM]=A;I[z.Vda]=v;I[z.aIa]=v;I[z.lGa]=v;I[z.fGa]=x;I[z.XOa]=x;I[z.WFa]=x;I[z.XFa]=x;I[z.YFa]=x;I[z.ZFa]=x;I[z.$Fa]=x;I[z.aGa]=x;I[z.bGa]=x;I[z.cGa]=x;I[z.dGa]=x;I[z.gGa]=x;I[z.hGa]=x;I[z.jGa]=x;I[z.kGa]=x;I[z.mGa]=x;I[z.nGa]=x;I[z.oGa]=x;I[z.pGa]=x;I[z.rGa]=x;I[z.sGa]=x;I[z.WOa]=A;I[z.TIMEOUT]=a;t={};t[z.qca]=!0;t[z.Uda]=!0;t[z.Tda]=!0;t[z.Rda]=!0;t[z.Tca]=!0;d(c,b.prototype);b.prototype.wob=function(a){this.ep=a;};b.prototype.Rl=function(a,b,c,d){var g,l,r,k,u,v,n;g=m.ct.name[b];l=I[b];v=this.config;n=this.mo;f.warn("Failure "+g+" on "+JSON.stringify(d)+" : critical error count = "+this.tQ);this.JS={$I:a,zk:b,Bqa:g,Ol:c};t[b]&&++this.tQ;if(!h.isArray(l))f.error("Unmapped failure code in JSASE error director : "+b);else if(l!==q){if(d.url)u={},u[n.dAa(d.url)]=[d.url];else if(d.host)u=n.Ynb(d.host,d.port);else{f.error("Invalid affected for network failure");return;}r=l[0];k=l[1];v.xo?h.forEach(u,function(f,h){l===A||l===x?this.pB.vkb({url:d.url?d.url:f[0],gd:h},{zma:h,ML:l,$I:a,zk:b,Bqa:g,Ol:c}):f.some(function(a){n.Rl(r,k,a);return r===p.qf.Jw;});!v.sp||0!==a&&void 0!==a||(f=void 0!==d.url?d.url:f[0],this.ep&&f&&this.ep.y$("error",f));},this):h.forEach(u,function(b,c){if(l!==A||this.nmb(c))b.some(function(a){n.Rl(r,k,a);return r===p.qf.Jw;}),!v.sp||0!==a&&void 0!==a||(b=void 0!==d.url?d.url:b[0],this.ep&&b&&this.ep.y$("error",b));},this);}};b.prototype.nmb=function(a){var b,c,d;b=l.time.da();d=this.config;if(c=this.Faa[a])if(c.Xe<this.lD)c.Xe=b,c.count=1;else{if(!(c.Xe>=b-d.DV||c.Bs||(c.Xe=b,++c.count,c.count<d.cT)))return c.Bs=!0;}else this.Faa[a]={Xe:b,count:1};};b.prototype.Rab=function(a){var b,c,d,g,h,m;b=l.time.da()-this.lD;c=a;m=this.config;f.warn("Network has failed "+(a?"permanently":"temporarily")+" last success was "+b+" ms ago");!a&&b>m.f8&&(c=!0);c?(this.fE&&(clearTimeout(this.fE),this.fE=void 0),this.Vna(),this.pB.reset(),this.JS&&(d=this.JS.zk,g=this.JS.$I,h=this.JS.Ol),this.emit("streamingFailure",{Mcb:a,pib:d,qib:g,rib:h})):this.fE||(this.fE=setTimeout(function(){this.fE=void 0;this.OK();}.bind(this),m.g8));};b.prototype.OK=function(a){this.fE||(this.mo.OK(!!a),this.Faa={},this.emit("networkFailureReset"));};b.prototype.hba=function(a){var b;b=this.config;this.lD=Math.max(a.timestamp||l.time.da(),this.lD);this.Vna();b.xo&&this.pB.hba(a);};b.prototype.Khb=function(){this.tQ=0;};b.prototype.B8=function(a){var b,c;b=this.config;c=b.y7;this.lD=Math.max(a||l.time.da(),this.lD);b.tsb&&!this.NL&&(f.info("Setting underflow timeout in "+c+"ms"),this.NL=setTimeout(function(){f.info("Forcing permanent network failure after "+c+"ms, since underflow with no success");this.NL=void 0;this.mo.Rl(p.qf.Cq,!0);}.bind(this),c));};b.prototype.Vna=function(){this.NL&&(clearTimeout(this.NL),this.NL=void 0,f.info("Cleared underflow timeout"));};b.prototype.dcb=function(){var b,c,d,g;function a(a){for(var b=a.length,c,d;b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;return a;}b=this.mo;c=this;d=this.config.v2;g={};switch(d){case"1":b.on("manifestAdded",function(){var d;d=[];g.n=g.n||0;b.Zqa(function(a,b,c,f){g[f.id]||(g[f.id]=!0,d.push(f.id));});a(d).forEach(function(a){setTimeout(function(){c.Rl(m.ct.MX,{url:a});},4E3+g.n);g.n+=1E3;});});break;case"2":b.on("manifestAdded",function(){var a;a=[];b.Zqa(function(b,c,d,f){g[f.id]||(g[f.id]=!0,a.push({P:d.P,url:f.id}));});a.sort(function(a,b){return b.P-a.P;}).map(function(a){return a.url;}).forEach(function(a){setTimeout(function(){b.fy()||c.Rl(m.ct.PM,{url:a});},5E3*Math.random());});});break;default:return;}f.warn('Initialized network failure simulation "'+d+'"');};g.M=b;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(27);g=a(7);c=g.Fb;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,c,d){this.aa=d;this.OWa=new b.VQa(a);this.Y_=c.ja;this.rRa=1E3*c.wfb/c.sZa;this.dSa=c.Dpa;}a.prototype.Bu=function(a){var c;c={iIb:this.Y_,HDb:this.dSa?1:0};a.ce&&(c.bs=b.$B(Math.floor(a.ce/this.rRa)+1,1,5));a.ET&&(c.limit_rate=a.ET);a.mna&&(c.bb_reason=a.mna);return this.yUa(c);};a.prototype.y$=function(a,b){var d,f;try{d=new c(void 0,"notification");f=this.Bu({mna:a});b&&f&&d.open(b,void 0,2,void 0,void 0,void 0,f);}catch(r){this.aa.Pp("SideChannel: Error when sending sendBlackBoxNotification. Error: "+r);}};a.prototype.yUa=function(a){var b;try{b=this.IVa(a);return this.OWa.encrypt(b);}catch(p){this.aa.Pp("SideChannel: Error when obfuscating msg. Error: "+p);}};a.prototype.IVa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();d.xPa=g;},function(g,d,a){var c;function b(a){this.tx=void 0;this.vTa=a;this.G_=[];this.Ib=[];}a(11);a(13);c=a(43).yy;a(27);b.prototype.reset=function(a){this.tx=void 0;this.G_=[];a&&(this.Ib=[]);};b.prototype.add=function(a,b){var d,g;d=b.filter(function(b,d){return c(b)||d===a.Hd;});g=d.map(function(a){return a.P;});b=d.indexOf(b[a.Hd]);this.tx&&(this.tx.length!==g.length||this.tx.some(function(a,b){return a!==g[b];}))&&(d=this.Dra())&&(this.Ib.push(d),this.reset(!1));void 0===this.tx&&(this.tx=g);this.G_.push([b,a.SBa,a.Ra,a.yZa,a.wna,a.$jb,a.yhb,a.Sxa,a.ip,a.Rn,a.wqb-a.SBa]);};b.prototype.f6a=function(){for(var a=this.G_,b=[],c=[],d=0;d<a.length;d++){for(var g=a[d],r=[],k=0;k<g.length;k++)r.push(g[k]-(c[k]||0));b.push(r);c=g;}return b;};b.prototype.Dra=function(){var a;a=this.f6a();if(0!==a.length)return{dltype:this.vTa,bitrates:this.tx,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Dra();b=this.Ib;a&&b.push(a);if(0!==b.length)return b;};g.M=b;},function(g,d,a){var c,h;function b(){this.cP=[];this.cP[c.G.VIDEO]=new h(c.G.VIDEO);this.cP[c.G.AUDIO]=new h(c.G.AUDIO);}a(11);c=a(13);a(7);a(27);h=a(659);b.prototype.yXa=function(a,b,c){this.cP[a].add(b,c);};b.prototype.Z$a=function(){var a;a=[];this.cP.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};b.prototype.j7a=function(a){var b;b=this.Z$a();a.strmsel=b;return 0<b.length;};g.M=b;},function(g,d,a){var h,l,f,p,m,r;function b(a,b,d){this.$a=a;this.aa=b;this.K=d;this.zB=[];[l.G.AUDIO,l.G.VIDEO].forEach(function(a){b.gD(a)&&(this.zB[a]=new c(b,a));}.bind(this));this.Ht=void 0;}function c(a,b){this.W=m(f,a.W,"["+b+"]");this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);this.Ua=this.W.log.bind(this.W);this.It=this.W.debug.bind(this.W);this.R=b;this.El=this.zI=this.vl=this.tH=this.Bm=this.B6=this.Hj=void 0;this.uK=this.wo=0;this.connected=!1;this.I6=this.Cy=this.kD=this.F6=this.hv=this.lo=this.oi=void 0;this.YE=this.Qpa=!1;this.nv=this.sna=this.io=void 0;}h=a(11);l=a(13);f=a(7);p=a(43).yy;m=a(27).GJ;r=a(350);Object.defineProperties(b.prototype,{ob:{get:function(){return this.zB;}}});b.prototype.vD=function(a){var b,c,d,g,m,p,r,k,u,n,q,t;b=this.K;c=this.aa;d=a.R;g=c.Lj()[d];m=a.Ic.na;p=c.wa[m];r=this.zB[d];k=d===l.G.VIDEO?b.L0:b.qba;u=c.zb.value;n=c.Xt.ge();b=a.Oa.lsa();g={xu:g,U:b.cc,uf:n,Ra:b.Ljb||n,yl:a.Px||n,nn:b.nn,Av:b.Av,yEb:b.Y.length,Y:[]};p={state:u,wy:c.wy()&&!c.NCa(),Uv:a.jg,buffer:g,np:p.Ix[d],Z4a:k,Meb:c.iB,dEb:c.oSa,Bl:c.Bl,ip:c.fj&&c.fj.ip};void 0===p.Uv&&(p.Uv=c.jO(d,m,g.Ra));g.Y=b.Y;if(p.state===l.Da.Df&&0===g.Y.length&&!h.ka(a.CE.gx)){a.V9&&(t=f.time.da()-a.V9.time,q=a.V9.reason);a.Ub("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",r.lo,"lastStreamSelected:",r.oi,"last pipeline.reset:",q,"delta:",t);}h.ka(g.U)?a.seeking&&g.uf!=g.U&&(g.uf=g.U):(g.U=0,g.Ra=0);c.zd.C_a(p);c.zd.uXa(p);return p;};b.prototype.B_a=function(a,b,c){var l,r;a=this.zB[a];for(var d=a.nv,f="manifest",g=this.aa,h=0,m=b.length-1;0<=m;m--){l=b[m];r=l.P;if(p(l)){h=Math.max(h,r);break;}else!l.inRange&&l.lC&&l.lC.join?f=l.lC.join("|"):l.Fl?l.Je?l.Lh&&(f="hf"):f="av":f="bc";}if(void 0===d||h!==d){a.nv=h;if(g.Wn)try{this.Ht&&this.Qab();}catch(qa){g.Pp("Hindsight: Error when handling maxbitrate chagned: "+qa);}g.hhb(d,h,f,c);}};b.prototype.TI=function(a){var b,c,d,f,g,m,p,r,k,u,n,q;b=this.K;c=this.aa;d=a.R;f=d==l.G.VIDEO;g=0;p=this.zB[d];if(!p.Hj)return{lf:void 0};r=this.vD(a);k=p.oi;u=a.Ic.na;n=a.ec;q=k?k.index:p.zI;if(k&&(g=k.P,k.aQ)){q=c.Pja(n,g);m=n[q];if(k.P!==m.P||!k.aQ.replace&&d===l.G.VIDEO)r.state=l.Da.Tg;k.index=q;k.P=m.P;}m=c.Bk(u);n=m.mo.QV(r,n);if(!n)return a.Ub("location selector did not find any urls"),{lf:void 0};if(!f){u=b.Aaa;if(!(u&&u.length||a.QK)&&q&&n[q]&&k&&k.location===n[q].location)return{lf:q,HH:!0};a.QK&&(r.state=l.Da.Tg,q=void 0);}if(f&&b.sC&&b.C4a&&!p.Hj.jo()&&a.ce>b.TP)return{lf:a.qbb,HH:!0};c.zd.Hna(r.Uv,n);r=a.CE.x$(r,n,q,c.zd.t$a(d),p.Hj.config.jf,b.lba&&0===c.Qka?b.yD:b.E7,m.yC);if(!r)return a.Ub("stream selector did not find a stream"),{lf:void 0};c.Bl&&c.pmb.yXa(a.R,r,n);f&&this.B_a(d,n,a.Ra);c.zd.gib(r);d=r.Hd;n=n[d].P;k=a.ce;r.a3a&&k<b.b1&&n<g&&c.sUa(g,n);d!=q&&(f&&b.sC&&c.Iia(a,n),f||c.zd.qE(n));h.ka(p.zI)||(p.zI=d);a.op||(r.op?(a.op=!0,p.sna=r.reason):(a.FJ=r.FJ,a.Dz=r.Dz,a.xi=r.xi));c.Et();f&&c.KVa(a,r.Yx)||(a.Iu=void 0);return{lf:d,HH:r.HH,wza:r.wza};};b.prototype.G3=function(a,b){var c,d,f,g,h;if(this.Ht){c=this;d=this.Ht;f=this.aa;g=f.ge();h=[];b&&(g=b.ea);f.la.Ge.forEach(function(b){var d,m;d=c.vD(b);m=b.R;d.R=m;d.headers=f.MC(m);d.uf=g;a===l.Da.xt&&(d.Gya=b.Oa.u0(g));h[m]=d;});d.Hqa||d.o7a(h,a)||this.T9();return d;}};b.prototype.Qab=function(){var a,b,c,d,g;a=this;b=this.Ht;c=this.K;d=this.aa;g=[];b&&(this.G3(void 0),b&&!b.LB&&d.aH.qU.n3(b));d.la.Ge.forEach(function(b){var c,d;c=a.vD(b);d=b.R;c.vl=f.time.da();c.ec=b.ec;c.R=d;g[d]=c;});b=d.Lj();b={WWa:b[l.G.AUDIO],VE:b[l.G.VIDEO],KJ:c.Ny};this.Ht=b=new r(g,f.time.da(),void 0,d.f3,b,c.YI);};b.prototype.T9=function(){this.Ht=void 0;};b.prototype.asb=function(a){var b,c,d,g,h,m;b=this;c=a.oldValue;d=a.newValue;g=this.Ht;a=this.K;h=this.aa;d===l.Da.Df&&c!==l.Da.Df?(g&&h.W.warn("override an existing play segment!"),m=[],h.la.Ge.forEach(function(a){var c,d,f;c=b.vD(a);d=a.R;f=b.ob[d];f.aaa?(c.vl=f.aaa,f.aaa=void 0):c.vl=f.vl;c.ec=a.ec;c.R=d;m[d]=c;}),d=h.Lj(),d={WWa:d[l.G.AUDIO],VE:d[l.G.VIDEO],KJ:a.Ny},this.Ht=g=new r(m,f.time.da(),c,h.f3,d,a.YI)):d!==l.Da.Df&&c===l.Da.Df&&g&&(this.G3(d),g&&!g.LB&&h.aH.qU.n3(g),this.T9());};b.prototype.Sab=function(a){this.zB.forEach(function(b){b.oi||(b.oi={});b.oi.aQ={replace:a};b.oi.location=void 0;}.bind(this));};g.M=b;},function(g,d,a){var h,l,f,p,m,r;function b(a,b,c,d,f,g,h){this.um=c;this.ik=b;this.Be=d;this.dd=f;this.bf=g;this.K=h;this.W=a;this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);this.on=this.addEventListener=m.addEventListener;this.removeEventListener=m.removeEventListener;this.emit=this.Ja=m.Ja;this.reset();}function c(a){return a.Jd(h.gc.Z7a(Math.floor(a.hf)));}h=a(74);l=a(11);f=a(7);p=a(13);m=a(28).EventEmitter;r=a(347);b.prototype.constructor=b;Object.defineProperties(b.prototype,{SP:{get:function(){return this.dd?this.dd.SP:-1;}},btb:{get:function(){return this.ei.length;}},qdb:{get:function(){return this.Pt;}}});b.prototype.reset=function(a){this.$q=!1;a||(this.ei=[]);this.xO=this.Pt=this.TZ=this.ZZ=void 0;this.qB=h.gc.Vf;this.CO=this.tB=this.Qt=void 0;this.Ww=h.gc.Vf;this.eP=0;this.i_=this.e_=h.gc.Vf;this.KZ=!1;this.WO(h.gc.Vf);};b.prototype.ASa=function(a,b){void 0===this.CO&&("object"===typeof this.K.k$&&this.K.k$[a]?(a=new h.gc(this.K.k$[a],1E3).Ho(b.ha).add(new h.gc(1,b.ha)),this.CO=h.gc.min(b,a)):this.CO=b);return this.CO;};b.prototype.WO=function(a){this.pWa=a;this.dd.R$(a.xd,a.ha);};b.prototype.M7a=function(){this.TZ=!0;};b.prototype.pause=function(){this.$q=!0;};b.prototype.resume=function(){this.$q=!1;this.Vw();};b.prototype.T9a=function(){return this.Pt&&this.Pt.Od;};b.prototype.U9a=function(){return this.Pt&&this.Pt.Ed;};b.prototype.i_a=function(a,b){var d;for(var c=0;c<this.ei.length;c++){d=this.ei[c];d.jf.Ic.qa.id===a&&d.Oc>=b&&(d.abort(),this.ei.splice(c,1),c--);}};b.prototype.yYa=function(a){var b;if(this.K.lI){b=a.jf.Ic;if(a.Oc>=b.ea)return;a.Qk!=b.Nc&&a.uAa(new h.gc(b.Nc,1E3));}this.ei.push(a);this.Vw();};b.prototype.Lo=function(){this.Vw();};b.prototype.NK=function(a){a=this.ei.indexOf(a);-1!==a&&this.ei.splice(a,1);};b.prototype.chb=function(){this.Vw();};b.prototype.r8=function(){this.KZ||(this.KZ=!0,this.Vw(),this.dd.endOfStream());};b.prototype.Vw=function(){var a,b,c,d,g,h;b=this.K;c=Object.getOwnPropertyNames(this.bf);b.z0&&l.V(this.ZZ)&&1===c.length&&(a=this.bf[c[0]],a.complete&&!l.V(a.Ya)&&this.Oia(a));if(this.ei.length)if(this.dd)if(c=this.ei[0],this.$q)this.sB("@"+f.time.da()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.Jta())this.fa("aborted MediaRequest should not appear in the toAppend list"),this.sB("@"+f.time.da()+", append: removing aborted request from toAppend: "+c.toString()),this.ei.shift();else{d=c.Ya;if((a=this.bf[d])&&a.data)if(this.TZ||d!=this.ZZ)this.TZ=!1,this.Oia(a);else if(!b.bW||c.le.XI()){a=c.jf;g=c.cc-a.aa.ge();if(!(this.ik===p.G.AUDIO&&c.Ip&&c.fd&&!b.cn&&!this.KZ&&1===this.ei.length&&g>b.X7)){if(b.lI||b.eqa){d=a.Ic.Dg;h=c.Od>=a.Ic.Fm;g=g>b.X7;if(a.Ic.Fm<a.Ic.ea&&h&&g&&!d)return;}b.Yib&&(b=c.le.Bk(a.na))&&!b.Fx?this.pause():(this.ei.shift(),this.eRa(c));}}}else this.sB("@"+f.time.da()+", append: not appending, sourceBuffer not ready");};b.prototype.aRa=function(a){this.K.Gx&&this.K.Km&&a.stream.Ok&&(this.qB=a.stream.Ok);};b.prototype.Oia=function(a){if(this.dd.appendBuffer(a.data))this.sB("@"+f.time.da()+", header appended, streamId: "+a.Ya),this.ZZ=a.Ya,this.qVa(a.na||0,a.Ya),this.aRa(a),this.Vw();else throw this.fa("appendHeader error: "+this.dd.error),this.sB("@"+f.time.da()+", appendHeader error: "+this.dd.error),Error("appendHeaderError");};b.prototype.FVa=function(a){void 0===this.tB&&(this.tB=r.PU(this.K,a));return this.tB;};b.prototype.eRa=function(a){var b,c,d,g,m,l,r,k,u;b=a.Qk;c=!1;d=this.ik===p.G.AUDIO&&a.fd&&this.FVa(a.stream);g=h.gc.Vf;m=a.jf.Ic.qa;m.ea&&Infinity!=m.ea&&(m=(m.ea+b)/1E3,Infinity==this.Be.duration||this.Be.duration<m)&&(this.Be.duration=m);if(b!=this.xO){l=this.qB.add(this.Ww).add(new h.gc(b,1E3));this.WO(l);this.xO=b;}m=a.jf;if(d){r=a.stream.La;l=this.ASa(a.profile,r);b=a.Zv+a.Qk;if(a.Ip)c=new h.gc(a.ea-b,1E3),c=this.Ww.add(c).YR(l);else if(void 0!==this.Qt){k=this.Qt;u=a.fU;new h.gc(b-a.U,1E3);b=this.Ww.add(k.Jd(u));if(u.add(r).Gdb(k)||b.YR(l))c=!0,u.add(r),b=b.Jd(r);b.FT(this.Ww)&&(b.YR(h.gc.gK.d8(-8))?(l=this.qB.add(b).add(new h.gc(this.xO,1E3)),this.K.cn||(g=this.ARa(a,l),g=this.bTa.Jd(g),g.YR(h.gc.gK.d8(2))?(l=l.Jd(h.gc.gK),++this.eP):this.eP&&g.lessThan(h.gc.gK)&&(l=l.add(h.gc.gK),--this.eP)),this.WO(l),this.e_=h.gc.max(this.e_,b),this.i_=h.gc.min(this.i_,b),this.sVa(this.e_,this.i_),g=b.Jd(this.Ww),this.Ww=b):(c=d=!1,this.eP=0,this.Ww=h.gc.Vf,l=this.qB.add(new h.gc(this.xO,1E3)),this.WO(l),m.Ub("Unexpected seamless audio sync "+b.toString()+" at content pts "+a.Oc+" in stream "+a.stream.Ya+" following "+this.Pt.Od)));}}if(a.MB(this.dd,this.Pt,this.ei[0],d,c))void 0===this.Qt||this.ik!==p.G.AUDIO||a.fU.equal(this.Qt.add(g))||(this.lVa(a,this.Qt.add(g)),this.Qt=void 0),this.sB("@"+f.time.da()+", request appended, type: "+a.R+", streamId: "+a.Ya+", pts: "+a.cc+"-"+a.Ed),this.Pt=a,a.Ip?(this.Qt=a.Qxa,this.bTa=this.zRa(a,this.pWa)):this.Qt=void 0,this.rVa(a),this.Vw();else{if(void 0!==this.dd.error){if("done"==this.dd.error)return;this.Ub("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.dd.error);throw this.dd.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.dd.error);this.Ub(a.message);throw a;}};b.prototype.ARa=function(a,b){var d;d=a.voa;this.K.Hn&&a.stream.Ok&&(d=d.Jd(a.stream.Ok));return c(d).add(c(b));};b.prototype.zRa=function(a,b){var d,f;d=a.stream.La;f=a.roa;this.K.Hn&&a.stream.Ok&&(f=f.Jd(a.stream.Ok));return c(f.Jd(d)).add(c(d)).add(c(b));};b.prototype.qVa=function(a,b){a={type:"headerAppended",mediaType:this.ik,manifestIndex:a,streamId:b};this.Ja(a.type,a);};b.prototype.rVa=function(a){a={type:"requestAppended",mediaType:this.ik,request:a};this.Ja(a.type,a);};b.prototype.sB=function(a){a={type:"managerdebugevent",message:a};this.Ja(a.type,a);};b.prototype.lVa=function(a,b){var c;c=a.Oc;a=a.fU.Jd(b).hf;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.Ja(c.type,c);};b.prototype.sVa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.hf,minavsyncerror:b.hf}};this.Ja(a.type,a);};g.M=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,c,d,g,f,p,m,r,k){this.id=a;this.na=c;this.U=d;this.UH=f;this.Gj=p;this.FE=m;this.Fm=r;this.orb=k;this.ea=g||Infinity;this.Fm="number"===typeof r?r:this.ea;}a.prototype.toString=function(){return"segmentId: "+this.id+" manifestIndex: "+this.na+" pts: "+this.U+"-"+this.ea+" defaultKey: "+this.UH+" dests: "+JSON.stringify(this.Gj)+" terminal: "+!!this.FE;};a.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.na,"startPts:":this.U,endPts:this.ea,defaultKey:this.UH,"dests:":this.Gj,terminal:!!this.FE,beginJITPts:this.Fm};};return a;}();d.rPa=g;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);g=a(47);h=a(59);l=a(363);a=a(152);f=function(){function a(b,c){this.ta=[];this.lm=void 0;this.Ob=0;this.W=b;c&&c.length&&(Array.isArray(c)?(this.ta=c.slice(),this.iG(0,this.ta.length)):c instanceof a&&(this.ta=c.ta.slice(),this.iG(0,this.ta.length)));}a.prototype.get=function(a){0>a&&(a+=this.ta.length);return this.ta[a];};a.prototype.push=function(a){this.ta.push(a);this.iG(this.ta.length-1);return this.length;};a.prototype.unshift=function(a){this.ta.unshift(a);this.iG(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.ta.length)return this.A_(this.ta.length-1),this.ta.pop();};a.prototype.shift=function(){if(0!==this.ta.length)return this.A_(0),this.ta.shift();};a.prototype.splice=function(a,b){for(var c,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];0>a&&(a+=this.ta.length);0>a&&(a=0);a>this.ta.length&&(a=this.ta.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.ta.length-a);0<b&&this.A_(a,a+b);f=(c=this.ta).splice.apply(c,[a,b].concat(d));0<d.length&&this.iG(a,a+arguments.length-2);return f;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.ta.length);0>b&&(b+=this.ta.length);if(b>=this.ta.length)return new a(this.W);c>this.ta.length&&(c=this.ta.length);0>c&&(c+=this.ta.length);return new a(this.W,this.ta.slice(b,c));};a.prototype.Kl=function(a){if(0===this.ta.length||a.Kb>=this.Qb)this.push(a);else if(a.Qb<=this.Kb)this.unshift(a);else{for(var b=0,d=this.ta.length-1,f;b<d-1;)f=Math.floor((d+b)/2),c(f!==d&&f!==b),a.Kb>=this.ta[f].Qb?b=f:d=f;c(b!==d);c(this.ta[b].Qb<=a.Kb&&this.ta[d].Kb>=a.Qb);this.splice(d,0,a);}};a.prototype.remove=function(a){a=this.ta.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.ta;});return new a(this.W,Array.prototype.concat.apply(this.ta,b));};a.prototype.forEach=function(a){var b;b=this;this.ta.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.ta.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.ta.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.ta.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.ta.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.ta.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.ta.some(function(d,f){c=f;return a(d,f,b);})?this.ta[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.ta.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.W,this.ta.filter(function(a,d){return b(a,d,c);}));};a.prototype.vR=function(a){for(var b=this.ta.length-1;0<=b;--b)a(this.ta[b],b,this);};a.prototype.caa=function(a){for(var b=this.ta.length-1;0<=b;--b)if(a(this.ta[b],b,this))return!0;return!1;};a.prototype.oR=function(a){if(this.empty||a<this.Oc||a>=this.Od)return-1;for(var b=0,c=this.ta.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.ta[d].Oc&&a<this.ta[d].Od){c=d;break;}a<this.ta[d].Od?c=d-1:b=d+1;}return c;};a.prototype.FC=function(a){if(this.empty||a<this.cc||a>=this.Ed)return-1;for(var b=0,c=this.ta.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.ta[d].cc&&a<this.ta[d].Ed){c=d;break;}a<this.ta[d].Ed?c=d-1:b=d+1;}return c;};a.prototype.Mqa=function(a){a=this.oR(a);return 0<=a?this.ta[a]:void 0;};a.prototype.Nqa=function(a){a=this.FC(a);return 0<=a?this.ta[a]:void 0;};a.prototype.oP=function(a){var b;b=this.ta[a].Qb;for(a+=1;a<this.ta.length&&b===this.ta[a].Kb;++a)b=this.ta[a].Qb;a<this.ta.length?void 0===this.lm?this.lm=new l.gM(this,{Qb:b}):this.lm.lAa(b):void 0===this.lm?this.lm=new l.gM(this,{}):this.lm.Sna();};a.prototype.PA=function(a,b){for(var c=a;c<b;++c)this.Ob+=this.ta[c].Z;void 0===this.lm||0===a?this.oP(0):this.lm.Qb===this.Qb?this.oP(a-1):this.ta[a].Kb===this.lm.Qb&&this.oP(a);};a.prototype.cr=function(a,b){var c;if(0===a)this.lm=void 0,b<this.length&&this.oP(b);else{c=this.lm;c.Qb>this.ta[a-1].Qb&&(b<this.length?c.lAa(this.ta[a-1].Qb):c.Sna());}for(;a<b;++a)this.Ob-=this.ta[a].Z;};a.prototype.iG=function(a,b){void 0===b&&(b=a+1);this.PA(a,b);};a.prototype.A_=function(a,b){void 0===b&&(b=a+1);this.cr(a,b);};return a;}();d.lW=f;(function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);return c;}(f));g.gi(f.prototype,g.MXa({length:{get:function(){return this.ta.length;}},first:{get:function(){return this.ta[0];}},Xe:{get:function(){return this.ta[this.ta.length-1];}},empty:{get:function(){return 0===this.ta.length;}},Kb:{get:function(){return this.first&&this.first.Kb;}},Qb:{get:function(){return this.Xe&&this.Xe.Qb;}},zu:{get:function(){return this.lm;}},Z:{get:function(){return this.Ob;}},ha:{get:function(){return this.first&&this.first.ha;}},Bo:{get:function(){return this.first&&this.first.Bo;}},Y:{get:function(){return this.ta;}},PCb:{get:function(){return this.zu&&this.zu.Qb;}},RCb:{get:function(){return this.zu&&this.zu.RD;}},OCb:{get:function(){return this.zu&&this.zu.Od;}},QCb:{get:function(){return this.zu&&this.zu.Ed;}}}));h.Yk(a.hM,f);},function(g,d,a){var c;function b(){c(!1);}Object.defineProperty(d,"__esModule",{value:!0});c=a(14);g=a(47);a=function(){function a(a,b){this.Lc=a;this.WA=b;this.Xq();}a.prototype.b8a=function(){return this.cB&&this.cB.get(0);};a.prototype.UYa=function(){return this.QA&&this.QA.get(this.QA.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Lc.length;++b)if(this.cg[b+1]>a)return this.Lc[b].get(a-this.cg[b]);};a.prototype.push=function(a){this.Lc[this.WA(a)].push(a);this.Xq();return this.Rt;};a.prototype.shift=function(){var a;if(this.cB){a=this.cB.shift();this.Xq();return a;}};a.prototype.pop=function(){var a;if(this.QA){a=this.QA.pop();this.Xq();return a;}};a.prototype.unshift=function(a){this.Lc[this.WA(a)].unshift(a);this.Xq();return this.Rt;};a.prototype.Kl=function(a){var b;b=this.WA(a);this.Lc[b].Kl(a);this.Xq();};a.prototype.remove=function(a){var b;b=this.Lc.some(function(b){return b.remove(a);});b&&this.Xq();return b;};a.prototype.splice=function(a,b){var k,n,q,z;for(var c,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];for(var f=[],g,h=a+Math.max(0,b),l=0;l<this.Lc.length;++l){k=this.Lc[l];n=this.cg[l];q=this.cg[l+1];if(a<q){z=a-n;n=Math.min(h-n,k.length);void 0===g&&0<z&&n<k.length?Array.prototype.push.apply(f,k.splice.apply(k,[z,n-z].concat(d))):(Array.prototype.push.apply(f,k.splice(z,n-z)),void 0===g&&(g=0<l&&0===z?l-1:l));a=q;if(a>=h)break;}}if(d.length&&void 0!==g){for(h=this.WA(d[0]);0<g&&h<g&&this.Lc[g].empty;)--g;for(;d.length&&h===g;){this.Lc[g].push(d.shift());if(!d.length)break;h=this.WA(d[0]);}for(;d.length&&++g<this.Lc.length&&this.Lc[g].empty;)for(;d.length&&h===g;){this.Lc[g].push(d.shift());if(!d.length)break;h=this.WA(d[0]);}d.length&&(c=this.Lc[g]).splice.apply(c,[0,0].concat(d));}this.Xq();return f;};a.prototype.find=function(a){var b,c;b=this;return this.Lc.some(function(d,f){c=d.find(b.fu(a,f));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.Lc.length;++b){c=this.Lc[b].findIndex(this.fu(a,b));if(-1!==c)return c+this.cg[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.Lc.length;++b){c=this.Lc[b].indexOf(a);if(-1!==c)return c+this.cg[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.Lc.map(function(c,d){return c.map(b.fu(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Lc.reduce(function(b,d,f){return d.reduce(c.MWa(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Lc.forEach(function(c,d){c.forEach(b.fu(a,d));});};a.prototype.vR=function(a){for(var b=this.Lc.length-1;0<=b;--b)this.Lc[b].vR(this.fu(a,b));};a.prototype.some=function(a){var b;b=this;return this.Lc.some(function(c,d){return c.some(b.fu(a,d));});};a.prototype.caa=function(a){for(var b=this.Lc.length-1;0<=b;--b)if(this.Lc[b].caa(this.fu(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.Lc.every(function(c,d){return c.every(b.fu(a,d));});};a.prototype.move=function(a){return this.remove(a)?(this.Kl(a),!0):!1;};a.prototype.Iob=function(){var a;if(this.Lc[1].length){a=this.Lc[1].shift();this.Lc[0].push(a);this.Xq();}};a.prototype.Oqa=function(a){for(var b=-1,c=0;c<this.Lc.length;++c)if(b=a(this.Lc[c]),-1!==b){b+=this.cg[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Xq=function(){var b;this.Rt=0;this.cg=[0];this.QA=this.cB=void 0;for(var a=0;a<this.Lc.length;++a){b=this.Lc[a];this.Rt+=b.length;this.cg.push(this.cg[this.cg.length-1]+b.length);!this.cB&&b.length&&(this.cB=b);b.length&&(this.QA=b);}};a.prototype.fu=function(a,b){var c,d;c=this;d=this.cg[b];return function(b,f){return a(b,d+f,c);};};a.prototype.MWa=function(a,b){var c,d;c=this;d=this.cg[b];return function(b,f,g){return a(b,f,d+g,c);};};return a;}();d.kFa=a;g.gi(a.prototype,{length:{get:function(){return this.Rt;},set:b},empty:{get:function(){return 0===this.Rt;},set:b}});},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);c=a(665);g=a(47);h=a(664);l=a(152);f=a(95);a=a(59);c=function(a){function c(b,c){var d,g;d=this;g=[new h.lW(b),new h.lW(b),new h.lW(b)];d=a.call(this,g,function(a){return a.complete?d.empty||a.Kb<=d.O1?0:1:a.active?1:2;})||this;d.wb=g[0];d.Gc=g[1];d.Fn=g[2];d.nl=0;d.GN=0;d.W=b;f.call(d,c);return d;}b.__extends(c,a);c.prototype.PA=function(a){a.rl?++this.GN:this.nl+=a.De;a.uob(this);};c.prototype.cr=function(a){a.rl?--this.GN:this.nl-=a.De;a.Una();};c.prototype.push=function(b){this.PA(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.cr(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.cr(b);return b;};c.prototype.unshift=function(b){this.PA(b);return a.prototype.unshift.call(this,b);};c.prototype.Kl=function(b){this.PA(b);a.prototype.Kl.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.cr(b);return!0;};c.prototype.splice=function(b,c){for(var d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];f=a.prototype.splice.apply(this,[b,c].concat(d));d.forEach(this.PA.bind(this));f.forEach(this.cr.bind(this));return f;};c.prototype.Kkb=function(a){var b;b=this;this.reduce(function(c,d,f){d.rl&&(a&&a(d,f,b),0===c.length||c[0].end!==f?c.unshift({start:f,end:f+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.oR=function(a){return this.Oqa(function(b){return b.oR(a);});};c.prototype.FC=function(a){return this.Oqa(function(b){return b.FC(a);});};c.prototype.Mqa=function(a){a=this.oR(a);return-1!==a?this.get(a):void 0;};c.prototype.Nqa=function(a){a=this.FC(a);return-1!==a?this.get(a):void 0;};c.prototype.ez=function(a){this.move(a);this.iy(a);};c.prototype.hK=function(a){this.nl+=a.De-a.wi;this.HC(a);};c.prototype.ti=function(a){for(this.nl+=a.De-a.wi;this.Gc.first&&this.Gc.first.complete&&(this.wb.empty?this.Gc.first===this.q5a:this.Gc.first.Kb===this.wb.Qb);)this.Iob();this.Qu(a);};c.prototype.NT=function(a,b){this.nl-=a.De;++this.GN;this.zR(a,b);};return c;}(c.kFa);d.EDa=c;a.Yk(f,c,!1);a.Yk(l.hM,c);g.gi(c.prototype,{Z:g.L({get:function(){return this.wb.Z+this.Gc.Z+this.Fn.Z;}}),aCa:g.L({get:function(){return this.Fn;}}),active:g.L({get:function(){return this.Gc;}}),complete:g.L({get:function(){return this.wb;}}),olb:g.L({get:function(){return this.nl;}}),goa:g.L({get:function(){return this.wb.Z;}}),Av:g.L({get:function(){return this.wb.Z+this.Gc.Z-this.nl;}}),bJb:g.L({get:function(){return this.Fn.Z;}}),ZHb:g.L({get:function(){return this.Z-this.nl;}}),first:g.L({get:function(){return this.b8a();}}),Xe:g.L({get:function(){return this.UYa();}}),q5a:g.L({get:function(){return!this.wb.empty||this.Fn.empty||this.Gc.empty?this.first:this.Gc.Kb<this.Fn.Kb?this.Gc.first:this.Fn.first;}}),eGb:g.L({get:function(){return this.Fn.empty||this.Gc.empty?this.Xe:this.Gc.Qb<this.Fn.Qb?this.Fn.Xe:this.Gc.Xe;}}),Uqa:g.L({get:function(){return this.Fn.first;}}),Kb:g.L({get:function(){return this.first&&this.first.Kb;}}),Qb:g.L({get:function(){return this.Xe&&this.Xe.Qb;}}),ha:g.L({get:function(){return this.first&&this.first.ha;}}),Bo:g.L({get:function(){return this.first&&this.first.Bo;}}),CCb:g.L({get:function(){return this.wb.Hh;}}),oHb:g.L({get:function(){return this.Xib-this.O1||0;}}),zFb:g.L({get:function(){return this.Qb-this.O1||0;}}),g0a:g.L({get:function(){return this.wb.duration;}}),Wib:g.L({get:function(){return this.Gc.duration;}}),$bb:g.L({get:function(){return this.Od-this.f0a||0;}}),ECb:g.L({get:function(){return this.wb.Xe;}}),O1:g.L({get:function(){return this.wb.empty?this.Kb:this.wb.Qb;}}),f0a:g.L({get:function(){return this.wb.empty?this.Oc:this.wb.Od;}}),foa:g.L({get:function(){return this.wb.empty?this.cc:this.wb.Ed;}}),h0a:g.L({get:function(){return this.wb.Z;}}),qHb:g.L({get:function(){return this.Gc.Xe||this.wb.Xe;}}),Xib:g.L({get:function(){return this.Gc.Qb||this.wb.Qb;}}),nHb:g.L({get:function(){return this.Gc.Od||this.wb.Od;}}),vxa:g.L({get:function(){return this.Gc.Ed||this.wb.Ed;}}),Ko:g.L({get:function(){return this.Fn.length;}}),ip:g.L({get:function(){return this.Gc.length;}}),FCb:g.L({get:function(){return this.wb.length;}}),GBb:g.L({get:function(){return this.GN;}}),XU:g.L({get:function(){return this.wb.concat(this.Gc);}})});},function(g,d,a){var h,l,f,p,m,k;function b(a,c,d,f,g,h){f.responseType=0;l.call(this,a,f,g,h);this.K=c;this.eO=d;this.gk=void 0;this.PZ=b.iA.INIT;this.yG=p.prototype.toString.call(this)+" multiple";this.wB(a.url,f.offset,8,0);}function c(){h(!1);}h=a(14);d=a(109);a(7);l=a(200).kW;f=a(203).fM;p=a(81).$k;a(13);m=a(27).Gr;k=a(58).AZ;b.prototype=Object.create(l.prototype);d({iA:{INIT:0,efa:1,cfa:2,name:["INIT","MOOF","MDAT"]}},b);Object.defineProperties(b.prototype,{data:{get:function(){return this.gk;},set:c}});b.prototype.wB=function(a,b,c,d){a=new f(this.eO,this.yG+" ("+this.oa.length+")",{S:this.S,R:this.R,Ya:this.Ya,P:this.P,offset:b,Z:c,url:a,location:this.location,gd:this.gd,responseType:d},this,this.W);this.push(a);this.Via=this.oa.reduce(function(a,b){return a+b.Z;},0);};b.prototype.ti=function(a){var d,f;this.gk=this.gk?m(this.gk,a.response):a.response;a.response=void 0;switch(this.PZ){case b.iA.INIT:d=new DataView(this.gk);f=d.getUint32(0);d=d.getUint32(4);k(d);this.wB(a.url,a.offset+a.Z,f,0);l.prototype.ti.call(this,this);this.PZ=b.iA.efa;break;case b.iA.efa:d=new DataView(this.gk);f=d.getUint32(this.Via-8);d=d.getUint32(this.Via-4);k(d);this.wB(a.url,a.offset+a.Z,f-8,0);this.PZ=b.iA.cfa;l.prototype.ti.call(this,this);break;case b.iA.cfa:l.prototype.ti.call(this,this);break;default:c();}};g.M=b;},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);g=a(59);c=a(7);h=a(81);l=a(202);f=a(127);p=c.Fb;a=function(a){function d(b,c,d,f,g,l,m){c=this;c=["cache","edit"].filter(function(a,b){return[l,f.fd][b];});c=c.length?"("+c.join(",")+")":"";void 0===f.responseType&&(f.responseType=p.jc&&!p.jc.gE.Kw?0:1);c=a.call(this,b,d,c,f,g,m)||this;h.$k.call(c,b,f);c.cTa=f.Bdb;c.bg.on(c,p.kd.Gyb,c.AUa);c.bg.on(c,p.kd.Fyb,c.zUa);return c;}b.__extends(d,a);d.prototype.Dc=function(a,b){f.jw.prototype.Dc.call(this,a,b);this.Wa||!a.K.zP&&this.Ec||(this.Wa=a.$a.Wa);};d.prototype.yv=function(){var a,b;a=[];b={start:this.offset,end:this.offset+this.Z-1};void 0!==this.Oc&&0<=this.Oc&&void 0!==this.Od&&(b=this.DRa(this.Oc,this.Od-1,this.cTa,this.le.K.wgb),a.push("ptsRange/"+this.Oc+"-"+(this.Od-1)),0<b&&a.push("timeDelay/"+b),b={start:0,end:-1},this.FN=this.ETa(this.FN,a));return p.prototype.open.call(this,this.FN,b,this.EN,{},void 0,void 0,this.Fia);};d.prototype.GO=function(){this.Gc||(this.Gc=!0,this.jo=this.track.jo(),this.iy(this),this.wi=0,this.kj=this.vd);};d.prototype.Tka=function(){var a;a=this.vd;this.kl=c.time.da()-this.vd;this.hy(this);this.kj=a;};d.prototype.Vka=function(){var a;a=this.vd;this.kl=c.time.da()-this.vd;this.HC(this);this.kj=a;this.wi=this.De;};d.prototype.AUa=function(){var a;a=this.vdb;this.Ag=!0;this.Wa&&(this.Wa.zU(a,this.Lt()),this.Wa.Q9());};d.prototype.zUa=function(){this.Wa&&(this.Wa.xP(this.cGb,this.vdb,this.udb),this.Wa.BU(this.udb,this.Ag,this.Lt()));this.Ag=!1;};d.prototype.FO=function(){var a;a=this.vd;this.kl=c.time.da()-this.vd;this.Wa&&this.Ag&&this.Wa.BU(c.time.da(),this.Ag,this.Lt());this.Ag=this.Gc=!1;this.Qu(this);this.kj=a;this.wi=this.De;this.Nd();};d.prototype.DRa=function(a,b,c,d){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?d:a-c;};d.prototype.ETa=function(a,b){a=a.split("?");for(var c=a[0],d="",f=0;f<b.length;f++)d+="/"+b[f];return a[1]?c+(d+"?"+a[1]):c+d;};return d;}(l.aF);d.FDa=a;g.Yk(h.$k,a,!1);},function(g,d,a){var l,f,p,m,k,u,n,v,q,y;function b(a,c){var d;d=a.te?b(a.te,c):[];d.push({Ic:a.qa.id,Tva:a.Sa[c].Oa});return d;}function c(a,b,c,d,f){this.aa=a;this.ar=c;this.ik=d;this.Nb=b;this.K=f;this.kAa(c.W);this.on=this.addEventListener=m.addEventListener;this.removeEventListener=m.removeEventListener;this.emit=this.Ja=m.Ja;this.xla();y.call(this,c);}function h(a,b,c,d){for(var f,g=this;g&&g.oa.length;){f=g.oa;if((f=b?f.Mqa(a):f.Nqa(a))&&(void 0===c||c===f.na))return f;if(d)break;g=g.Ph;}}l=a(11);a(14);f=a(7);p=a(13);m=a(28).EventEmitter;a(127);k=a(361).Xba;u=a(356).Vba;n=a(668).FDa;v=a(667);q=a(666).EDa;y=a(95);c.prototype=Object.create(y.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Hz:{get:function(){return 0<this.Az;}},gaa:{get:function(){return!this.ex;}},Az:{get:function(){return this.oa.length;}},Ko:{get:function(){return this.oa.Ko;}},Px:{get:function(){return this.oa.foa||(this.Ph?this.Ph.Px:0);}},ce:{get:function(){return this.Wia();}},qu:{get:function(){return this.tZ();}},lj:{get:function(){return this.CRa();}},pu:{get:function(){return this.wRa();}},ME:{get:function(){return this.oa.g0a;}},Ls:{get:function(){return this.Xia();}},zv:{get:function(){return this.BSa();}},uxa:{get:function(){return this.YZa();}},dS:{get:function(){return this.oa.length>this.oa.Ko;}},ip:{get:function(){return this.oa.ip;}},Ph:{get:function(){return this.Nb.te&&this.Nb.te.Sa[this.ik].Oa;}},hjb:{get:function(){return this.oa.length-this.vm;}},Y:{get:function(){return this.oa;}}});c.prototype.kAa=function(a){this.W=a;this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);this.Ua=this.W.log.bind(this.W);};c.prototype.BSa=function(){return this.oa.ip+(this.K.kr?0:this.oa.Ko);};c.prototype.CRa=function(){return void 0===this.oa.cc?0:this.oa.Ed-this.oa.cc;};c.prototype.wRa=function(){var a,b;a=this.tZ(!0);b=this.Wia(0,!0);return{Z:a,hf:b};};c.prototype.Wia=function(a,b){void 0===a&&(a=this.aa.ge());a=b?Math.max(this.oa.cc,a):a;return Math.max(this.oa.foa-a,0)||0;};c.prototype.tZ=function(a){var b;b=this.oa.h0a;return a||!this.Ph?b:b+(this.Ph.oa.DCb>=this.oa.cc?this.Ph.tZ():0);};c.prototype.Xia=function(){return this.oa.goa+(this.Ph?this.Ph.Xia():0);};c.prototype.YZa=function(){return this.K.kr?this.oa.Wib:this.oa.$bb;};c.prototype.cka=function(a){return(this.Nb.te&&this.Nb.te.Sa&&this.Nb.te.Sa[a]?this.Nb.te.Sa[a].Oa.cka(a):0)+this.oa.Z;};c.prototype.rQ=function(a,b,c,d,g){var h;b=this.K;this.K.zD&&a.Lj()[this.ik]-this.cka()<c.Z&&(c.zD=this.K.zD);l.V(g)||(c.location=g.location,c.gd=g.Sb,c.H$=g.Tk);if(b.sp){h=this.aa&&this.aa.ep;h&&(c.gV=h.Bu({ce:this.ar.ce,ET:b.E5a?b.ET:void 0}));}c.Dk?(c=new k(g,b,d,c,this,!1,this.ar),c.addEventListener("headerRequestCancelled",function(a){this.dUa(a.request);}.bind(this))):c=b.D5a?new v(g,b,d,c,this.oa,this.ar):a.g3(this.ik)?new n(g,b,d,c,this.oa,!1,this.ar):u.create(g,b,d,c,this.oa,!1,this.ar);c.Dc(a,this.ar);this.JB(c);c.Nqb=f.time.da();a.YTa(c);return c;};c.prototype.KXa=function(a,b){var c;c=this.ar;b.Dc(a,this.ar);b.q0=!0;this.JB(b);b.complete?(this.wZ(b),a.Fwa(c,b.na,b.Ya,b.cc),this.OE(),this.Qu(b)):(b.active&&this.iy(b),b.Hya&&this.hy(b));};c.prototype.reset=function(a){function b(a){a.Nd();}this.oa.forEach(b);a||(this.rm=this.rm.forEach(b));this.xla(a);};c.prototype.mza=function(){this.ex=!1;};c.prototype.xla=function(a){this.oa=new q(this.W,this);this.vm=0;this.cc=null;a||(this.rm=[]);this.ex=!1;};c.prototype.RWa=function(a){var b;b=function(a){a.abort();}.bind(this);this.oa.forEach(b);this.reset(a);};c.prototype.wZ=function(a){this.ex?a.rR=!1:this.ex=a.rR=!0;};c.prototype.JB=function(a){a.Ec?this.rm.push(a):(this.oa.Kl(a),this.wZ(a),a.Ip&&(this.ex=!1));};c.prototype.OE=function(){var a,b,c;b=this.ar.R;a=this.Nb;if(a.active&&this.vm!==this.oa.length){if(a=a.te){c=a.csa(b);if(0!=c&&(a.Sa[b].hH(),c=a.csa(b),0!=c))return;}for(var c=this.K.rfb,d=0;this.vm<this.oa.length;){if(a=this.oa.get(this.vm)){if(this.oa.Uqa&&this.oa.Uqa.Kb<a.Kb)break;if(!a.vy())break;this.aa.Qe[b].yYa(a);++d;l.ka(this.cc)||(this.cc=a.cc);}++this.vm;if(!l.V(c)&&d>=c)break;}}};c.prototype.mlb=function(a){var d;for(var b,c=0;c<this.oa.length;++c){d=this.oa.get(c);d&&a<d.Ed&&(l.V(b)&&(b=c),d.Dh=!1);}l.V(b)||(this.vm=b,this.OE());};c.prototype.vob=function(a,b,c){var d;d=this.K;0!==this.oa.Ko&&this.oa.aCa.first.P!==b&&(d.We&&this.zh("setSelectedBitrate new bitrate: "+b),this.UWa(a,c));};c.prototype.Bt=function(a,b){if(!a.abort())return!1;"function"==typeof b&&b(a);return!0;};c.prototype.TWa=function(a){a=this.oa.FC(a);if(-1!==a)for(;++a<this.oa.length;)this.Bt(this.oa.get(a));this.x_();this.OE();};c.prototype.x_=function(){var a;a=0;this.oa.Kkb(function(b,c){c<this.vm&&++a;}.bind(this));this.vm-=a;};c.prototype.UWa=function(a,b){var c,d;c=[];if(0!==this.oa.Ko){d=this.oa.pHb;this.oa.aCa.caa(function(b){if(!l.V(a)&&b.na!==a||b.Ip||d>b.cc)return!0;b.rR&&(this.ex=!1);if(!this.Bt(b))return this.fa("request abort failed:",b.toString()),!0;c.unshift(b);}.bind(this));this.x_();c.length&&"function"==typeof b&&b(c);}};c.prototype.NK=function(a){var b;a.Ec?(b=this.rm.indexOf(a),-1!==b?this.rm.splice(b,1):this.fa("requestAborted: unknown header mediaRequest: "+(a&&a.toJSON()))):this.x_();};c.prototype.Mkb=function(a,c){var d,f,g,h;d=this.K;f=a;g=this.aa.$a.IAa;if(a>g){f=a-g;h=function(a,b){var g,h,l;g=!1;h=0;l=b.some(function(b){if(f<b.Ed)return g&&a.wZ(b),!0;++h;b.Dh||(a.fa("pruning unappended request:",b&&b.toString()),d.We&&a.zh("prune pts:",f,"unappended request:",b&&b.toString()),b.rR&&(a.ex=!1,g=!0),a.Bt(b,c)||a.Ub("MediaRequest.abort error:",b.zk));});0<h&&(b.splice(0,h),a.vm-=Math.min(h,a.vm));return l;};b(this.Nb,this.ik).some(function(a){a=a.Tva;return h(a,a.oa);}.bind(this));return f;}};c.prototype.f$a=function(){return this.oa.empty?null:Math.min(this.oa.SCb,this.oa.vxa);};c.prototype.lsa=function(){var a,c,d,f,g,h;a=this.K;c=null;d=null;f=0;g=0;h=[];b(this.Nb,this.ik).forEach(function(b){var m;b=b.Tva.oa;l.ka(b.cc)&&(null===d||b.cc<d)&&(d=b.cc);m=a.kr?b.vxa:b.Ed;l.ka(m)&&(null===c||m>c)&&(c=m);f+=b.Av;g=a.Y$?g+b.olb:g+b.goa;Array.prototype.push.apply(h,b.XU.Y);}.bind(this));return{Ljb:c,cc:d,Av:f,nn:g,Y:h};};c.prototype.GC=function(a,b,c){return h.call(this,a,!1,b,c);};c.prototype.v7a=function(a){return h.call(this,a,!0,void 0,void 0);};c.prototype.jsb=function(a,b){var c,d;c=[];d=function(d){var f;f=d.hsb(a,b);1===f||2===f?c.push(d):3===f&&this.kk("swapUrl failure");}.bind(this);this.rm.forEach(d);this.oa.forEach(d);return c;};c.prototype.Sj=function(a){this.K.HK&&this.mlb(a);};c.prototype.xv=function(a){a.k6&&a.vy()&&this.OE();this.hy(a);};c.prototype.ti=function(a){a.k6&&!a.Dh&&this.OE();this.Qu(a);};c.prototype.dUa=function(a){a={type:"headerRequestCancelled",request:a};this.Ja(a.type,a);};c.prototype.kk=function(a){a={type:"streamingFailure",msg:a};this.Ja(a.type,a);};c.prototype.zh=function(a){a={type:"managerdebugevent",message:"@"+f.time.da()+", "+a};this.Ja(a.type,a);};c.prototype.u0=function(a){var b,c,d;b=this.ik===p.G.VIDEO?"v_":"a_";c=this.oa;d=c.FC(a);a=0<=d?c.get(d):void 0;return(c=0<=d&&d+1<c.length?c.get(d+1):void 0)&&a?a.Ed!==c.cc?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};g.M=c;},function(g,d,a){var b,c,h,l,f,p,m,k,u,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(14);h=a(13);g=a(95);l=a(669);f=a(7);p=a(27);m=p.Ja;k=p.GJ;u=a(347);n=a(352);a=function(a){function d(b,c,d,g,p,k,r){p=a.call(this,c)||this;p.aa=b;p.Ic=c;p.R=d;p.Ra=g;p.Uza=k;p.K=r;p.Gia=!1;p.$a=b.$a;p.oTa(c.qa.id);p.Ra=g;p.CE=new n.Lw(0,k,r,c.te?c.te.Sa[d].CE:void 0);p.G6=f.time.da();p.tdb=void 0;p.Oa=new l(b,c,p,d,r);p.Oa.addEventListener("headerRequestCancelled",function(a){b.PSa(a.request);});p.Oa.addEventListener("streamingFailure",function(a){b.kk(a.msg);});r.We&&p.Oa.addEventListener("managerdebugevent",function(a){m(b,a.type,a);});p.lgb=d===h.G.VIDEO?r.sT:r.lT;p.oT=(d===h.G.VIDEO?r.GD:r.FD)||r.oT;p.op=!1;p.e1=0;p.Py=r.b6;p.jya=f.time.da();p.tB=!1;r.Wl&&(p.Yp=0,p.Qx=0);return p;}b.__extends(d,a);Object.defineProperties(d.prototype,{Hz:{get:function(){return this.Oa.Hz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gaa:{get:function(){return this.Oa.gaa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{en:{get:function(){return this.Ic.qa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Px:{get:function(){return this.Oa.Px;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ce:{get:function(){return this.Oa.ce;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{qu:{get:function(){return this.Oa.qu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{lj:{get:function(){return this.Oa.lj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pu:{get:function(){return this.Oa.pu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ME:{get:function(){return this.Oa.ME;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ls:{get:function(){return this.Oa.Ls;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tZa:{get:function(){var a;a=this.aa.Lj()[this.R];return this.Oa.Ls/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{uZa:{get:function(){var a;a=this.aa.Lj()[this.R];return this.Oa.lsa().nn/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{na:{get:function(){return this.Ic.na;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{dS:{get:function(){return this.Oa.dS;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Az:{get:function(){return this.Oa.Az;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ec:{get:function(){return this.Ic.qsa(this.R);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Yl:{get:function(){return this.Ic.Y$a(this.R);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ug:{get:function(){return this.aa.gD(this.R)?this.Gia:!0;},set:function(a){this.Gia=a;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a,b,c){this.op=!1;this.seeking=void 0;this.ug=!1;this.Oa.reset(a);b&&(this.QK=!0);this.V9={reason:c,time:f.time.da()};};d.prototype.Sj=function(a){this.Oa.Sj(a);this.Py=this.K.b6;};d.prototype.hH=function(){this.Oa.OE();};d.prototype.kob=function(a,b){var c,d;c=this.aa;d=this.R;this.Bf=b.Bf;this.hp=b.hp;b.ec.forEach(function(b){var f;f=c.bf[d][b.id];f&&!b.Qc&&(f.stream.Qc?b.kQ(f.stream):(f.iK||(f.iK=[]),f.iK.push(a)));});d===h.G.AUDIO&&(this.tB=u.PU(this.K,b.ec[0]));c.MSa(this,b.Dnb);this.WZa(b.ec);this.Iu=void 0;this.ug=!1;};d.prototype.oob=function(a,b){var c;if(this.K.KB){c=this.Oa.f$a();null!==c?(this.Ra=c,this.jg=c===a?b:this.aa.jO(this.R,this.Ic.na,this.Ra)):(this.fa("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.Ra=a,this.jg=b);}else this.Ra=a,this.jg=b;};d.prototype.bq=function(a){var b,c,d;if(this.xf&&this.xf.U===a)b=this.xf.index,c=a;else{d=this.aa.Bk(this.na);b=d.jb[this.R];if(!b||!b.stream.Qc){this.Cv=!0;this.XT=a;return;}c=b.Y;this.xf=this.Lqa(b.stream,a,void 0,void 0);if(void 0===this.xf){if(b=c.length-1,c=c.Rf(b),this.fa("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",d.ii),d.ii){this.Cv=!0;this.XT=a;return;}}else b=this.xf.index,c=this.xf.U;}this.jg=b;this.Ra=c;delete this.Cv;};d.prototype.Bmb=function(a){this.bq(a);this.ug=!1;this.ea=void 0;this.Oa.mza();};d.prototype.Amb=function(a){this.xf=a;this.ug=!1;this.ea=void 0;this.jg=this.xf.index;this.Ra=this.xf.U;delete this.Cv;this.Oa.mza();};d.prototype.Pmb=function(a){var b;b=this.aa.Bk(this.na).jb[this.R];if(b&&b.stream.Qc){for(var c=b.Y;0<this.jg&&this.Ra>a;)this.Ra=c.Rf(--this.jg);this.jg<this.xf.index&&(this.xf=b.stream.fh(this.jg));this.Cv=void 0;}else this.Cv=!0,this.XT=a;};d.prototype.Msb=function(a){var b,c;b=this.Yl[a];c="verifying streamId: "+a+" stream's track: "+(b?b.Bf:"unknown")+" currentTrack: "+this.Bf;if(!b)return this.aa.zh("unknown streamId: "+a),!1;b.Bf!==this.Bf&&this.aa.zh(c);return b.Bf===this.Bf;};d.prototype.WZa=function(a){this.Zsa=a.reduce(function(a,b){return b.inRange&&b.Je&&!b.Lh&&b.P>a.P?b:a;},a[0]);this.qbb=a.indexOf(this.Zsa);};d.prototype.p6a=function(a){return this.R===h.G.VIDEO?0:this.tB?0:this.K.cn?a&&a.hf||0:this.K.Km&&a?-a.hf:0;};d.prototype.S$=function(){return this.R===h.G.VIDEO&&this.K.Pr||this.R===h.G.AUDIO&&this.K.Km;};d.prototype.Lqa=function(a,b,d,f,g){var l,m,p,k,r,u,n;c(b>=a.Y.Rf(0));l=this.K;m=this.S$();p=a.Y;k=b+0;this.R===h.G.AUDIO&&void 0===f&&m&&l.Hn&&!l.Gx&&a.Ok&&(b=Math.max(a.Y.Rf(0),b+a.Ok.hf));r=p.Kj(k,void 0,!0);this.aa.g3(this.R)&&(r=Math.floor(r/l.w8)*l.w8);u=a.fh(r);if(u.ea<b)return u;if(m){k=this.R===h.G.VIDEO?k:b;n=u.pR(k);n?(0<n.$c&&u.Ik(n,!1),this.R!==h.G.AUDIO||l.Pva||n.Mb<(l.Hn&&!l.Gx&&a.Ok?Math.floor(a.Ok.hf):0)&&u.Rpa()):k>=u.ea&&r<p.length-1&&(u=a.fh(r+1));}this.R===h.G.VIDEO&&d&&u.ea===d&&r<p.length-1?u=a.fh(r+1):this.R===h.G.AUDIO&&!m&&void 0!==f&&!l.cn&&(d=b+f,d-u.U>l.Zeb||u.U<d-g)&&(u=a.fh(r+1));m&&this.R===h.G.AUDIO&&!u.fd&&(l.lJ||l.Hta||l.t5a)&&void 0!==f&&u.Ik();u.cL(b);return u;};d.prototype.t7a=function(a,b){var c,d,f,g,l;c=this.K;d=a.Y;f=d.La;g=b?b+this.p6a(f):d.xC(d.length-1);d=d.Kj(g,void 0,!0);f=a.fh(d);0===d||f.U!==b||this.R!==h.G.VIDEO&&c.cn||(--d,f=a.fh(d));if(this.S$()){g=this.R===h.G.VIDEO?g:b;if(g<f.ea){l=f.x7a(g);l&&0!==l.$c?f.Ik(l,!0):this.R===h.G.AUDIO&&(l||g<f.U)&&0!==d?f=a.fh(d-1):this.R===h.G.VIDEO&&l&&0!==d&&(f=a.fh(d-1));}this.R===h.G.AUDIO&&(c.lJ||c.Gta)&&f.Ik();}else this.R===h.G.AUDIO&&!c.cn&&b-f.U<f.duration/2&&0!==d&&(f=a.fh(d-1));f.cL(b);return f;};d.prototype.aV=function(a){this.Mh=a;this.ea=a.ea;};d.prototype.ez=function(a){a.ea&&a.U&&(this.Py-=a.ea-a.U);this.iy(a);};d.prototype.xv=function(a){this.hy(a);};d.prototype.ti=function(a){this.Qu(a);};d.prototype.$rb=function(a){var b;b=f.time.da();this.Py+=a*(b-this.jya);this.jya=b;};d.prototype.kza=function(){this.Py=this.K.b6;};d.prototype.toJSON=function(){return{started:this.Hz,startOfSequence:this.gaa,segmentId:this.en,requestedBufferLevel:this.lj,manifestIndex:this.na,hasFragments:this.dS};};d.prototype.oTa=function(a){a=a&&a.length?"{"+a+"} ":"";a+="["+this.R+"]";this.W=k(f,this.aa.W,a);this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);this.Ua=this.W.log.bind(this.W);this.It=this.W.debug.bind(this.W);this.Oa&&this.Oa.kAa(this.W);};return d;}(g);d.HNa=a;},function(g,d,a){var b,c,h,l,f,p,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(48);h=a(11);l=a(670);g=a(95);f=a(13);p=a(7);m=a(27).GJ;a=function(a){function d(b,c,d,g,k,r,u){var n,v,x;n=a.call(this,b.aa)||this;n.$a=b;n.qa=d;n.U=g;n.na=k;n.te=r;v=b.aa;n.aa=v;n.te=r;n.qa=d;n.U=g;n.Fm=d.Fm;n.children=Object.create(null);n.jq=[];n.XUa=d.id&&d.id.length?"{"+d.id+"}":void 0;n.W=m(p,v.W,n.XUa);n.Ub=n.W.error.bind(n.W);n.fa=n.W.warn.bind(n.W);n.Jb=n.W.trace.bind(n.W);n.Ua=n.W.log.bind(n.W);n.It=n.W.debug.bind(n.W);n.Nc=v.Bk(k).Um;n.na=k;n.Sc=void 0;h.ka(u)||(u=g);n.Sa=[];x=c.Lpb;[f.G.AUDIO,f.G.VIDEO].forEach(function(a){var b;if(v.gD(a)){b=new l.HNa(v,n,a,u,v,x[a],v.K);n.Sa[a]=b;}});n.Z5(k);b.il.push(n);return n;}b.__extends(d,a);Object.defineProperties(d.prototype,{lj:{get:function(){return[this.Sa[0].lj,this.Sa[1].lj];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{pu:{get:function(){return[this.Sa[0].pu,this.Sa[1].pu];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Um:{get:function(){return this.aa.wa[this.na].Um;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Oc:{get:function(){return this.U;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Od:{get:function(){return this.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ea:{get:function(){return h.ka(this.Gja)?this.Gja:this.qa.ea;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cc:{get:function(){return this.U+this.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ed:{get:function(){return this.ea+this.Nc;},enumerable:!0,configurable:!0}});d.prototype.toJSON=function(){return{segment:this.qa.id,active:this.active,branchOffset:this.Nc,manifestIndex:this.na,contentStartPts:this.U,contentEndPts:this.ea,playerStartPts:this.cc,playerEndPts:this.Ed,pipelines:this.Sa,previousBranch:this.te};};d.prototype.lob=function(a){this.na=a;};d.prototype.li=function(a){return this.Sa[a];};d.prototype.qsa=function(a){return(a=this.aa.Bk(this.na).je[a])?a.ec:void 0;};d.prototype.Y$a=function(a){return(a=this.aa.Bk(this.na).je[a])?a.Yl:void 0;};d.prototype.C$a=function(a){return this.Sa[a].Az;};d.prototype.IC=function(a){return this.Sa[a].ce;};d.prototype.Z5=function(a){var b;b=this.aa.Bk(a).je;this.Sa.forEach(function(c){var d;d=b[c.R];d&&c.kob(a,d);});};d.prototype.hH=function(){this.Sa.forEach(function(a){a.hH();});};d.prototype.Nd=function(){this.te&&(this.te=this.te.children[this.qa.id]=void 0);h.Pc(this.children,function(a){a&&a.te&&(a.te=void 0);});this.children=Object.create(null);this.VA=void 0;};d.prototype.csa=function(a){return this.Sa[a].Oa.hjb;};d.prototype.VZa=function(a){var b,c;b=this.vSa();b=this.Xja(a,b);if(0>b)return-1;b=a.xC(b);c=this.ea;c=this.Xja(a,this.Fm||c);return 0>c?-1:Math.max(b,a.Rf(c));};d.prototype.Pna=function(){var a,b;if(!("number"!==typeof this.Fm||this.Fm>=this.ea)){a=this.aa.Bk(this.na).jb[f.G.VIDEO].Y;b=this.VZa(a);if(!(0>b)&&(b=a.Kj(b,0,!0),!(0>b)&&(b=this.Yja(b,a),(a=b<a.length&&a.xC(b))&&a<this.ea)))return a;}};d.prototype.Yrb=function(a){this.Nc+=a;};d.prototype.eCa=function(a){var b,c,d;b=this;this.Gja=a;c=this.aa;d=c.Bk(this.na);this.Sa.forEach(function(g){var h,l,m;h=g.R;l=d.jb[h];m=l.Y.Kj(a-1,0,!0);l=l.stream.fh(m);g.aV(l);if(m=g.Oa.v7a(l.Oc))m.v7(),h===f.G.VIDEO&&c.l_(b.qa,l.ea);g.Oa.TWa(a);c.Qe[h].i_a(b.qa.id,a);g.Ra>l.ea&&g.bq(l.ea);});};d.prototype.YB=function(a,b){var c,d,g,h,l,m,p;c=this.$a.K;d=this.aa;g=this.Sa[f.G.AUDIO];h=this.Sa[f.G.VIDEO];l=g?b?g.lj:g.ce:0;b=h?b?h.lj:h.ce:0;a||(a=c.ri);m=!d.Uf||h.ug&&0===h.Oa.zv;m=(!d.Vi||g.ug&&0===g.Oa.zv)&&m;p=!d.Vi||l>=c.ri;a=!d.Uf||b>=a;if(!(m||p&&a))return!1;if(h&&h.op)return!0;g=g?g.Oa.Ko:0;h=h?h.Oa.Ko:0;c=c.kr&&(0!==g||0!==h);if(m&&!c)if(this.aa.JO&&0===l&&0===b)this.fa("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};d.prototype.vra=function(){var a,b;a=!0;b={};this.Sa.map(function(c){var d;d=c.R===f.G.VIDEO?"v":"a";c=c.pu;b[d+"buflmsec"]=c.hf;b[d+"buflbytes"]=c.Z;a=a&&0<c.hf;});return{$R:a,sH:b};};d.prototype.pV=function(a,b){var c,d,f;c=this;d=p.time.da();f={};h.Pc(this.children,function(a){var b,g;if(a){a.Sc?(a.Sc.$4a=d-a.Sc.qS,a.Sc.qS=void 0,b=a.Sc.weight):b=c.$a.osa(c.qa.id,a.qa.id);g=a.vra();f[a.qa.id]={weight:b,sH:g.sH,$R:g.$R};}});b={requestTime:d,OU:a,$3a:b,nV:this.qa.id,Sc:f};a||(a=this.aa.ge(),b.OAa=a-this.U+this.Nc,b.GQ=0,b.startTime=d);this.jq.unshift(b);return b;};d.prototype.k0a=function(a){var b,d;b=this.jq[0];b.OU&&(b.OAa=this.ea-this.U);d=a.vra();b.MBa={};c(d.sH,b.MBa);b.$R=a.pu.every(function(a){return 0<a.hf;});this.jq=[];return b;};d.prototype.Sj=function(a){var b;b=this.qa;a-=this.Nc;if(b.U<a&&a<b.ea)this.jq.shift();else if(b=this.jq[0])b.Sj=!0;};d.prototype.y_a=function(){var a,b,c;a=this.$a;b=this.aa;c=!0;h.Pc(this.qa.Gj,function(d,f){d=a.Cj[f].na;f=b.wa[d];f.jb[0]&&f.jb[1]&&f.jb[0].stream.Qc&&f.jb[1].stream.Qc||(c=!1);b.XI(f.S,d)||(c=!1);});return c;};d.prototype.reset=function(a,b,c){this.Sa.forEach(function(d){(h.V(c)||d.R===c)&&d.reset(a,!1,b);});this.te&&this.te.reset(a,b,c);};d.prototype.vSa=function(){var a,b;a=this.aa;b=0;this.Sa.forEach(function(c){c=a.Qe[c.R].T9a()||0;c>b&&(b=c);});return b;};d.prototype.Xja=function(a,b){return a.Kj(b-1,0,!0);};d.prototype.Yja=function(a,b){var c,d;c=this.qa.orb;d=a>=b.length-1;if(!c||d)return d?b.length-1:a;this.WSa(c,b.xC(a))&&(a=this.Yja(a+1,b));return a;};d.prototype.WSa=function(a,b){var d,f;if(!a)return!1;for(var c=0;c<a.length;c++){d=a[c][0];f=a[c][1];if(b<d)break;if(b>=d&&b<f)return!0;}return!1;};return d;}(g);d.mM=a;},function(g,d,a){var b,c,h,l,f,p,m,k,u;b=a(14);c=a(11);h=a(13);l=a(48);f=a(7);p=a(27).t$;m=a(671);k=a(663);u=a(198);d=function(){function a(a,b,c,d,f){this.aa=a;this.zd=b;this.K=f;this.W=a.W;this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);this.Ua=this.W.log.bind(this.W);this.il=[];this.Cj={};c?(this.rZ=!0,this.MUa(c,d)):(this.hk=this.BZ("",0,0,void 0,void 0,[],!0),this.hk.p8=!0,this.hk.ea=Infinity,this.hP=[this.hk]);this.Nb=new m.mM(this,b,this.hk,this.hk.U,0,void 0,d);this.Nb.active=!0;this.KO=this.vO=void 0;}Object.defineProperties(a.prototype,{ds:{get:function(){return!!this.rZ;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wcb:{get:function(){return 0===this.Nb.Sa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jJ:{get:function(){return this.hk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wk:{get:function(){return this.Nb.qa.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Xoa:{get:function(){return this.Nb.na;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Gf:{get:function(){return this.Nb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ge:{get:function(){return this.Nb.Sa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rna:{get:function(){return this.il;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Nc:{get:function(){return this.Nb.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qe:{get:function(){return this.aa.Qe;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jj:{get:function(){return this.vO?this.vO:this.rna[0];},enumerable:!0,configurable:!0}});a.prototype.X4=function(a){return"m"+a;};a.prototype.IC=function(a){return(a=this.Nb.Sa[a])?a.ce:0;};a.prototype.osa=function(a,b){var c;c=this.Cj[a];if(c)return(a=c.Gj[b])&&a.weight;this.fa("getSegmentWeight, unknown segment:",a);};a.prototype.M$a=function(a){var b;b=this.Cj[a];if(b)return b.U;this.fa("getSegmentStartPts, unknown segment:",a);};a.prototype.v$a=function(){var a;a=this.jj.qa;return a&&("number"===typeof a.Fm?a.Fm:a.ea);};a.prototype.L$a=function(a){var b;b=this.Cj[a];if(!b)this.fa("getSegmentDuration, unknown segment:",a);else if(c.ka(b.ea)&&isFinite(b.ea)&&c.ka(b.U)&&isFinite(b.U))return b.ea-b.U;};a.prototype.Jqa=function(a){var c;for(var b=0;b<this.il.length;b++){c=this.Nb;if(this.aa.vS(c.na,a))return c;}};a.prototype.r7a=function(a,b){return this.Mja(a,!1,b);};a.prototype.q7a=function(a,b){return this.Mja(a,!0,b);};a.prototype.imb=function(a,b){c.Pc(this.il,function(c){c.na===a&&(c.na=b);});c.Pc(this.Cj,function(c){c.na===a&&(c.na=b);});};a.prototype.jza=function(){var a;a=this;c.Pc(this.il,function(b){b.Nc=a.aa.Bk(b.na).Um;});};a.prototype.dV=function(a){var b;b=this;c.Pc(this.il,function(c){c.qsa(h.G.VIDEO).forEach(function(c){l(b.aa.Pia(c.Ue,c.P,a),c);});});};a.prototype.g3a=function(){this.il.forEach(function(a){a.active=!1;});};a.prototype.Lkb=function(){var a;for(;0<this.il.length;){a=this.il[0];if(!a.active)break;if(a===this.Nb)break;if(!a.Sa.every(function(a){return 0===a.Az;}))break;a.Nd();this.il.shift();}};a.prototype.W_a=function(a,b){var c,d;c=this.Nb;if(c.Vua)a=c.Vua;else{d=this.Nb.Nc;a=new m.mM(this,this.zd,c.qa,0,a,c);a.Sa.forEach(function(a){a.bq(0);a.aV(c.Sa[a.R].Mh);});a.Nc=d+b;c.Vua=a;}this.OA(a,c);};a.prototype.vXa=function(a,b,c){var d,f;if(!this.rZ){this.rZ=!0;d=this.X4(0);this.hk.id=d;this.Cj[d]=this.hk;this.hk.ea=this.aa.aka(this.aa.J9a());this.hk.TD=!0;}f=this.X4(a);a=this.BZ(f,a,b,c,void 0,[],!0);a.TD=!0;this.hP.forEach(function(a){a.Gj={};a.Gj[f]={weight:100};a.UH=f;a.FE=!1;});this.hP=[a];};a.prototype.ZB=function(a,b){var d,f,g,h;d=this.jj;f=d.pV(b);g=d.qa;h=d.children[a];if(b){if(!g.Gj[a])return this.Nb.fa("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1;if(d.Dg)return d.Dg===a;d.Dg=a;h&&d.yR?this.OA(h,d):this.K.lI&&(a=d.Pna(),c.V(a)||d.eCa(a));return!0;}if(!h)return f.pwa=!0,!1;b||(f.pwa=!h.YB());this.aa.C_("chooseNextSegment");d.yR=void 0;d.Dg=a;this.OA(h,d);return!0;};a.prototype.ubb=function(a,b){var d,f,g,h,l,m,p;d=this;h=a.qa;b&&!a.Dg&&(a.Dg=h.UH,a.pV(!0,!0));a.children=Object.create(null);if(this.K.kib)if(a.Dg)f=this.Cj[a.Dg],g=this.CZ(f,a),a.children[a.Dg]=g;else{c.Pc(h.Gj,function(a,b){f=d.Cj[b];a=f.weight;if(c.V(p)||a>p)l=f,m=b,p=a;});l&&(g=this.CZ(l,a),a.children[m]=g);}else c.Pc(h.Gj,function(b,c){a.Dg&&c!==a.Dg||(f=d.Cj[c],g=d.CZ(f,a),a.children[c]=g);});a.Dg&&(b=a.children[a.Dg])&&this.OA(b,a);a.yR=!0;};a.prototype.erb=function(){var a;a=0;c.Pc(this.il,function(b){b.Sa.forEach(function(b){a+=b.Oa.ip;});});return a;};a.prototype.mqb=function(a,b){var c,d;c=this.rSa(a,b);if(c){c!==this.Nb.qa&&(this.g3a(),d=new m.mM(this,this.zd,c,a,b,this.Nb),d.te=void 0,this.XQa(this.Nb),this.OA(d,this.Nb));c===this.jj.qa&&(this.jj.jq.shift(),d&&(d.jq=this.jj.jq,d.Dg=this.jj.Dg));this.aa.Oka(c,this.Nb.Nc);this.Nb.yR=void 0;}else this.fa("findSegment no segment for manifestIndex:",b);};a.prototype.dva=function(a,b){var c;c=a.qa;b||(b=c.UH);p(c.id);a.Dg||(a.Dg=b,a.pV(!0,!0));(b=a.children[a.Dg])&&this.OA(b,a);};a.prototype.mAa=function(a,b){if(this.Nb!==a){if(b)for(b=this.Nb;b&&b!==a;)b.active=!1,b=b.te;this.Nb=a;}};a.prototype.iza=function(a){var b;b=this;c.Pc(a.children,function(a){var c;if(a){c=a.Sa[h.G.AUDIO];c.reset(!0,!0,"audioTrackChange");c.Ra=c.Bta;c.jg=c.zta;c.xf=void 0;c.Mh=void 0;b.iza(a);}});};a.prototype.W9=function(a){var b;b=this;c.Pc(a.children,function(c){c&&(b.yVa(c,a),b.W9(c));});};a.prototype.Lo=function(a,b){var c,d,f,g,h;c=this;if(this.ds){d=this.K;f=this.jj;g=f.qa;h=p(g.id);!f.Dg&&!g.FE&&f.ea-b<=d.tT&&(this.fa(h+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.dva(f));}this.Nb.Sa.forEach(function(a){c.aa.gD(a.R)&&c.Qe[a.R].Lo(b);});};a.prototype.lhb=function(a,b){var c,d;if(this.ds){c=this.vO;if(this.K.Qbb&&a&&this.KO&&a.U===this.KO)this.Jb("Ignoring pts that wiggled back into previous segment",this.KO);else if(a=a.jf.Ic,!c||a.qa.id!==c.qa.id){d=c&&c.Sa[h.G.VIDEO].Mh;this.KO=d&&d.U;this.vO=a;this.qRa(c);c=c&&c.k0a(a);this.aa.rUa(a.qa,b,c);}}};a.prototype.Nd=function(){this.$Ra(this.Nb);};a.prototype.$gb=function(a,b,c){b.p8||(b.U=this.aa.asa(a,b.U,!0),c||(b.ea=this.aa.asa(a,b.ea,!1)),b.p8=!0);};a.prototype.gba=function(a,b){var d;p(a);d=this.Cj[a];d?(c.Pc(d.Gj,function(a,c){a.weight=b[c]||0;}),a=this.Wja(d.Gj),d.Fm="number"===typeof a?d.U+a:d.ea):this.fa("updateChoiceMapEntry, unknown segment:",a);};a.prototype.mka=function(a,b,c){var d;d=b?c.Od:c.Ed;return(b?c.Oc:c.cc)<=a&&a<d;};a.prototype.Mja=function(a,b,d){var l;for(var f=this.aa,g=this.Nb;g;){if((!c.ka(d)||f.vS(d,g.na))&&this.mka(a,b,g))return g;g=g.te;}if(b)for(var g=Object.keys(this.Nb.children),h=0;h<g.length;h++){l=this.Nb.children[g[h]];if((!c.ka(d)||f.vS(d,l.na))&&this.mka(a,b,l))return l;}};a.prototype.CZ=function(a,b){var c,d,f,g,l;c=a.na;d=this.aa.Bk(c);f=u.fH(d.S,this.aa.S);g=new m.mM(this,this.zd,a,a.U,c,b);c=this.aa.oG(g.na,a.U,g,b,f);l=c.rz;c=c.Yn;this.K.B9&&(g.Sa[h.G.VIDEO].xf=c[h.G.VIDEO],g.Sa[h.G.AUDIO].xf=c[h.G.AUDIO]);d=this.aa.bB(g.Sa,d.jb,a.ea);g.Sa[h.G.VIDEO].Mh=d[h.G.VIDEO];g.Sa[h.G.AUDIO].Mh=d[h.G.AUDIO];[h.G.VIDEO,h.G.AUDIO].forEach(function(a){var c,d;c=g.Sa[a];d=b.Sa[a];a===h.G.VIDEO&&(d=d.Ra+b.Nc,g.Nc=d-l[a],g.U=l[a]);c.bq(l[a]);c.Bta=c.Ra;c.zta=c.jg;});this.aa.Oka(a,g.Nc);return g;};a.prototype.yVa=function(a,b){var c,d,f;c=a.qa;d=this.aa.Bk(c.na);f=u.fH(d.S,this.aa.S);f=this.aa.oG(a.na,c.U,a,b,f);b=f.rz;a.Sa[h.G.AUDIO].xf=f.Yn[h.G.AUDIO];c=this.aa.bB(a.Sa,d.jb,c.ea);a.Sa[h.G.AUDIO].Mh=c[h.G.AUDIO];a=a.Sa[h.G.AUDIO];a.bq(b[h.G.AUDIO]);a.Bta=a.Ra;a.zta=a.jg;};a.prototype.XQa=function(a){for(var b=[a.qa.id];a.te;)a=a.te,b.unshift(a.qa.id);this.iZ(a,!0);};a.prototype.iZ=function(a,b){var d,f,g;d=this;f=a.qa;c.Pc(a.children,function(a){a&&d.iZ(a,b);});a.Sa.forEach(function(a){a.Oa.RWa(b);});a.active=!1;a.Nd();g=-1;this.il.some(function(b,c){return b===a?(g=c,!0):!1;});-1!==g?this.il.splice(g,1):this.fa("Unable to find branch:",a,"in branches array");this.aa.oUa(f);};a.prototype.OA=function(a,b){var d,g,h,l,m,p;d=this;g=b.qa;b.na!==a.na&&this.aa.vka(a.na);a.active=!0;if(this.K.lI&&this.Nb.active){h=this.Nb.Pna();if(!c.V(h)){l=this.Nb.ea;this.Nb.eCa(h);a.Yrb(this.Nb.ea-l);}}a.Sa.forEach(function(a){a.hH();});m=f.time.da();p={};c.Pc(b.children,function(b){b&&(b.Sc&&(b.Sc.ce=b.Sa.map(function(a){return a.pu.hf;}),b.Sc.$4a=m-b.Sc.qS,b.Sc.qS=void 0,p[b.qa.id]=b.Sc),b.qa.id!==a.qa.id&&d.iZ(b));});b.children=Object.create(null);b.children[a.qa.id]=a;b.VA=void 0;this.mAa(a);this.aa.pUa(a.qa,p);1<Object.keys(g.Gj).length&&a.YB();};a.prototype.$Ra=function(a){var b;b=this;0!==a.Sa.length&&(a.Sa.forEach(function(a){a.Oa.reset();a.CE=void 0;a.active&&(b.Ub("Destroying active pipeline!"),b.aa.xBb(f.time.da()));}),a.Sa=[],a.Nd());};a.prototype.qRa=function(a){var b,c;if(a){b=f.time.da();c=a.jq[0];c&&void 0===c.GQ?c.GQ=b-c.requestTime:c||(this.fa("missing metrics for branch:",a.qa.id),c={nV:a.qa.id,OU:!0,GQ:0,Sc:{}},a.jq.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.rSa=function(a,d){var f,g,l,m;b(0<=a);for(var h in this.Cj){l=this.Cj[h];if(this.aa.vS(l.na,d)){if(l.U<=a&&(c.V(l.ea)||a<l.ea))return l;m=Math.min(Math.abs(a-l.U),Math.abs(a-l.ea));if(c.V(f)||m<f)f=m,g=l;}}return g;};a.prototype.BZ=function(a,b,c,d,f,g,h,l,m){b=new k.rPa(a,b,c,d,f,g,h,l,m);return this.Cj[a]=b;};a.prototype.MUa=function(a,b){var d,f,g;d=this;this.hk=void 0;this.hP=[];f=null;g=null;c.Pc(a.segments,function(a,h){var l,m,p,k,r,u;l=a.startTimeMs;m=a.endTimeMs;p={};c.Pc(a.next,function(b,c){p[c]={weight:b.weight||0,VIb:b.transitionHint||a.transitionHint,r5a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});r=d.Wja(p);"number"===typeof r&&(k=l+r);u=a.defaultNext;c.V(u)&&(u=Object.keys(p)[0]);r=c.V(u);k=d.BZ(h,0,l,m,u,p,r,k,a.transitionDelayZones);l<=b&&(b<m||c.V(m))?d.hk=k:l>b&&(!f||l<g)&&(f=h,g=l);r&&d.hP.push(k);});this.hk||(this.hk=f?this.Cj[f]:this.Cj[a.initialSegment]);};a.prototype.Wja=function(a){var b,d;d=0;c.Pc(a,function(a){var c,f;c=a.weight||0;d+=0<c?1:0;f=a.earliestSkipRequestOffset;0<c&&a.transitionHint===h.POa.PFa&&"number"===typeof f&&(void 0===b||b>f)&&(b=f);});return 1<d&&b;};return a;}();g.M=d;},function(g){function d(a,b,d){var c,g;c=[];d.forEach(function(a){c.push(a[b].Z);});d=c.filter(function(b){return b<=a;});0<d.length?(d=d[d.length-1],g=c.lastIndexOf(d)):(d=c[0],g=0);return{gn:d,Hd:g};}function a(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function b(a,b,d,f,g){var c,h,l,p,k,n;c=a.qg;h=d+c.U;d=a.Uj[c.hJ];a=a.a1;l={TL:!0,waitUntil:void 0,oJ:!1};p=d.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===p)return{oJ:!0};k=g-1-(p.index-1);f=c.VL+f;n=0;n=p.index<c.sg?n+d.slice(c.Is,p.index).reduce(function(a,b){return a+b.Z;},0):n+c.VL;n=n+b.slice(c.sg,p.index).reduce(function(a,b){return a+b.gn;},0);f-=n;if(k>=a.KJ||f>=a.VE)for(l.TL=!1,p=p.index;p<g&&(k>=a.KJ||f>=a.VE);)l.waitUntil=d[p].U+d[p].duration-c.U,f=p<c.sg?f-d[p].Z:f-b[p].gn,--k,p+=1;return l;}g.M={o5:function(c){var q,t,A,z,I,N,E,w,O,K,X,W,ba;for(var g,l=c.qg,f=c.yk,p=f.Jj,m=c.Uj,k=!0,u=[],n,v=p=Math.min(f.Kp,p);v>=l.sg;v--){g=c.Uj[0][v].U-c.qg.U;v<p&&(g=Math.min(u[v+1].startTime,g));f=m[0][v].Z;n=l.ku*m[0][v].duration*1/8;a:{q=void 0;I=f+n;n=c.Io;N=l.$m;E=n.trace;w=1*n.sk;t=g+N-n.timestamp;A=Math.floor(1*t/w);z=0+(t-A*w)/w*a(E,A,w);if(z>=I)q=t-1*I/z*(t-A*w);else for(t=A;z<I;){--t;if(0>t){q=-1;break a;}A=a(E,t,w);if(z+A>=I){q=1*(I-z)/A*w;q=(t+1)*w-q;break;}z+=A;}q=q+n.timestamp-N;}if(0>q){k=!1;break;}u[v]={startTime:q,endTime:g,wQ:g,gn:f,Hd:0};}g={ni:k,fq:u,Fp:!1,vv:0===u.length};if(!1===g.ni||!0===g.vv)return g;a:{l=c.qg;p=c.yk;m=p.Jj;k=c.Uj;f=u=0;g=g.fq;q=v=0;m=Math.min(p.Kp,m);for(N=l.sg;N<=m;N++){z=g[N];I=z.Hd;n=k[I][N].duration;w=N===l.sg?0:g[N-1].endTime;I=b(c,g,w,u,N);if(I.oJ){g={ni:!1,Fp:!0};break a;}I.TL||(w=I.waitUntil);A=z.wQ;K=c.Io;O=l.$m;z=0;I=K.trace;E=1*K.sk;t=Math.max(0,w+O-K.timestamp);K=A+O-K.timestamp;if(!(w>=A)){X=Math.max(0,Math.floor(1*t/E));W=1*K/E;if(X===Math.floor(W))z+=(K-t)/E*a(I,X,E);else for(W=Math.ceil(W),O=X,A=W,X*E<t&&(O++,z+=(X*E+E-t)/E*a(I,X,E)),W*E>K&&(z+=(K-A*E)/E*a(I,W,E),A--),t=O;t<=A;t++)z+=a(I,t,E);}E=l.ku*n*1/8;f+=E;I=d(z-E,N,k);z=I.gn;I=I.Hd;E=z+E;O=c.Io;A=t=0;K=O.trace;W=Math.max(0,w+l.$m-O.timestamp);O=1*O.sk;ba=X=Math.max(0,Math.floor(1*W/O));for(ba*O<W&&(X+=1,W=ba*O+O-W,ba=W/O*a(K,ba,O),t=E-A<ba?t+(E-A)/ba*1*W:t+W,A+=ba);A<E;)W=a(K,X,O),t=E-A<W?t+(E-A)/W*1*O:t+O,A+=W,X+=1;E=t;g[N].startTime=w;g[N].endTime=w+E;g[N].gn=z;g[N].Hd=I;N<=p.Jj&&(u+=z,q+=n,v+=n*c.ec[I].P);}g={ni:!0,Fp:!1,fq:g,K4a:0<q?1*v/q:0,U2:q,T2:u,S2:f};}return g;}};},function(g,d,a){function b(a,b){void 0===a&&(a=[]);void 0===b&&(b=c);this.data=a;this.length=this.data.length;this.compare=b;if(0<this.length)for(a=(this.length>>1)-1;0<=a;a--)this.Bja(a);}function c(a,b){return a<b?-1:a>b?1:0;}a(14);b.prototype.constructor=b;b.prototype.push=function(a){this.data.push(a);this.length++;this.zWa(this.length-1);};b.prototype.pop=function(){var a,b;if(0!==this.length){a=this.data[0];b=this.data.pop();this.length--;0<this.length&&(this.data[0]=b,this.Bja(0));return a;}};b.prototype.OD=function(){return this.data[0];};b.prototype.zWa=function(a){for(var b=this.data,c=this.compare,d=b[a],g,h;0<a;){g=a-1>>1;h=b[g];if(0<=c(d,h))break;b[a]=h;a=g;}b[a]=d;};b.prototype.Bja=function(a){for(var b=this.data,c=this.compare,d=this.length>>1,g=b[a],h,k,n;a<d;){h=(a<<1)+1;k=b[h];n=h+1;n<this.length&&0>c(b[n],k)&&(h=n,k=b[n]);if(0<=c(k,g))break;b[a]=k;a=h;}b[a]=g;};g.M={oOa:b};},function(g,d,a){var q,t,y,A;function b(a,b,c){this.lna=this.QRa(a,b,c);}function c(){}function h(){}function l(){}function f(a){this.J_a=a;}function p(){}function m(){}function k(){}function u(){this.O2={};}function n(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}q=a(14);d=a(191).kca;t=a(348).$Pa;y=a(191).oEa;new(a(7)).Console("ASEJS_QOE_EVAL","media|asejs");A=a(149).rOa||a(149);b.prototype.constructor=b;b.prototype.QRa=function(a,b,c){q(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);q(0<c,"expect buffer_step_sec > 0. but got "+c);for(var d=[];a<b;a+=c)d.push(a);d[d.length-1]<b&&d.push(b);return d;};b.prototype.$u=function(a){return this.HSa(a,this.lna);};b.prototype.HSa=function(a,b){a=this.B4a(a,b);if(0===a)throw new c();if(a===b.length)throw new h();return a;};b.prototype.B4a=function(a,b){q(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;q(!1,"expect not coming here in digitize()");};b.prototype.XR=function(){return n(this.lna.length-1);};c.prototype=Error();h.prototype=Error();l.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.LFa=-20;f.prototype.KFa=20;f.prototype.JFa=void 0;f.prototype.DFa=new d(void 0);f.prototype.FFa=0;f.prototype.EFa=1;f.prototype.OFa=!1;f.prototype.HFa=!0;f.prototype.GFa=!0;f.prototype.MFa=void 0;f.prototype.BFa=!0;f.prototype.CFa=0;f.prototype.iE=function(a){q(void 0!==a.zBa,"expect recipe.time_varying_bandwidth !== undefined");return this.AVa(this.J_a,a.zBa,void 0!==a.cwa?a.cwa:this.LFa,void 0!==a.Eva?a.Eva:this.KFa,void 0!==a.Dva?a.Dva:this.JFa,void 0!==a.jna?a.jna:this.DFa,void 0!==a.nqa?a.nqa:this.FFa,void 0!==a.una?a.una:this.EFa,void 0!==a.bpb?a.bpb:this.OFa,void 0!==a.Jab?a.Jab:this.HFa,void 0!==a.Dsa?a.Dsa:this.GFa,void 0!==a.qya?a.qya:this.MFa,void 0!==a.Cma?a.Cma:this.BFa,void 0!==a.bna?a.bna:this.CFa);};f.prototype.AVa=function(a,d,f,g,r,n,x,v,B,w,R,T,D,J){var I,E,P,ma,ca,N,K,qa,ea,jb,va,ib,Ma,fb,ub,Ua,Va,Ya,Mb,yc;function z(a){return a[N];}A.J$("dp: ");q(f<=n.nf,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");q(n.nf<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");q(f<=x,"expect min_buffer_sec <= end_buffer_sec");q(x<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==r&&q(n.Bi<=r,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+n.Bi+" and "+r);I=new b(f,g,v);v=new u();E=0;P=n;v.put([0,I.$u(n.nf)],[E,P,void 0,void 0,d,void 0,void 0,void 0]);ma=P=0;d=a.Dab();q(a.WC()==d.length,"expect chunk_map.get_n_epoch() == durations_sec.length");N=-1;for(K in d){for(var N=N+1,W=!0,O=a.Fh.map(z),ba=I.XR(),X=0;X<ba.length;X++){qa=ba[X];if(v.w6([N,qa])){ca=v.get([N,qa]);for(var ja=ca[0],U=ca[1],Y=ca[4],aa=0;aa<O.length;aa++){d=O[aa];A.update("epoch-ibuf-chunk loop");n=void 0!==T?T(d.BK):d.BK;ea=Y.qp();try{ca=this.mSa(U,d,ea,J);jb=ca[0];va=ca[1];ib=ca[2];Ma=ca[3];fb=ca[4];ub=ca[5];}catch(Na){if(Na instanceof t)continue;else if(Na instanceof c){P+=1;continue;}else throw Na;}Ua=E=!1;try{Va=I.$u(Ma.nf);w&&I.$u(jb);R&&I.$u(va);if(void 0!==r)if(R){if(ib.Bi>r)throw new l();}else if(Ma.Bi>r)throw new l();}catch(Na){if(Na instanceof c)Va=void 0,P+=1;else if(Na instanceof h)D?E=!0:ma+=1,Va=void 0;else if(Na instanceof l)D?Ua=E=!0:ma+=1,Va=void 0;else throw Na;}try{if(E&&Ua){q(void 0!==r,"expect max_buffer_kb !== undefined");Mb=R?ib.Bi-r:Ma.Bi-r;q(0<=Mb,"pause dlnd kb cannot be -ve but is "+Mb);try{Ya=Ma.Bjb(Mb);}catch(Na){if(Na instanceof y)throw new c();throw Na;}ea.wxa(Ya);fb+=Ya;q(Ma.nf<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Va=I.$u(Ma.nf);}else if(E&&!Ua){Ya=R?ib.nf-g+1E-8:Ma.nf-g+1E-8;q(0<=Ya,"pause dlnd kb cannot be -ve but is "+Ya);try{Ma.Kxa(Ya);}catch(Na){if(Na instanceof y)throw new c();throw Na;}ea.wxa(Ya);fb+=Ya;q(f<=Ma.nf,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");q(Ma.nf<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Va=I.$u(Ma.nf);}else Ya=0;}catch(Na){if(Na instanceof c)Va=void 0,P+=1,Ya=void 0;else if(Na instanceof t)continue;else throw Na;}E=v.w6([N+1,Va])?v.get([N+1,Va])[0]:-Infinity;this.EWa(Ma,Va,d,n,qa,N+1,E,v,ja,aa,ea,fb,ub,Ya)&&(W=!1);}}}if(W){--N;break;}}try{yc=this.Qja(N+1,I.$u(x),v,B,I);}catch(Na){if(Na instanceof p)try{yc=this.Qja(N+1,I.$u(x),v,!B,I);}catch(zc){if(zc instanceof p){if(P>ma)throw new m();throw new k();}throw zc;}else throw Na;}qa=yc;for(f=[];-1<N;N--)ca=v.get([N+1,qa]),E=ca[0],P=ca[1],g=ca[3],r=ca[5],x=ca[6],B=ca[7],ca=ca[2],d=a.Fh[ca][N],w=d.Xr(),n=d.BK,f.unshift({gta:N,K5:ca,info:{cCb:w,BK:n,jCb:P.nf,iCb:P.Bi,LDb:r,pa:x,sHb:B}}),qa=g;return f;};f.prototype.Qja=function(a,b,c,d,f){var g,h;g=!1;h=f.XR()[0];for(f=f.XR()[f.XR().length-1];;){if(b<h||b>f){g=!0;break;}if(c.w6([a,b]))break;else b=d?b-1:b+1;}if(g)throw new p();return b;};f.prototype.EWa=function(a,b,c,d,f,g,h,l,m,p,k,r,u,n){c=m+d*c.dn;return void 0!==b&&c>h?(l.put([g,b],[c,a,p,f,k,r,u,n]),!0):!1;};f.prototype.mSa=function(a,b,d,f){var g,h,l;f=(b.Xr()+f)*b.dn;d=d.V4a(f);f/=d;g=a.nf-d;h=a.nf+b.dn;l=a.qp();l.add(b,void 0);a=a.qp();a.add(b,void 0);try{a.Kxa(d);}catch(X){if(X instanceof y)throw new c();throw X;}return[g,h,l,a,d,f];};p.prototype=Error();m.prototype=new p();k.prototype=new p();u.prototype={cba:function(a){return a.join(",");},put:function(a,b){this.O2[this.cba(a)]=b;},get:function(a){return this.O2[this.cba(a)];},w6:function(a){return this.cba(a)in this.O2;}};g.M={$Ga:f,Dub:b,Ntb:c,Otb:h};},function(g,d,a){var y,A,z,I,N,E,w,O,K,X;function b(a){var b,c,d;c=a.Io;b=a.qg;d=a.yk.ea-b.U;c.timestamp>b.$m&&K.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.$m);a=[];for(var f,g=c.timestamp,h=0;h<c.trace.length;h++)g>=b.$m&&(a.push(c.trace[h]),f=c.trace[h]),g+=c.sk,d-=c.sk;for(;0<d;)a.push(f),d-=c.sk;b=c.sk;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new N(a,c,!1);}function c(a,b){return a.Ky<b.Ky?1:a.Ky>b.Ky?-1:0;}function h(a){for(var b=a.qg,c=a.yk,d=c.Jj,f=a.Uj,g=!0,h,l=[],m,p=d=Math.min(c.Kp,d);p>=b.sg;p--){X.update("backward step loop");h=a.Uj[0][p].U-a.qg.U;p<d&&(y(void 0!==l[p+1],"expect solution[(fragIndex + 1)] !== undefined"),h=Math.min(l[p+1].startTime,h));c=f[0][p].Z;m=b.ku*f[0][p].duration*1/8;m=q(c+m,h,a.Io,b.$m);if(0>m){g=!1;break;}l[p]={startTime:m,endTime:h,wQ:h,gn:c,Hd:0};}return{ni:g,fq:l,Fp:!1,vv:0===l.length?!0:!1};}function l(a,b){var z,A,I,E,N,K,w;for(var c=a.qg,d=a.yk,f=d.Jj,g=a.Uj,h=0,l=0,m=b.fq,p,k,r=0,q=0,x,v,f=Math.min(d.Kp,f),B=c.sg;B<=f;B++){X.update("forward step loop");p=m[B];b=p.Hd;x=g[b][B].duration;v=B===c.sg?0:m[B-1].endTime;k=0;b=t(a,m,v,h,B);if(b.oJ)return{ni:!1,Fp:!0};b.TL||(k=b.waitUntil-v,v=b.waitUntil);y(0<=k,"expect waittime >= 0 but got "+k);z=p.wQ;I=a.Io;A=c.$m;p=0;b=I.trace;k=1*I.sk;E=Math.max(0,v+A-I.timestamp);I=z+A-I.timestamp;if(!(v>=z)){N=Math.max(0,Math.floor(1*E/k));K=1*I/k;if(N===Math.floor(K))p+=(I-E)/k*n(b,N,k);else for(K=Math.ceil(K),A=N,z=K,N*k<E&&(A++,p+=(N*k+k-E)/k*n(b,N,k)),K*k>I&&(p+=(I-z*k)/k*n(b,K,k),z--),E=A;E<=z;E++)p+=n(b,E,k);}k=c.ku*x*1/8;l+=k;b=u(p-k,B,g);p=b.gn;b=b.Hd;k=p+k;A=a.Io;z=E=0;I=A.trace;K=Math.max(0,v+c.$m-A.timestamp);A=1*A.sk;w=N=Math.max(0,Math.floor(1*K/A));for(w*A<K&&(N+=1,K=w*A+A-K,w=K/A*n(I,w,A),E=k-z<w?E+(k-z)/w*1*K:E+K,z+=w);z<k;)X.update("getDownloadTime"),K=n(I,N,A),E=k-z<K?E+(k-z)/K*1*A:E+A,z+=K,N+=1;k=E;m[B].startTime=v;m[B].endTime=v+k;m[B].gn=p;m[B].Hd=b;B<=d.Jj&&(h+=p,q+=x,r=void 0!=g[b][B].qc?r+x*g[b][B].qc:r+x*a.ec[b].qc);}return{ni:!0,Fp:!1,fq:m,Epa:0<q?1*r/q:0,U2:q,T2:h,S2:l};}function f(a){a=a.qg.Y;for(var b=[],c,d=0;d<a.length;d++)X.update("get prebuffered chunks loop"),c=a[d],y(void 0!==c.qc,"expect frag.vmaf !== undefined"),c=new A(c.Z,c.duration/1E3,c.qc),b.push(c);return b;}function p(a){var b,c,d,f;b=a.Uj;c=a.qg;d=a.yk;f=d.Jj;a=a.ec;for(var g=[],h,f=Math.min(d.Kp,f),l=0;l<b.length;l++){for(var d=[],m=c.sg;m<=f;m++)X.update("get chunk map from play segment"),h=b[l][m],h=new A(h.Z,h.duration/1E3,void 0!==h.qc?h.qc:a[l].qc),d.push(h);g.push(d);}return new z(g,!1);}function m(a,b){y(a.WC()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,f,g,h=0;h<b.length;h++)X.update("calculate twvmaf"),y(b[h].gta===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Fh[b[h].K5][h],f=g.BK,g=g.dn,c+=f*g,d+=g;return{Epa:c/d,U2:1E3*d};}function k(a,b,c){var d,f;y(a.WC()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");d=0;f=0;c=c.qg.ku;for(var g,h=0;h<b.length;h++)X.update("calculate Bytes"),y(b[h].gta===h,"expect stream_choices[idx].i_epoch === idx"),g=a.Fh[b[h].K5][h],d+=g.Z,f+=c*g.dn*1E3/8;return{T2:d,S2:f};}function u(a,b,c){var d,f;d=[];c.forEach(function(a){d.push(a[b].Z);});c=d.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],f=d.lastIndexOf(c)):(c=d[0],f=0);return{gn:c,Hd:f};}function n(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function q(a,b,c,d){var f,g,h,l,m;f=c.trace;g=1*c.sk;m=b+d-c.timestamp;l=Math.floor(1*m/g);b=0+(m-l*g)/g*n(f,l,g);if(b>=a)h=m-1*a/b*(m-l*g);else for(m=l;b<a;){X.update("find download start time");--m;if(0>m)return-1;l=n(f,m,g);if(b+l>=a){a=1*(a-b)/l*g;h=(m+1)*g-a;break;}b+=l;}return h+c.timestamp-d;}function t(a,b,c,d,f){var g,h,l,m,p,k;g=a.qg;h=c+g.U;c=a.Uj[g.hJ];a=a.a1;l={TL:!0,waitUntil:void 0,oJ:!1};m=c.filter(function(a){return a&&a.U<=h&&a.U+a.duration>h;})[0];if(void 0===m)return{oJ:!0};p=f-1-(m.index-1);d=g.VL+d;k=0;k=m.index<g.sg?k+c.slice(g.Is,m.index).reduce(function(a,b){return a+b.Z;},0):k+g.VL;k=k+b.slice(g.sg,m.index).reduce(function(a,b){return a+b.gn;},0);d-=k;if(p>=a.KJ||d>=a.VE)for(l.TL=!1,m=m.index;m<f&&(p>=a.KJ||d>=a.VE);)X.update("check buffer vacancy"),l.waitUntil=c[m].U+c[m].duration-g.U,d=m<g.sg?d-c[m].Z:d-b[m].gn,--p,m+=1;l.wna=d;l.kCb=p;return l;}y=a(14);A=a(349).eFa;z=a(349).fFa;I=a(675).$Ga;N=a(348).ZPa;E=a(191).kca;w=a(674).oOa;O=a(229).Hja;K=new(a(7)).Console("ASEJS_QOE_EVAL","media|asejs");X=a(149).rOa||a(149);g.M={Edb:function(a){var b;b=h(a);return!1===b.ni||!0===b.vv?b:l(a,b);},o5:function(a){var b,d,f,g,m,p,k,r,u,n,x,v,t,B,z,I;X.J$("greedy: ");d=a.Uj;b=a.Uj;f=a.qg;g=a.yk;m=g.Jj;p=a.ec;m=Math.min(g.Kp,m);for(v=f.sg;v<=m;v++){b[0][v].Lx=b[0][v].Z;for(x=1;x<b.length;x++)b[x][v].Lx=b[x][v].Z,b[x-1][v].Lx===b[x][v].Lx&&(b[x][v].Lx=b[x-1][v].Lx+1);x=0;f=b[x][v];f.Ky=Infinity;f.lf=x;for(x=1;x<b.length;x++)f=b[x][v],g=b[x-1][v],k=8*f.Lx/f.duration,r=8*g.Lx/g.duration,void 0!==f.qc?(u=f.qc,n=g.qc):(u=p[x].qc,n=p[x-1].qc),f.Ky=(u-n)/(k-r),f.lf=x,y(void 0!==g.Ky&&!isNaN(g.Ky),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.ni||!0===b.vv)return b;m=a.Uj;f=a.qg;g=a.yk;p=g.Jj;p=Math.min(g.Kp,p);g=[];for(f=f.sg;f<=p;f++)g.push(m[1][f]);for(m=new w(g,c);0<m.length;){X.update("upgrade frags");p=m.pop();f=a;g=b;k=p;r=f.Uj;u=f.qg;z=f.yk;n=z.Jj;x=!0;v=JSON.parse(JSON.stringify(g.fq));void 0!==k.lf&&y(v[k.index].Hd+1===k.lf,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");n=Math.min(z.Kp,n);for(var A=k.index;A>=u.sg;A--){I=A===k.index?v[A].Hd+1:v[A].Hd;z=f.Uj[I][A].U-f.qg.U;if(A<n)if(y(void 0!==v[A+1],"expect solution[(fragIndex + 1)] !== undefined"),B=v[A+1].startTime,B<z)z=B;else if(A!==k.index)break;B=r[I][A].Z;t=u.ku*r[I][A].duration*1/8;t=q(B+t,z,f.Io,u.$m);if(0>t){x=!1;break;}v[A]={startTime:t,endTime:z,wQ:z,gn:B,Hd:I};}f={ni:x,fq:v,vv:g.vv};!0===f.ni&&(b=f,p.lf+1<d.length&&m.push(d[p.lf+1][p.index]));}return l(a,b);},dp:function(a){var c,d,g,l,r,u;X.J$("dp: ");c=h(a);if(!1===c.ni||!0===c.vv)return c;d=p(a);g=new I(d);l=f(a);l={zBa:b(a),bna:a.qg.ku,cwa:0,Eva:240,Dva:8*a.a1.VE/1E3,una:.5,jna:new E(l),nqa:0,gFb:void 0,Dsa:void 0,qya:void 0,Cma:!0};g=g.iE(l);l=m(d,g);d=k(d,g,a);r=[];u=a.qg.sg;g.forEach(function(a){r[u]={Hd:a.K5};u++;});O(c,l);O(c,d);c.fq=r;return c;}};},function(g,d,a){var c,h;function b(){}c=a(676);h=a(673);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=h.o5;break;case"hvmaftb":b=c.Edb;break;case"hvmafgr":b=c.o5;break;case"hvmafdp":b=c.dp;}return b;};g.M=b;},function(g,d,a){var c,h;function b(a,b,d){this.aa=a;this.W=a.W;this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);this.Ua=this.W.log.bind(this.W);this.dRa=new h();this.K=d;this.IO=[];this.lk=void 0;a=d.hS;c.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(13);a(7);c=a(128);a(350);h=a(677);b.prototype=Object.create(c.prototype);b.prototype.add=function(a,b,d){this.lk||(this.lk=b);c.prototype.add.call(this,a,b,d);};b.prototype.H8a=function(){var a;if(0!==this.IO.length){a=[];this.IO.forEach(function(b){b&&b.LB&&a.push(b.Wr());});return a;}};b.prototype.Nd=function(){this.IO=[];};b.prototype.iab=function(){var a,b,d;a=this.get(this.K.hS.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,d=c,!0;});if(b)for(var g=0;g<d;g++)a[g]=b;}a={trace:a,timestamp:this.lk,sk:this.ic};c.prototype.reset.call(this);this.lk=void 0;return a;};b.prototype.n3=function(a){var b,c,d,g,h,l;if(a&&!a.LB){c=a.yk.$ta;c&&(a.z9=this.u0(a),a.uU=!1);if((b=this.iab())&&b.trace&&b.trace.length){d=a.qg.$m;g=b.timestamp;if(g>d){h=b.sk;l=b.trace[0];d=Math.ceil(1*(g-d)/h);b.timestamp=g-d*h;for(g=0;g<d;g++)b.trace.splice(0,0,l);}b.trace.length&&b.trace.pop();}a.Io=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.RZa(a),a.dxa=b,c&&b&&(a.uU=b.ni),a.LB=!0,this.IO.push(a));}};b.prototype.RZa=function(a){var g,h;for(var b=this.K.YI,c={ni:!1,Fp:!1},d=0;d<b.length;d++){g=b[d];h=this.dRa.create(g);h&&(h=h(a),c[g]=h,c.ni=c.ni||h.ni,c.Fp=c.Fp||h.Fp);}return c;};b.prototype.u0=function(a){var b;a=a.yk;b="";1E3>a.WL&&(b+=a.KCa);1E3>a.c0&&(b=b+(""!==b?",":"")+a.Qma);1E3<=a.WL&&1E3<=a.c0&&(b="media");return b;};g.M=b;},function(g,d,a){(function(){var e3D,c,d,l,f,q8r,a8r;e3D=2;while(e3D!==10){q8r="I";q8r+="TE_";q8r+="ASE";q8r+="J";q8r+="S";a8r="1";a8r+="SIYbZrNJC";a8r+="p9";switch(e3D){case 7:b.prototype.n$a=function(){var z3D,a,b,c,d,f;z3D=2;while(z3D!==14){switch(z3D){case 4:f=c[d];z3D=3;break;case 1:a=this.GR(),b=void 0,c=Object.keys(this.uT),d=0;z3D=5;break;case 2:z3D=1;break;case 5:z3D=d<c.length?4:7;break;case 9:b=f;z3D=7;break;case 3:z3D=a>=this.uT[f][0]&&a<=this.uT[f][1]?9:8;break;case 6:return{bva:this.o7[b].lrWeights,$ua:this.o7[b].lrMeans,ava:this.o7[b].lrStd,bfb:this.cfb[b]};break;case 8:d++;z3D=5;break;case 7:z3D=b?6:14;break;}}};b.prototype.eH=function(a,b){var v3D,A9r;v3D=2;while(v3D!==1){A9r="a";A9r+="v";A9r+="t";A9r+="p";switch(v3D){case 2:return A9r==a?0<b?Math.log(b):null:b;break;}}};b.prototype.Ora=function(){var c3D,a,b,c,y9r,W9r,x9r,e9r,J9r,j9r,l9r,i9r;c3D=2;while(c3D!==20){y9r="n";y9r+="i";y9r+="q";y9r+="r";W9r="f";W9r+="n";W9r+="s";x9r="a";x9r+="v";x9r+="t";x9r+="p";e9r="f";e9r+="n";e9r+="s";J9r="a";J9r+="v";J9r+="t";J9r+="p";j9r="l";j9r+="n";j9r+="s";l9r="a";l9r+="v";l9r+="t";l9r+="p";i9r="e";i9r+="n";i9r+="s";switch(c3D){case 8:b.IHb=this.aq[c-1].get().oFb;b.rkb=this.aq[c-1].get().t;c=this.yp();b.Woa=c.Woa;c3D=13;break;case 4:[{hL:i9r,mq:l9r},{hL:j9r,mq:J9r},{hL:e9r,mq:x9r},{hL:W9r,mq:y9r}].forEach(function(c){var K7X=F6hh;var D3D,d,f,G8r,D8r,p8r,U8r,O8r,w8r,t9r,K9r,T9r,X9r,g9r,Z9r,d9r,u9r,b9r,r9r,f9r;D3D=2;while(D3D!==17){G8r="l";G8r+="a";G8r+="s";G8r+="t";D8r="s";D8r+="t";D8r+="d";p8r="m";p8r+="e";p8r+="an";U8r="s";U8r+="t";U8r+="d";O8r="me";O8r+="a";O8r+="n";w8r="m";w8r+="e";w8r+="a";w8r+="n";t9r="s";t9r+="t";t9r+="d";K9r="p";K9r+="5";K9r+="0";T9r="p";T9r+="2";T9r+="5";X9r="p";X9r+="7";X9r+="5";g9r="p";g9r+="5";g9r+="0";Z9r="ni";Z9r+="q";Z9r+="r";d9r="p";d9r+="2";d9r+="5";u9r="s";u9r+="t";u9r+="d";b9r="m";b9r+="e";b9r+="a";b9r+="n";r9r="p";r9r+="7";r9r+="5";f9r="p";f9r+="5";f9r+="0";switch(D3D){case 1:d=0;D3D=5;break;case 9:d++;D3D=5;break;case 5:D3D=d<this.aq.length?4:8;break;case 2:D3D=1;break;case 4:f=this.aq[d].get()[c.hL][c.mq];f&&a.k0(Number(f));D3D=9;break;case 14:K7X.k9r(0);b[K7X.o9r(f,f9r)]=this.eH(c.mq,a.vu(50));K7X.V9r(0);b[K7X.P9r(f,r9r)]=this.eH(c.mq,a.vu(75));K7X.V9r(0);b[K7X.o9r(f,b9r)]=this.eH(c.mq,a.Gna());K7X.k9r(0);b[K7X.o9r(f,u9r)]=a.c_a();D3D=10;break;case 8:d=a.RC();f=c.hL+"-"+c.mq+"-";K7X.V9r(0);b[K7X.P9r(f,d9r)]=this.eH(c.mq,a.vu(25));D3D=14;break;case 10:K7X.V9r(0);b[K7X.o9r(f,Z9r)]=0<b[f+g9r]?(b[f+X9r]-b[f+T9r])/b[f+K9r]:0;K7X.V9r(0);b[K7X.P9r(f,"b")]=0<b[f+t9r]||0<b[f+w8r]?(b[f+O8r]-b[f+U8r])/(b[f+p8r]+b[f+D8r]):0;K7X.k9r(0);b[K7X.o9r(f,G8r)]=this.eH(c.mq,a.zm[d-1]);a.zm=[];D3D=17;break;}}},this);c=this.aq.length;b.Znb=c;c3D=8;break;case 2:a=new f(100);b={};c3D=4;break;case 10:return b;break;case 13:b.o2=c.o2;b.NIb=b.o2-b.rkb;b.DFb=1;c3D=10;break;}}};e3D=13;break;case 13:b.prototype.Nra=function(){var I3D,b,d,f,g,H8r;I3D=2;while(I3D!==11){H8r="g";H8r+="etPar";H8r+="ams:";switch(I3D){case 2:I3D=1;break;case 5:return 0;break;case 1:I3D=2>this.aq.length||this.GR()>this.Ana||0>this.GR()||a(this.uT,this.Ana)?5:4;break;case 9:return 0;break;case 4:b=this.n$a();I3D=3;break;case 8:0&l.log(H8r,JSON.stringify(b));d=this.Ora();f=0;g=!Object.keys(d).some(function(a){var a3D,C8r;a3D=2;while(a3D!==4){C8r="n";C8r+="umbe";C8r+="r";switch(a3D){case 1:f+=(d[a]-b.$ua[a])/b.ava[a]*b.bva[a];a3D=4;break;case 5:return!0;break;case 7:return-9;break;a3D=4;break;case 2:a3D=b.bva.hasOwnProperty(a)&&b.$ua.hasOwnProperty(a)&&b.ava.hasOwnProperty(a)&&C8r==typeof d[a]?1:5;break;}}});I3D=13;break;case 3:I3D=c.V(b)?9:8;break;case 13:f=Math.exp(f);return 0<f&&f<=b.bfb&&g&&1<d.Znb?f:0;break;}}function a(a,b){var R3D,c;R3D=2;while(R3D!==4){switch(R3D){case 2:c=Object.keys(a).map(function(b){var B3D;B3D=2;while(B3D!==1){switch(B3D){case 2:return a[b];break;case 4:return a[b];break;B3D=1;break;}}});return Object.keys(a).some(function(c){var X3D;X3D=2;while(X3D!==1){switch(X3D){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var U3D;U3D=2;while(U3D!==1){switch(U3D){case 2:return a>b?a:b;break;case 4:return a<=b?a:b;break;U3D=1;break;}}});break;}}}};g.M=b;e3D=11;break;case 11:a8r;e3D=10;break;case 3:f=a(208);b.prototype.yp=function(){var N3D,a;N3D=2;while(N3D!==4){switch(N3D){case 7:return{Woa:new Date(a).getHours(),o2:a};break;N3D=4;break;case 2:a=d.time.now();N3D=5;break;case 5:return{Woa:new Date(a).getHours(),o2:a};break;}}};b.prototype.GR=function(){var h3D,a,b;h3D=2;while(h3D!==7){switch(h3D){case 2:h3D=1>this.aq.length?1:5;break;case 5:a=0,b=0;h3D=4;break;case 1:return 0;break;case 4:h3D=b<this.aq.length?3:8;break;case 3:a+=this.aq[b].get().TDb.WBb;h3D=9;break;case 8:return a/this.aq.length;break;case 9:b++;h3D=4;break;}}};e3D=7;break;case 4:l=new d.Console(q8r);e3D=3;break;case 2:c=a(11);d=a(7);e3D=4;break;}}function b(a,b){var f3D;f3D=2;while(f3D!==7){switch(f3D){case 5:a=a.initThroughputPredictor;this.uT=a.modelMap;this.o7=a.lrParams;f3D=9;break;case 2:this.config=a;this.aq=b;f3D=5;break;case 9:this.cfb=a.maxBwPredictionMap;this.Ana=a.bwThreshold;f3D=7;break;}}}}());},function(g,d,a){var b,c;b=a(193);c=a(192);g.M=function(a){var k;for(var d=[],f=a.length,g=0;g<f;g++){d[g]=[0,0];for(var h=0;h<f;h++){k=c.u3(g*h,f);k=b.multiply([a[h],0],k);d[g]=b.add(d[g],k);}}return d;};},function(g,d,a){var b;b=a(194).D3;g.M={jta:function(a){for(var c=[],d=0;d<a.length;d++)c[d]=[a[d][1],a[d][0]];a=b(c);c=[];for(d=0;d<a.length;d++)c[d]=[a[d][1]/a.length,a[d][0]/a.length];return c;}};},function(g,d){var b;function a(a){var b;b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b;}"use restrict";d.RIa=32;d.Wwb=2147483647;d.Xwb=-2147483648;d.sign=function(a){return(0<a)-(0>a);};d.abs=function(a){var b;b=a>>31;return(a^b)-b;};d.min=function(a,b){return b^(a^b)&-(a<b);};d.max=function(a,b){return a^(a^b)&-(a<b);};d.TFb=function(a){return!(a&a-1)&&!!a;};d.log2=function(a){var b,c;b=(65535<a)<<4;a>>>=b;c=(255<a)<<3;a>>>=c;b|=c;c=(15<a)<<2;a>>>=c;b|=c;c=(3<a)<<1;return b|c|a>>>c>>1;};d.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0;};d.AHb=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24;};d.J0a=a;d.PGb=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1;};d.JHb=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1);};d.fHb=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1;};b=Array(256);(function(a){for(var b=0;256>b;++b){for(var c=b,d=b,g=7,c=c>>>1;c;c>>>=1)d<<=1,d|=c&1,--g;a[b]=d<<g&255;}}(b));d.reverse=function(a){return b[a&255]<<24|b[a>>>8&255]<<16|b[a>>>16&255]<<8|b[a>>>24&255];};d.EFb=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1;};d.ADb=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16;};d.FFb=function(a,b,d){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((d|d<<2)&1227133513)<<2;};d.BDb=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22;};d.OGb=function(b){var c;c=b|b-1;return c+1|(~c&-~c)-1>>>a(b)+1;};},function(g,d,a){g.M={D3:a(194).D3,jta:a(681).jta,Eqa:a(194).Eqa,SL:a(192),w4a:a(680)};},function(g,d,a){(function(){var Y8r,c,d,l,U44;Y8r=2;function b(a){var S8r;S8r=2;while(S8r!==1){switch(S8r){case 2:this.console=a;S8r=1;break;case 4:this.console=a;S8r=2;break;S8r=1;break;}}}while(Y8r!==13){U44="1";U44+="SIYbZ";U44+="rNJ";U44+="Cp";U44+="9";switch(Y8r){case 14:U44;Y8r=13;break;case 2:c=a(683).w4a;d=a(60).bab;l=a(60).V$a;b.prototype.PZa=function(a,b,c){var M8r,f;M8r=2;while(M8r!==3){switch(M8r){case 2:f=function(a){var n8r,b;n8r=2;while(n8r!==9){switch(n8r){case 2:b=[];a.reduce(function(a,c){var s8r;s8r=2;while(s8r!==4){switch(s8r){case 2:a.push(c);c&&(b.push(a.length),a=[]);return a;break;}}},[]);b.shift();return b;break;}}}(a.map(function(a){var v8r;v8r=2;while(v8r!==1){switch(v8r){case 2:return a>=b?1:0;break;case 4:return a<=b?6:8;break;v8r=1;break;}}}));M8r=5;break;case 4:return a=d(f)/f.length,f=l(f),(f-a)/(f+a+c);break;case 6:M8r=8===f.length?8:6;break;M8r=0!==f.length?4:3;break;case 5:M8r=0!==f.length?4:3;break;}}};b.prototype.Pkb=function(a,b,g,h){var E8r,f,l,m,p;E8r=2;while(E8r!==13){switch(E8r){case 6:a=a.splice(0,a.length-1).map(function(a){var J7X=F6hh;var N8r;N8r=2;while(N8r!==1){switch(N8r){case 4:J7X.w44(0);return J7X.L44(g,a,m);break;N8r=1;break;case 2:J7X.J44(1);return J7X.H44(m,g,a);break;}}});E8r=14;break;case 9:E8r=p<f.length?8:6;break;case 2:f=c(a);f=f.map(function(a){var c8r,F8r;c8r=2;while(c8r!==1){switch(c8r){case 2:F6hh.J44(2);F8r=F6hh.L44(18,16);return(Math.pow(a[0],F8r)+Math.pow(a[1],2))/f.length;break;}}});a=[];E8r=3;break;case 3:l=0,m=0,p=0;E8r=9;break;case 8:a[l]=d(f.slice(p,p+b)),m+=a[l],l+=1;E8r=7;break;case 7:p+=b;E8r=9;break;case 14:return a.splice(0,h);break;}}};Y8r=8;break;case 8:b.prototype.SZa=function(a,b,c,d,g,h,l){var m8r;m8r=2;while(m8r!==7){switch(m8r){case 2:b=this.PZa(a,b,l);m8r=1;break;case 4:m8r=h<c.length?3:8;break;case 1:m8r=void 0!==b&&(a=this.Pkb(a,c,h,d),a=a.map(function(a){var B8r;B8r=2;while(B8r!==5){switch(B8r){case 3:a*=l;return Math.log(a);break;B8r=5;break;case 2:a+=l;return Math.log(a);break;}}}),c=[1].concat(a).concat(b),c.length===g.length)?5:7;break;case 3:d+=c[h]*g[h];m8r=9;break;case 5:h=d=0;m8r=4;break;case 9:h++;m8r=4;break;case 8:return{p:Math.exp(d)/(1+Math.exp(d)),lu:b,z:a};break;}}};b.prototype.c9=function(a,b,c,d,g,h,l,k){var R8r;R8r=2;while(R8r!==5){switch(R8r){case 2:b=(a=this.SZa(a,b,c,d,g,l,k))?a.p:void 0;return{p:b?b:-1,lu:a?a.lu:-1,r:b?b<=h?1:0:-1,z:a?a.z:void 0};break;}}};g.M={jOa:b};Y8r=14;break;}}}());},function(g,d,a){(function(){var f44,c,d,l,N4Y,H4Y;f44=2;function b(a,b,c){var P44;P44=2;while(P44!==14){switch(P44){case 2:F6hh.X3Y(0);d.call(this,F6hh.m3Y(a,b),b);this.config=c;this.rZa=c.Mg.bthresh;this.V7a=c.Mg.freqave;P44=3;break;case 3:this.thb=c.Mg.numfreq;this.beta=c.Mg.beta;this.tBa=c.Mg.thresh;this.brb=c.Mg.tol;this.crb=c.Mg.tol2;P44=14;break;}}}while(f44!==10){N4Y="1S";N4Y+="IYbZrN";N4Y+="JCp";N4Y+="9";H4Y="PS";H4Y+="D_";H4Y+="ASE";H4Y+="JS";switch(f44){case 12:g.M=b;f44=11;break;case 2:c=new(a(7)).Console(H4Y);d=a(128);l=new(a(684)).jOa(c);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var q44;q44=2;while(q44!==1){switch(q44){case 4:d.prototype.shift.call(this);q44=9;break;q44=1;break;case 2:d.prototype.shift.call(this);q44=1;break;}}};f44=8;break;case 8:b.prototype.jab=function(){var r44;r44=2;while(r44!==1){switch(r44){case 2:return this.get(this.config.Mg.fillS,this.config.Mg.fillHl);break;}}};b.prototype.x$a=function(){var u44,a;u44=2;while(u44!==9){switch(u44){case 2:a=this.jab();this.config.aI&&a.splice(a.length-this.config.aI);u44=4;break;case 3:return l.c9(a,this.rZa,this.V7a,this.thb,this.beta,this.tBa,this.brb,this.crb);break;case 4:u44=a.length===this.config.Mg.numB?3:9;break;}}};b.prototype.stop=function(a){var T44;T44=2;while(T44!==1){switch(T44){case 2:d.prototype.stop.call(this,a);T44=1;break;}}};b.prototype.reset=function(){var Y44;Y44=2;while(Y44!==1){switch(Y44){case 2:d.prototype.reset.call(this);Y44=1;break;case 4:d.prototype.reset.call(this);Y44=0;break;Y44=1;break;}}};b.prototype.toString=function(){var p44,B4Y;p44=2;while(p44!==1){B4Y="p";B4Y+="s";B4Y+="d";B4Y+="(";switch(p44){case 2:return B4Y+this.ic+")";break;case 4:return")"*this.ic/")";break;p44=1;break;}}};f44=12;break;case 11:N4Y;f44=10;break;}}}());},function(g,d,a){(function(){var I4Y,c,d,l,f,p,m,k,a2M;function b(a,b,c,d,f,g){var A4Y,h,r,n,D4Y;A4Y=2;while(A4Y!==26){switch(A4Y){case 9:this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);A4Y=6;break;case 6:this.Ua=this.W.log.bind(this.W);A4Y=14;break;case 14:this.jG=null;this.ska=0===Math.floor(1E6*Math.random())%d.d1;this.MVa();this.JG=l(d,f);c=this.$ja(b);A4Y=20;break;case 2:this.K=d;this.aa=a;this.Wa=c;this.W=a.W;A4Y=9;break;case 20:c&&(h=(c.Mk-c.Lk)/c.hj);this.iWa=[d.Zma,d.laa];f=d.$J?m.ld.Qo:m.ld.et;b&&b.Bc>=f&&b.pa&&this.USa(b,c,h);A4Y=16;break;case 15:try{D4Y=2;while(D4Y!==3){switch(D4Y){case 2:r=a.Lj();n=new k(a,{bufferSize:r},d);a.fj.jXa(n);this.qU=n;D4Y=3;break;}}}catch(E){var V3M;V3M="H";V3M+="indsight: Er";V3M+="ror when creating QoEEvaluator: ";F6hh.u3M(0);a.Pp(F6hh.t3M(V3M,E));}A4Y=27;break;case 27:d.mI&&g&&1<g.length&&(this.iJ=new p(d,g),this.oS=this.iJ.Nra());A4Y=26;break;case 16:A4Y=a.Wn?15:27;break;}}}I4Y=2;while(I4Y!==28){a2M="1SIYb";a2M+="ZrN";a2M+="JCp9";switch(I4Y){case 2:c=a(11);d=a(7);l=a(369);f=a(685);p=a(679);m=a(13);I4Y=7;break;case 7:k=a(678);Object.defineProperties(b.prototype,{Lpb:{get:function(){var F4Y;F4Y=2;while(F4Y!==1){switch(F4Y){case 2:return this.iWa;break;case 4:return this.iWa;break;F4Y=1;break;}}}}});b.prototype.MVa=function(){var r4Y;r4Y=2;while(r4Y!==5){switch(r4Y){case 2:this.Qm=this.iS=this.$sa=this.gQ=this.ko=void 0;this.m7=this.zaa=this.iV=this.jV=this.yaa=this.QT=this.RT=0;r4Y=5;break;}}};I4Y=13;break;case 16:b.prototype.eXa=function(a,b){var s4Y,c,f,g;s4Y=2;while(s4Y!==13){switch(s4Y){case 5:s4Y=this.ska?4:13;break;case 4:void 0===this.Mi&&(this.Mi={startTime:d.time.da(),sr:[],Rs:[],H6:void 0,C6:void 0});c=Math.floor((d.time.da()-this.Mi.startTime)/c.TB);f=this.Mi.C6;g=this.Mi.H6?c-this.Mi.H6-1:c;s4Y=7;break;case 6:this.Mi.sr[g]=a,this.Mi.Rs[g]=b;s4Y=14;break;case 2:c=this.K;s4Y=5;break;case 7:s4Y=void 0===f||c>f?6:14;break;case 14:this.Mi.C6=c;s4Y=13;break;}}};b.prototype.Whb=function(){var Z4Y;Z4Y=2;while(Z4Y!==1){switch(Z4Y){case 4:this.RVa();Z4Y=2;break;Z4Y=1;break;case 2:this.RVa();Z4Y=1;break;}}};b.prototype.Lhb=function(){var T4Y,a,y4Y;T4Y=2;while(T4Y!==9){switch(T4Y){case 2:a=this.aa;this.LG&&(clearInterval(this.LG),this.LG=void 0);T4Y=4;break;case 4:T4Y=a.Wn?3:9;break;case 3:try{y4Y=2;while(y4Y!==5){switch(y4Y){case 2:a.$a.Wa.Ylb();this.qU.Nd();y4Y=5;break;}}}catch(x){var y3M;y3M="Hindsi";y3M+="ght: ";y3M+="Error d";y3M+="uring clean up:";y3M+=" ";F6hh.r3M(0);a.Pp(F6hh.t3M(y3M,x));}T4Y=9;break;}}};I4Y=26;break;case 13:b.prototype.qAa=function(a,b,d){var g4Y;g4Y=2;while(g4Y!==4){switch(g4Y){case 2:this.Qm=a;c.V(b)||(this.$sa=b);c.V(d)||(this.iS=d);g4Y=4;break;}}};b.prototype.XZ=function(a,b,d,f){var K4Y,g,A3M,Q3M;K4Y=2;while(K4Y!==7){A3M="i";A3M+="q";A3M+="r";Q3M="a";Q3M+="v";Q3M+="g";switch(K4Y){case 4:return b.pa&&d&&c.ka(f)&&b.pa.Aa<g.GH&&f>g.RX;break;case 2:g=this.K;K4Y=5;break;case 8:return!1;break;case 3:K4Y=a===Q3M?9:8;break;case 5:K4Y=a===A3M?4:3;break;case 9:return b.pa?b.pa.Aa<g.GH:!0;break;}}};b.prototype.$ja=function(a){var q4Y,b4Y,B3M;q4Y=2;while(q4Y!==4){B3M="t";B3M+="d";B3M+="ig";B3M+="es";B3M+="t";switch(q4Y){case 2:b4Y=this.K.E5;q4Y=b4Y===B3M?1:3;break;case 5:return a;break;case 1:a=a.Zl;q4Y=5;break;case 3:q4Y=9;break;case 9:a=a.Fk&&a.Fk.YT;q4Y=5;break;}}};b.prototype.USa=function(a,b,c){var d4Y,d;d4Y=2;while(d4Y!==9){switch(d4Y){case 2:d=this.K;this.XZ(d.Yv,a,b,c)?this.ko=!0:this.ko=!1;this.gQ=0;d4Y=3;break;case 3:this.XZ(d.f7,a,b,c)&&(this.Hcb=!0);d4Y=9;break;}}};I4Y=20;break;case 20:b.prototype.t$a=function(a){var n4Y;n4Y=2;while(n4Y!==1){switch(n4Y){case 2:return a===m.G.VIDEO?this.JG.bya:this.JG.aya;break;}}};b.prototype.qE=function(a){var U4Y;U4Y=2;while(U4Y!==5){switch(U4Y){case 2:this.JG.qE(a);this.jG=a;U4Y=5;break;}}};b.prototype.Hna=function(a,b){var l4Y;l4Y=2;while(l4Y!==1){switch(l4Y){case 2:this.JG.aIb&&a&&this.JG.Hna(b,a);l4Y=1;break;}}};b.prototype.cXa=function(a,b,c,d,f,g){var J4Y,h;J4Y=2;while(J4Y!==4){switch(J4Y){case 2:h=this.K;c&&d&&(c=g?Math.min(c,d,g):Math.min(c,d))&&(this.Wa.get(!1),a=this.aa.IC(a),b.jo()&&a>h.TP&&c===f?(b.Nya({connections:1,openRange:!0}),this.yaa++):h.uo&&!b.jo()&&(a<h.c1||c!==f)&&(b.Nya({connections:h.LJ,openRange:!1}),this.zaa++));J4Y=4;break;}}};I4Y=16;break;case 26:b.prototype.Xhb=function(a){var S4Y;S4Y=2;while(S4Y!==1){switch(S4Y){case 2:this.K.sC&&a===m.G.VIDEO&&(this.zaa=this.yaa=this.iV=this.jV=this.QT=this.RT=0);S4Y=1;break;}}};b.prototype.bib=function(a,b,c,d){var i4Y;i4Y=2;while(i4Y!==1){switch(i4Y){case 2:this.K.sC&&a===m.G.VIDEO&&(d?(this.RT+=b,this.QT+=c):(this.jV+=b,this.iV+=c));i4Y=1;break;}}};b.prototype.Uhb=function(a,b){var v4Y;v4Y=2;while(v4Y!==1){switch(v4Y){case 2:a===m.G.VIDEO&&(this.Rsb=b);v4Y=1;break;}}};b.prototype.Vhb=function(a){var C4Y;C4Y=2;while(C4Y!==1){switch(C4Y){case 2:this.Mg&&this.Mg.stop(a);C4Y=1;break;}}};I4Y=22;break;case 30:g.M=b;a2M;I4Y=28;break;case 22:b.prototype.Vwa=function(a,b,c){var z4Y;z4Y=2;while(z4Y!==1){switch(z4Y){case 2:this.Mg&&this.Mg.add(a,b,c);z4Y=1;break;}}};b.prototype.gib=function(a){var f4Y;f4Y=2;while(f4Y!==1){switch(f4Y){case 4:this.m7=a.m7;f4Y=3;break;f4Y=1;break;case 2:this.m7=a.m7;f4Y=1;break;}}};b.prototype.RVa=function(){var Q4Y,a;Q4Y=2;while(Q4Y!==4){switch(Q4Y){case 2:a=this.K;a.ZQ&&(this.LG&&clearInterval(this.LG),this.qz=void 0,this.nla=0,this.Mg=new f(a.Mg.numB+a.aI,a.Mg.bSizeMs,a),this.LG=setInterval(function(){var c4Y,b,c,f,g;c4Y=2;while(c4Y!==12){switch(c4Y){case 4:c=b.p;f=b.lu;g=b.r;c4Y=8;break;case 7:c4Y=g?6:13;break;case 6:c4Y=(b=this.Wa.get(!0),0===a.AK||0<a.AK&&b.pa.Aa<a.AK)?14:12;break;case 2:b=this.Mg.x$a();c4Y=5;break;case 5:c4Y=b?4:12;break;case 8:this.qz={t:d.time.da(),p:Number(c).toFixed(2)/1,lu:Number(f).toFixed(2)/1,dCb:this.aa.IC(m.G.VIDEO),z:b.z};c4Y=7;break;case 13:a.q9&&(this.ys=!1);c4Y=12;break;case 14:this.ys||this.nla++,this.ys=!0;c4Y=12;break;}}}.bind(this),a.p9));Q4Y=4;break;}}};b.prototype.C_a=function(a){var L4Y,b,c,d,f,g,S2M,m2M;L4Y=2;while(L4Y!==7){S2M="i";S2M+="q";S2M+="r";m2M="n";m2M+="o";m2M+="n";m2M+="e";switch(L4Y){case 5:L4Y=m2M!==b.Yv&&!0!==this.ko&&a.state<=b.D7?4:7;break;case 2:b=this.K;L4Y=5;break;case 4:c=this.Wa.get();S2M===b.Yv&&(d=this.$ja(c))&&(f=(d.Mk-d.Lk)/d.hj);g=b.$J?m.ld.Qo:m.ld.et;c&&c.Bc>=g&&this.XZ(b.Yv,c,d,f)&&(this.ko=!0,this.gQ=a.state);L4Y=7;break;}}};b.prototype.uXa=function(a){var j4Y;j4Y=2;while(j4Y!==3){switch(j4Y){case 2:a.ko=this.ko;a.ys=this.ys;a.oS=this.oS;a.qz=this.qz;j4Y=3;break;}}};b.prototype.k7a=function(a){var a4Y,b,d,f,g,h,l,p,J2M,c2M;a4Y=2;while(a4Y!==23){J2M="st";J2M+="artp";J2M+="l";J2M+="a";J2M+="y";c2M="l";c2M+="o";c2M+="g";c2M+="da";c2M+="ta";switch(a4Y){case 2:b=this.K;a4Y=5;break;case 9:Object.keys(a).forEach(function(b){var P4Y;P4Y=2;while(P4Y!==1){switch(P4Y){case 2:g[b]=a[b];P4Y=1;break;case 4:g[b]=a[b];P4Y=2;break;P4Y=1;break;}}});h=this.Wa.get();h&&h.pa&&(h=h.pa.Aa);g.actualbw=h;g.isConserv=this.ko;a4Y=13;break;case 13:g.ccs=this.gQ;g.isLowEnd=this.Hcb;g.histdiscbw=this.Qm;l=this.iS;a4Y=20;break;case 16:g.histtdc=l;a4Y=15;break;case 20:a4Y=l?19:27;break;case 5:d=this.aa;f={type:c2M,target:J2M,fields:{}};g=f.fields;a4Y=9;break;case 27:g.histage=this.$sa;b.mI&&this.iJ&&(g.histsessionstat=this.iJ.Ora(),g.initbwestimate=this.iJ.Nra(),g.avghistbw=this.iJ.GR());d.$a&&(b=d.Lj(),g.maxAudioBufferAllowedBytes=b[m.G.AUDIO],g.maxVideoBufferAllowedBytes=b[m.G.VIDEO]);a4Y=24;break;case 19:p=function(a){var V4Y;V4Y=2;while(V4Y!==1){switch(V4Y){case 2:return c.ka(a)?Number(a).toFixed(2):-1;break;}}};h=[p(l.min||void 0),p(l.C8||void 0),p(l.Lk||void 0),p(l.hj||void 0),p(l.Mk||void 0),p(l.D8||void 0),p(l.max||void 0)];l=c.isArray(l.eg)&&l.eg.reduce(function(a,b){var R4Y,c;R4Y=2;while(R4Y!==9){switch(R4Y){case 3:return a;break;case 2:c=p(b.se||void 0);b=p(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});R4Y=3;break;}}},[]);a4Y=16;break;case 24:d.emit(f.type,f);a4Y=23;break;case 15:g.histtd=h;a4Y=27;break;}}};b.prototype.l7a=function(a){var Y4Y,b,c,d,f,g,h,l,E2M;Y4Y=2;while(Y4Y!==19){E2M="n";E2M+="o";E2M+="n";E2M+="e";switch(Y4Y){case 2:b=this.K;c=this.aa;d=this.Wa.get(!0);f=[];Y4Y=9;break;case 9:[m.G.VIDEO,m.G.AUDIO].forEach(function(a){var k4Y,g;k4Y=2;while(k4Y!==9){switch(k4Y){case 1:k4Y=c.gD(a)?5:9;break;case 5:g=this.aa.$$a(a);a===m.G.VIDEO&&(b.sC&&(g.parallelDownloadMs=this.RT,g.parallelDownloadBytes=this.QT,g.singleDownloadMs=this.jV,g.singleDownloadBytes=this.iV,g.switchFromParallelToSingle=this.yaa,g.switchFromSingleToParallel=this.zaa),d&&d.Bc&&d.pa&&(g.asetput=d.pa,g.aseiqr=d.Fk,g.tdigest=d.Zl&&d.Zl.Wr()||void 0),d&&d.avtp&&(g.avtp=d.avtp.Aa));f.push(g);k4Y=9;break;case 2:k4Y=1;break;}}}.bind(this));a.stat=f;g=0;h=0;l=0;d.Bc&&(g=d.pa?d.pa.Aa:0,h=d.pg?d.pg.Aa:0,l=d.ho?d.ho.Aa:0);a.location={responseTime:h,httpResponseTime:l,bandwidth:g,confidence:d.Bc,name:this.Rsb};Y4Y=11;break;case 11:this.ska&&(a.bt={startTime:this.Mi.startTime,audioMs:this.Mi.sr,videoMs:this.Mi.Rs},this.Mi.sr=[],this.Mi.Rs=[],this.Mi.H6=this.Mi.C6);b.ZQ&&(a.psdConservCount=this.nla);E2M!==b.Yv&&(a.isConserv=this.ko,a.ccs=this.gQ);Y4Y=19;break;}}};I4Y=30;break;}}}());},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);(function(){var g2M,l,f,p,m,k,n,q,v,t,y,A,z,I,N,E,w,O,K,X,W,ba,R,T,D,J,da,ga,V,Z3V;g2M=2;while(g2M!==247){Z3V="1SIYbZr";Z3V+="NJC";Z3V+="p9";switch(g2M){case 175:c.prototype.qUa=function(a,b,c){var m6W,V1V;m6W=2;while(m6W!==5){V1V="seg";V1V+="me";V1V+="ntComp";V1V+="l";V1V+="ete";switch(m6W){case 2:a={type:V1V,mediaType:a,manifestIndex:b,segmentId:c.id};V(this,a.type,a);m6W=5;break;}}};c.prototype.l_=function(a,b){var S6W,l1V;S6W=2;while(S6W!==5){l1V="las";l1V+="tSeg";l1V+="mentPts";switch(S6W){case 2:b={type:l1V,segmentId:a.id,pts:Math.floor(b)};a.TD||V(this,b.type,b);S6W=5;break;}}};c.prototype.hUa=function(a,b,c,d,f){var c6W,r1V;c6W=2;while(c6W!==5){r1V="mani";r1V+="festRang";r1V+="e";switch(c6W){case 2:a={type:r1V,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(f)};V(this,a.type,a);c6W=5;break;}}};c.prototype.jUa=function(){var J6W,a,z1V;J6W=2;while(J6W!==4){z1V="max";z1V+="Bi";z1V+="trat";z1V+="e";z1V+="s";switch(J6W){case 2:a={type:z1V,audio:this.jB[b.G.AUDIO],video:this.jB[b.G.VIDEO]};V(this,a.type,a);J6W=4;break;}}};c.prototype.iUa=function(a,b,c){var E6W,d,f,C1V,e1V;E6W=2;while(E6W!==8){C1V="notifyMan";C1V+="if";C1V+="estSelec";C1V+="t";C1V+="ed: ";e1V="manifestSele";e1V+="ct";e1V+="ed";switch(E6W){case 2:d=this.K;f=this.wa[a];a={type:e1V,index:a,replace:b,ptsStarts:c,streamingOffset:f.U+f.Um};E6W=3;break;case 3:d.We&&(b=C1V+JSON.stringify(a),d.We&&this.zh(b));V(this,a.type,a);E6W=8;break;}}};c.prototype.gUa=function(a,b,c){var g6W,d,s1V;g6W=2;while(g6W!==9){s1V="manifest";s1V+="P";s1V+="resen";s1V+="ting";switch(g6W){case 2:d=this.wa[a];b={type:s1V,index:a,pts:Math.floor(b),movieId:d.S,replace:d.replace,contentOffset:c};0<a&&(b.previousMovieId=this.wa[a-1].S);g6W=3;break;case 3:V(this,b.type,b);g6W=9;break;}}};c.prototype.Fwa=function(a,b,c,d){var p6W,f,g,f1V;p6W=2;while(p6W!==13){f1V="st";f1V+="reamSelect";f1V+="ed";switch(p6W){case 7:g.oi.P=b.P;g.oi.location=b.location;g.hv&&g.hv===b||(a.CE.Kpb(d,g.hv,b),g.hv=b,d=0,b.Ia&&b.Ia.Bc&&b.Ia.pa&&(d=b.Ia.pa.Aa),g=a.Ic.Nc,a={type:f1V,nativetime:K.time.da(),mediaType:f,streamId:c,manifestIndex:b.na,trackIndex:b.hp,streamIndex:b.lf,movieTime:Math.floor(a.Ra+g),bandwidth:d,longtermBw:d,rebuffer:0},V(this,a.type,a));p6W=13;break;case 2:f=a.R;b=this.wa[b].je[f].Yl[c];g=this.Xa.ob[f];g.oi||(g.oi={});g.oi.id=b.id;g.oi.index=b.lf;p6W=7;break;}}};c.prototype.tUa=function(a,b,c,d,f,g){var i6W,Y1V;i6W=2;while(i6W!==5){Y1V="s";Y1V+="tream";Y1V+="Presen";Y1V+="t";Y1V+="ing";switch(i6W){case 2:a={type:Y1V,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.R,manifestIndex:d,trackIndex:f,streamIndex:g};V(this,a.type,a);i6W=5;break;}}};c.prototype.xUa=function(a){var D6W,g1V;D6W=2;while(D6W!==5){g1V="v";g1V+="i";g1V+="deoLooped";switch(D6W){case 2:a={type:g1V,offset:a};V(this,a.type,a);D6W=5;break;}}};c.prototype.Nka=function(a,c,d,f,g,h,l){var G6W,q1V,S1V,a1V,L1V;G6W=2;while(G6W!==1){q1V="a";q1V+="ud";q1V+="io";S1V="v";S1V+="id";S1V+="eo";a1V="loc";a1V+="at";a1V+="ion";a1V+="Selected";L1V="locationSe";L1V+="le";L1V+="cte";L1V+="d";switch(G6W){case 2:V(this,L1V,{type:a1V,mediatype:a===b.G.VIDEO?S1V:q1V,location:c,locationlv:d,serverid:f,servername:g,selreason:h,seldetail:l});G6W=1;break;}}};c.prototype.Pka=function(a,c,d,f,g){var W6W,h,l,I1V,D1V,j1V;W6W=2;while(W6W!==14){I1V="se";I1V+="rverSwit";I1V+="ch";D1V="a";D1V+="u";D1V+="di";D1V+="o";j1V="v";j1V+="i";j1V+="d";j1V+="e";j1V+="o";switch(W6W){case 9:l.Bc&&(c.throughput=l.pa.Aa);d=this.Xa.ob[a];d.Cy&&(c.oldserver=d.Cy);V(this,c.type,c);W6W=14;break;case 2:a=a.R;h=a==b.G.VIDEO?j1V:D1V;l=this.$a.Wa.get(!1);c={type:I1V,mediatype:h,server:c,reason:d,location:f,bitrate:g,confidence:l.Bc};W6W=9;break;}}};c.prototype.vUa=function(a,b,c){var C6W,X1V;C6W=2;while(C6W!==5){X1V="u";X1V+="pdateS";X1V+="tream";X1V+="ingPt";X1V+="s";switch(C6W){case 2:a={type:X1V,manifestIndex:a,trackIndex:b,movieTime:Math.floor(c)};V(this,a.type,a);C6W=5;break;}}};c.prototype.aUa=function(a){var z6W,Q1V;z6W=2;while(z6W!==5){Q1V="f";Q1V+="ir";Q1V+="stRequestApp";Q1V+="ended";switch(z6W){case 2:a={type:Q1V,mediatype:a.R,time:K.time.da()};V(this,a.type,a);z6W=5;break;}}};c.prototype.fUa=function(){var R6W,a,c,O1V,c1V,G1V;R6W=2;while(R6W!==3){O1V="initialAud";O1V+="ioTr";O1V+="ack";c1V="over nu";c1V+="mbe";c1V+="r";c1V+=" of tracks";c1V+=":";G1V="au";G1V+="dioTr";G1V+="ackIndex:";switch(R6W){case 2:a=this.yn[b.G.AUDIO];c=this.Cn.audio_tracks;a>c.length?this.fa(G1V,a,c1V,c.length):(a={type:O1V,trackId:c[a].track_id,trackIndex:a},V(this,a.type,a));R6W=3;break;}}};c.prototype.UTa=function(a,b,c){var U6W,B1V;U6W=2;while(U6W!==9){B1V="aud";B1V+="ioTrackSwitchStar";B1V+="ted";switch(U6W){case 3:V(this,c.type,c);U6W=9;break;case 2:a=a.audio_tracks;b=a[b];c=a[c];c={type:B1V,oldLangCode:b.language,oldNumChannels:b.channels,newLangCode:c.language,newNumChannels:c.channels};U6W=3;break;}}};c.prototype.TTa=function(a){var P6W;P6W=2;while(P6W!==1){switch(P6W){case 2:setTimeout(function(){var l6W,b,p1V;l6W=2;while(l6W!==4){p1V="aud";p1V+="ioTrac";p1V+="kSwitchC";p1V+="omp";p1V+="lete";switch(l6W){case 2:b={type:p1V,trackId:a.Wb,trackIndex:a.Bf};V(this,b.type,b);l6W=4;break;}}}.bind(this),0);P6W=1;break;}}};c.prototype.sUa=function(a,b){var b6W,t1V;b6W=2;while(b6W!==5){t1V="c";t1V+="urre";t1V+="ntStreamI";t1V+="nfeasible";switch(b6W){case 2:a={type:t1V,oldBitrate:a,newBitrate:b};V(this,a.type,a);b6W=5;break;}}};c.prototype.ISa=function(a){var h6W,b;h6W=2;while(h6W!==8){switch(h6W){case 3:this.K=this.hRa(a.Ue,this.K);this.wa.forEach(function(a,b){var T6W;T6W=2;while(T6W!==1){switch(T6W){case 2:a.t5||0===b||this.RO(a.S,b,a.je);T6W=1;break;}}}.bind(this));h6W=8;break;case 2:b=a.mediaType;a=this.wa[a.manifestIndex].je[b].Yl[a.streamId];this.NVa(this.la.Gf.li(b),a);h6W=3;break;}}};c.prototype.LSa=function(a){var Z6W,b;Z6W=2;while(Z6W!==8){switch(Z6W){case 2:a=a.request;b=a.jf;b.Isa=!0;Z6W=3;break;case 3:a.rR&&this.aUa(a);a.Ip&&this.qUa(b.R,a.na,b.Ic.qa);Z6W=8;break;}}};c.prototype.NVa=function(a,b){var w6W;w6W=2;while(w6W!==1){switch(w6W){case 2:this.Xa.ob[a.R].lo={id:b.id,index:b.lf,P:b.P,pa:b.Ia&&b.Ia.Bc&&b.Ia.pa?b.Ia.pa.Aa:0,location:b.location};w6W=1;break;}}};c.prototype.VZ=function(a,b,c){var s6W;s6W=2;while(s6W!==6){switch(s6W){case 2:s6W=!c||c.Dk&&c.soa?1:6;break;case 9:a.Qpa=!0;s6W=8;break;case 3:return;break;case 1:s6W=c?5:8;break;case 4:s6W=a.Qpa?3:9;break;case 8:this.ZTa(b,c);this.CB(this.zc+1);s6W=6;break;case 5:a=this.Xa.ob[a.R];s6W=4;break;}}};c.prototype.XTa=function(a){var x6W,b,T1V,H1V;x6W=2;while(x6W!==9){T1V="s";T1V+="tartBuffer";T1V+="ing";H1V="bufferi";H1V+="ng";H1V+="Started";switch(x6W){case 3:this.a_=a||0;x6W=9;break;case 2:b={type:H1V,time:K.time.da(),percentage:a||0};V(this,b.type,b);this.emit(T1V);x6W=3;break;}}};c.prototype.VTa=function(){var n6W,a,c,d,f,d1V;n6W=2;while(n6W!==6){d1V="buf";d1V+="fe";d1V+="r";d1V+="i";d1V+="ng";switch(n6W){case 2:a=this.K;c=K.time.da();n6W=4;break;case 8:a=Math.min(Math.max(Math.round(100*(d.FJ?(c-this.sZ)/a.VD:d.xi?d.xi:f/a.ri)),this.a_),99);a!=this.a_&&(c={type:d1V,time:c,percentage:a},V(this,c.type,c),this.a_=a);n6W=6;break;case 4:d=this.la.Gf;d=this.Uf?d.li(b.G.VIDEO):d.li(b.G.AUDIO);f=d.ce;n6W=8;break;}}};g2M=191;break;case 191:c.prototype.WTa=function(){var Y6W,a,c,d,f,g,J1V;Y6W=2;while(Y6W!==11){J1V="buffe";J1V+="ringC";J1V+="omplete";switch(Y6W){case 9:this.Mka();c=this.Uf?this.Xa.ob[b.G.VIDEO]:this.Xa.ob[b.G.AUDIO];g=c.tH;d={type:J1V,time:K.time.da(),actualStartPts:g,aBufferLevelMs:d?d.ce:0,vBufferLevelMs:f?f.ce:0,selector:f?f.Uza:d.Uza,initBitrate:c.El,skipbackBufferSizeBytes:this.$a.$Va};Y6W=14;break;case 2:a=this.K;c=this.la.Ge;d=c[b.G.AUDIO];f=c[b.G.VIDEO];Y6W=9;break;case 14:this.zd.k7a({initSelReason:c.io,initSelectionPredictedDelay:c.gJ,buffCompleteReason:c.sna,hashindsight:!!this.Wn,hasasereport:!!this.Bl});V(this,d.type,d);a.FQ&&(this.t_=!0);Y6W=11;break;}}};c.prototype.g6=function(a){var d6W,c,d,f,g;d6W=2;while(d6W!==13){switch(d6W){case 14:return c;break;case 2:c={};d=this.la.Ge;f=this.Qe;d6W=3;break;case 9:g=d[b.G.VIDEO];d=d[b.G.AUDIO];g&&d&&(c.vspts=g.Ra,c.aspts=d.Ra,c.vbuflbytes=g.qu,c.abuflbytes=d.qu,c.vbuflmsec=g.ce,c.abuflmsec=d.ce,a&&(c.a=d.Oa.Y.toJSON(),c.v=g.Oa.Y.toJSON()));d6W=6;break;case 3:d6W=d?9:14;break;case 6:a&&f&&(a=f[b.G.VIDEO],f=f[b.G.AUDIO],a&&f&&(c.atoappend=JSON.stringify(a.ei),c.vtoappend=JSON.stringify(f.ei)));d6W=14;break;}}};c.prototype.Mka=function(){var v6W,a,c,d,f,g,h,m1V;v6W=2;while(v6W!==10){m1V="upd";m1V+="ateBuffe";m1V+="rL";m1V+="ev";m1V+="el";switch(v6W){case 2:a=this.K;v6W=5;break;case 6:this.zd.eXa(g,c);h=this.$a.Wa.get(!1);d={type:m1V,abuflbytes:d?d.qu:0,vbuflbytes:f?f.qu:0,totalabuflmsecs:g,totalvbuflmsecs:c,predictedFutureRebuffers:0,currentBandwidth:h.Bc?h.pa.Aa:0};c>a.$va&&this.$a.Wc&&this.$a.Wc.cH(!0,this.fk.sessionId);V(this,d.type,d);v6W=10;break;case 4:c=this.la.Ge;d=c[b.G.AUDIO];f=c[b.G.VIDEO];g=d?d.ce:0;c=f?f.ce:0;v6W=6;break;case 5:v6W=!this.oe()?4:10;break;}}};c.prototype.iTa=function(a){var j6W,b,c,d,A4V,P4V,v4V,Z4V,y4V,F4V;j6W=2;while(j6W!==13){A4V=", s";A4V+="yst";A4V+="emDelta: ";P4V="memory";P4V+="Usa";P4V+="ge at tim";P4V+="e: ";v4V=", osAllocato";v4V+="r";v4V+="Delta: ";Z4V=", ";Z4V+="jsHea";Z4V+="pDe";Z4V+="lt";Z4V+="a: ";y4V=", ";y4V+="fas";y4V+="tMallo";y4V+="c";y4V+="Delta: ";F4V="mem";F4V+="o";F4V+="ry";F4V+="Usage at ";F4V+="time: ";switch(j6W){case 2:j6W=1;break;case 1:j6W=!l.V(a)?5:13;break;case 5:l.ka(a.wL);j6W=4;break;case 3:b=a.Cqa-this.kB.Cqa;c=a.Xsa-this.kB.Xsa;d=a.jxa-this.kB.jxa;(4194304<b||4194304<d)&&this.fa(F4V+K.time.da()+y4V+b+Z4V+c+v4V+d);j6W=6;break;case 4:j6W=!l.V(this.kB)?3:14;break;case 14:this.kB=a;j6W=13;break;case 6:l.ka(a.wL)&&l.ka(this.kB.wL)&&(b=a.wL-this.kB.wL,4194304<b&&this.fa(P4V+K.time.da(),A4V+b));j6W=14;break;}}};c.prototype.$$a=function(a){var f6W,b,c,d,f,g,h;f6W=2;while(f6W!==13){switch(f6W){case 4:c=this.Xa.ob[a];d=b.Ls;c=c.lo?c.lo.P:0;f=b.Oa.uxa;g=this.la.Nc;h=this.Lj()[a];return{type:a,availableMediaBuffer:h-d,completeBuffer:b.ce,incompleteBuffer:f,playbackBitrate:b.Mxa,streamingBitrate:c,streamingTime:b.Ra+g,usedMediaBuffer:d,toappend:b.btb};break;case 5:f6W=b?4:13;break;case 2:b=this.la.Gf.li(a);f6W=5;break;}}};c.prototype.wUa=function(){var F6W,a,i4V;F6W=2;while(F6W!==9){i4V="s";i4V+="tream";i4V+="ingstat";switch(F6W){case 2:this.K.ueb&&K.memory.E9a(this.iTa.bind(this));a={type:i4V,time:K.time.da(),playbackTime:this.ge()};this.zd.l7a(a);F6W=3;break;case 3:V(this,a.type,a);F6W=9;break;}}};c.prototype.Lka=function(){var k6W,a,o4V;k6W=2;while(k6W!==4){o4V="a";o4V+="ser";o4V+="e";o4V+="por";o4V+="t";switch(k6W){case 2:a={type:o4V};this.vla.j7a(a)&&V(this,a.type,a);k6W=4;break;}}};c.prototype.STa=function(){var H6W,a,w4V;H6W=2;while(H6W!==4){w4V="aserepor";w4V+="t";w4V+="enabled";switch(H6W){case 2:a={type:w4V};V(this,a.type,a);H6W=4;break;}}};c.prototype.eUa=function(a){var N6W,b,c,d,f,g,h,l,m,p,k,r,n,u,q,x,v,t,z,B,y,n4V,x4V,u4V,K4V,E4V;N6W=2;while(N6W!==7){n4V="hinds";n4V+="i";n4V+="ghtrep";n4V+="ort";switch(N6W){case 4:c=this.K.YI;for(d in c){x4V="h";x4V+="v";x4V+="m";x4V+="af";x4V+="dp";u4V="hv";u4V+="m";u4V+="a";u4V+="f";u4V+="gr";K4V="hv";K4V+="m";K4V+="a";K4V+="ft";K4V+="b";E4V="h";E4V+="t";E4V+="w";E4V+="b";E4V+="r";f=c[d];g=0;h=0;l=0;m=0;p=0;k=0;u=!1;q=-1;x=-1;v=-1;t=-1;z=-1;B=-1;for(y in a){n=a[y];void 0===n.nd&&(r=(r=n.sols)&&r[f])&&(u=!0,l+=r.dlvdur,g+=r.dltwbr*r.dlvdur,h+=r.dlvmaf*r.dlvdur);k+=n.pbdur;m+=n.pbtwbr*n.pbdur;p+=n.pbvmaf*n.pbdur;r=n.rr;n=n.ra;}0<k&&(q=1*m/k,t=1*p/k);u&&(0<l&&(x=1*g/l,z=1*h/l),0<l+k&&(v=1*(g+m)/(l+k),B=1*(h+p)/(l+k)));switch(f){case E4V:b.htwbr=v;b.hptwbr=x;b.pbtwbr=q;r&&(b.rr=r,b.ra=n);break;case K4V:b.hvmaftb=B;b.hpvmaftb=z;b.pbvmaftb=t;r&&(b.rrvmaftb=r,b.ravmaftb=n);break;case u4V:b.hvmafgr=B;b.hpvmafgr=z;b.pbvmafgr=t;r&&(b.rrvmafgr=r,b.ravmafgr=n);break;case x4V:b.hvmafdp=B,b.hpvmafdp=z,b.pbvmafdp=t,r&&(b.rrvmafdp=r,b.ravmafdp=n);}}N6W=9;break;case 5:b={type:n4V};N6W=4;break;case 1:N6W=a?5:7;break;case 2:N6W=1;break;case 9:this.f3&&(b.report=a);V(this,b.type,b);N6W=7;break;}}};c.prototype.$Ta=function(a){var e6W,b,k4V,R4V,N4V;e6W=2;while(e6W!==6){k4V="e";k4V+="n";k4V+="dOf";k4V+="Strea";k4V+="m";R4V=" ";R4V+="len";R4V+="g";R4V+="th: ";N4V="notifyEn";N4V+="dOfStream igno";N4V+="red, more manifests, index: ";switch(e6W){case 4:a.fa(N4V+this.zc+R4V+this.wa.length);e6W=6;break;case 5:e6W=this.zc+1<this.wa.length?4:3;break;case 1:e6W=!a.wq?5:6;break;case 3:this.Qe[a.R].r8();b={type:k4V,mediaType:a.R};V(this,b.type,b);a.wq=!0;e6W=6;break;case 2:e6W=1;break;}}};c.prototype.YTa=function(a){var L6W,U4V;L6W=2;while(L6W!==5){U4V="create";U4V+="reque";U4V+="s";U4V+="t";switch(L6W){case 2:a={type:U4V,mediaRequest:a};V(this,a.type,a);L6W=5;break;}}};c.prototype.tmb=function(){var K6W,a,W4V;K6W=2;while(K6W!==4){W4V="requ";W4V+="estGar";W4V+="bageCo";W4V+="llection";switch(K6W){case 2:a={type:W4V,time:K.time.da()};V(this,a.type,a);K6W=4;break;}}};c.prototype.zh=function(a){var o6W,h4V,M4V;o6W=2;while(o6W!==5){h4V=",";h4V+=" ";M4V="manag";M4V+="e";M4V+="rdebugeven";M4V+="t";switch(o6W){case 2:a={type:M4V,message:"@"+K.time.da()+h4V+a};V(this,a.type,a);o6W=5;break;}}};c.prototype.kk=function(a,b,c,d,f){var O6W,b4V;O6W=2;while(O6W!==1){b4V="NFErr";b4V+="_MC_S";b4V+="treamingF";b4V+="ailur";b4V+="e";switch(O6W){case 2:this.vx||(l.V(b)&&(b=b4V),this.vx=!0,this.uUa(b,a,c,d,f));O6W=1;break;}}};c.prototype.NSa=function(a){var M6W,c,f,g,a4V,L4V,g4V,Y4V,f4V,s4V,C4V,e4V,z4V,r4V,l4V,V4V;M6W=2;while(M6W!==7){a4V=",";a4V+=" last";a4V+=" native ";a4V+="code: ";L4V=", la";L4V+="st h";L4V+="ttp";L4V+=" code: ";g4V=",";g4V+=" last e";g4V+="rror";g4V+=" ";g4V+="code: ";Y4V=" ";Y4V+="is per";Y4V+="manent: ";f4V="Streami";f4V+="ng failure,";f4V+=" sta";f4V+="te is ";s4V=" >";s4V+=" Resettin";s4V+="g failures";C4V="NFErr_MC_St";C4V+="reamingFa";C4V+="i";C4V+="l";C4V+="ure";e4V="Temporary failure while bu";e4V+="fferin";e4V+="g";z4V=" > We are buff";z4V+="ering";z4V+=", calling it!";r4V="NFErr_MC_Stream";r4V+="ingF";r4V+="ail";r4V+="u";r4V+="re";l4V="Pe";l4V+="rmane";l4V+="nt fai";l4V+="l";l4V+="ure";V4V=" >";V4V+=" Per";V4V+="manent failure, do";V4V+="ne";switch(M6W){case 8:c?(this.fa(V4V),this.kk(l4V,r4V,f,g,a)):d(this.zb.value)?(this.fa(z4V),this.kk(e4V,C4V,a,g,a)):(this.fa(s4V),this.Cu.yC.OK());M6W=7;break;case 2:c=a.Mcb;f=a.pib;g=a.qib;a=a.rib;this.fa(f4V+b.Da.name[this.zb.value]+Y4V+c+g4V+f+L4V+g+a4V+a);M6W=8;break;}}};c.prototype.KSa=function(){var q6W,S4V;q6W=2;while(q6W!==3){S4V="Network fail";S4V+="ures r";S4V+="eset!";switch(q6W){case 2:this.fa(S4V);this.vx=!1;this.U_();this.di();q6W=3;break;}}};c.prototype.eVa=function(a){var I6W,b;I6W=2;while(I6W!==9){switch(I6W){case 2:b=this.K.mK.fallbackBound;void 0===this.sP&&(this.sP=[]);void 0===this.sP[a]&&(this.sP[a]=Math.floor(2*Math.random()*b)-b);I6W=3;break;case 3:return this.sP[a];break;}}};c.prototype.eka=function(a,b){var t6W,g,c,d,f,h,c4V,G4V,Q4V,X4V,I4V,D4V,j4V,q4V;t6W=2;while(t6W!==21){c4V=", but ";c4V+="no head";c4V+="ers se";c4V+="en, marking pipeline drmRe";c4V+="ady";G4V="dr";G4V+="m header hea";G4V+="d";G4V+="er: ";Q4V="syn";Q4V+="thesized p";Q4V+="er chunk vmafs: ";X4V="fragment ";X4V+="co";X4V+="unt:";I4V=",";I4V+=" ";I4V+="offs";I4V+="e";I4V+="t: ";D4V=",";D4V+=" ";D4V+="duration: ";j4V=", ";j4V+="startPt";j4V+="s";j4V+=": ";q4V="fragmen";q4V+="t";q4V+=": ";switch(t6W){case 11:f=d.length;c=[];t6W=20;break;case 12:t6W=c.mK&&c.mK.enabled&&void 0===d.oq&&c.mK.simulatedFallback?11:27;break;case 15:d.Aob(c);t6W=27;break;case 6:h=d.get(g);a.Jb(q4V+g+j4V+h.U+D4V+h.duration+I4V+h.offset);t6W=13;break;case 3:f=d.length;a.Jb(X4V,f);t6W=8;break;case 16:F6hh.h1V(0);a.Jb(F6hh.M1V(Q4V,c));t6W=15;break;case 25:b.ay&&!b.a5a&&(a.fa(G4V+b.toString()+c4V),this.SQ(this.wa[b.na].S),this.VZ(a,b.na));t6W=24;break;case 13:++g;t6W=7;break;case 27:this.Jia(a,b);b.Ve&&(a.Ve=b.Ve,this.VZ(a,b.na,a.Ve));t6W=25;break;case 4:t6W=c.t2?3:12;break;case 18:c[g]=Math.max(0,b.stream.qc+this.eVa(g));t6W=17;break;case 20:g=0;t6W=19;break;case 8:g=0;t6W=7;break;case 2:c=this.K;d=b.Y;t6W=4;break;case 24:b.yE&&(a.mV=void 0);this.Qe[b.R].chb();this.Eja();t6W=21;break;case 7:t6W=g<f?6:12;break;case 19:t6W=g<f?18:16;break;case 17:++g;t6W=19;break;}}};c.prototype.IG=function(a,c,d,f,g,h){var X6W,l,m,p,k,r,t4V,p4V;X6W=2;while(X6W!==13){t4V="video";t4V+="_";t4V+="tr";t4V+="acks";p4V="a";p4V+="udi";p4V+="o";p4V+="_tra";p4V+="cks";switch(X6W){case 3:k=a[p[1]].length;h===b.G.AUDIO&&p.pop();r=!1;p.forEach(function(h,p){var r6W,n,u,q,x,v,t;r6W=2;while(r6W!==11){switch(r6W){case 4:r6W=this.Qi[p]?3:11;break;case 2:n=p===b.G.VIDEO;u=p===b.G.AUDIO;r6W=4;break;case 8:v=a[h];h=d[p];t=v[h];v.forEach(function(b,d){var u6W,g,h,m;u6W=2;while(u6W!==8){switch(u6W){case 2:g=T.CR(c,a,p,d,void 0,this.W);h=b.streams;m={};l.wV.enabled&&l.wV.profiles&&l.wV.profiles.forEach(function(a){var V6W;V6W=2;while(V6W!==1){switch(V6W){case 2:m[a]={action:l.wV.action,applied:!1};V6W=1;break;}}});h.forEach(function(a,b){var y6W,d,k,u,v,t,z,B4V,O4V,D1W;y6W=2;while(y6W!==27){B4V="kee";B4V+="pLow";B4V+="est";O4V="n";O4V+="o";O4V+="n";O4V+="e";switch(y6W){case 13:y6W=u<l.Xva||u>l.lva?12:11;break;case 2:k=a.downloadable_id;u=a.bitrate;v=a.vmaf;t=a.content_profile;y6W=9;break;case 17:z.inRange&&z.Je&&u>this.jB[p]&&(this.jB[p]=u);x[k]=D.a4(g,b,z,this.K,this.W);(a=q&&q[k])&&a.Qc&&(x[k].kQ(a),b=this.Lj()[p],x[k].Fl=x[k].ES(a.Y,this.K.VJ,b));y6W=27;break;case 8:y6W=n?7:17;break;case 11:y6W=v<l.Yva||v>l.mva?10:20;break;case 7:F6hh.b1V(1);D1W=F6hh.W1V(57,20,19,19);d=D1W==a.content_profile.indexOf(O4V);z.Je=f&&!d||!f&&d;z.Je&&this.Tia&&da(this.Pia(a.content_profile,a.bitrate,this.Tia),z);y6W=13;break;case 10:z.inRange=!1;y6W=20;break;case 9:z={inRange:!0,Je:!0};y6W=8;break;case 20:m.hasOwnProperty(t)&&B4V===m[t].action&&(m[t].applied?z.inRange=!1:m[t].applied=!0);r=r||d;y6W=18;break;case 12:z.inRange=!1;y6W=11;break;case 18:f&&l.b7a&&0===c?(v=1,b<h.length-1&&a.P==h[b+1].P&&v++,0<b&&a.P==h[b-1].P&&v++,d&&1==v&&(this.TN=z.Je=!0)):this.TN=!1;y6W=17;break;}}},this);u6W=8;break;}}},this);v=t.streams.map(function(a){var Q6W;Q6W=2;while(Q6W!==1){switch(Q6W){case 4:return x[a.downloadable_id];break;Q6W=1;break;case 2:return x[a.downloadable_id];break;}}});r6W=12;break;case 3:q=g?g[p].Yl:void 0;x={};r6W=8;break;case 12:m[p]={Bf:h,hp:h+(u?k:0),ec:v,Yl:x,Dnb:t,Ue:void 0};r6W=11;break;}}},this);X6W=6;break;case 6:r&&m[1]&&m[1].ec&&m[1].ec.forEach(function(a){var A6W;A6W=2;while(A6W!==1){switch(A6W){case 2:a.Ll||(a.ii=!0);A6W=1;break;}}});return m;break;case 2:l=this.K;m=[];p=[p4V,t4V];X6W=3;break;}}};c.prototype.MSa=function(a,b){var B6W;B6W=2;while(B6W!==1){switch(B6W){case 2:this.mZ[a.R]=this.$a.rra(b);B6W=1;break;}}};c.prototype.LRa=function(a,c,d,f){var a1W,g,h,l,m,p,T4V,H4V;a1W=2;while(a1W!==20){T4V="s";T4V+="t";T4V+="a";T4V+="rtp";T4V+="lay";H4V="l";H4V+="ogda";H4V+="t";H4V+="a";switch(a1W){case 6:h=l.location===l.iU;m=l.Sb===l.g9;f&&l.Sb&&!d.Cy?(p=b.ye.zt,l.Tk=b.ye.name[p],this.Pka(a,l.Sb,l.Tk,l.location,l.P),d.Cy=l.Sb):l.Sb&&l.Sb!==d.Cy&&(p=l.Tk,p=m?void 0===d.Cy?b.ye.zt:c.oE===b.ye.wY?b.ye.ROa:b.ye.qW:b.ye.QOa,l.Tk=b.ye.name[p],this.Pka(a,l.Sb,l.Tk,l.location,l.P),d.Cy=l.Sb);d.kD||(m={type:H4V,target:T4V,fields:{}},g===b.G.AUDIO?m.fields.alocid=l.location:g===b.G.VIDEO&&(m.fields.locid=l.location),this.emit(m.type,m));a1W=11;break;case 8:a1W=void 0===l.iU||void 0===l.g9?7:6;break;case 2:g=a.R;h=this.wa[c];c=h.mo;l=h.je[g].Yl[d];d=this.Xa.ob[g];a1W=8;break;case 7:h=c.L4().filter(function(a){var m1W,G1W;m1W=2;while(m1W!==1){switch(m1W){case 2:return void 0!==a.vc[l.id];break;case 4:F6hh.h1V(2);G1W=F6hh.M1V(6,6,3868,17,38);return G1W===a.vc[l.id];break;m1W=1;break;}}})[0],m=h.children.filter(function(a){var S1W;S1W=2;while(S1W!==1){switch(S1W){case 2:return a.Vc.some(function(a){var c1W;c1W=2;while(c1W!==1){switch(c1W){case 4:return a.stream.id!=l.id;break;c1W=1;break;case 2:return a.stream.id===l.id;break;}}});break;}}})[0],l.iU=h.id,l.g9=m.id;a1W=6;break;case 11:f&&l.location&&!d.kD?(p=b.ye.zt,l.Tk=b.ye.name[p],this.Nka(a.R,l.location,l.V6,l.Sb,l.Fz,l.Tk,l.Tp),d.kD=l.location):l.location&&l.location!==d.kD&&(p=l.Tk,p=h?void 0===d.kD?b.ye.zt:c.oE===b.ye.wY?b.ye.wJa:b.ye.qW:b.ye.vJa,l.Tk=b.ye.name[p],this.Nka(a.R,l.location,l.V6,l.Sb,l.Fz,l.Tk,l.Tp),l.Tp=void 0,d.kD=l.location);this.K.xo||(l.rua=l.location,l.sua=l.Sb);a1W=20;break;}}};c.prototype.ez=function(a){var J1W,d4V;J1W=2;while(J1W!==1){d4V="request";d4V+="Erro";d4V+="r ignored,";d4V+=" pipelines shutdown, medi";d4V+="aRequest:";switch(J1W){case 2:this.oe()?this.fa(d4V,a):(a.Ec||this.Fwa(a.jf,a.na,a.Ya,a.cc),this.LRa(a.jf,a.na,a.Ya,a.Ec),this.Hla(a,a.location,a.gd));J1W=1;break;}}};c.prototype.xv=function(a){var E1W,J4V;E1W=2;while(E1W!==1){J4V="onfirstbyte ignored, pipelines shu";J4V+="tdown, me";J4V+="dia";J4V+="Request:";switch(E1W){case 2:this.oe()?this.fa(J4V,a):a.q0||(this.Xa.ob[a.R].connected=!0);E1W=1;break;}}};g2M=252;break;case 108:c.prototype.Iia=function(a,b){var X0M,c,f,g,h;X0M=2;while(X0M!==8){switch(X0M){case 2:c=a.R;f=this.Xa.ob[c];g=f.lo;h=f.hv;g&&h&&(f=f.Hj)&&(d(this.zb.value)||this.zd.cXa(c,f,g.P,h.P,a.Zsa.P,b));X0M=8;break;}}};c.prototype.FSa=function(a){var r0M;r0M=2;while(r0M!==1){switch(r0M){case 2:return this.la.rna.reduce(function(b,c){var u0M;u0M=2;while(u0M!==1){switch(u0M){case 4:return b/c.C$a(a);break;u0M=1;break;case 2:return b+c.C$a(a);break;}}},0);break;}}};c.prototype.cja=function(a,c){var V0M,f,g,h,m,p,k,r,n,u,Z5V,y5V,F5V,m4V;V0M=2;while(V0M!==23){Z5V=" ";Z5V+=">=";Z5V+=" ";y5V="No vacan";y5V+="cy, ";y5V+="stalling due to max frameCo";y5V+="unt:";F5V="fl";F5V+="oore";F5V+="d to";F5V+=" 0";m4V="n";m4V+="egative s";m4V+="cheduledBufferLevel:";switch(V0M){case 27:V0M=(m=d(r))?26:24;break;case 13:n=c?c.Ra:0;u=c?f.usb?c.uZa:c.tZa:void 0;V0M=11;break;case 2:f=this.K;g=a.R;h=a.Ic;m=this.wa[h.na];V0M=9;break;case 20:h=a.Oa.uxa;V0M=19;break;case 19:V0M=h>=f.xD||r===b.Da.Df&&a.ce>f.afb&&!this.ai&&!this.yZ&&!this.XI()||p&&h>Math.max(p*f.C7/100,f.U7)||c&&(p=a.Ra-n,this.Qi[c.R]&&!c.ug&&p>=f.F7&&k>f.ri&&(this.$a.Ycb||void 0===u||u<f.$eb))||f.kr&&a.Oa.Ko>=f.H7||this.FSa(g)>=f.Ny?18:17;break;case 17:p=this.la.erb();V0M=16;break;case 24:return f.dy&&a.Oa.zv>=f.pfb||!m&&0<f.AD&&g===b.G.VIDEO&&a.Ls>f.AD||0<f.hs&&!m&&a.Ls+(c?c.Ls:0)>f.hs||g===b.G.VIDEO&&this.ai&&a.ce>f.B7&&(c=this.$a.Wa.get(!1),c.Bc&&c.pa&&c.pa.Aa*a.ME>f.A7)?!1:!0;break;case 9:p=a.ce;k=this.ge();r=this.zb.value;k=a.Ra+h.Nc-k;0>k&&(a.fa(m4V,k,F5V),k=0);V0M=13;break;case 10:return a.fa(y5V,a.Yp+Z5V+f.Wl),!1;break;case 16:V0M=!l.V(f.HJ)&&p>=f.HJ||a.ME+h>=Math.max(f.ZS,this.$a.IAa+f.v8*m.wD[g])?15:27;break;case 15:return!1;break;case 26:V0M=(r=1,a.e1<f.My&&(r=f.My),a.Oa.zv>=r)?25:24;break;case 11:V0M=f.Wl&&a.Yp>=f.Wl?10:20;break;case 25:return!1;break;case 18:return!1;break;}}};c.prototype.mTa=function(a,b){var y0M,c,d,f;y0M=2;while(y0M!==12){switch(y0M){case 2:c=this.K;y0M=5;break;case 14:y0M=f&&f.Y&&(d=this.bja(a,d),!d.ZL&&d.rl&&this.cja(a,b))?13:12;break;case 5:y0M=!(!c.s0&&!c.kr||a.G6+c.b0>K.time.da())?4:12;break;case 4:a.G6=K.time.da();c=this.Xa.TI(a);d=c.lf;y0M=8;break;case 13:return c;break;case 8:y0M=!l.V(d)?7:12;break;case 7:d=a.ec[d];f=this.bf[a.R][d.id];y0M=14;break;}}};c.prototype.zSa=function(a,b){var Q0M,c,d,f,g;Q0M=2;while(Q0M!==12){switch(Q0M){case 7:Q0M=g?6:14;break;case 3:g=this.bf[d][f];Q0M=9;break;case 2:c=this.K;d=a.R;f=b.id;Q0M=3;break;case 9:Q0M=g&&!g.Y?8:7;break;case 8:g.yE&&(a.mV===f&&(a.mV=void 0),g.yE=!1);Q0M=12;break;case 6:return g;break;case 13:c=this.gO(d,b.Rj,b.ii),this.CG(a,this.um,b,{url:b.url,offset:0,Z:c}),this.oka=K.time.da();Q0M=12;break;case 14:Q0M=l.V(c.W7)||l.V(this.nka)||l.V(this.oka)||(f=K.time.da(),!(f-this.nka<c.W7||f-this.oka<c.W7))?13:12;break;}}};c.prototype.Et=function(){var A0M,a,c,f,g,h,l,m,p,k,R5V,N5V,n5V,x5V,u5V,K5V,E5V,w5V,o5V,i5V,A5V,P5V,v5V;A0M=2;while(A0M!==30){R5V=" vide";R5V+="o";R5V+=": ";N5V="S";N5V+="e";N5V+="ssion checkBufferingComp";N5V+="lete, audio:";N5V+=" ";n5V="checkBufferingComplete";n5V+=" ignored becaus";n5V+="e stallAtFrameCount already hit";x5V="n";x5V+="/";x5V+="a";u5V="vi";u5V+="de";u5V+="o:";K5V="n";K5V+="/";K5V+="a";E5V="a";E5V+="ud";E5V+="io";E5V+=":";w5V="checkBufferingComplete with enough";w5V+=" frames, decla";w5V+="re bufferingComplete";o5V=" ";o5V+="m";o5V+="s";i5V=" ms, vi";i5V+="deo buffe";i5V+="r: ";A5V=", a";A5V+="udio b";A5V+="uff";A5V+="er: ";P5V=" ";P5V+=">";P5V+="= ";v5V="buffering long";v5V+="er th";v5V+="an limit:";v5V+=" ";switch(A0M){case 9:g=this.Xa.ob[b.G.AUDIO];h=this.Xa.ob[b.G.VIDEO];l=this.la.Ge;c=l[b.G.AUDIO];m=l[b.G.VIDEO];l=c?c.ce:0;A0M=12;break;case 3:return!0;break;case 32:this.VTa();A0M=31;break;case 31:return!1;break;case 34:A0M=(!c||l>a.ri)&&f&&(c=K.time.da()-this.sZ,c>=a.VD)?33:32;break;case 21:A0M=f?35:31;break;case 33:return this.fa(v5V+c+P5V+a.VD+A5V+l+i5V+p+o5V),this.VO(),!0;break;case 22:return this.VO(),!0;break;case 2:a=this.K;f=d(this.zb.value);A0M=4;break;case 23:A0M=g?22:21;break;case 15:A0M=this.vRa?27:25;break;case 25:h=m&&m.Qx<a.Wl;A0M=24;break;case 24:c&&c.Qx<a.Wl||h||(this.fa(w5V,E5V,c?c.Qx:K5V,u5V,m?m.Qx:x5V),this.vRa=g=!0);A0M=23;break;case 12:p=m?m.ce:0;k=a.ri;A0M=10;break;case 35:f=!m||p>a.ri;A0M=34;break;case 20:return!1;break;case 10:A0M=this.Uf&&h.wo>=a.ri&&(a.R9&&(k=h.wo+1E3),a.S9&&(!g.connected||!h.connected))?20:19;break;case 4:A0M=!f&&!this.Ct?3:9;break;case 27:this.fa(n5V);return;break;case 19:a.We&&this.zh(N5V+l+R5V+p);g=this.la.Gf.YB(k);this.Ct&&(l>=a.ri||g)&&(this.GYa(),this.Ct=void 0);A0M=16;break;case 16:A0M=a.Wl&&!g?15:23;break;}}};c.prototype.VO=function(){var B0M,a;B0M=2;while(B0M!==6){switch(B0M){case 5:this.la.Ge.forEach(function(a){var a4M;a4M=2;while(a4M!==1){switch(a4M){case 2:a.seeking=void 0;a4M=1;break;case 4:a.seeking=~9;a4M=0;break;a4M=1;break;}}});d(this.zb.value)&&(a.We&&this.la.Ge.forEach(function(a){var m4M,b,z5V,r5V,l5V,V5V,b5V,h5V,M5V,W5V,U5V,k5V;m4M=2;while(m4M!==9){z5V=", n";z5V+="e";z5V+="xtAppendPts: ";r5V=", ";r5V+="t";r5V+="oAp";r5V+="pen";r5V+="d: ";l5V=", fragment";l5V+="s:";l5V+=" ";V5V=", complete";V5V+="St";V5V+="reamingPts: ";b5V=", str";b5V+="eamin";b5V+="gPts: ";h5V=", pa";h5V+="r";h5V+="ti";h5V+="als: ";M5V=", totalB";M5V+="ufferByt";M5V+="es: ";W5V=", tot";W5V+="alB";W5V+="uffer";W5V+="M";W5V+="s: ";U5V=", buffe";U5V+="rL";U5V+="evel";U5V+="Bytes: ";k5V="bufferi";k5V+="ngComplete: , media";k5V+="Type: ";switch(m4M){case 1:m4M=a?5:9;break;case 2:m4M=1;break;case 5:b=this.Qe[a.R]||{};a=k5V+a.R+U5V+a.qu+W5V+a.ME+M5V+a.Ls+h5V+a.Oa.zv+b5V+a.Ra+V5V+a.Px+l5V+JSON.stringify(a.Oa.Y)+r5V+JSON.stringify(b.ei)+z5V+b.QTa;this.zh(a);m4M=9;break;}}}.bind(this)),this.WTa());this.XG();this.SA&&(clearTimeout(this.SA),this.SA=void 0);this.zb.set(b.Da.Df);this.di();B0M=6;break;case 2:a=this.K;B0M=5;break;}}};c.prototype.Ela=function(a,c){var S4M,c4M;S4M=2;while(S4M!==7){switch(S4M){case 2:a.ug=!0;a.ea=l.ka(c)?c:a.Ra;a.wq=!1;this.VN(a);S4M=3;break;case 9:S4M=this.Wn&&a.R===b.G.VIDEO?8:7;break;case 8:try{c4M=2;while(c4M!==1){switch(c4M){case 2:this.o3(b.Da.LA,{ea:a.ea});c4M=1;break;}}}catch(ca){var e5V;e5V="Hindsight: Erro";e5V+="r evaluating QoE at endOfStr";e5V+="eam: ";F6hh.h1V(0);this.Pp(F6hh.W1V(e5V,ca));}S4M=7;break;case 3:this.Et();S4M=9;break;}}};c.prototype.oVa=function(){var J4M,a;J4M=2;while(J4M!==4){switch(J4M){case 2:a=this.$a.Wa;a&&(a=a.get())&&a.avtp&&this.Fs.gXa({avtp:a.avtp.Aa});J4M=4;break;}}};c.prototype.fWa=function(a){var E4M,c,d,f5V,s5V,C5V;E4M=2;while(E4M!==8){f5V="startup, pl";f5V+="a";f5V+="yerState no longer STARTING:";s5V="f";s5V+="aile";s5V+="d to start audio";s5V+=" pipe";s5V+="line";C5V="failed to s";C5V+="tart vide";C5V+="o pipeline";switch(E4M){case 2:this.zb.set(b.Da.Tg);E4M=5;break;case 9:this.Uf&&!this.Jla(a,c)?this.fa(C5V):this.Vi&&!this.Jla(a,d)?this.fa(s5V):(this.ela=!0,this.wa[0].t5=!0,d=this.Xa.ob[b.G.VIDEO],c=this.Xa.ob[b.G.AUDIO],(d&&0<d.wo||c&&0<c.wo)&&this.bUa(a,c?c.wo:0,d?d.wo:0,c?c.uK:0,d?d.uK:0),this.zb.value!=b.Da.Tg?this.fa(f5V,this.zb.value):(this.YO(0),this.Vi&&this.fUa()));E4M=8;break;case 5:c=this.la.Ge;d=c[b.G.AUDIO];c=c[b.G.VIDEO];E4M=9;break;}}};c.prototype.Jla=function(a,c){var g4M,d,f,g,g5V,Y5V;g4M=2;while(g4M!==12){g5V="NFErr_MC_";g5V+="St";g5V+="reamingInitFailure";Y5V="sta";Y5V+="rt";Y5V+="Pipeline";Y5V+=" failed";switch(g4M){case 4:g4M=l.V(f)?3:9;break;case 2:d=c.R;f=this.Xa.TI(c).lf;g4M=4;break;case 8:g4M=this.bf[d][f.id]?7:6;break;case 3:return this.oe()||this.kk(Y5V,g5V),!1;break;case 9:f=c.ec[f];g4M=8;break;case 7:return!0;break;case 6:g=this.gO(d,f.Rj,f.ii);this.CG(c,a,f,{offset:0,Z:g,ay:!this.ai&&!this.yZ&&d===b.G.VIDEO,Sr:!this.Xa.ob[d].E7a},f.na);return!0;break;}}};c.prototype.YO=function(a,c){var p4M,f,g,h;p4M=2;while(p4M!==10){switch(p4M){case 9:h.tH=void 0;this.UO=!1;this.zb.set(2===a?b.Da.xt:b.Da.Vs);p4M=6;break;case 6:this.XTa(c);this.la.Ge.forEach(function(b){var i4M;i4M=2;while(i4M!==5){switch(i4M){case 2:b.e1=0;b.seeking=0===a||1===a;i4M=5;break;}}});this.sZ=K.time.da();p4M=12;break;case 2:f=this.K;g=this.Xa.ob[b.G.AUDIO]||{};h=this.Xa.ob[b.G.VIDEO]||{};g.tH=void 0;p4M=9;break;case 12:g.vl=h.vl=this.sZ;0===a&&(!this.Uf||0<h.wo)&&(!this.Vi||0<g.wo)&&(c=this.Et())&&f.FQ?(this.ox&&(clearTimeout(this.ox),this.ox=void 0),this.t_=!0):(f.nI&&(this.JZ=setTimeout(function(){var D4M;D4M=2;while(D4M!==1){switch(D4M){case 2:this.oVa();D4M=1;break;case 4:this.oVa();D4M=5;break;D4M=1;break;}}}.bind(this),f.a3)),d(this.zb.value)&&(this.SA=setTimeout(function(){var G4M;G4M=2;while(G4M!==1){switch(G4M){case 2:this.Et();G4M=1;break;case 4:this.Et();G4M=9;break;G4M=1;break;}}}.bind(this),f.VD)),this.di());p4M=10;break;}}};c.prototype.nP=function(a){var W4M,b,L5V;W4M=2;while(W4M!==4){L5V="wipeHe";L5V+="ad";L5V+="erCache:";switch(W4M){case 2:b=this.K;b.i8||(b.We&&this.zh(L5V+a),this.$a.Cna(),this.rf&&(this.rf=void 0));W4M=4;break;}}};c.prototype.$ia=function(a){var C4M,c,d,f,g,h,Q5V,I5V;C4M=2;while(C4M!==13){Q5V="ca";Q5V+="t";Q5V+="c";Q5V+="h";I5V="c";I5V+="h";I5V+="eckF";I5V+="orHcdStart";switch(C4M){case 2:c=this;d=this.K;C4M=4;break;case 3:return this.$a.KZa(),ba.resolve();break;case 4:C4M=!this.GWa||!this.$a.Wc?3:9;break;case 9:f=function(a,c){var z4M,d,f,g,h,m,p,a5V;z4M=2;while(z4M!==13){a5V="ado";a5V+="ptPipeline no he";a5V+="ader for streamId";a5V+=":";switch(z4M){case 9:z4M=p&&(f=p.Ya,d=p.Dk.stream,l.V(c.Qm)||this.zd.qAa(c.Qm,c.Jl,c.Ek),h.io=c.io,h.El=c.El,h.gcb=c.Qm,a.Msb(f))?8:13;break;case 3:p=c[g];z4M=9;break;case 2:g=a.R;h=this.Xa.ob[g];m=!this.ai&&!this.yZ&&g===b.G.VIDEO;z4M=3;break;case 8:z4M=!p.Dk?7:6;break;case 7:a.Ub(a5V,f);z4M=13;break;case 6:z4M=this.Lia(a,this.zc,p.Dk,m,!0)?14:13;break;case 14:return c=this.bf[g][f].Y,c=c.Kj(a.Ra,void 0,!0),m=d.fh(c),d=m.U,a.S$()&&(m=m.pR(a.Ra))&&0<m.Mb&&(d=m.Mb),a.Ra!==d&&(a.Ra=d,a.jg=c,this.H_(g,d)),this.bRa(a,p.data),h.E7a=!0,g===b.G.AUDIO&&this.zd.qE(p.Dk.P),f;break;}}}.bind(this);g=function(a){var R4M,c,g,h,D5V,j5V,q5V,S5V;R4M=2;while(R4M!==10){D5V="a";D5V+="doptHcdSta";D5V+="rt";j5V="a";j5V+="dopt";j5V+="Hc";j5V+="dEnd";q5V="checkF";q5V+="or";q5V+="H";q5V+="cdEnd";S5V="heade";S5V+="rCacheData";S5V+="NotFound";switch(R4M){case 4:d.bH||this.nP(S5V);R4M=10;break;case 2:this.Zq(q5V);R4M=5;break;case 14:this.Uf&&(h=f(c,a));!this.Vi||d.kbb&&!h||f(g,a);this.hka=a;this.Zq(j5V);R4M=10;break;case 3:c=this.la.Ge;R4M=9;break;case 5:R4M=l.V(a)?4:3;break;case 9:g=c[b.G.AUDIO];c=c[b.G.VIDEO];this.Zq(D5V);h=!0;R4M=14;break;}}}.bind(this);this.Zq(I5V);this.wa.forEach(function(b){var U4M;U4M=2;while(U4M!==1){switch(U4M){case 2:O.fH(b.S,a)&&(h=b);U4M=1;break;}}});return this.$a.Wc.Jeb(a,h?h.je:{}).then(g).then(function(){var P4M,X5V;P4M=2;while(P4M!==1){X5V="adopt";X5V+="e";X5V+="d";X5V+="CompletedRequests";switch(P4M){case 2:d.bH||c.rf&&0!==c.rf.length||c.nP(X5V);P4M=1;break;}}})[Q5V](function(a){var l4M,G5V;l4M=2;while(l4M!==1){G5V="h";G5V+="eaderCache:looku";G5V+="pData";G5V+="Pro";G5V+="mise caught error:";switch(l4M){case 4:this.fa("",a);l4M=6;break;l4M=1;break;case 2:this.fa(G5V,a);l4M=1;break;}}}.bind(this));break;}}};c.prototype.KRa=function(a,b,c,d,f){var b4M;b4M=2;while(b4M!==1){switch(b4M){case 2:return this.FWa&&this.$a.Wc&&(c=this.$a.Wc.e7(c,d))&&this.Lia(a,b,c,!1,f)?!0:!1;break;}}};c.prototype.Lia=function(a,b,c,d,f){var h4M,g,h,c5V;h4M=2;while(h4M!==11){c5V="he";c5V+="aderca";c5V+="ch";c5V+="e";switch(h4M){case 2:g=this.wa[b].je[a.R].Yl;h=c.Ya;h4M=4;break;case 4:h4M=d!=!!c.Ve?3:9;break;case 9:this.bf[a.R][h]=c;c.JXa(g[h]);this.Jia(a,c);c.Ve&&(c.Ve.source=c5V,this.VZ(a,b,c.Ve));h4M=14;break;case 14:f&&this.cUa(c.S,c.Ya);a.Cv&&a.bq(a.XT);return!0;break;case 3:return!1;break;}}};c.prototype.bRa=function(a,c){var T4M,d,f,g,h,k,m,p,B5V,O5V;T4M=2;while(T4M!==19){B5V="adoptDa";B5V+="t";B5V+="a,";B5V+=" not adopti";B5V+="ng failed mediaRequest:";O5V="ad";O5V+="optData, no";O5V+="t";O5V+=" adopting abor";O5V+="ted mediaRequest:";switch(T4M){case 6:T4M=0<c.length?14:12;break;case 13:k.readyState===W.Gb.hw?a.fa(O5V,k.toString()):k.readyState===W.Gb.xq?(a.fa(B5V,k.toString()),this.Bt(a,k,!1)):a.Ra>=k.Oc&&a.Ra<k.Od&&(a.Ra<h||!l.ka(h))?(this.cRa(a,k),a.Ra=k.Od,l.ka(h)&&a.Ra>=h&&this.l_(g,k.Od),f===b.G.AUDIO&&this.zd.qE(k.P),k.complete?(m.wo+=k.duration,k.jeb&&(m.uK+=k.duration),p=k):(this.rf||(this.rf=[]),this.rf.push(k))):this.Bt(a,k,!1);T4M=6;break;case 9:h=Math.min(d.ea||Infinity,f.ea||Infinity);this.kZ=!0;T4M=7;break;case 1:T4M=0!==c.length?5:19;break;case 2:T4M=1;break;case 7:f=a.R,m=this.Xa.ob[f];T4M=6;break;case 14:k=c.shift();T4M=13;break;case 10:T4M=p||this.rf&&this.rf.length?20:19;break;case 5:d=this.wa[0];f=a.Ic;g=f.qa;T4M=9;break;case 12:p&&this.gka(p);this.kZ=!1;T4M=10;break;case 20:c=this.jO(f,a.Ic.na,a.Ra),void 0!==c?(a.jg=c,a.xf=d.jb[f].stream.fh(a.jg)):a.jg=a.Mh?a.Mh.index+1:a.jg+1;T4M=19;break;}}};c.prototype.cRa=function(a,b){var Z4M,c,H5V,t5V,p5V;Z4M=2;while(Z4M!==9){H5V=",";H5V+=" ";H5V+="p";H5V+="ts";H5V+=": ";t5V=", st";t5V+="at";t5V+="e:";t5V+=" ";p5V="adoptMe";p5V+="di";p5V+="a";p5V+="Request: ty";p5V+="pe: ";switch(Z4M){case 2:c=a.R;this.K.We&&this.zh(p5V+c+t5V+b.readyState+H5V+b.Oc);this.H_(c,b.Oc);a.Oa.KXa(this,b);Z4M=9;break;}}};c.prototype.CG=function(a,b,c,d,f,g){var w4M,h,m,p,k,r,d5V,T5V;w4M=2;while(w4M!==18){d5V="NFErr_MC_Streaming";d5V+="F";d5V+="ailure";T5V="M";T5V+="edi";T5V+="aReque";T5V+="st open failed (2)";switch(w4M){case 9:p=this.Xa.ob[b];k=!l.V(f)&&f!==a.na;g=!d.Sr||m||k||g?this.vG:p.Hj;c.url&&(p.I6=c.url);p=this.bf[b][h];w4M=13;break;case 4:b=a.R;m=!!d.ay;w4M=9;break;case 5:w4M=!this.KRa(a,c.na,b,h,d.Sr)?4:19;break;case 2:h=c.id;w4M=5;break;case 13:w4M=!p&&(d.Dk=!0,p=a.Oa.rQ(this,this.la.Gf,d,g,c),this.bf[b][h]=p,!p.yv())?12:10;break;case 12:this.kk(T5V,d5V);return;break;case 20:d.Sr&&r&&(r.jb[b]=p);w4M=19;break;case 10:l.V(f)||(r=this.wa[f]);w4M=20;break;case 19:this.di();w4M=18;break;}}};c.prototype.RO=function(a,c,d,f,g){var s4M,h,m;s4M=2;while(s4M!==8){switch(s4M){case 2:h=this.wa[c];m=h.mo;this.la.Ge.forEach(function(p){var x4M,k,r,n,m5V,J5V;x4M=2;while(x4M!==6){m5V="requestHeaders";m5V+="FromManifest, ";m5V+="unable to update urls";J5V="requestHeadersFro";J5V+="mManifest, shu";J5V+="tdown ";J5V+="detect";J5V+="ed";switch(x4M){case 4:r=d[k];x4M=3;break;case 2:k=p.R;x4M=5;break;case 3:x4M=this.oe()?9:8;break;case 5:x4M=this.Qi[k]&&(l.V(g)||k===g)?4:6;break;case 9:this.fa(J5V);x4M=6;break;case 8:n=this.Xa.vD(p);(n=m.QV(n,r.ec))?(r.ec=n,n=this.Xa.ob[k],n=this.Pja(r.ec,n.lo?n.lo.P:0),r=r.ec[n],(n=this.bf[k][r.id])&&n.Y?this.CWa(p,h,n):(k={offset:0,Z:this.gO(k,r.Rj,r.ii),yE:!1,ay:k===b.G.VIDEO,Sr:!0},this.CG(p,a,r,k,c,f))):p.fa(m5V);x4M=6;break;}}}.bind(this));h.t5=!0;this.RN(h,c);s4M=8;break;}}};c.prototype.PSa=function(a){var n4M;n4M=2;while(n4M!==1){switch(n4M){case 2:delete this.bf[a.R][a.Ya];n4M=1;break;}}};c.prototype.jO=function(a,b,c){var Y4M,d;Y4M=2;while(Y4M!==6){switch(Y4M){case 5:d=b.jb[a];Y4M=4;break;case 9:return c;break;case 2:b=this.wa[b];Y4M=5;break;case 4:Y4M=d&&d.stream.Qc?3:8;break;case 8:Y4M=(a=b.Ix[a])?7:6;break;case 7:F6hh.b1V(3);return Math.round(F6hh.W1V(c,a));break;case 3:Y4M=(c=d.Y.Kj(c),-1!==c)?9:6;break;}}};c.prototype.Jia=function(a,c){var d4M,d,f,g,h,l,m,p,k,i9V,A9V,P9V,v9V,Z9V,y9V,F9V;d4M=2;while(d4M!==23){i9V="coun";i9V+="t";i9V+=":";A9V="addFragments";A9V+=" for stale mani";A9V+="festIndex";A9V+=":";P9V=",";P9V+=" ";v9V=", ";v9V+="stre";v9V+="a";v9V+="m";v9V+=" ";Z9V="),";Z9V+=" expected trac";Z9V+="k ";y9V=",";y9V+=" streamI";y9V+="d ";F9V="first header r";F9V+="eceived for non-cu";F9V+="rrent track (index ";switch(d4M){case 3:h=c.Y;d4M=9;break;case 2:d=a.R;f=c.na;g=c.Ya;d4M=3;break;case 9:d4M=f>=this.wa.length?8:7;break;case 10:c.iK&&(c.iK.forEach(function(a){var v4M;v4M=2;while(v4M!==5){switch(v4M){case 2:a=this.wa[a].je[d].Yl;a[g]&&a[g]!==c.stream&&!a[g].Qc&&a[g].kQ(c.stream);v4M=5;break;}}}.bind(this)),c.iK=void 0);l=p.je[d].Yl[g];m=this.Cn.choiceMap&&this.K.kfb;d4M=18;break;case 18:k=this.Lj()[a.R];d4M=17;break;case 7:l=c.Ps?60:h.length;F6hh.h1V(4);m=h.get(F6hh.W1V(l,1));p=this.wa[f];c.Jk={pi:m.U+m.duration,wdb:m.U,lastIndex:l-1};p.Ix[d]=h.np;p.wD[d]=h.YS;d4M=10;break;case 17:a.R===b.G.VIDEO&&0<this.K.AD&&(k=Math.min(k,this.K.AD));m=l.ES(this.K.VJ,k,m);this.K.lL?l.Fl=m:l.hV=!m;p.jb[d]&&c!==p.jb[d]?c.Sr&&(l=p.jb[d],a.fa(F9V+c.stream.Bf+y9V+c.stream.Ya+Z9V+(l&&l.stream.Bf)+v9V+(l&&l.stream.Ya)+P9V+l)):(p.jb[d]=c,0===f&&(a=this.la.Gf,this.oG(f,this.Uf?a.li(b.G.VIDEO).Ra:a.li(b.G.AUDIO).Ra,a)),p.EK=!1,this.RN(p,f),this.la.W9(this.la.Gf),this.CB(this.zc+1));this.NZ();c.Ps||this.mUa(f,d,g,p.S,h);this.di();d4M=23;break;case 8:this.fa(A9V,f,i9V,this.wa.length);d4M=23;break;}}};g2M=149;break;case 149:c.prototype.RN=function(a,c){var j4M,d,f,g;j4M=2;while(j4M!==16){switch(j4M){case 14:a.rz=d;a.Yn=g&&g.Yn;this.Yia(c);this.hUa(c,a.Um,a.U,a.Jk.pi,this.Uf?a.jb[b.G.VIDEO].Jk.pi:a.jb[b.G.AUDIO].Jk.pi);j4M=10;break;case 5:d=a.jb[0]&&a.jb[0].stream.Qc;f=a.jb[1]&&a.jb[1].stream.Qc;j4M=3;break;case 9:this.T_(a,c);d=[0,0];0===c||a.MJ||a.replace||(g=O.fH(a.S,this.wa[c-1].S),g=this.oG(c,a.U,this.la.Gf,this.la.Gf,g),d=g.rz);a.U=d[b.G.VIDEO];j4M=14;break;case 3:j4M=!(this.Vi&&!d||this.Uf&&!f)?9:16;break;case 10:a.EK=!0;j4M=20;break;case 17:++a;j4M=19;break;case 1:j4M=!a.EK?5:16;break;case 20:F6hh.b1V(0);a=F6hh.W1V(c,1);j4M=19;break;case 19:j4M=a<this.wa.length?18:16;break;case 18:c=this.wa[a],c.EK=!1,this.RN(c,a);j4M=17;break;case 2:j4M=1;break;}}};c.prototype.aka=function(a){var f4M;f4M=2;while(f4M!==1){switch(f4M){case 2:return a.Jk?a.Jk.pi:a.ea?a.ea:a.Ha.duration;break;}}};c.prototype.Yia=function(a){var F4M,b;F4M=2;while(F4M!==4){switch(F4M){case 2:b=this.wa[a];0===a||b.replace?b.Um=0:(a=this.wa[a-1],b.Um=a.Um+this.aka(a)-b.U);F4M=4;break;}}};c.prototype.T_=function(a,c){var k4M,d,f,g,h,l,m;k4M=2;while(k4M!==19){switch(k4M){case 2:d=this.K;f=a.jb[b.G.AUDIO];g=a.jb[b.G.VIDEO];k4M=3;break;case 11:a.Jk=d;this.kUa(c,this.Uf?a.jb[b.G.VIDEO].Jk.pi:a.jb[b.G.AUDIO].Jk.pi,d.pi);c===this.la.Xoa&&((c=h.qa.ea)&&c<l&&(f=this.bB(g,a.jb,c)),a=g[b.G.VIDEO],c=g[b.G.AUDIO],a&&a.aV(f[b.G.VIDEO]),c&&c.aV(f[b.G.AUDIO]));k4M=19;break;case 9:h=this.la.Gf;l=a.ea||Infinity;g=h.Sa;f=this.bB(g,a.jb,l);m=f.map(function(a){var H4M;H4M=2;while(H4M!==1){switch(H4M){case 2:return{pi:a.ea,wdb:a.U,lastIndex:a.index};break;}}});f.length&&(a.dGb=f);d=this.Uf?!d.cn||d.Km?m[b.G.VIDEO]:this.zVa(m[b.G.AUDIO],m[b.G.VIDEO]):m[b.G.AUDIO];k4M=11;break;case 3:k4M=(!this.Vi||f&&f.stream.Qc)&&(!this.Uf||g&&g.stream.Qc)?9:19;break;}}};c.prototype.zVa=function(a,b){var N4M,c,d,f,o9V;N4M=2;while(N4M!==8){o9V="maxPts between streams is l";o9V+="argel";o9V+="y different. Choosing";o9V+=" lower maxPts:";switch(N4M){case 5:d=b;f=Math.abs(a.pi-b.pi);f<=c.XS?d=a.pi>b.pi?a:b:f>c.XS&&(d=a.pi<b.pi?a:b,this.fa(o9V,d));return d;break;case 2:c=this.K;N4M=5;break;}}};c.prototype.C_=function(a,c){var e4M;e4M=2;while(e4M!==5){switch(e4M){case 2:this.la.Gf.reset(!0,a,c);(void 0===c?[b.G.AUDIO,b.G.VIDEO]:[c]).forEach(function(a){var L4M;L4M=2;while(L4M!==4){switch(L4M){case 5:this.zd.Xhb(a);L4M=4;break;case 2:this.Qe[a].reset();this.xVa(a);L4M=5;break;}}}.bind(this));e4M=5;break;}}};c.prototype.xVa=function(a){var K4M;K4M=2;while(K4M!==8){switch(K4M){case 2:a=this.Xa.ob[a];a.hv=void 0;a.F6=void 0;a.wo=0;a.uK=0;a.connected=!1;K4M=8;break;}}};c.prototype.H_=function(a,c){var o4M,d,f,w9V;o4M=2;while(o4M!==8){w9V="ptsc";w9V+="hang";w9V+="ed";switch(o4M){case 2:d=this.la.Gf;o4M=5;break;case 5:o4M=d.li(a)?4:8;break;case 4:f=this.Xa.ob[a];l.V(f.Bm)&&(f.Bm=c,a===b.G.VIDEO&&this.Vi&&(a=this.Xa.ob[b.G.AUDIO],l.V(a.Bm)&&(d=d.li(b.G.AUDIO),d.bq(c)),this.emit(w9V,c)));l.V(f.tH)&&(f.tH=c);o4M=8;break;}}};c.prototype.JSa=function(a){var O4M,b,c,K9V,E9V;O4M=2;while(O4M!==3){K9V=" i";K9V+="gn";K9V+="ored, pipelines s";K9V+="hutd";K9V+="own";E9V="He";E9V+="a";E9V+="der req";E9V+="ues";E9V+="t ";switch(O4M){case 2:b=a.jf;c=b.R;O4M=4;break;case 4:this.oe()?this.fa(E9V+a+K9V):(a.jK>a.oib&&(this.Xa.ob[c].B6=a.jK),this.eka(b,a),this.nka=K.time.da());O4M=3;break;}}};c.prototype.gka=function(a){var M4M,c,d,f,g,n9V,x9V,u9V;M4M=2;while(M4M!==8){n9V="allC";n9V+="o";n9V+="m";n9V+="ple";n9V+="ted";x9V="total ";x9V+="fr";x9V+="a";x9V+="mes:";u9V="handleReque";u9V+="stDo";u9V+="n";u9V+="e, adding";u9V+=" frames:";switch(M4M){case 2:c=this.K;f=a.jf;d=f.Ic;M4M=3;break;case 3:g=a.na;this.zb.value!=b.Da.LA&&this.zb.value!=b.Da.KA&&(this.vUa(g,f.hp,f.Px),c.Wl&&(f.Qx+=a.Yp,f.fa(u9V,a.Yp,x9V,f.Qx)),this.Et()||(d=d.li(b.G.VIDEO))&&!d.op&&d.dS&&this.Xa.TI(d),this.VN(f),this.rf&&(a=this.rf.indexOf(a),-1!=a&&this.rf.splice(a,1),0===this.rf.length&&(this.rf=void 0,c.bH||this.kZ||this.nP(n9V))),this.zZ(f)&&this.di());M4M=8;break;}}};c.prototype.XG=function(){var q4M,a,c,d,f,g,h,m,N9V;q4M=2;while(q4M!==17){N9V="num";N9V+="b";N9V+="e";N9V+="r";switch(q4M){case 14:q4M=a.lI||a.eqa?13:12;break;case 13:c=this.la.v$a(),N9V===typeof c&&c-a.X7<=h&&(m=Math.min(m,a.oZa));q4M=12;break;case 2:a=this.K;c=this.wK;d=this.wa[c];q4M=3;break;case 12:this.$a.Wc&&d.Jk&&d.Jk.pi-g<=a.$va&&this.$a.Wc.cH(!0,this.fk.sessionId);this.zb.value===b.Da.Df&&([b.G.VIDEO,b.G.AUDIO].forEach(function(a){var I4M,c,d,p,k,r,n,R9V;I4M=2;while(I4M!==13){R9V="Unabl";R9V+="e to find request presentin";R9V+="g at playerPts:";switch(I4M){case 1:I4M=this.Qi[a]?5:13;break;case 5:c=f.li(a);I4M=4;break;case 7:n?(r=n.Ed-g,r<m&&(m=r),k=this.Xa.ob[a],p=n.na,r=n.jf,this.Uf&&a!==b.G.VIDEO||(this.la.lhb(n,n.Qk),p>this.wO?(this.wO=p,this.gUa(p,g,n.Qk),h=this.fC(p,g)):this.iB&&n.Qk!=k.zdb&&this.xUa(n.Qk)),k.zdb=n.Qk,d=n.Ya,d!=k.F6&&(k.F6=d,a=this.wa[p].je[a].Yl,a=a[d],p=this.fC(p,n.cc),this.tUa(r,n.cc,p,a.na,a.hp,a.lf)),n=n.P,l.V(n)||n==c.Mxa||(c.Mxa=n)):c.fa(R9V,g);this.cVa(r,g);this.la.Lkb();I4M=13;break;case 2:I4M=1;break;case 3:r=c;this.VN(c,g);(n=c.Oa.GC(g))&&!n.Dh&&(n=this.Qe[a].qdb);I4M=7;break;case 4:I4M=c?3:13;break;}}}.bind(this)),this.t_=!1,this.la.Lo(g,h));this.di();q4M=20;break;case 3:f=this.la.Gf;g=this.ge()||0;h=this.fC(c,g);this.UO=!0;m=a.PV;q4M=14;break;case 20:m=Math.max(m,1);this.cu&&clearTimeout(this.cu);this.cu=setTimeout(this.XG.bind(this),m);q4M=17;break;}}};c.prototype.di=function(){var t4M,a;t4M=2;while(t4M!==4){switch(t4M){case 5:!this.ela||this.t_||this.ox||this.vx||(this.ox=setTimeout(function(){var X4M;X4M=2;while(X4M!==4){switch(X4M){case 2:clearTimeout(this.ox);this.ox=void 0;this.Eja();X4M=4;break;}}}.bind(this),a.O8),a.sC&&this.Uf&&(this.Tw||(this.Tw=setTimeout(function(){var r4M,a;r4M=2;while(r4M!==9){switch(r4M){case 5:this.Tw=void 0;a=this.la.Gf.li(b.G.VIDEO);a&&this.Iia(a);r4M=9;break;case 2:clearTimeout(this.Tw);r4M=5;break;}}}.bind(this),a.dXa))));t4M=4;break;case 9:a=this.K;t4M=6;break;t4M=5;break;case 2:a=this.K;t4M=5;break;}}};c.prototype.Eja=function(){var u4M,a,c,d,k9V;u4M=2;while(u4M!==11){k9V="f";k9V+="irstDr";k9V+="iveSt";k9V+="r";k9V+="eaming";switch(u4M){case 2:u4M=1;break;case 1:u4M=!this.Kla&&!this.oe()?5:11;break;case 5:void 0===this.cSa&&(this.cSa=!0,this.Zq(k9V));a=this.la.Ge;c=a[b.G.AUDIO];a=a[b.G.VIDEO];u4M=8;break;case 8:d=!a||a.ug;(!c||c.ug)&&d&&this.iB&&this.la.W_a(this.zc,a?a.ea:c.ea);a=!a||a.wq;c&&!c.wq||!a||this.iB||(this.$a.Wc&&this.$a.Wc.cH(!0,this.fk.sessionId),this.Gwa());this.Cja(this.la.Gf);u4M=12;break;case 12:this.la.Ge.forEach(function(a){var V4M;V4M=2;while(V4M!==1){switch(V4M){case 4:this.dWa(a);V4M=2;break;V4M=1;break;case 2:this.dWa(a);V4M=1;break;}}}.bind(this));u4M=11;break;}}};c.prototype.zZ=function(a){var y4M;y4M=2;while(y4M!==1){switch(y4M){case 2:return this.oe()||this.zb.value==b.Da.LA||this.zb.value==b.Da.KA||this.Xa.ob[a.R].YE||this.kZ?!1:!0;break;}}};c.prototype.Cja=function(a,c){var Q4M,f,g,h,l,m,U9V;Q4M=2;while(Q4M!==11){U9V="Still in";U9V+=" buffering state while pipelin";U9V+="e's are done";switch(Q4M){case 2:f=a.qa;g=a.Sa[b.G.VIDEO];Q4M=4;break;case 3:l=!h||h.ug;m=!g||g.ug;f.p8||this.la.$gb(a,f,this.ai&&0===a.na);Q4M=7;break;case 4:h=a.Sa[b.G.AUDIO];Q4M=3;break;case 7:Q4M=!m||!l?6:13;break;case 6:Q4M=(this.Uf&&this.Dja(a,g,h),this.Vi&&this.Dja(a,h,g),l=!h||h.ug,m=!g||g.ug,!m||!l)?14:13;break;case 14:return;break;case 13:d(this.zb.value)&&(this.fa(U9V),this.Et());c||f.FE||this.ai||!a.y_a()||((c=d(this.zb.value))&&this.K.x2&&(this.VO(),c=!1),a.yR||this.la.ubb(a,c),a.hH(),g.Isa&&h.Isa&&(g=Object.keys(a.children),this.K.WQ&&1===g.length&&!a.children[g[0]].active&&this.la.dva(a,g[0]),this.eSa(a,f)));Q4M=11;break;}}};c.prototype.eSa=function(a,b){var A4M,c,d,f,g,h,m,p,k,W9V;A4M=2;while(A4M!==22){W9V="N";W9V+="o subbranch candidate";W9V+="s to dri";W9V+="ve";switch(A4M){case 25:c.Sc||(c.Sc={qS:K.time.da(),Az:0});c.Sc.weight=d;this.Cja(c,!0);A4M=22;break;case 26:a.dja=c.lj;A4M=25;break;case 19:A4M=0===m.length?18:16;break;case 18:this.fa(W9V);return;break;case 20:0!==p&&0!==k?(l.Pc(m,function(a){var S5M;S5M=2;while(S5M!==4){switch(S5M){case 2:a.htb=a.weight/p;a.vZa=a.Zva/k;a.rCa=a.vZa-a.htb;S5M=4;break;}}}),m.sort(function(a,b){var c5M;c5M=2;while(c5M!==1){switch(c5M){case 4:return a.rCa%b.rCa;break;c5M=1;break;case 2:return a.rCa-b.rCa;break;}}})):m.sort(function(a,b){var J5M;J5M=2;while(J5M!==4){switch(J5M){case 2:a=Math.min.apply(null,a.Ic.lj);b=Math.min.apply(null,b.Ic.lj);F6hh.b1V(4);return F6hh.M1V(a,b);break;}}});A4M=19;break;case 8:h=[];m=[];l.Pc(a.children,function(a,c){var B4M;B4M=2;while(B4M!==5){switch(B4M){case 2:c=b.Gj[c].weight;0!==c&&(c={weight:c,Ic:a},a.YB(f.ri,!0)||m.push(c),h.push(c));B4M=5;break;}}}.bind(this));0===m.length?m=h:2<m.length&&(m.sort(function(a,b){var a5M;a5M=2;while(a5M!==1){switch(a5M){case 2:return b.weight-a.weight;break;case 4:return b.weight*a.weight;break;a5M=1;break;}}}),m.length=2);A4M=13;break;case 2:f=this.K;A4M=5;break;case 9:A4M=!c?8:25;break;case 3:Math.min(g[0]-a.dja[0],g[1]-a.dja[1])>=f.H_a?a.VA=void 0:(c=a.VA,d=b.Gj[c.qa.id].weight);A4M=9;break;case 16:c=m[0].Ic;d=m[0].weight;a.VA=c;A4M=26;break;case 13:A4M=1<m.length?12:19;break;case 4:g=a.VA.lj;A4M=3;break;case 5:A4M=this.oB&&a.VA?4:9;break;case 12:c=m.reduce(function(a,b){var m5M,W1W;m5M=2;while(m5M!==4){switch(m5M){case 2:b.lj=b.Ic.lj;b.Zva=Math.min(b.lj[0],b.lj[1]);F6hh.h1V(4);W1W=F6hh.M1V(20,19);return[a[0]+b.weight,a[W1W]+b.Zva];break;}}},[0,0]);p=c[0];k=c[1];A4M=20;break;}}};c.prototype.Dja=function(a,c,f){var E5M,g,h,m,M9V;E5M=2;while(E5M!==33){M9V="d";M9V+="rivePipeline, delaying audio unti";M9V+="l video actu";M9V+="alStartPts";M9V+=" determined";switch(E5M){case 11:c.$rb(this.NCa()?g.Ofb:g.Nfb);E5M=33;break;case 23:f=this.mTa(c,f);E5M=22;break;case 22:E5M=!f?21:35;break;case 15:g=c.ec[g];E5M=27;break;case 6:E5M=(l.V(c.jg)&&(c.jg=c.xf?c.xf.index:this.jO(h,a.na,c.Ra)),c.Mh&&c.jg>c.Mh.index)?14:13;break;case 13:E5M=this.zZ(c)&&!(g.aR&&!d(this.zb.value)&&(m=this.$a.Wa)&&(h=m.D$a(),(m=m.get())&&m.pa&&h&&!1===h.h_a(m.pa.Aa)))?12:33;break;case 7:c.fa(M9V);E5M=33;break;case 24:c.tdb=g.P,this.lTa(c,g,h,f.wza),a.Sc&&++a.Sc.Az;E5M=33;break;case 8:E5M=g.cn&&h===b.G.AUDIO&&l.V(this.Xa.ob[b.G.VIDEO].Bm)?7:6;break;case 12:E5M=g.H5a&&!d(this.zb.value)&&0>=c.Py?11:10;break;case 4:E5M=!(c.ug||!this.Xa.ob[h].Hj||c.Cv&&(c.bq(c.XT),c.Cv))?3:33;break;case 10:E5M=this.cja(c,f)?20:23;break;case 16:return;break;case 17:E5M=l.V(g)?16:15;break;case 2:g=this.K;h=c.R;E5M=4;break;case 34:g=c.ec[g];E5M=25;break;case 26:return;break;case 27:E5M=this.bja(c,g).ZL?26:25;break;case 14:this.ai&&l.V(m.ea)&&l.V(a.ea)||(c.ug||this.Ela(c),this.zc<this.wa.length-1&&this.CB(this.zc+1));E5M=33;break;case 25:E5M=(h=this.zSa(c,g))?24:33;break;case 9:E5M=m.Jk&&!l.V(m.Jk.pi)?8:33;break;case 3:m=this.wa[this.zc];E5M=9;break;case 21:return;break;case 20:c.G6=K.time.da();f=this.Xa.TI(c);g=f.lf;E5M=17;break;case 35:g=f.lf;E5M=34;break;}}};c.prototype.VN=function(a,b){var g5M,c,d;g5M=2;while(g5M!==3){switch(g5M){case 4:!d.qa.FE||this.iB||this.JO||(l.V(b)&&(b=this.ge()||0),b-=d.Nc,a.ug&&!a.wq&&b+c.Kqb>=a.ea&&0===a.Oa.zv&&0===a.Oa.Ko&&this.$Ta(a));g5M=3;break;case 2:c=this.K;d=a.Ic;g5M=4;break;}}};c.prototype.lTa=function(a,c,f,g){var p5M,h,m,p,r,n,u,q,x,S9V,a9V,L9V,g9V,Y9V,f9V,s9V,C9V,e9V,z9V,r9V,l9V,V9V,b9V,h9V;p5M=2;while(p5M!==32){S9V="fast";S9V+="p";S9V+="lay:";a9V="past fragm";a9V+="ents lengt";a9V+="h:";L9V="makeRequest nex";L9V+="tFragmentInd";L9V+="e";L9V+="x:";g9V="to";g9V+=" pip";g9V+="eline.r";g9V+="equestedFra";g9V+="mes:";Y9V="makeRequest ";Y9V+="adding";Y9V+=":";f9V="ed";f9V+="itP";f9V+="ts";f9V+=":";s9V="frameD";s9V+="urat";s9V+="i";s9V+="on";s9V+=":";C9V="editing last request";C9V+=" to fr";C9V+="a";C9V+="me:";e9V="makeRequest over sta";e9V+="ll ";e9V+="point:";z9V="N";z9V+="FErr_MC_S";z9V+="tream";z9V+="ingFailure";r9V="MediaR";r9V+="e";r9V+="quest open faile";r9V+="d (";r9V+="1)";l9V="makeR";l9V+="equest c";l9V+="a";l9V+="ught:";V9V=" ";V9V+="nat";V9V+="i";V9V+="ve:";V9V+=" ";b9V="MediaReque";b9V+="st.open error";b9V+=": ";h9V="!continueDri";h9V+="ving in ";h9V+="requestCreated";switch(p5M){case 34:a.Yp+=q;p5M=33;break;case 18:f.uAa(new k(m.Nc,1E3));K.time.da();g=a.Oa.rQ(this,m,f,n.Hj,c,g);g.yv()?(g.Yp=q,n.tua=c.Sb,l.ka(n.El)||(n.io=c.Tk,n.gJ=c.gJ||-1,n.El=c.P,n.gcb=c.w$,l.V(c.w$)||this.zd.qAa(c.w$,c.Jl,c.Ek)),p&&(n.I6=f.url),h.aR&&this.$a.Wa.JB(K.time.da(),f.Z),this.zZ(a)||a.fa(h9V),a.oob(g.Od,f.aK),this.NRa(a),this.di()):(a.fa(b9V+g.zk+V9V+g.Ol),g.readyState!==W.Gb.hw&&(a.fa(l9V,g.zk),this.kk(r9V,z9V)));p5M=32;break;case 6:p5M=u>=f.length?14:13;break;case 23:x=f.U+u;a.fa(e9V,h.Wl,C9V,q,s9V,u,f9V,x);f.Ik({$c:q,Mb:x},!0);p5M=35;break;case 26:p5M=a.Yp+q>h.Wl?25:34;break;case 35:f.v7();p5M=34;break;case 25:q=q-(a.Yp+q-h.Wl);u=q*c.La.hf;p5M=23;break;case 10:d(this.zb.value)&&++a.e1;f.Ip&&r===b.G.VIDEO&&this.l_(m.qa,f.ea);this.H_(r,f.U);p5M=18;break;case 11:f=this.wSa(a,c,f,u);p5M=10;break;case 3:r=a.R;n=this.Xa.ob[r];f=f.Y;u=a.jg;p5M=6;break;case 33:a.fa(Y9V,q,g9V,a.Yp);p5M=10;break;case 14:a.fa(L9V,u,a9V,f.length,S9V,this.ai);p5M=32;break;case 12:p5M=this.g3(r)?11:27;break;case 27:p5M=(f=this.xSa(a,c,f,u),q=f.Upa.OQ(c.La),h.Wl)?26:10;break;case 13:q=0;p5M=12;break;case 2:h=this.K;m=a.Ic;p=c.url;p5M=3;break;}}};c.prototype.a0=function(a,b){var i5M;i5M=2;while(i5M!==1){switch(i5M){case 2:return this.Bt(a.jf,a,b);break;case 4:return this.Bt(a.jf,a,b);break;i5M=1;break;}}};c.prototype.Bt=function(a,b,c){var D5M,d,f;D5M=2;while(D5M!==14){switch(D5M){case 2:d=this.K;f=b.abort();b.Nd();b.bg&&b.bg.clear();d.KB||a.Oa.NK(b);D5M=8;break;case 8:this.Qe[a.R].NK(b);!0===c&&this.di();return f;break;}}};c.prototype.aVa=function(a,b,c){var G5M,d;G5M=2;while(G5M!==6){switch(G5M){case 9:a.kza();this.rf&&0<this.rf.length&&(this.rf.forEach(function(a){var W5M;W5M=2;while(W5M!==1){switch(W5M){case 2:this.a0(a,!1);W5M=1;break;case 4:this.a0(a,-6);W5M=0;break;W5M=1;break;}}}.bind(this)),this.rf=void 0);this.tla(a);G5M=6;break;case 2:d=this.K;d.dy&&(this.pO=b+d.nBa,this.qO=K.time.da());a.BFb=c;a.bq(b);G5M=9;break;}}};c.prototype.eWa=function(a){var C5M,c,d,q9V;C5M=2;while(C5M!==3){q9V="no";q9V+=" ";q9V+="newAudioTrack";q9V+=" set";switch(C5M){case 2:c=a.R;d=this.Xa.ob[c];l.V(d.BT)?a.fa(q9V):(this.Qe[c].pause(),d.YE=!0,this.UTa(this.Cn,this.yn[b.G.AUDIO],d.BT.Bf));C5M=3;break;}}};g2M=161;break;case 24:ba=K.Promise;R=K.MediaSource;T=a(204).nW;D=a(364).Yba;J=a(95);da=a(48);f=a(27);ga=f.LLa;V=f.Ja;c.prototype=Object.create(J.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{S:{get:function(){var z2M;z2M=2;while(z2M!==1){switch(z2M){case 4:return this.um;break;z2M=1;break;case 2:return this.um;break;}}}},ja:{get:function(){var R2M;R2M=2;while(R2M!==1){switch(R2M){case 4:return this.Y_;break;R2M=1;break;case 2:return this.Y_;break;}}}},Sxa:{get:function(){var U2M;U2M=2;while(U2M!==1){switch(U2M){case 2:return this.zb;break;case 4:return this.zb;break;U2M=1;break;}}}},ds:{get:function(){var P2M;P2M=2;while(P2M!==1){switch(P2M){case 4:return this.la.ds;break;P2M=1;break;case 2:return this.la.ds;break;}}}},pv:{get:function(){var l2M;l2M=2;while(l2M!==1){switch(l2M){case 4:return this.Be.jc;break;l2M=1;break;case 2:return this.Be.jc;break;}}}},Vi:{get:function(){var b2M;b2M=2;while(b2M!==1){switch(b2M){case 4:return this.Qi[b.G.AUDIO];break;b2M=1;break;case 2:return this.Qi[b.G.AUDIO];break;}}}},Uf:{get:function(){var h2M;h2M=2;while(h2M!==1){switch(h2M){case 4:return this.Qi[b.G.VIDEO];break;h2M=1;break;case 2:return this.Qi[b.G.VIDEO];break;}}}},attributes:{get:function(){var T2M;T2M=2;while(T2M!==1){switch(T2M){case 4:return this.mZ;break;T2M=1;break;case 2:return this.mZ;break;}}}},O6:{get:function(){var Z2M;Z2M=2;while(Z2M!==1){switch(Z2M){case 4:return this.bg;break;Z2M=1;break;case 2:return this.bg;break;}}}},na:{get:function(){var w2M;w2M=2;while(w2M!==1){switch(w2M){case 2:return this.zc;break;case 4:return this.zc;break;w2M=1;break;}}}},wK:{get:function(){var s2M;s2M=2;while(s2M!==1){switch(s2M){case 2:return 0<=this.wO?this.wO:0;break;case 4:return 5<this.wO?this.wO:4;break;s2M=1;break;}}}},Cu:{get:function(){var x2M;x2M=2;while(x2M!==1){switch(x2M){case 2:return this.wa[this.zc];break;case 4:return this.wa[this.zc];break;x2M=1;break;}}}},fj:{get:function(){var n2M;n2M=2;while(n2M!==1){switch(n2M){case 2:return this.$a.fj;break;case 4:return this.$a.fj;break;n2M=1;break;}}}},Fs:{get:function(){var Y2M;Y2M=2;while(Y2M!==1){switch(Y2M){case 4:return this.$a.Fs;break;Y2M=1;break;case 2:return this.$a.Fs;break;}}}},aH:{get:function(){var d2M;d2M=2;while(d2M!==1){switch(d2M){case 4:return this.zd;break;d2M=1;break;case 2:return this.zd;break;}}}},pmb:{get:function(){var v2M;v2M=2;while(v2M!==1){switch(v2M){case 2:return this.vla;break;case 4:return this.vla;break;v2M=1;break;}}}}});c.prototype.gD=function(a){var j2M;j2M=2;while(j2M!==1){switch(j2M){case 4:return this.Qi[a];break;j2M=1;break;case 2:return this.Qi[a];break;}}};c.prototype.$T=function(){var f2M;f2M=2;while(f2M!==1){switch(f2M){case 4:this.oB=~6;f2M=7;break;f2M=1;break;case 2:this.oB=!0;f2M=1;break;}}};c.prototype.Lj=function(){var F2M;F2M=2;while(F2M!==1){switch(F2M){case 2:return this.$a.Lj(this.jB[b.G.AUDIO],this.jB[b.G.VIDEO]);break;}}};c.prototype.ova=function(){var k2M,a;k2M=2;while(k2M!==3){switch(k2M){case 2:a=0;l.forEach(this.Cn.audio_tracks,function(b){var H2M;H2M=2;while(H2M!==1){switch(H2M){case 2:l.forEach(b.streams,function(b){var N2M;N2M=2;while(N2M!==1){switch(N2M){case 2:a=Math.max(a,b.bitrate);N2M=1;break;}}});H2M=1;break;}}});return a;break;}}};c.prototype.ge=function(){var e2M;e2M=2;while(e2M!==1){switch(e2M){case 2:return this.Xt.ge();break;case 4:return this.Xt.ge();break;e2M=1;break;}}};c.prototype.wy=function(){var L2M,j9V;L2M=2;while(L2M!==1){j9V="f";j9V+="unc";j9V+="tion";switch(L2M){case 2:return j9V===typeof this.Xt.wy?this.Xt.wy():this.zb.value===b.Da.Df;break;}}};c.prototype.NCa=function(){var K2M;K2M=2;while(K2M!==1){switch(K2M){case 4:return this.K.ysb?+this.UO:~4;break;K2M=1;break;case 2:return this.K.ysb?!this.UO:!1;break;}}};c.prototype.g3=function(a){var o2M;o2M=2;while(o2M!==1){switch(o2M){case 4:return this.K.dy||a!==b.G.VIDEO;break;o2M=1;break;case 2:return this.K.dy&&a===b.G.VIDEO;break;}}};c.prototype.IC=function(a){var O2M;O2M=2;while(O2M!==1){switch(O2M){case 2:return this.la.IC(a);break;case 4:return this.la.IC(a);break;O2M=1;break;}}};c.prototype.Bk=function(a){var M2M;M2M=2;while(M2M!==1){switch(M2M){case 4:return this.wa[a];break;M2M=1;break;case 2:return this.wa[a];break;}}};c.prototype.J9a=function(){var q2M,a;q2M=2;while(q2M!==4){switch(q2M){case 2:a=this.wa[0];return a.ii?this.wa[1]:a;break;}}};g2M=52;break;case 2:l=a(11);a(14);f=a(28);p=f.EventEmitter;m=f.rF;k=a(74).gc;n=a(207).TDigest;q=a(353);v=a(686);t=a(672);y=a(662);A=a(661);z=a(660);I=a(658).xPa;N=a(365);E=a(657);a(14);w=a(654).xKa;O=a(198);K=a(7);X=K.eA;W=K.Fb;g2M=24;break;case 52:c.prototype.vS=function(a,b){var I2M;I2M=2;while(I2M!==9){switch(I2M){case 1:return!0;break;case 5:a=this.wa[a];b=this.wa[b];return a.ii&&b.MJ||b.ii&&a.MJ;break;case 2:I2M=a===b?1:5;break;}}};c.prototype.MC=function(a){var t2M;t2M=2;while(t2M!==1){switch(t2M){case 2:return this.bf[a];break;case 4:return this.bf[a];break;t2M=1;break;}}};c.prototype.r4=function(a){var X2M;X2M=2;while(X2M!==5){switch(X2M){case 2:X2M=(a=this.la.jj.children[a])?1:5;break;case 1:return{Nc:a.Nc,cc:a.cc,Ed:a.Ed,Oc:a.Oc,Od:a.Od};break;}}};c.prototype.hsa=function(){var r2M,a;r2M=2;while(r2M!==4){switch(r2M){case 2:a=this.la.jj;return{id:a.qa.id,Nc:a.Nc,cc:a.cc,Ed:a.Ed,Oc:a.Oc,Od:a.Od};break;}}};c.prototype.sob=function(){var u2M;u2M=2;while(u2M!==5){switch(u2M){case 2:this.JO=!1;this.la.Ge.forEach(function(a){var V2M;V2M=2;while(V2M!==1){switch(V2M){case 4:this.VN(a);V2M=0;break;V2M=1;break;case 2:this.VN(a);V2M=1;break;}}}.bind(this));u2M=5;break;}}};c.prototype.gba=function(a,b){var y2M;y2M=2;while(y2M!==1){switch(y2M){case 4:return this.la.gba(a,b);break;y2M=1;break;case 2:return this.la.gba(a,b);break;}}};c.prototype.fRa=function(a,b){var Q2M,B9V,O9V,c9V,G9V,Q9V,X9V,I9V,D9V;Q2M=2;while(Q2M!==8){B9V="using sab cell >= 100,";B9V+=" ";B9V+="pipelineEna";B9V+="b";B9V+="led: ";O9V="u";O9V+="sing sab cell >= 200, pipeline";O9V+="Enabled: ";c9V=",";c9V+=" ";c9V+="al";c9V+="lowSwitchback";G9V=", probeDet";G9V+="ailDenomi";G9V+="nator: ";Q9V="usin";Q9V+="g sab cell";Q9V+=" >= 30";Q9V+="0, probeServerWhenE";Q9V+="rror: ";X9V=", allow";X9V+="S";X9V+="wi";X9V+="tchback";I9V=", probe";I9V+="Detai";I9V+="lD";I9V+="enominator: ";D9V="using sab c";D9V+="el";D9V+="l >= 400, probeS";D9V+="erverWhenError";D9V+=": ";switch(Q2M){case 2:b=N(b,a);a=a.cdnResponseData;Q2M=5;break;case 5:Q2M=!a?4:3;break;case 4:return b;break;case 3:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.xo=!0,b.pz=1,b.pr=!0),this.Jb(D9V+b.xo+I9V+b.pz+X9V+b.pr)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.xo=!0,b.pz=1,b.pr=!1),this.Jb(Q9V+b.xo+G9V+b.pz+c9V+b.pr)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.uo=!1,this.Jb(O9V+b.uo)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.VS}),b.set({maxPendingBufferLen:b.aT})):(b.uo=!0,b.LJ=1,b.HJ=b.VS,b.xD=b.aT),this.Jb(B9V+b.uo)));return b;break;}}};c.prototype.hRa=function(a,b){var A2M,d,f;A2M=2;while(A2M!==8){switch(A2M){case 1:A2M=!b.W1||a===this.$Sa?5:4;break;case 4:this.$Sa=a;for(var c in b.W1)if(new RegExp(c).test(a)){d=b.W1[c];for(f in d){d.hasOwnProperty(f)&&(b[f]=d[f]);}}return b;break;case 2:A2M=1;break;case 5:return b;break;}}};c.prototype.ZN=function(a,b,c,d,f,g){var B2M,h,l,p,k,H9V,t9V,p9V;B2M=2;while(B2M!==9){H9V="net";H9V+="workFai";H9V+="lure";H9V+="Reset";t9V="st";t9V+="reami";t9V+="ngFailu";t9V+="r";t9V+="e";p9V="log";p9V+="d";p9V+="ata";switch(B2M){case 2:h=this.K;f?(k=this.wa[this.wa.length-1],l=k.O6,p=k.mo,k=k.yC,p.ZG(a)):(l=new m(),p=this.lja(a,this.ai),l.on(p,p9V,function(a){var a7M;a7M=2;while(a7M!==1){switch(a7M){case 4:V(this,a.type,a);a7M=3;break;a7M=1;break;case 2:V(this,a.type,a);a7M=1;break;}}},this),k=new E(this,p,this.K),l.on(k,t9V,this.NSa,this),l.on(k,H9V,this.KSa,this));h.sp&&this.ep&&k.wob(this.ep);return new w(a,f,d,b,c,l,p,k,g);break;}}};c.prototype.ORa=function(a){var m7M;m7M=2;while(m7M!==1){switch(m7M){case 2:return this.ZN(a.Ha,a.U,a.ea,a.je,a.replace,a.Ms);break;}}};c.prototype.CWa=function(a,b,c){var S7M;S7M=2;while(S7M!==4){switch(S7M){case 2:a=a.R;b.jb[a]=c;c.Y&&(b.Ix[a]=c.Y.np,b.wD[a]=c.Y.YS);S7M=4;break;}}};c.prototype.MRa=function(){var c7M,a,b;c7M=2;while(c7M!==9){switch(c7M){case 1:c7M=b<this.wa.length?5:3;break;case 5:a=this.wa[b],a.O6.clear(),a.Nd();c7M=4;break;case 4:++b;c7M=1;break;case 2:b=0;c7M=1;break;case 3:this.wa.length=0;c7M=9;break;}}};c.prototype.lja=function(a,b){var J7M;J7M=2;while(J7M!==4){switch(J7M){case 2:b=new q(this,this.$a.Wa,this.$a.yg,!b,this.K);b.ZG(a);return b;break;}}};c.prototype.open=function(){var E7M,a,c,d,f,g,h,m,p,x8V,u8V,K8V,E8V,w8V,o8V,i8V,A8V,P8V,v8V;E7M=2;while(E7M!==44){x8V="NFEr";x8V+="r_MC";x8V+="_Stre";x8V+="amingInitFailure";u8V="excep";u8V+="tio";u8V+="n in init";K8V="E";K8V+="r";K8V+="ro";K8V+="r";K8V+=":";E8V="NFErr_";E8V+="M";E8V+="C_StreamingI";E8V+="nitFail";E8V+="ure";w8V="start";w8V+="Pts must be a positive number, ";w8V+="not ";o8V="Er";o8V+="r";o8V+="or";o8V+=":";i8V="createMedia";i8V+="S";i8V+="ourceEnd";A8V="c";A8V+="reat";A8V+="eMediaSourceSt";A8V+="ar";A8V+="t";P8V="s";P8V+="t";P8V+="artp";P8V+="lay";v8V="lo";v8V+="g";v8V+="data";switch(E7M){case 2:E7M=1;break;case 7:this.Uf&&(d.push(b.G.VIDEO),f.push(X.VIDEO));this.Vi&&(d.push(b.G.AUDIO),f.push(X.AUDIO));E7M=14;break;case 22:m.sourceBuffers.forEach(function(b){var p7M,d,y8V,F8V,J9V,d9V,T9V;p7M=2;while(p7M!==14){y8V="manager";y8V+="d";y8V+="ebu";y8V+="geve";y8V+="nt";F8V="lo";F8V+="g";F8V+="d";F8V+="ata";J9V="e";J9V+="rro";J9V+="r";d9V="r";d9V+="equest";d9V+="Ap";d9V+="pended";T9V="he";T9V+="a";T9V+="derAppe";T9V+="nded";switch(p7M){case 2:d=b.R;b=new y(this.Xa.ob[d].W,d,c,m,b,this.bf[d],a);b.addEventListener(T9V,this.ISa.bind(this));p7M=3;break;case 6:this.Qe[d]=b;p7M=14;break;case 3:b.addEventListener(d9V,this.LSa.bind(this));b.addEventListener(J9V,function(a){var i7M,m9V;i7M=2;while(i7M!==1){m9V="NFE";m9V+="rr_MC_Streamin";m9V+="g";m9V+="Failure";switch(i7M){case 4:this.kk(a.errorstr,"");i7M=4;break;i7M=1;break;case 2:this.kk(a.errorstr,m9V);i7M=1;break;}}}.bind(this));b.addEventListener(F8V,function(a){var D7M;D7M=2;while(D7M!==1){switch(D7M){case 2:V(this,a.type,a);D7M=1;break;case 4:V(this,a.type,a);D7M=5;break;D7M=1;break;}}}.bind(this));a.We&&b.addEventListener(y8V,function(a){var G7M;G7M=2;while(G7M!==1){switch(G7M){case 2:V(this,a.type,a);G7M=1;break;case 4:V(this,a.type,a);G7M=7;break;G7M=1;break;}}}.bind(this));p7M=6;break;}}}.bind(this));this.Bl&&this.STa();this.zd.Whb();this.TN&&(this.TN=!1,d=this.la.Ge[b.G.VIDEO],f=this.Xa.TI(d).lf,g=null,l.V(f)||(g=d.ec[f],g.uO&&this.zja(!1)),(l.V(f)||l.V(g)||!g.uO)&&this.zja(!0));E7M=33;break;case 33:this.jUa();p=function(){var W7M,Z8V;W7M=2;while(W7M!==5){Z8V="shutdown ";Z8V+="de";Z8V+="tected before s";Z8V+="tartRequ";Z8V+="ests";switch(W7M){case 2:this.lUa();this.oe()?this.fa(Z8V):this.fWa(c);W7M=5;break;}}}.bind(this);a.a4a?setTimeout(function(){var C7M;C7M=2;while(C7M!==1){switch(C7M){case 2:this.$ia(c).then(p);C7M=1;break;case 4:this.$ia(c).then(p);C7M=2;break;C7M=1;break;}}}.bind(this),0):this.$ia(c).then(function(){var z7M;z7M=2;while(z7M!==1){switch(z7M){case 2:setTimeout(p,0);z7M=1;break;case 4:setTimeout(p,2);z7M=9;break;z7M=1;break;}}});d={type:v8V,target:P8V,fields:{audiogapconfig:a.mT,audiogapdpi:this.Be.jc&&this.Be.jc.mT}};this.emit(d.type,d);E7M=44;break;case 1:E7M=!l.ka(this.UG)||0>this.UG?5:4;break;case 16:m=new R(this.Xt);E7M=15;break;case 15:E7M=m.readyState===K.MediaSource.Gb.OPEN?27:28;break;case 10:g=a.bH;this.$a.Wc&&this.$a.Wc.cH(g,this.fk.sessionId);h=this.kja(f);f.forEach(function(a,b){var g7M;g7M=2;while(g7M!==1){switch(g7M){case 2:a.type==X.NM?this.vG=h[b]:this.Xa.ob[a.type].Hj=h[b];g7M=1;break;}}}.bind(this));this.Zq(A8V);E7M=16;break;case 27:this.Zq(i8V);m.jc||(m.jc=R.jc);this.Be=m;E7M=24;break;case 14:f=this.Uja(f);this.bx=0;this.SVa();this.UO=!1;E7M=10;break;case 24:E7M=!m.m0(d)?23:22;break;case 23:throw this.Jb(o8V,m.error),m.error;E7M=22;break;case 4:a=this.K;c=this.um;d=[];f=[X.NM];E7M=7;break;case 5:this.kk(w8V+this.UG,E8V);E7M=44;break;case 28:this.Jb(K8V,m.error),this.kk(u8V,x8V);E7M=44;break;}}};c.prototype.zja=function(a){var R7M,c,W8V,U8V,k8V,R8V,N8V,n8V;R7M=2;while(R7M!==3){W8V="ab";W8V+="ort";W8V+="e";W8V+="d";U8V="s";U8V+="u";U8V+="c";U8V+="ce";U8V+="ss";k8V="s";k8V+="k";k8V+="ipFastplay";R8V="ski";R8V+="pFa";R8V+="st";R8V+="play";N8V="s";N8V+="t";N8V+="artpl";N8V+="ay";n8V="l";n8V+="o";n8V+="gd";n8V+="ata";switch(R7M){case 2:c={type:n8V,target:N8V,fields:{skipFastplayResult:""}};this.ZVa&&!a&&this.yn?(this.emit(R8V,{type:k8V}),this.ai=!1,a=this.IG(this.Cn,0,this.yn,!1),a=this.ZN(this.Cn,this.Cu.U,this.Cu.ea,a),a.ii=!1,a.obb=!0,a.Ms=this.yn,this.wa[this.zc]=a,c.Zc.$ob=U8V):(this.wa[this.zc].je[b.G.VIDEO].ec.forEach(function(a){var U7M;U7M=2;while(U7M!==1){switch(U7M){case 2:a.uO&&a.Je&&(a.Je=!1);U7M=1;break;}}}),c.Zc.$ob=W8V);V(this,c.type,c);R7M=3;break;}}};c.prototype.flush=function(){var P7M,a,c,d,f,g,l7M,e8V,z8V,r8V,l8V,V8V,b8V,h8V,M8V;P7M=2;while(P7M!==16){e8V="en";e8V+="dp";e8V+="la";e8V+="y";z8V="log";z8V+="d";z8V+="at";z8V+="a";r8V="endp";r8V+="l";r8V+="ay";l8V="lo";l8V+="gda";l8V+="t";l8V+="a";V8V="th";V8V+="rough";V8V+="put-";V8V+="sw";b8V="throu";b8V+="gh";b8V+="put-sw";h8V="t";h8V+="hrou";h8V+="ghput-sw";switch(P7M){case 12:for(var h in f){M8V="n";M8V+="e";f.hasOwnProperty(h)&&(d[M8V+h]=Number(f[h]).toFixed(6));}P7M=11;break;case 3:d={};f=c.get(!0);f&&f.avtp&&f.avtp.Aa&&(d.avtp=f.avtp.Aa,d.dltm=f.avtp.Cpa);c.flush();f=c.s9a();g=c.bXa;P7M=13;break;case 20:a.nI&&c&&((f=c.get(!0))&&f[h8V]&&this.Fs.oXa({avtp:f[b8V].Aa,variance:f[V8V].Pg}),f&&f.avtp&&f.Fk&&f.Fk.$y&&this.Fs.kXa({avtp:f.avtp.Aa,niqr:f.Fk.$y.toFixed(4)},f.avtp.Cpa),a=this.Fs.Y8a(),c=this.Fs.T$a(),a&&(a.n=c,a={type:l8V,target:r8V,fields:{ibef:a}},V(this,a.type,a),this.Fs.save()));this.Bl&&this.Lka();P7M=18;break;case 1:a=this.K;P7M=5;break;case 13:P7M=f?12:11;break;case 2:P7M=1;break;case 11:g&&g.length&&(d.activeRequests=JSON.stringify(g));P7M=10;break;case 5:c=this.$a.Wa;P7M=4;break;case 4:P7M=c?3:20;break;case 10:Object.keys(d).length&&(d={type:z8V,target:e8V,fields:d},V(this,d.type,d));P7M=20;break;case 18:P7M=this.Wn?17:16;break;case 17:try{l7M=2;while(l7M!==1){switch(l7M){case 2:this.o3(b.Da.LA);l7M=1;break;case 4:this.o3(b.Da.LA);l7M=0;break;l7M=1;break;}}}catch(Ta){var C8V;C8V="H";C8V+="indsight: Error evaluati";C8V+="ng QoE at stopping: ";F6hh.h1V(0);this.Pp(F6hh.W1V(C8V,Ta));}P7M=16;break;}}};c.prototype.paused=function(){var b7M;b7M=2;while(b7M!==1){switch(b7M){case 2:this.zb.value===b.Da.Df&&this.zb.set(b.Da.Iq);b7M=1;break;}}};c.prototype.ZBa=function(){var h7M;h7M=2;while(h7M!==1){switch(h7M){case 2:this.zb.value===b.Da.Iq&&this.zb.set(b.Da.Df);h7M=1;break;}}};c.prototype.close=function(){var T7M,a,b,Y8V,f8V,s8V;T7M=2;while(T7M!==17){Y8V="c";Y8V+="lo";Y8V+="se";f8V="e";f8V+="nd";f8V+="pla";f8V+="y";s8V="logd";s8V+="at";s8V+="a";switch(T7M){case 9:this.vx=!1;T7M=8;break;case 20:this.$a.Wc&&this.$a.Wc.cH(!0,this.fk.sessionId,!0);this.Gwa();this.$a.kVa(this);T7M=17;break;case 6:a=this.fP.kg([.25,.5,.75,.9,.95,.99]),b=0;T7M=14;break;case 10:V(this,a.type,a);T7M=20;break;case 11:a={type:s8V,target:f8V,fields:{bridgestat:a}};T7M=10;break;case 4:this.stop();this.emit(Y8V);T7M=9;break;case 2:a=this.K;this.SUa=!0;T7M=4;break;case 12:b++;T7M=14;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;T7M=12;break;case 8:T7M=a.$Q?7:20;break;case 7:this.fP.Fr();T7M=6;break;case 14:T7M=b<a.length?13:11;break;}}};c.prototype.Nd=function(){var Z7M,a,L8V,g8V;Z7M=2;while(Z7M!==11){L8V="in";L8V+="a";L8V+="c";L8V+="ti";L8V+="ve";g8V="Error ";g8V+="on ";g8V+="MediaSource destroy: ";switch(Z7M){case 9:this.bSa();this.zb.set(b.Da.KA);this.MRa();this.bg.clear();Z7M=14;break;case 14:a=this.Be;this.Be=void 0;l.V(a)||a.Vn()||this.fa(g8V,a.error);Z7M=11;break;case 2:this.fj.removeEventListener(L8V,this.Ika);this.zd.Lhb();this.eja();this.la.Nd();Z7M=9;break;}}};c.prototype.suspend=function(){var w7M;w7M=2;while(w7M!==1){switch(w7M){case 4:this.Kla=-9;w7M=2;break;w7M=1;break;case 2:this.Kla=!0;w7M=1;break;}}};c.prototype.resume=function(){var s7M;s7M=2;while(s7M!==5){switch(s7M){case 2:this.Kla=!1;this.di();s7M=5;break;}}};c.prototype.oe=function(){var x7M;x7M=2;while(x7M!==1){switch(x7M){case 2:return this.SUa||this.la.wcb;break;case 4:return this.SUa&&this.la.wcb;break;x7M=1;break;}}};g2M=73;break;case 73:c.prototype.QVa=function(){var n7M,a;n7M=2;while(n7M!==7){switch(n7M){case 1:a=this.K;this.cu&&clearTimeout(this.cu);this.cu=setTimeout(this.XG.bind(this),a.PV);this.MN||(this.MN=setInterval(this.Mka.bind(this),a.TB));n7M=9;break;case 2:n7M=1;break;case 9:this.bP||(this.bP=setInterval(this.wUa.bind(this),a.naa));this.Bl&&!this.KN&&(this.KN=setInterval(this.Lka.bind(this),a.H0));n7M=7;break;}}};c.prototype.SVa=function(){var Y7M,a,c;Y7M=2;while(Y7M!==8){switch(Y7M){case 4:this.kG&&clearInterval(this.kG);c=-1;this.kG=setInterval(function(){var d7M,a,a8V;d7M=2;while(d7M!==4){a8V="v";a8V+="b";switch(d7M){case 2:a=this.Xa.ob[b.G.VIDEO];(a=a.hv&&a.hv.P)&&c!==a&&(K.storage.set(a8V,a),c=a);d7M=4;break;}}}.bind(this),a.LU);Y7M=8;break;case 2:a=this.K;Y7M=5;break;case 5:Y7M=a.LU?4:8;break;}}};c.prototype.eja=function(){var v7M;v7M=2;while(v7M!==6){switch(v7M){case 7:this.Tw&&(clearTimeout(this.Tw),this.Tw=void 0);v7M=6;break;case 3:this.SA&&(clearTimeout(this.SA),this.SA=void 0);this.JZ&&(clearTimeout(this.JZ),this.JZ=void 0);this.kG&&(clearInterval(this.kG),this.kG=void 0);v7M=7;break;case 2:this.cu&&(clearTimeout(this.cu),this.cu=void 0);this.MN&&(clearInterval(this.MN),this.MN=void 0);this.bP&&(clearInterval(this.bP),this.bP=void 0);this.KN&&(clearInterval(this.KN),this.KN=void 0);v7M=3;break;}}};c.prototype.play=function(){var j7M,j8V,S8V;j7M=2;while(j7M!==5){j8V="pl";j8V+="a";j8V+="y";S8V="play cal";S8V+="led after pipelines alr";S8V+="eady shutdown";switch(j7M){case 3:this.Qka--;j7M=5;break;j7M=1;break;case 2:this.Qka++;j7M=1;break;case 1:this.oe()?this.fa(S8V):(this.zb.set(b.Da.Df),this.QVa(),this.Xa.ob.forEach(function(a){var f7M,q8V;f7M=2;while(f7M!==1){q8V="play: not resuming buff";q8V+="e";q8V+="rManager, audio ";q8V+="track switch in pr";q8V+="ogress";switch(f7M){case 2:this.Qi[a.R]&&(a.YE?a.fa(q8V):this.Qe[a.R].resume());f7M=1;break;}}}.bind(this)),this.XG(),this.emit(j8V));j7M=5;break;}}};c.prototype.stop=function(){var F7M,a,D8V;F7M=2;while(F7M!==6){D8V="s";D8V+="t";D8V+="o";D8V+="p";switch(F7M){case 3:a!==b.Da.LA&&a!==b.Da.KA&&this.la.jj.pV(!1);this.la.Ge.forEach(function(a){var k7M;k7M=2;while(k7M!==1){switch(k7M){case 2:a.ug=!1;k7M=1;break;case 4:a.ug=-4;k7M=0;break;k7M=1;break;}}});[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var H7M;H7M=2;while(H7M!==1){switch(H7M){case 2:(a=this.Qe[a])&&a.pause();H7M=1;break;}}}.bind(this));F7M=7;break;case 7:this.emit(D8V);F7M=6;break;case 5:this.zb.set(b.Da.LA);this.eja();F7M=3;break;case 2:a=this.zb.value;F7M=5;break;}}};c.prototype.TU=function(a,c){var N7M,d,f,g,h,m,p,k,m8V,J8V,d8V,T8V,H8V,t8V,p8V,B8V,O8V,c8V,G8V,Q8V,X8V,I8V;N7M=2;while(N7M!==36){m8V="s";m8V+="ee";m8V+="k";J8V="p";J8V+="tsc";J8V+="han";J8V+="ged";d8V=" playerSta";d8V+="te:";d8V+=" ";T8V=" media.curr";T8V+="entPt";T8V+="s: ";H8V=" ";H8V+="current ";H8V+="m";H8V+="a";H8V+="nifest: ";t8V=" ";t8V+="mani";t8V+="fe";t8V+="stIndex: ";p8V="see";p8V+="k";p8V+=":";p8V+=" ";B8V="s";B8V+="e";B8V+="e";B8V+="k";O8V="seekFa";O8V+="il";O8V+="ed";c8V="seek, no mani";c8V+="f";c8V+="est at man";c8V+="ifestInde";c8V+="x:";G8V="s";G8V+="e";G8V+="ekDel";G8V+="a";G8V+="yed";Q8V="see";Q8V+="kD";Q8V+="e";Q8V+="layed";X8V="s";X8V+="eek";X8V+="F";X8V+="a";X8V+="iled";I8V="after seeking, pl";I8V+="ayerStat";I8V+="e no lon";I8V+="ger ST";I8V+="ARTING: ";switch(N7M){case 38:this.la.Ge.forEach(function(b){var K7M,c;K7M=2;while(K7M!==4){switch(K7M){case 5:this.Qi[c]&&this.aVa(b,k[c],a);K7M=4;break;case 2:c=b.R;K7M=5;break;}}}.bind(this));N7M=28;break;case 19:N7M=!this.aja(c)?18:15;break;case 33:a=h,m=a+this.la.Nc;N7M=32;break;case 40:k=this.oG(p.na,a,p).rz;this.T_(g,c);N7M=38;break;case 44:this.fa(I8V+this.zb.value),this.emit(X8V);N7M=36;break;case 7:this.la.jza();N7M=6;break;case 18:this.jk={na:c,Rn:a};this.emit(Q8V);return;break;case 24:N7M=a>h?23:32;break;case 27:return;break;case 14:!g.MJ&&0<c&&(m=this.zoa(c,a));this.zb.set(b.Da.KA);N7M=12;break;case 21:this.jk={na:this.zc+1,Rn:a};this.emit(G8V);return;break;case 37:this.fa(c8V,c),this.emit(O8V);N7M=36;break;case 23:N7M=this.ai?22:33;break;case 12:N7M=c!=this.zc?11:26;break;case 28:N7M=this.zb.value!=b.Da.Tg?44:43;break;case 15:N7M=this.ZB(this.la.X4(c),!1,!0)?27:26;break;case 30:N7M=(h=this.zc===c&&!this.XSa(c)&&a===g.U)?29:42;break;case 6:N7M=(g=this.wa[c])?14:37;break;case 11:c<this.zc&&g.replace&&(g.replace=!1);f=this.wa[this.zc];this.la.Ge.forEach(function(a){var e7M;e7M=2;while(e7M!==1){switch(e7M){case 2:this.Ela(a,f.Jk&&f.Jk.pi);e7M=1;break;}}}.bind(this));N7M=19;break;case 42:this.C_(B8V);p=this.la.Gf;N7M=40;break;case 3:m=a;g.We&&this.zh(p8V+a+t8V+c+H8V+this.zc+T8V+h+d8V+this.zb.value);l.V(c)&&(c=this.zc);N7M=7;break;case 32:this.zb.set(b.Da.Tg);this.la.mqb(a,c);N7M=30;break;case 22:N7M=!this.CB(this.zc+1)?21:32;break;case 29:[b.G.AUDIO,b.G.VIDEO].forEach(function(a){var L7M;L7M=2;while(L7M!==1){switch(L7M){case 2:d.Qe[a].reset(!0);L7M=1;break;}}});N7M=28;break;case 43:return this.emit(J8V,m),this.emit(m8V),this.bma(c),c=h&&this.Et()?100:0,this.YO(1,c),this.di(),m;break;case 26:h=this.bB(this.la.Ge,g.jb,g.ea||Infinity);h=this.Vi?this.Uf?Math.min(h[b.G.AUDIO].U,h[b.G.VIDEO].U):h[b.G.AUDIO].U:h[b.G.VIDEO].U;N7M=24;break;case 2:d=this;g=this.K;h=this.ge();N7M=3;break;}}};c.prototype.seek=function(a,b){var o7M,c;o7M=2;while(o7M!==8){switch(o7M){case 3:this.wa[b].MJ||this.iB||(c=this.fC(b,a));return this.TU(c,b);break;case 2:c=a;l.V(b)&&(b=this.zc);this.la.jza();o7M=3;break;}}};c.prototype.Prb=function(a){var O7M,c,d,f,I7M,k0V,v0V,Z0V,y0V,F0V;O7M=2;while(O7M!==18){k0V="u";k0V+="n";k0V+="derflow";v0V="b";v0V+="ra";v0V+="nchO";v0V+="ffset";v0V+=":";Z0V="entry.mani";Z0V+="festOffset";Z0V+=":";y0V="contentP";y0V+="t";y0V+="s:";F0V="under";F0V+="flow: going to BUFFER";F0V+="ING at player pts:";switch(O7M){case 2:c=this.K;d=this.fC(this.wK,a);O7M=4;break;case 4:this.fa(F0V,a,y0V,d,Z0V,this.Cu.Um,v0V,this.la.Nc);f=c.ZS;this.Qe.forEach(function(b){var M7M;M7M=2;while(M7M!==1){switch(M7M){case 2:f=Math.max(0,Math.min(f,b.U9a-a));M7M=1;break;}}});c.dy&&(this.pO=d+c.uqb,this.qO=K.time.da());this.la.Ge.forEach(function(b){var q7M,d,f,R0V,N0V,n0V,x0V,u0V,K0V,E0V,w0V,o0V,i0V,A0V,P0V;q7M=2;while(q7M!==8){R0V="reb";R0V+="uf";R0V+="fe";R0V+="r";N0V=", nextAppe";N0V+="ndP";N0V+="ts";N0V+=":";N0V+=" ";n0V=", toAppen";n0V+="d";n0V+=": ";x0V=",";x0V+=" fragme";x0V+="nts";x0V+=": ";u0V=", com";u0V+="ple";u0V+="teS";u0V+="treamingPts: ";K0V=", st";K0V+="rea";K0V+="mingPts: ";E0V=",";E0V+=" p";E0V+="art";E0V+="ial";E0V+="s: ";w0V=", totalBuf";w0V+="ferBytes";w0V+=": ";o0V=", totalBuff";o0V+="e";o0V+="r";o0V+="Ms: ";i0V=", bufferLevelBy";i0V+="t";i0V+="es:";i0V+=" ";A0V=", ";A0V+="med";A0V+="ia";A0V+="Type: ";P0V="under";P0V+="flow";P0V+=":";P0V+=" ";switch(q7M){case 2:d=b.R;c.We&&(f=this.Qe[d],f=P0V+a+A0V+d+i0V+b.qu+o0V+b.ME+w0V+b.Ls+E0V+b.Oa.zv+K0V+b.Ra+u0V+b.Px+x0V+JSON.stringify(b.Oa.Y)+n0V+JSON.stringify(f.ei)+N0V+f.QTa);c.We&&this.zh(f);q7M=3;break;case 3:b.op=!1;c.sp&&this.ep&&(b=this.ep,d=this.Xa.ob[d],b.y$(R0V,d.I6));q7M=8;break;}}}.bind(this));this.emit(k0V);this.YO(2);O7M=13;break;case 12:O7M=this.Wn?11:10;break;case 13:this.di();O7M=12;break;case 11:try{I7M=2;while(I7M!==1){switch(I7M){case 4:this.o3(b.Da.Vs);I7M=5;break;I7M=1;break;case 2:this.o3(b.Da.Vs);I7M=1;break;}}}catch(ta){var U0V;U0V="Hindsig";U0V+="ht";U0V+=": Error when eva";U0V+="luating QoE at Buffering: ";F6hh.b1V(0);this.Pp(F6hh.M1V(U0V,ta));}O7M=10;break;case 10:d=this.$a.Wa.get(!1);d=d.Bc?d.pa.Aa:0;f>c.a7a&&d>c.$6a&&this.VO();O7M=18;break;}}};c.prototype.Sj=function(a){var t7M,c,d,W0V;t7M=2;while(t7M!==6){W0V="s";W0V+="k";W0V+="i";W0V+="p";switch(t7M){case 7:this.emit(W0V);t7M=6;break;case 2:c=this.K;this.la.jj.Sj(a);d=function(a,b,c){var X7M,M0V;X7M=2;while(X7M!==5){M0V="skip: unexpected behaviour - a n";M0V+="on-pr";M0V+="esenting branch doesn't have a previ";M0V+="ous branch";switch(X7M){case 2:a!==this.la.jj&&(a.te?d(a.te,b,c):this.Ub(M0V));a.Sa[b].Sj(c);X7M=5;break;}}}.bind(this);[b.G.AUDIO,b.G.VIDEO].forEach(function(b){var r7M,f,h0V;r7M=2;while(r7M!==8){h0V="skip: not re";h0V+="suming bufferManager, audio track sw";h0V+="itch in progress";switch(r7M){case 1:r7M=this.Qi[b]?5:8;break;case 2:r7M=1;break;case 5:f=this.Xa.ob[b];this.Wn&&(f.aaa=K.time.da());c.HK?this.Qe[b].reset():f.YE?f.fa(h0V):this.Qe[b].resume();d(this.la.Gf,b,a);r7M=8;break;}}}.bind(this));this.zb.set(b.Da.Df);this.XG();t7M=7;break;}}};c.prototype.ZB=function(a,c,d){var u7M,f,V0V,b0V;u7M=2;while(u7M!==8){V0V="s";V0V+="e";V0V+="e";V0V+="k";b0V="pt";b0V+="schan";b0V+="g";b0V+="ed";switch(u7M){case 4:return f;break;case 2:f=this.la.ZB(a,c);u7M=5;break;case 3:f?(this.zb.set(b.Da.KA),(a=this.la.jj.children[a])&&this.emit(b0V,a.cc),this.zb.set(b.Da.Tg),this.emit(V0V),a&&this.bma(a.na),this.YO(1),this.di(),this.Et()):d||(a=this.la.M$a(a),this.TU(a));return f;break;case 5:u7M=c?4:3;break;}}};c.prototype.vka=function(a){var V7M,b;V7M=2;while(V7M!==6){switch(V7M){case 4:this.yn=b.Ms;this.um=b.S;this.Cn=b.Ha;V7M=8;break;case 2:this.zc=a;b=this.wa[a];V7M=4;break;case 8:this.iUa(a,b.replace,b.rz);this.Xa.Sab(b.replace);V7M=6;break;}}};c.prototype.ZG=function(a,c){var y7M,d,f,g,h,m,p,k,r,n,u,L0V,g0V,Y0V,f0V,s0V,C0V,e0V,z0V,r0V,l0V;y7M=2;while(y7M!==41){L0V="b";L0V+="oo";L0V+="l";L0V+="e";L0V+="an";g0V=",";g0V+=" ";Y0V=") l";Y0V+="as";Y0V+="tStre";Y0V+="amAppended: (";f0V=",";f0V+=" ";s0V=" stream";s0V+="Co";s0V+="unt:";s0V+=" (";C0V=" pla";C0V+="ye";C0V+="rSt";C0V+="ate";C0V+=": ";e0V="addManifest, curre";e0V+="ntPt";e0V+="s: ";z0V="a";z0V+="dd";z0V+="Manifest ignored, pipelines already set EOS:";r0V="addManifest in fastplay but";r0V+=" no";r0V+="t drm manifest, leaving space";r0V+=" for it";l0V="addManifest: pipelines already shu";l0V+="t";l0V+="down";switch(y7M){case 24:a.Ms=g;a.aC=c.aC;y7M=22;break;case 8:f=f[b.G.VIDEO];y7M=7;break;case 4:this.fa(l0V);y7M=41;break;case 5:y7M=this.oe()?4:3;break;case 14:c||(c={});c.U8&&(this.JO=!0);f=this.wa.length;c.replace&&1!==f?f=1:this.ai&&!c.replace&&1===f&&(this.fa(r0V),f=this.ORa(this.wa[0]),f.Y6a=!0,this.wa.push(f),f=this.wa.length);y7M=10;break;case 2:d=this.K;y7M=5;break;case 10:h=a.movieId+"";m=c.U||0;p=c.ea;y7M=18;break;case 6:this.fa(z0V,g.wq,f.wq);y7M=41;break;case 18:c.replace&&(k=this.wa[0].je);r=this.bf[b.G.AUDIO];for(u in r){(n=r[u])&&n.Ps&&(n.hmb()?this.eka(g,n):this.KD(n));}g=c.Ms?c.Ms:this.yn;k=this.IG(a,f,g,!1,k);a=this.ZN(a,m,p,k,!!c.replace,g);a.MJ=a.replace;y7M=24;break;case 30:d.We&&this.zh(e0V+this.ge()+C0V+this.zb.value+s0V+k[0].ec.length+f0V+k[1].ec.length+Y0V+c+g0V+a+")");y7M=29;break;case 22:L0V===typeof c.RB?(a.RB=c.RB,a.Fx=c.RB):(a.RB=!0,a.Fx=!0);this.wa[f]&&this.wa[f].Nd();this.wa[f]=a;this.Yia(f);c.replace||this.la.vXa(f,m,p);c=this.Xa.ob[b.G.AUDIO].lo;a=this.Xa.ob[b.G.VIDEO].lo;y7M=30;break;case 3:f=this.la.Ge;g=f[b.G.AUDIO];y7M=8;break;case 7:y7M=this.Vi&&g.wq||this.Uf&&f.wq?6:14;break;case 28:return!0;break;case 29:y7M=this.Vi&&l.V(c)||this.Uf&&l.V(a)?28:44;break;case 44:this.RO(h,f,k);this.CB(this.zc+1);return!0;break;}}};c.prototype.XSa=function(a){var Q7M;Q7M=2;while(Q7M!==1){switch(Q7M){case 2:return!!this.wa[a].Fx;break;case 4:return~+this.wa[a].Fx;break;Q7M=1;break;}}};c.prototype.bma=function(a){var A7M;A7M=2;while(A7M!==5){switch(A7M){case 2:a=this.wa[a];a.Fx||(a.Fx=!0,[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var B7M;B7M=2;while(B7M!==1){switch(B7M){case 2:this.Qe[a].resume();B7M=1;break;case 4:this.Qe[a].resume();B7M=5;break;B7M=1;break;}}}.bind(this)));A7M=5;break;}}};c.prototype.SQ=function(a){var a0M,c,d,f,g,j0V,q0V,S0V,a0V;a0M=2;while(a0M!==13){j0V=" read";j0V+="yState";j0V+=": ";q0V=" ";q0V+="for movieId:";q0V+=" ";S0V=",";S0V+=" ";a0V="drmReady ";a0V+="at stream";a0V+="ing pts:";a0V+=" ";switch(a0M){case 5:a0M=!this.oe()?4:13;break;case 2:d=this.K;a0M=5;break;case 4:l.V(c)&&(c=!0);f=this.la.Ge;g=f[b.G.AUDIO];f=f[b.G.VIDEO];a0M=7;break;case 7:d.We&&this.zh(a0V+g.Ra+S0V+f.Ra+q0V+a+j0V+c);a0M=6;break;case 14:this.Qe.forEach(function(a){var m0M;m0M=2;while(m0M!==5){switch(m0M){case 2:d.Q3&&a.M7a();d.bW&&a.resume();m0M=5;break;}}}),this.ai&&this.CB(this.jk?this.jk.na:this.zc+1),this.NZ();a0M=13;break;case 6:a0M=(this.d_[a+""]=c)?14:13;break;}}};c.prototype.XI=function(a,b){var S0M;S0M=2;while(S0M!==5){switch(S0M){case 2:a||(a=this.um);return(b=b&&0<=b?this.wa[b]:this.wa[this.zc])&&b.aC||this.d_[a];break;}}};c.prototype.aja=function(a){var c0M,c,d,f;c0M=2;while(c0M!==10){switch(c0M){case 1:c0M=a>=this.wa.length?5:4;break;case 4:c=this.la.Ge;d=c[b.G.AUDIO];c=c[b.G.VIDEO];d=!d||d.ug;c0M=7;break;case 2:c0M=1;break;case 7:f=!c||c.ug;c=this.wa[a];c0M=14;break;case 13:return!1;break;case 12:a=!this.Uf||c.jb[b.G.VIDEO]&&c.jb[b.G.VIDEO].stream.Qc;return(!this.Vi||c.jb[b.G.AUDIO]&&c.jb[b.G.AUDIO].stream.Qc)&&a?!0:!1;break;case 14:c0M=!(a===this.zc+1&&c.replace||d&&f)||!this.d_[c.S]&&!c.aC?13:12;break;case 5:return!1;break;}}};c.prototype.CB=function(a){var J0M,b;J0M=2;while(J0M!==14){switch(J0M){case 2:J0M=1;break;case 1:J0M=!this.aja(a)?5:4;break;case 3:J0M=b.Y6a||!b.replace?9:8;break;case 9:return!1;break;case 5:return!1;break;case 4:b=this.wa[a];J0M=3;break;case 8:this.kWa(a);this.di();return!0;break;}}};c.prototype.kWa=function(a){var E0M,c,d,f,g,X0V,I0V,D0V;E0M=2;while(E0M!==15){X0V=",";X0V+=" ";I0V=", st";I0V+="r";I0V+="ea";I0V+="mingPt";I0V+="s: ";D0V="swi";D0V+="tchManifest manifestI";D0V+="nd";D0V+="ex: ";switch(E0M){case 12:c=this.zc;E0M=11;break;case 5:f=this.la.Gf;g=f.li(b.G.AUDIO);g=g?g.Ra:void 0;c=(c=f.li(b.G.VIDEO))?c.Ra:void 0;E0M=8;break;case 2:d=this.wa[a];E0M=5;break;case 8:this.K.We&&this.zh(D0V+a+I0V+g+X0V+c);E0M=7;break;case 7:g=this.ai;this.ai=!1;d.RB&&(d.Fx=!0);d.OP&&(c=this.IG(d.Ha,a,d.Ms,!1,d.je,b.G.AUDIO),d.je[b.G.AUDIO]=c[b.G.AUDIO],d.je[b.G.AUDIO].ec.some(function(a){var g0M;g0M=2;while(g0M!==1){switch(g0M){case 2:return a.Qc?(d.jb[b.G.AUDIO]={stream:a,Y:a.Y},!0):!1;break;}}}),d.OP=void 0);E0M=12;break;case 17:this.NZ();this.di();E0M=15;break;case 11:g?this.la.imb(c,a):f.lob(a);f.Z5(a);[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var p0M,b;p0M=2;while(p0M!==4){switch(p0M){case 2:b=f.li(a);b&&!d.replace&&(d.Yn?b.Amb(d.Yn[a]):(a=d.rz[a],b.Bmb(a)));p0M=4;break;}}}.bind(this));this.vka(a);this.T_(d,a);E0M=17;break;}}};c.prototype.NZ=function(){var i0M,a,b;i0M=2;while(i0M!==9){switch(i0M){case 1:i0M=this.jk?5:9;break;case 5:a=this.jk.Rn;b=this.jk.na;this.wa[b]&&(this.jk=void 0,this.TU(a,b));i0M=9;break;case 2:i0M=1;break;}}};c.prototype.Ihb=function(){var D0M,a,c,d,Q0V;D0M=2;while(D0M!==13){Q0V="onAudioTrackSw";Q0V+="itchStarted ignored, no ";Q0V+="audio pi";Q0V+="pe";Q0V+="line";switch(D0M){case 2:a=this.la.Gf.li(b.G.AUDIO);D0M=5;break;case 5:D0M=a?4:14;break;case 14:this.fa(Q0V);D0M=13;break;case 4:c=this.Xa.ob[a.R];d=this.ge();(d=a.Oa.GC(d))&&d.jf!=a&&(a=d.jf);this.bVa(a);c.YE=!1;this.di();D0M=13;break;}}};c.prototype.GYa=function(){var G0M,a;G0M=2;while(G0M!==3){switch(G0M){case 1:a=this.zc;G0M=5;break;case 5:G0M=a<this.wa.length?4:3;break;case 2:this.TTa(this.Ct);G0M=1;break;case 8:this.TTa(this.Ct);G0M=9;break;G0M=1;break;case 4:this.wa[a++].OP=!0;G0M=5;break;case 6:G0M=a<=this.wa.length?5:5;break;G0M=a<this.wa.length?4:3;break;}}};c.prototype.oqb=function(a){var W0M,c,f,g,h,l,T0V,H0V,t0V,p0V,B0V,O0V,c0V,G0V;W0M=2;while(W0M!==23){T0V="switch";T0V+="Tracks reje";T0V+="cted, audio disabled";H0V="switchTr";H0V+="acks rejected,";H0V+=" previous switch still ";H0V+="in progress: ";t0V="switchTr";t0V+="acks re";t0V+="jec";t0V+="ted, b";t0V+="ufferLevelMs";p0V=" t";p0V+="o i";p0V+="ndex:";p0V+=" ";B0V="swi";B0V+="t";B0V+="c";B0V+="hTracks curren";B0V+="t: ";O0V="switchTracks rej";O0V+="ected, previous";O0V+=" switch still w";O0V+="aiting to start";c0V="switc";c0V+="hTracks rejec";c0V+="ted, buffering";G0V="switchTr";G0V+="ack";G0V+="s can't find trackId:";switch(W0M){case 12:g=this.la.IC(b.G.VIDEO);W0M=11;break;case 20:h=a.OB;W0M=19;break;case 17:a=this.yn[b.G.AUDIO];W0M=16;break;case 18:return this.fa(G0V,h),!1;break;case 19:W0M=!this.Cn.audio_tracks.some(function(a,b){var C0M;C0M=2;while(C0M!==1){switch(C0M){case 2:return a.track_id==h?(l=b,!0):!1;break;}}})?18:17;break;case 5:W0M=!this.Vi?4:3;break;case 2:c=this.K;W0M=5;break;case 7:return this.fa(c0V),!1;break;case 14:W0M=f.YE?13:12;break;case 13:return this.fa(O0V),!1;break;case 11:W0M=g<c.nT?10:20;break;case 27:c.We&&this.zh(B0V+a+p0V+l);f.BT={Wb:h,Bf:l};this.eWa(this.la.Gf.li(b.G.AUDIO));return!0;break;case 10:return this.fa(t0V,g,"<",c.nT),!1;break;case 15:return!1;break;case 9:return this.fa(H0V+JSON.stringify(this.Ct)),!1;break;case 4:return this.fa(T0V),!1;break;case 16:W0M=l==a?15:27;break;case 6:f=this.Xa.ob[b.G.AUDIO];W0M=14;break;case 8:W0M=d(this.zb.value)?7:6;break;case 3:W0M=this.Ct?9:8;break;}}};g2M=102;break;case 102:c.prototype.dV=function(a){var z0M;z0M=2;while(z0M!==5){switch(z0M){case 2:this.Tia=a;this.la.dV(a);z0M=5;break;}}};c.prototype.Pp=function(a){var R0M,J0V,d0V;R0M=2;while(R0M!==1){J0V="asee";J0V+="xce";J0V+="ptio";J0V+="n";d0V="aseexce";d0V+="p";d0V+="t";d0V+="ion";switch(R0M){case 2:this.emit(d0V,{type:J0V,msg:a});R0M=1;break;}}};c.prototype.hhb=function(a,b,c,d){var U0M,F6V,m0V;U0M=2;while(U0M!==5){F6V="maxvi";F6V+="d";F6V+="eobitratechan";F6V+="ge";F6V+="d";m0V="m";m0V+="ax";m0V+="videobitratechanged";switch(U0M){case 2:a={type:m0V,time:K.time.da(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.emit(F6V,a);U0M=5;break;}}};c.prototype.Gwa=function(){var P0M,a,y6V;P0M=2;while(P0M!==9){y6V="strea";y6V+="meren";y6V+="d";switch(P0M){case 5:this.jWa=!0;a={type:y6V,time:K.time.da()};V(this,a.type,a);P0M=9;break;case 1:P0M=!this.jWa&&this.K.Ewa?5:9;break;case 2:P0M=1;break;}}};c.prototype.Pia=function(a,b,c){var l0M,d,f;l0M=2;while(l0M!==3){switch(l0M){case 2:d=!0;c.some(function(c){var b0M,g;b0M=2;while(b0M!==8){switch(b0M){case 1:b0M=a===c.profile?5:8;break;case 4:d=l.V(g)?b>=c.min&&b<=c.max:g.some(function(a){var h0M;h0M=2;while(h0M!==1){switch(h0M){case 4:return b<a.min||b>=a.max;break;h0M=1;break;case 2:return b>=a.min&&b<=a.max;break;}}});!d&&c.disallowed&&c.disallowed.some(function(a){var T0M;T0M=2;while(T0M!==5){switch(T0M){case 1:return f=a.disallowedBy,!0;break;case 2:T0M=a.stream.bitrate===b?1:5;break;case 3:T0M=a.stream.bitrate==b?2:2;break;T0M=a.stream.bitrate===b?1:5;break;case 9:return f=a.disallowedBy,-8;break;T0M=5;break;}}});return!0;break;case 5:g=c.ranges;b0M=4;break;case 2:b0M=1;break;}}});return{inRange:d,lC:f};break;}}};c.prototype.GC=function(a,b,c){var Z0M;Z0M=2;while(Z0M!==1){switch(Z0M){case 2:return this.la.jj.Sa[b].Oa.GC(a,void 0,c);break;}}};c.prototype.YP=function(a){var w0M,c,d;w0M=2;while(w0M!==6){switch(w0M){case 2:c=this.la.jj;d=0<Object.keys(c.qa&&c.qa.Gj||{}).length&&!c.Dg?c.Ed-this.K.tT:c.Ed;w0M=4;break;case 4:w0M=a<c.cc||a>=d?3:9;break;case 3:return!1;break;case 9:c=this.GC(a,b.G.AUDIO,!0);a=this.GC(a,b.G.VIDEO,!0);return c&&a&&c.complete&&a.complete;break;}}};c.prototype.o3=function(a,b){var s0M,c,d;s0M=2;while(s0M!==8){switch(s0M){case 2:c=this.Xa;a=c.G3(a,b);d=this.zd.qU;s0M=3;break;case 3:a&&!a.LB&&d.n3(a);b?c.T9():(b=d.H8a(),this.eUa(b));s0M=8;break;}}};c.prototype.Pja=function(a,b){var p7X=F6hh;var x0M,c,d,f,v6V,Z6V,C1W;x0M=2;while(x0M!==14){v6V=" re";v6V+="turn";v6V+="ing inde";v6V+="x: ";Z6V="findNewStreamIndex unable to find st";Z6V+="ream for bi";Z6V+="trat";Z6V+="e: ";switch(x0M){case 2:p7X.b1V(4);C1W=p7X.M1V(14,13);f=a.length-C1W;x0M=1;break;case 1:x0M=0<=f?5:7;break;case 3:return f;break;case 9:c=f;x0M=8;break;case 8:--f;x0M=1;break;case 5:x0M=(d=a[f],d.Je&&!d.Lh&&d.inRange)?4:8;break;case 4:x0M=d.P<=b?3:9;break;case 7:p7X.b1V(5);this.fa(p7X.M1V(b,c,Z6V,v6V));return c;break;}}};c.prototype.NRa=function(a){var n0M,b;n0M=2;while(n0M!==3){switch(n0M){case 2:b=this.Xa.ob[a.R];b.oi&&b.oi.aQ&&(b.oi.aQ=void 0);a.QK&&(b.lo=void 0,b.oi=void 0,b.zI=void 0,b.El=void 0,a.QK=void 0);n0M=3;break;}}};c.prototype.KVa=function(a,b){var Y0M,d,c;Y0M=2;while(Y0M!==19){switch(Y0M){case 9:return!0;break;case 20:return!1;break;case 11:return a.Iu=[d],!0;break;case 14:d=0;Y0M=13;break;case 12:Y0M=(c=b[d],c.Je&&c.inRange&&!c.Lh&&l.V(this.bf[a.R][c.id]))?11:10;break;case 5:Y0M=b?4:3;break;case 6:b=a.ec;Y0M=14;break;case 10:++d;Y0M=13;break;case 8:Y0M=a.ce<c.S7?7:6;break;case 13:Y0M=d<b.length?12:20;break;case 3:Y0M=a.Iu&&0<a.Iu.length?9:8;break;case 7:return!1;break;case 4:return a.Iu=b,!0;break;case 2:c=this.K;Y0M=5;break;}}};c.prototype.gO=function(a,b,c){var d0M,d;d0M=2;while(d0M!==4){switch(d0M){case 2:d=this.K;return c?d.lR?d.lR:d.gS:d.yCa&&b?b.offset+b.size:!l.V(a)&&(a=this.Xa.ob[a],a.B6)?a.B6+128:2292+12*Math.ceil(this.pm/2E3);break;}}};c.prototype.d_a=function(a,c){var v0M,d,f,g,h,l;v0M=2;while(v0M!==20){switch(v0M){case 2:f=this.wa[0];g=b.G.VIDEO;v0M=4;break;case 4:v0M=f&&f.jb&&f.jb[g]&&f.jb[g].stream.Qc?3:10;break;case 3:v0M=f.Yn&&f.Yn[g]&&f.Yn[g].U<=a&&f.Yn[g].ea>a?9:7;break;case 11:d=l;v0M=8;break;case 9:d=f.Yn[g].cc;v0M=8;break;case 8:return d;break;case 7:d=f.jb[g].Y;h=d.Kj(a,void 0,!0);void 0==h&&h<d.length-1&&++h;c&&(a=f.jb[g].stream.fh(h).pR(a))&&(l=a.Mb);void 0===l&&(l=d.Rf(h));v0M=11;break;case 10:d=void 0;v0M=8;break;}}};c.prototype.oG=function(a,c,d,f,g){var j0M,h,l,m,p,k;j0M=2;while(j0M!==8){switch(j0M){case 3:a===this.la.Xoa&&[b.G.VIDEO,b.G.AUDIO].forEach(function(a){var f0M,b;f0M=2;while(f0M!==4){switch(f0M){case 2:b=d.li(a);b&&(b.xf=k[a]);f0M=4;break;}}});return{rz:k.map(function(a){var F0M;F0M=2;while(F0M!==1){switch(F0M){case 4:return a.U;break;F0M=1;break;case 2:return a.U;break;}}}),Yn:k};break;case 2:h=this.wa[a];f&&(m=f.Sa[b.G.VIDEO].Mh.ea,p=f.Sa[b.G.AUDIO].Mh,f=p.ea,l=f-m,g||(m=void 0),p=f-p.U);k=this.Oja(d.Sa,h.jb,c,m,l,p);j0M=3;break;}}};c.prototype.fC=function(a,b){var k0M,c,d;k0M=2;while(k0M!==14){switch(k0M){case 4:k0M=d?3:7;break;case 2:void 0===a&&(a=this.wK);d=this.la.r7a(b,a);k0M=4;break;case 3:c=d.Nc;k0M=9;break;case 9:l.ka(c)||(c=this.wa[a].Um);F6hh.b1V(4);return F6hh.W1V(b,c);break;case 7:k0M=(d=this.la.Jqa(a))?6:9;break;case 6:c=d.Nc;k0M=9;break;}}};c.prototype.zoa=function(a,b){var H0M,c,d;H0M=2;while(H0M!==14){switch(H0M){case 9:l.ka(c)||(c=this.wa[a].Um);F6hh.h1V(0);return F6hh.W1V(b,c);break;case 4:H0M=d?3:7;break;case 7:H0M=(d=this.la.Jqa(a))?6:9;break;case 2:void 0===a&&(a=this.wK);d=this.la.q7a(b,a);H0M=4;break;case 3:c=d.Nc;H0M=9;break;case 6:c=d.Nc;H0M=9;break;}}};c.prototype.asa=function(a,c,d){var N0M;N0M=2;while(N0M!==9){switch(N0M){case 1:N0M=!a.length?5:4;break;case 4:c=a[b.G.VIDEO];return d?c.U:c.ea;break;case 2:a=(d?this.Oja:this.bB).call(this,a.Sa,this.Bk(a.na).jb,c);N0M=1;break;case 5:return c;break;}}};c.prototype.Tla=function(a){var e0M,c;e0M=2;while(e0M!==7){switch(e0M){case 1:e0M=a?5:7;break;case 2:e0M=1;break;case 5:c=a[b.G.VIDEO];a=a[b.G.AUDIO];a=!this.Qi[b.G.AUDIO]||a&&a.stream.Qc;e0M=9;break;case 8:return!0;break;case 9:e0M=(!this.Qi[b.G.VIDEO]||c&&c.stream.Qc)&&a?8:7;break;}}};c.prototype.Oja=function(a,c,d,f,g,h){var L0M;L0M=2;while(L0M!==1){switch(L0M){case 2:return this.Tla(c)?[b.G.VIDEO,b.G.AUDIO].map(function(b){var K0M;K0M=2;while(K0M!==9){switch(K0M){case 1:return{};break;case 5:b=a[b].Lqa(c[b].stream,d,f,g,h);d=b.U;return b;break;case 2:K0M=!this.Qi[b]?1:5;break;}}}.bind(this)).reverse():[];break;}}};c.prototype.bB=function(a,c,d){var o0M;o0M=2;while(o0M!==1){switch(o0M){case 2:return this.Tla(c)?[b.G.VIDEO,b.G.AUDIO].map(function(b){var O0M;O0M=2;while(O0M!==9){switch(O0M){case 5:b=a[b].t7a(c[b].stream,d);d=b.ea;return b;break;case 1:return{};break;case 2:O0M=!this.Qi[b]?1:5;break;}}}.bind(this)).reverse():[];break;}}};c.prototype.xSa=function(a,b,c,d){var M0M,f;M0M=2;while(M0M!==12){switch(M0M){case 8:++d;M0M=7;break;case 9:M0M=!b.fd&&!this.ds?8:13;break;case 2:c=b.Y;f=d===a.xf.index;d===a.Mh.index?(b=b.Mra(a.Mh),b.cL(a.Mh.Zv),b.v7()):f?(b=b.Mra(a.xf),b.cL(a.xf.Zv)):b=b.fh(d);F6hh.b1V(0);b.aK=F6hh.M1V(d,1);M0M=9;break;case 7:M0M=d<c.length&&d<a.Mh.index&&(b.Z<a.lgb||b.duration<a.oT)?6:13;break;case 13:return b;break;case 6:b.r0(c.get(d)),b.aK=d+1;M0M=14;break;case 14:++d;M0M=7;break;}}};c.prototype.wSa=function(a,b,c,d){var q0M,f;q0M=2;while(q0M!==11){switch(q0M){case 2:f=this.K;c=b.Y;q0M=4;break;case 4:b=b.fh(d);F6hh.h1V(0);b.aK=F6hh.W1V(d,1);q0M=9;break;case 9:q0M=!b.fd?8:13;break;case 8:++d;q0M=7;break;case 7:q0M=d<c.length&&d<a.Mh.index&&(b.duration<a.oT||0!==d%f.w8)?6:13;break;case 14:++d;q0M=7;break;case 13:b.Bdb=this.pO+(K.time.da()-this.qO);return b;break;case 6:b.r0(c.get(d)),b.aK=d+1;q0M=14;break;}}};c.prototype.bja=function(a,b){var I0M,c,d,f;I0M=2;while(I0M!==7){switch(I0M){case 3:c.kr&&a.Oa.vob(this.zc,b.P,f);I0M=9;break;case 2:c=this.K;d=!1;f=function(b){var t0M;t0M=2;while(t0M!==1){switch(t0M){case 2:0!==b.length&&(b=b[0],b.Oc<a.Ra&&(b=b.Oc,a.Pmb(b)),d=!0);t0M=1;break;}}}.bind(this);I0M=3;break;case 9:c=this.Xa.ob[a.R];I0M=8;break;case 8:return this.ela&&b.Sb&&c.tua&&b.Sb!=c.tua&&(0<a.Oa.zv||0<a.Oa.Ko)?{ZL:!0,rl:d}:{ZL:!1,rl:d};break;}}};g2M=108;break;case 161:c.prototype.bVa=function(a){var z5M,c,d,f,g,h,l,A6V,P6V;z5M=2;while(z5M!==32){A6V="a";A6V+="udioTrac";A6V+="k";A6V+="Chan";A6V+="ge";P6V="a";P6V+="ud";P6V+="io";P6V+="Swit";P6V+="ch";switch(z5M){case 22:++d;z5M=24;break;case 23:c(d);z5M=22;break;case 25:d=this.zc;z5M=24;break;case 15:this.la.iza(d);this.mZ[b.G.AUDIO]=this.$a.qra(this.Cn,this.yn,b.G.AUDIO)[b.G.AUDIO];c=function(c){var U5M,d,f,g,h;U5M=2;while(U5M!==11){switch(U5M){case 8:f=!1;U5M=7;break;case 2:d=this.wa[c];f=d.je;g=this.IG(d.Ha,c,this.yn,this.ai,f,b.G.AUDIO);g[b.G.VIDEO]=f[b.G.VIDEO];d.je=g;U5M=8;break;case 7:U5M=d.t5?6:11;break;case 6:f=d.je[b.G.AUDIO].ec.some(function(a){var P5M;P5M=2;while(P5M!==4){switch(P5M){case 2:h=this.bf[b.G.AUDIO][a.id];P5M=1;break;case 7:return h;break;P5M=4;break;case 1:P5M=!(h&&l<h.stream.Y.Rf(0))?5:4;break;case 5:return h;break;}}}.bind(this));a.xf=void 0;a.Mh=void 0;f?(d.jb[b.G.AUDIO]=h,d.EK=!1,h.stream.Qc&&this.RN(d,this.zc)):(d.jb[b.G.AUDIO]=void 0,d.EK=!1,this.RO(d.S,c,d.je,!0,b.G.AUDIO));U5M=11;break;}}}.bind(this);z5M=25;break;case 14:f.BT=void 0;h.Ms[b.G.AUDIO]=this.Ct.Bf;this.rf&&0<this.rf.length&&(this.rf=this.rf.filter(function(c){var R5M;R5M=2;while(R5M!==4){switch(R5M){case 5:this.Bt(a,c,!1);R5M=4;break;case 1:return!0;break;case 2:R5M=c.R===b.G.VIDEO?1:5;break;case 7:this.Bt(a,c,-3);R5M=5;break;R5M=4;break;}}}.bind(this)),0===this.rf.length&&(this.rf=void 0,c.bH||this.nP(P6V)));this.tla(a);f.lo=void 0;f.oi=void 0;f.zI=void 0;z5M=18;break;case 21:a.bq(l);a.kza();this.la.Gf.Z5(this.zc);h.jb[b.G.AUDIO]&&h.jb[b.G.AUDIO].stream.Qc&&this.la.W9(this.la.Gf);z5M=32;break;case 24:z5M=d<this.wa.length?23:21;break;case 2:c=this.K;d=a.Ic;f=this.Xa.ob[a.R];z5M=3;break;case 3:this.Ct=f.BT;g=this.ge();h=this.Cu;z5M=7;break;case 18:f.El=void 0;this.C_(A6V,b.G.AUDIO);this.la.mAa(d,!0);z5M=15;break;case 7:l=g-d.Nc;this.yn[b.G.AUDIO]=this.Ct.Bf;z5M=14;break;}}};c.prototype.Hla=function(a,c,d){var l5M,f,o6V,i6V;l5M=2;while(l5M!==4){o6V="v";o6V+="ideo_l";o6V+="o";o6V+="catio";o6V+="n";i6V="l";i6V+="o";i6V+="c";i6V+="ation";switch(l5M){case 2:f=this.K.h8;l.V(c)||l.V(d)||(a.location=c,a.gd=d,(i6V===f||o6V===f&&a.R===b.G.VIDEO)&&this.$a.Wa.bV(c),this.zd.Uhb(a.R,c));l5M=4;break;}}};c.prototype.U_=function(){var b5M,a,b,c,d,f,E6V,w6V;b5M=2;while(b5M!==20){E6V="man";E6V+="i";E6V+="f";E6V+="ests:";w6V="u";w6V+="pdateRequestUrl";w6V+="s, no manifestEntry";w6V+=":";switch(b5M){case 2:a=[];b=0;c=this.Cu;b5M=3;break;case 9:return this.Ub(w6V,this.zc,E6V,this.wa.length),!1;break;case 8:d=c.mo;this.la.Ge.forEach(function(b){var h5M,c,u6V,K6V;h5M=2;while(h5M!==8){u6V="l";u6V+="ocati";u6V+="on selector ";u6V+="returne";u6V+="d null streamList";K6V="location selector i";K6V+="s gone, ses";K6V+="sion has been closed";switch(h5M){case 2:h5M=1;break;case 1:h5M=this.gD(b.R)?5:8;break;case 5:h5M=d?4:9;break;case 9:b.fa(K6V);h5M=8;break;case 4:c=this.Xa.vD(b);d.QV(c,b.ec)?(b=b.Oa.jsb(b.Yl,this.Hla.bind(this)),0<b.length&&a.push.apply(a,b)):b.fa(u6V);h5M=8;break;}}}.bind(this));b5M=6;break;case 3:b5M=!c?9:8;break;case 6:b5M=0<a.length?14:10;break;case 10:return!0;break;case 14:f={};a.forEach(function(a){var T5M,c;T5M=2;while(T5M!==4){switch(T5M){case 2:c=a.na;a.Ec&&c>this.zc&&(f[a.na]=!0,++b);T5M=4;break;}}}.bind(this));l.Pc(f,function(a,b){var Z5M;Z5M=2;while(Z5M!==5){switch(Z5M){case 2:a=this.wa[b];this.RO(a.S,b,a.je);Z5M=5;break;}}}.bind(this));return b===a.length?!0:!1;break;}}};c.prototype.cVa=function(a,b){var w5M,c;w5M=2;while(w5M!==3){switch(w5M){case 1:c=this.Qe[a.R];a=a.Oa.Mkb(b,function(a){var s5M;s5M=2;while(s5M!==1){switch(s5M){case 4:c.NK(a);s5M=8;break;s5M=1;break;case 2:c.NK(a);s5M=1;break;}}});l.V(a)||this.di();w5M=3;break;case 2:w5M=1;break;}}};c.prototype.dWa=function(a){var x5M,b,c,f;x5M=2;while(x5M!==7){switch(x5M){case 1:x5M=!d(this.zb.value)&&a.Iu&&0!==a.Iu.length&&!a.mV?5:7;break;case 2:x5M=1;break;case 5:b=a.R;c=a.Iu.shift();c=a.ec[c];f=c.id;!this.bf[a.R][f]&&c.Je&&(a.mV=f,b=this.gO(b,c.Rj,c.ii),this.CG(a,this.um,c,{offset:0,Z:b,yE:!0}));x5M=7;break;}}};c.prototype.Uja=function(a){var n5M,b,c,d;n5M=2;while(n5M!==14){switch(n5M){case 3:n5M=!a||-1!=a.indexOf(X.AUDIO)?9:7;break;case 2:n5M=1;break;case 9:d=b.uo&&this.ds&&b.wsb;n5M=8;break;case 1:b=this.K;c=[];a&&-1==a.indexOf(X.VIDEO)||c.push({type:X.VIDEO,openRange:!b.uo,pipeline:b.uo,connections:b.uo?b.LJ:1,socketBufferSize:b.rba});n5M=3;break;case 7:a&&-1==a.indexOf(X.NM)||c.push({type:X.NM,openRange:!1,pipeline:!0,connections:1,socketBufferSize:b.u5});return c;break;case 8:c.push({type:X.AUDIO,openRange:!d,pipeline:d,connections:1,socketBufferSize:b.O0});n5M=7;break;}}};c.prototype.kja=function(a){var Y5M,b,c,x6V;Y5M=2;while(Y5M!==6){x6V="cr";x6V+="eateDlTracks";x6V+="Start";switch(Y5M){case 2:b=this;c=b.K;Y5M=4;break;case 4:0===b.bx&&b.Zq(x6V);b.bx+=a.length;a=a.map(function(a){var d5M,d,l6V,b6V,U6V,R6V,n6V;d5M=2;while(d5M!==12){l6V="des";l6V+="tro";l6V+="yed";b6V="trans";b6V+="port";b6V+="re";b6V+="po";b6V+="rt";U6V="e";U6V+="rro";U6V+="r";R6V="netw";R6V+="or";R6V+="kfail";R6V+="i";R6V+="ng";n6V="cre";n6V+="a";n6V+="te";n6V+="d";switch(d5M){case 14:l.V(d.Dc)||d.Dc();return d;break;case 2:d=new X(a,b.fk);d.le=b;d.gH=new m();d.gH.on(d,n6V,function(){var v5M,N6V;v5M=2;while(v5M!==5){N6V="crea";N6V+="t";N6V+="eDl";N6V+="T";N6V+="racksEnd";switch(v5M){case 2:--b.bx;0===b.bx&&b.Zq(N6V);v5M=5;break;}}});d5M=9;break;case 9:d.gH.on(d,R6V,function(){var j5M,k6V;j5M=2;while(j5M!==5){k6V="repor";k6V+="tNetworkFa";k6V+="iling: ";switch(j5M){case 2:c.We&&b.zh(k6V+d.toString());d.W6a&&(b.Cu.yC.Rl(void 0,d.zk,d.Ol,d.gEb),b.U_());j5M=5;break;}}});d.gH.on(d,U6V,function(){var f5M,h6V,M6V,W6V;f5M=2;while(f5M!==5){h6V="NF";h6V+="Err_";h6V+="MC_Stre";h6V+="amingFailure";M6V="Downloa";M6V+="dTrack f";M6V+="atal error";W6V="Downl";W6V+="oad";W6V+="Track fatal error: ";switch(f5M){case 2:c.We&&b.zh(W6V+JSON.stringify(a));b.kk(M6V,h6V,d.zk,0,d.Ol);f5M=5;break;}}});d.on(b6V,function(a){var F5M,V6V;F5M=2;while(F5M!==1){V6V="transpor";V6V+="tr";V6V+="e";V6V+="po";V6V+="rt";switch(F5M){case 2:b.emit(V6V,a);F5M=1;break;case 4:b.emit("",a);F5M=9;break;F5M=1;break;}}});d.on(l6V,function(){var k5M;k5M=2;while(k5M!==1){switch(k5M){case 2:d.removeAllListeners();k5M=1;break;case 4:d.removeAllListeners();k5M=5;break;k5M=1;break;}}});d5M=14;break;}}});X.Gg();return a;break;}}};c.prototype.bSa=function(){var H5M,a;H5M=2;while(H5M!==9){switch(H5M){case 3:a.forEach(function(a){var e5M;e5M=2;while(e5M!==4){switch(e5M){case 2:a.sQ||--this.bx;a.gH.clear();a.Vn();e5M=4;break;}}}.bind(this));H5M=9;break;case 2:a=[];this.Xa.ob.forEach(function(b){var N5M;N5M=2;while(N5M!==5){switch(N5M){case 2:l.V(b.Hj)||a.push(b.Hj);b.Hj=void 0;N5M=5;break;}}});this.vG&&(a.push(this.vG),this.vG=void 0);H5M=3;break;}}};c.prototype.aSa=function(a){var L5M,c;L5M=2;while(L5M!==14){switch(L5M){case 2:c=a.R;c==b.G.AUDIO&&(a.QK=!0,this.zd.qE(null));a=this.Xa.ob[c];c=a.Hj;L5M=9;break;case 9:c.sQ||--this.bx;c.gH.clear();c.Vn();a.Hj=void 0;L5M=14;break;}}};c.prototype.tla=function(a){var K5M,b,c,d,f,g,h;K5M=2;while(K5M!==11){switch(K5M){case 2:b=a.R;c=this.Xa.ob[b];K5M=4;break;case 3:K5M=d?9:11;break;case 9:g=[];for(h in this.bf[b]){(f=this.bf[b][h])&&!f.Y&&f.track==d&&(this.bf[b][h]=void 0,g.push({stream:f.stream,offset:f.offset,Z:f.Z,ay:f.ay,na:f.na,Sr:f.Sr,fo:f.fo}),a.Oa.NK(f));}K5M=7;break;case 4:d=c.Hj;K5M=3;break;case 7:this.aSa(a);b=this.Uja([b]);K5M=14;break;case 14:b=this.kja([b[0]]);c.Hj=b[0];g.forEach(function(b){var o5M;o5M=2;while(o5M!==1){switch(o5M){case 2:this.CG(a,this.um,b.stream,b,b.stream.na);o5M=1;break;}}}.bind(this));K5M=11;break;}}};c.prototype.Zq=function(a){var O5M,r6V;O5M=2;while(O5M!==5){r6V="sta";r6V+="rtE";r6V+="vent";switch(O5M){case 2:a={type:r6V,event:a,time:K.time.da()};V(this,a.type,a);O5M=5;break;}}};c.prototype.lUa=function(){var M5M,a,z6V;M5M=2;while(M5M!==4){z6V="o";z6V+="pe";z6V+="nComplet";z6V+="e";switch(M5M){case 2:a={type:z6V};V(this,a.type,a);M5M=4;break;}}};c.prototype.mUa=function(a,b,c,d,f){var q5M,e6V;q5M=2;while(q5M!==1){e6V="pt";e6V+="s";e6V+="Sta";e6V+="r";e6V+="ts";switch(q5M){case 2:this.K.D4a||(a={type:e6V,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:f.UAa()},V(this,a.type,a));q5M=1;break;}}};c.prototype.ZTa=function(a,b){var I5M,f6V,s6V,C6V;I5M=2;while(I5M!==4){f6V="emptyConten";f6V+="t";f6V+="I";f6V+="d";s6V="n";s6V+="o";s6V+="n";s6V+="e";C6V="dr";C6V+="mH";C6V+="ea";C6V+="de";C6V+="r";switch(I5M){case 2:a={type:C6V,manifestIndex:a,drmType:b?b.$i:s6V,contentId:b?b.soa:f6V};b&&(a.source=b.source,a.header=b.Dk);V(this,a.type,a);I5M=4;break;}}};c.prototype.cUa=function(a,b){var t5M,Y6V;t5M=2;while(t5M!==5){Y6V="h";Y6V+="ea";Y6V+="derCa";Y6V+="cheHit";switch(t5M){case 2:a={type:Y6V,movieId:a,streamId:b};V(this,a.type,a);t5M=5;break;}}};c.prototype.bUa=function(a,b,c,d,f){var X5M,g,g6V;X5M=2;while(X5M!==9){g6V="heade";g6V+="rCacheDa";g6V+="taHit";switch(X5M){case 2:g=this.hka;this.hka=void 0;X5M=4;break;case 4:a={type:g6V,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:f,actualStartPts:g&&g.Bm,headerCount:g&&g.$r,stats:g&&g.dc};V(this,a.type,a);X5M=9;break;}}};c.prototype.kUa=function(a,b,c){var r5M,L6V;r5M=2;while(r5M!==5){L6V="ma";L6V+="xPo";L6V+="si";L6V+="ti";L6V+="on";switch(r5M){case 2:a={type:L6V,index:a,maxPts:b,endPts:c};V(this,a.type,a);r5M=5;break;}}};c.prototype.uUa=function(a,b,c,d,f){var u5M,S6V,a6V;u5M=2;while(u5M!==4){S6V="notifyS";S6V+="treami";S6V+="ngEr";S6V+="r";S6V+="or: ";a6V="er";a6V+="ro";a6V+="r";switch(u5M){case 2:a={type:a6V,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:f};this.Ub(S6V+JSON.stringify(a));V(this,a.type,a);u5M=4;break;}}};c.prototype.Oka=function(a,b){var V5M,q6V;V5M=2;while(V5M!==5){q6V="segm";q6V+="entStarti";q6V+="ng";switch(V5M){case 2:b={type:q6V,segmentId:a.id,contentOffset:b};a.TD||V(this,b.type,b);V5M=5;break;}}};c.prototype.oUa=function(a){var y5M,b,j6V;y5M=2;while(y5M!==4){j6V="segmentA";j6V+="bo";j6V+="rted";switch(y5M){case 2:b={type:j6V,segmentId:a.id};a.TD||V(this,b.type,b);y5M=4;break;}}};c.prototype.GSa=function(a,b){var Q5M,c,d,f,c6V,G6V,Q6V,X6V,I6V,D6V;Q5M=2;while(Q5M!==20){c6V="seam";c6V+="l";c6V+="es";c6V+="s";G6V="r";G6V+="es";G6V+="e";G6V+="t";Q6V="s";Q6V+="k";Q6V+="i";Q6V+="p";X6V="lo";X6V+="n";X6V+="g";I6V="l";I6V+="o";I6V+="n";I6V+="g";D6V="s";D6V+="eam";D6V+="l";D6V+="es";D6V+="s";switch(Q5M){case 2:c={segment:a,srcsegment:b.nV,srcoffset:b.OAa,seamlessRequested:b.OU,atRequest:{},discard:{}};f=b.Sc[a];f?(d=f.weight,da(f.sH,c.atRequest)):d=this.la.osa(b.nV,a);c.atRequest.weight=d;Q5M=9;break;case 9:l.Pc(b.Sc,function(b,d){var A5M;A5M=2;while(A5M!==1){switch(A5M){case 2:d!=a&&(c.discard[d]={weight:b.weight},da(b.sH,c.discard[d]));A5M=1;break;}}});d=b.OU?b.$R?D6V:I6V:b.pwa?X6V:b.Sj?Q6V:G6V;c.transitionType=d;Q5M=6;break;case 13:c.durationOfTransition=d;c.atTransition=b.MBa;c.srcsegmentduration=this.la.L$a(b.nV);Q5M=10;break;case 6:b.$3a||(c.delayToTransition=b.GQ);d=c6V===d?0:K.time.da()-b.startTime;Q5M=13;break;case 10:return c;break;}}};c.prototype.rUa=function(a,b,c){var B5M,O6V;B5M=2;while(B5M!==4){O6V="segment";O6V+="Pre";O6V+="sent";O6V+="in";O6V+="g";switch(B5M){case 2:c=c?this.GSa(a.id,c):void 0;b={type:O6V,segmentId:a.id,contentOffset:b,metrics:c};a.TD||V(this,b.type,b);B5M=4;break;}}};c.prototype.pUa=function(a,b){var a6W,B6V;a6W=2;while(a6W!==5){B6V="s";B6V+="egmentApp";B6V+="ended";switch(a6W){case 2:b={type:B6V,segmentId:a.id,metrics:b};a.TD||V(this,b.type,b);a6W=5;break;}}};g2M=175;break;case 252:c.prototype.hK=function(a){var g1W,b,t6V,p6V;g1W=2;while(g1W!==7){t6V="onpr";t6V+="og";t6V+="ress ignored, pipelines shutdown, mediaRequest:";p6V="reque";p6V+="stPr";p6V+="og";p6V+="ress";switch(g1W){case 9:this.K.$Q&&this.fP.push(a.IS);this.emit(p6V,{timestamp:b,url:a.url});g1W=7;break;case 2:g1W=1;break;case 1:g1W=this.oe()?5:4;break;case 5:this.fa(t6V,a);g1W=7;break;case 4:b=this.vd;this.zd.Vwa(this.De-this.wi,a.kj,b);g1W=9;break;}}};c.prototype.ti=function(a){var p1W,T6V,H6V;p1W=2;while(p1W!==1){T6V="requ";T6V+="estC";T6V+="omp";T6V+="l";T6V+="ete";H6V="oncomplete ignored, pipelines";H6V+=" shutdown, me";H6V+="diaRequest:";switch(p1W){case 2:this.oe()?this.fa(H6V,a):(this.vx&&(this.vx=!1,this.wa[a.na].yC.OK(!0)),a.q0||(this.zd.Vwa(this.De-this.wi,a.kj,a.vd),a.Ec||this.zd.bib(a.R,a.duration,a.De,a.jo)),a.Ec?(this.JSa(a),this.tmb()):this.gka(a),this.K.$Q&&this.fP.push(a.IS),this.emit(T6V,{timestamp:a.vd,mediaRequest:a}));p1W=1;break;}}};c.prototype.KD=function(a){var i1W,b,y3V,F3V,m6V,J6V,d6V;i1W=2;while(i1W!==4){y3V="NFErr_MC_StreamingFai";y3V+="lu";y3V+="re";F3V="un";F3V+="kn";F3V+="o";F3V+="w";F3V+="n";m6V=", error";m6V+="msg";m6V+=": ";J6V="MP";J6V+="4 parsing";J6V+=" er";J6V+="ror on: ";d6V="requestError ignore";d6V+="d, pipelines shutdow";d6V+="n, medi";d6V+="aReques";d6V+="t:";switch(i1W){case 2:b=a.zk;this.oe()?this.fa(d6V,a):a.Ec&&a.parseError?(this.fa(J6V+a+m6V,a.parseError),this.kk(a.parseError)):(this.K.Kab&&b===W.ct.IX&&0<a.De&&(b=W.ct.wW),this.wa[a.na].yC.Rl(a.status,b,a.Ol,{url:a.url}),this.U_()||this.kk(a.kR||F3V,y3V,b,a.status,a.Ol));i1W=4;break;}}};g.M=c;Z3V;g2M=247;break;}}function d(a){var C2M;C2M=2;while(C2M!==1){switch(C2M){case 2:return a===b.Da.Vs||a===b.Da.xt;break;}}}function c(a,c,d,f,g,h,k,r,u){var p2M,q,E3V,o3V,i3V,A3V,P3V,v3V;p2M=2;while(p2M!==84){E3V="mediac";E3V+="a";E3V+="ch";E3V+="e";o3V="med";o3V+="ia";o3V+="|a";o3V+="s";o3V+="ejs";i3V="A";i3V+="S";i3V+="E";i3V+="J";i3V+="S";A3V="ina";A3V+="c";A3V+="t";A3V+="ive";P3V="S";P3V+="i";P3V+="deChan";P3V+="n";P3V+="el: pbcid is missing.";v3V="ma";v3V+="n";v3V+="agerdebugevent";switch(p2M){case 13:this.Xt={path:h.bc,ge:h.ge,M4:h.M4};p2M=12;break;case 50:this.bg.on(this.$a.Wc,v3V,function(a){var i2M;i2M=2;while(i2M!==1){switch(i2M){case 2:V(this,a.type,a);i2M=1;break;case 4:V(this,a.type,a);i2M=5;break;i2M=1;break;}}}.bind(this));p2M=49;break;case 70:d.RB=!0;d.Fx=!0;this.wa=[d];this.la=new t(this,this.zd,c.choiceMap,this.UG,u);p2M=66;break;case 30:this.UG=f||0;this.qO=this.pO=0;this.Cn=c;p2M=44;break;case 10:u.dy&&(l.V(u.J5)||0===u.J5.length||-1===u.J5.indexOf(this.um))&&(u.dy=!1);this.K=u;this.JO=g.U8;this.ai=g.ii;this.yZ=g.aC;this.TN=!1;p2M=15;break;case 31:this.pm=c.duration;p2M=30;break;case 47:u.sp&&(h&&h.VT?(h.sZa=u.eN.lv,h.wfb=u.eN.mx,this.ep=new I(h.VT,h,this)):this.Pp(P3V));u.dy&&(this.pO=this.UG+u.nBa,this.qO=K.time.da());a=Math.floor(1E6*Math.random());this.Wn=0===a%u.D5&&0<u.YI.length;h&&h.ff&&(this.Wn=!1);this.f3=this.Wn&&0===a%u.C5;p2M=62;break;case 49:p2M=(u.tCa||u.Zz)&&this.$a.Wc?48:47;break;case 36:this.on=this.addEventListener=p.addEventListener;this.removeEventListener=p.removeEventListener;this.emit=this.Ja=p.Ja;this.bg=new m();p2M=51;break;case 37:this.d_=Object.create(null);p2M=36;break;case 87:p2M=(this.Bl=0===Math.floor(1E6*Math.random())%u.NB)?86:85;break;case 74:this.fj.addEventListener(A3V,this.Ika);d=this.ZN(c,0,g.ea,f,!1,d);d.ii=g.ii;d.obb=!0;p2M=70;break;case 85:J.call(this);p2M=84;break;case 9:this.Ua=this.W.log.bind(this.W);this.$a=a;this.fk=h;this.Xt=r;p2M=14;break;case 89:q=this;p2M=88;break;case 66:this.Xa=new A(this.$a,this,u);p2M=90;break;case 44:this.zc=0;this.mZ=k;this.UO=this.vx=!1;this.yn=d;this.Tw=this.vG=void 0;this.Qka=0;this.wO=-1;p2M=37;break;case 62:this.Bl=0===a%u.NB;this.bf=[Object.create(null),Object.create(null)];this.Qe=[];h=this.lja(c,this.ai).X$a();a=null;p2M=57;break;case 2:this.W=new K.Console(i3V,o3V,"("+h.sessionId+")");this.Ub=this.W.error.bind(this.W);this.fa=this.W.warn.bind(this.W);this.Jb=this.W.trace.bind(this.W);p2M=9;break;case 55:this.jB=[0,0];f=this.IG(c,0,d,g.ii);this.zd=new v(this,h,this.$a.Wa,u,this.ova(),a);this.Ika=this.zd.Vhb.bind(this.zd);p2M=74;break;case 51:p2M=u.We&&this.$a.Wc?50:49;break;case 14:p2M=void 0===this.Xt||void 0===this.Xt.ge?13:12;break;case 90:p2M=this.Wn?89:87;break;case 12:u=this.fRa(c,u);this.um=c.movieId+"";p2M=10;break;case 86:this.vla=new z(this,u);p2M=85;break;case 22:g.pJb?this.Qi[b.G.AUDIO]=!1:g.SBb&&(this.Qi[b.G.VIDEO]=!1);this.ox=void 0;p2M=35;break;case 57:u.nI&&(a=this.$a.Fs.$t);u.$Q&&(this.fP=new n(u.Kea.c,u.Kea.maxc));p2M=55;break;case 88:this.zb.addListener(function(a){var G2M,W2M;G2M=2;while(G2M!==1){switch(G2M){case 2:try{W2M=2;while(W2M!==1){switch(W2M){case 2:q.Xa.asb.bind(q.Xa)(a);W2M=1;break;}}}catch(ab){var w3V;w3V="Hindsight: Error";w3V+=" when add";w3V+="ing updatePlaySegment List";w3V+="ene";w3V+="r: ";F6hh.h1V(0);q.Pp(F6hh.W1V(w3V,ab));}G2M=1;break;}}});p2M=87;break;case 35:this.oSa=K.time.da()+g.cEb;this.zb=new ga(b.Da.Tg);this.Mi=void 0;this.Y_=h.ja;p2M=31;break;case 48:this.bg.on(this.$a.Wc,E3V,function(a){var D2M,K3V;D2M=2;while(D2M!==1){K3V="m";K3V+="e";K3V+="di";K3V+="a";K3V+="cache";switch(D2M){case 2:V(this,K3V,a);D2M=1;break;case 4:V(this,"",a);D2M=5;break;D2M=1;break;}}}.bind(this));p2M=47;break;case 15:this.FWa=g.TE;this.GWa=g.SV;this.iB=g.Leb;this.oB=g.$T;this.ZVa=g.CIb;this.Qi=[!0,!0];p2M=22;break;}}}}());},function(g,d,a){var c,h,l,f,p,m;function b(a,b,d){p=d;m=d.map(function(a,b){return a.Je&&a.inRange&&!a.Lh?b:null;}).filter(function(a){return null!==a;});if(null===f)return a=h(d),f=d[a].P,new l(a);if(!m.length)return null;a=m.filter(function(a){return d[a].P==f;})[0];return void 0===a?(c.log("Defaulting to first stream due to unvalid bitrate requested: "+f),new l(m[0])):new l(a);}a(11);a(13);d=a(43);a=a(7);c=d.console;h=d.J3;l=d.Xo;f=null;p=null;m=null;a.v_a&&(a.v_a.CE={Dc:function(){m=p=f=null;},x$:function(a){f=a;},eFb:function(){return{all:p,qCa:m};}});g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var u3V,b,i9c;u3V=2;while(u3V!==8){i9c="1SIYbZrN";i9c+="JC";i9c+="p9";switch(u3V){case 2:a(11);b=a(13);a(43);u3V=3;break;case 3:g.M={checkBuffering:function(a,d,g,f,p){var n7X=F6hh;var x3V,h,l,k,n,q,t,A,e9c,Y9c,l9c,x9c,R3V,U3V;x3V=2;while(x3V!==38){e9c="ou";e9c+="tof";e9c+="ra";e9c+="nge";Y9c="hi";Y9c+="g";Y9c+="h";Y9c+="t";Y9c+="p";l9c="n";l9c+="oreb";l9c+="uf";l9c+="f";x9c="ma";x9c+="xs";x9c+="ize";switch(x3V){case 19:q=0;h.Y.forEach(function(a){var N3V;N3V=2;while(N3V!==1){switch(N3V){case 2:q+=a.U+a.duration>h.uf?a.Z:0;N3V=1;break;}}});x3V=17;break;case 16:return k<d.P&&(n=Math.min(g,Math.max(p.IK*(d.P/k-1),n))),{complete:!1,Dz:n,xi:(q-h.Av)/(q+(n-(h.Ra-h.uf))*d.P/8)};break;case 20:return{complete:!1,Dz:n};break;case 8:return{complete:!0,reason:x9c};break;case 42:--p;x3V=31;break;case 11:n=g?Math.min(g,n):n;x3V=10;break;case 2:h=a.buffer;l=a.ce||h.yl-h.uf;k=d.pa||0;n=0;x3V=9;break;case 14:n7X.n9c(0);R3V=n7X.U9c(5,114,18,9,15,12);n=p.ri*(a.state===b.Da.xt?p.A9:R3V);p.G5a&&d.Ia&&d.Ia.pg&&d.Ia.pg.Aa>p.d7&&(n+=p.n0+d.Ia.pg.Aa*p.H8);f&&(n+=f.tQ*p.o0);x3V=11;break;case 28:x3V=0<A?44:43;break;case 41:return{complete:!0,reason:l9c};break;case 7:x3V=k<=p.j7&&(0<k||!p.r3)?6:14;break;case 15:a=d.Y.Kj(h.Ra);x3V=27;break;case 23:x3V=k>d.P*p.mR?22:21;break;case 9:x3V=l>=g?8:7;break;case 30:f=d.Y.get(p);A=8*A/k-f.U-n;x3V=28;break;case 22:return{complete:!0,reason:Y9c};break;case 26:return{complete:!0,reason:e9c};break;case 10:x3V=!k?20:19;break;case 17:x3V=!d.Y||!d.Y.length?16:15;break;case 25:t=d.Y.Pl(a);x3V=24;break;case 27:x3V=-1===a?26:25;break;case 32:--p;x3V=31;break;case 24:x3V=l>=n?23:40;break;case 44:return n=Math.min(g,l+A),{complete:!1,Dz:n,xi:c(n)};break;case 31:x3V=p>a?30:41;break;case 43:A=f.offset;x3V=42;break;case 6:return{complete:!1,FJ:!0};break;case 40:0<k&&k<d.P&&(n=Math.min(g,Math.max(p.IK*(d.P/k-1),n)));return{complete:!1,Dz:n,xi:c(n)};break;case 21:n=d.Y.Td(a);p=Math.min(a+Math.floor(p.IK/n),d.Y.length-1);A=d.Y.Pl(p);n7X.n9c(1);U3V=n7X.U9c(8,10,72);n=U3V*t/k-h.uf;x3V=32;break;}}function c(a){var n3V;n3V=2;while(n3V!==5){switch(n3V){case 2:a=d.Y.H3(h.uf+a,void 0,!0);return(q-h.Av)/(q+(a.offset+a.Z)-t);break;}}}}};i9c;u3V=8;break;}}}());},function(g,d,a){(function(){var j9c,c,d,l,f,J60;j9c=2;while(j9c!==13){J60="1";J60+="SIYbZrN";J60+="J";J60+="Cp9";switch(j9c){case 14:J60;j9c=13;break;case 8:f=d.Xo;d=a(195);g.M={STARTING:d.STARTING,BUFFERING:d.BUFFERING,REBUFFERING:d.REBUFFERING,PLAYING:b,PAUSED:b};j9c=14;break;case 2:c=a(11);a(13);d=a(43);a(7);l=d.assert;j9c=8;break;}}function b(a,b,d,g){var F9c,h,O60,E60,Z9c;F9c=2;while(F9c!==11){O60="player ";O60+="mis";O60+="sing s";O60+="treamingIndex";E60="Must have at lea";E60+="st one selecte";E60+="d ";E60+="stream";switch(F9c){case 2:l(!c.V(g),E60);l(c.ka(b.Uv),O60);b=f(g);F9c=3;break;case 3:F6hh.c60(0);Z9c=F6hh.V60(17,17);g=d.length-Z9c;F9c=9;break;case 9:F9c=-1<g?8:13;break;case 8:h=d[g];F9c=7;break;case 6:return b.Hd=g,b;break;case 7:F9c=h.Ia&&h.Ia.pa&&h.P<h.Ia.pa.Aa-a.Gqb?6:14;break;case 14:--g;F9c=9;break;case 13:b.Hd=0;return b;break;}}}}());},function(g,d,a){var c;function b(a,b,d){return new c(d.length-1);}a(11);c=a(43).Xo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var c;function b(){return new c(0);}a(11);c=a(43).Xo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var p60,l,f,p,m,k,n,q,v,t,y,F60;function c(a,b,c,f){var S60,g,h,r,n,u,q,x,z,B,B60,s60,D60,C60,m60,v60,A60,Y60,K60,b60,g60,f60,w60,q60,e60,U60,r60,G60,z60,o60,R60,a60,u60;S60=2;while(S60!==30){B60="M";B60+="ust have at least one selected str";B60+="eam";s60=",";s60+=" streaming";s60+="Pts";s60+=" = ";D60=", lastUpswitchP";D60+="ts";D60+=" = ";C60="  ";C60+="Upswitc";C60+="h allowed. lastDownsw";C60+="itc";C60+="hPts = ";m60=" kbps, try to downs";m60+="wit";m60+="ch";v60=" k";v60+="bps <";v60+=" ";A60="throughput for a";A60+="udi";A60+="o ";Y60="k";Y60+="bps, ";Y60+="st";Y60+="reamingPts ";Y60+=":";K60=", au";K60+="di";K60+="o th";K60+="roughput:";b60=" kbps,";b60+=" profile ";b60+=":";g60="selectAudioSt";g60+="re";g60+="am: selected stream ";g60+=":";f60=" ";f60+="kb";f60+="p";f60+="s";w60=" kb";w60+="ps, t";w60+="o ";q60="swi";q60+="tching audi";q60+="o from ";e60="d";e60+="o";e60+="w";e60+="n";U60="u";U60+="p";r60=" ";r60+="k";r60+="bp";r60+="s";G60=" kb";G60+="ps ";G60+="> ";z60="thro";z60+="ughput";z60+=" for ";z60+="aud";z60+="io ";o60="m";o60+="s";R60=", buffe";R60+="r";R60+=" level = ";a60=", lastUpswit";a60+="ch";a60+="Pt";a60+="s ";a60+="= ";u60="  Upswitc";u60+="h not";u60+=" allowed. lastDownswi";u60+="tchPts";u60+=" = ";switch(S60){case 35:m&&p.log(u60+this.Hp+a60+this.mD+R60+B+o60);S60=34;break;case 21:g=u;S60=34;break;case 23:S60=++q<r.length?22:34;break;case 12:S60=0>q?11:10;break;case 27:q--;S60=19;break;case 26:S60=q<r.length-1&&x>z.bCa*u&&(m&&p.log(z60+x+G60+z.bCa+"*"+u+r60),u=b.buffer,B=u.yl-u.uf,n.Y&&n.Y.length)?25:34;break;case 18:u=r[q];B=c[u];S60=16;break;case 34:x=c[g];g!==f&&m&&p.log((g>f?U60:e60)+q60+n.P+w60+x.P+f60);m&&p.log(g60+x.P+b60+h+K60+x.pa+Y60+b.buffer.Ra);return new t(g);break;case 9:S60=r&&1<r.length?8:34;break;case 15:g=u;S60=34;break;case 25:S60=d(B,u.Ra,z,b.wy)?24:35;break;case 16:S60=v(B)&&(0==q||B.P*z.Kpa<x)?15:27;break;case 20:m&&p.log(A60+x+v60+z.Kpa+"*"+u+m60),--q;S60=19;break;case 24:m&&p.log(C60+this.Hp+D60+this.mD+s60+u.Ra);S60=23;break;case 3:a.Aaa.some(function(d){var j60,f,g,l,m,p,k;j60=2;while(j60!==13){switch(j60){case 14:return g;break;case 3:l=(d=d.MD)&&d.pT||a.pT;m=d&&d.CGb||-Infinity;p=d&&d.ova||Infinity;j60=7;break;case 7:k=b.buffer.xu;j60=6;break;case 2:f=d.profiles;g=f&&0<=f.indexOf(h);j60=4;break;case 6:r=c.filter(function(a){var N60,b;N60=2;while(N60!==4){switch(N60){case 2:b=a.P;return b>=m&&b<=p&&0<=f.indexOf(a.Ue)&&b*l/8<k;break;}}}).map(function(a){var t60;t60=2;while(t60!==1){switch(t60){case 2:return a.lf;break;case 4:return a.lf;break;t60=1;break;}}});j60=14;break;case 4:j60=g?3:14;break;}}});S60=9;break;case 19:S60=0<=q?18:34;break;case 10:S60=q&&x<z.Kpa*u?20:26;break;case 22:S60=(u=r[q],B=c[u],v(B)&&x>z.bCa*B.P)?21:23;break;case 2:k(!l.V(f),B60);g=f;h=c[f].Ue;S60=3;break;case 8:n=c[f];u=n.P;q=r.indexOf(f);S60=14;break;case 11:g=0;S60=34;break;case 14:x=n.pa;z=a.EYa;S60=12;break;}}}p60=2;while(p60!==10){F60="1SIY";F60+="bZr";F60+="NJ";F60+="Cp9";switch(p60){case 4:p=f.console;m=f.debug;k=f.assert;n=a(48);q=a(13);v=f.yy;p60=14;break;case 2:l=a(11);f=a(43);p60=4;break;case 14:t=f.Xo;y=a(351);g.M={STARTING:function(a,c,d,f){var Q60,g,h,X60,I60,y60;Q60=2;while(Q60!==14){X60="selectAud";X60+="ioStreamStarting: overridin";X60+="g conf";X60+="i";X60+="g with ";I60=" kbps,";I60+=" ";I60+="profile";I60+=" :";y60="selectA";y60+="udioStreamSta";y60+="rting: sel";y60+="ected stream :";switch(Q60){case 4:Q60=(h=b(h,a.Aaa)||b(h,a.DYa))?3:9;break;case 2:g=a;h=d[f||0].Ue;Q60=4;break;case 9:a=y[q.Da.name[q.Da.Tg]](g,c,d,f);d=d[a.Hd];m&&p.log(y60+d.P+I60+d.Ue);return a;break;case 3:g={minInitAudioBitrate:a.UJ,minHCInitAudioBitrate:a.TJ,maxInitAudioBitrate:a.IJ,minRequiredAudioBuffer:a.pT},m&&p.log(X60+JSON.stringify(h)),n(h,g);Q60=9;break;}}},BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};F60;p60=10;break;}}function d(a,b,c,d){var d60;d60=2;while(d60!==1){switch(d60){case 2:return d&&a>c.Iy&&(l.V(this.Hp)||this.mD>this.Hp||b-this.Hp>c.SS);break;}}}function b(a,b){var n60,c;n60=2;while(n60!==3){switch(n60){case 2:c=void 0;b.some(function(b){var Z60,d;Z60=2;while(Z60!==3){switch(Z60){case 2:d=b.profiles;(d=d&&0<=d.indexOf(a))&&(c=b.override);return d;break;}}});return c;break;}}}}());},function(g,d,a){var c,h,l,f;function b(a,b,d){var g,m;g=this.b_;b=b.buffer.Ra;m="forward"===a.Rmb;if(c.V(g))return g=m?h(d):h(d,d.length),this.c_=b,this.b_=g,new f(g);l(d[g])||(g=h(d,g),this.c_=b,this.b_=g);if(0>g)return null;if(b>this.c_+a.Jqb){a=d.map(function(a,b){return a.Je&&a.inRange&&!a.Lh?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;m?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.b_=a[g];this.c_=b;return new f(a[g]);}return new f(g);}c=a(11);a(13);d=a(43);h=d.J3;l=d.yy;f=d.Xo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var c;function b(a,b,d){a=d.map(function(a,b){return a.Je&&a.inRange&&!a.Lh?b:null;}).filter(function(a){return null!==a;});return a.length?new c(a[Math.floor(Math.random()*a.length)]):null;}a(13);c=a(43).Xo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var c,h,l,f;function b(a,b,d,g){if(c.V(g))a=h(d);else if(l(d[g]))a=g;else if(a=h(d,g),0>a)return null;return new f(a);}c=a(11);a(13);d=a(43);h=d.J3;l=d.yy;f=d.Xo;g.M={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);(function(){var M60,c,g,l,f,p,m,k,n,q,R10,a10,u10,Q10,d10,t10,N10,j10;M60=2;while(M60!==18){R10="che";R10+="c";R10+="kdefa";R10+="ult";a10="d";a10+="efau";a10+="l";a10+="t";u10="d";u10+="efau";u10+="lt";Q10="d";Q10+="efaul";Q10+="t";d10="def";d10+="a";d10+="u";d10+="l";d10+="t";t10="defau";t10+="l";t10+="t";N10="checkBu";N10+="ffe";N10+="rin";N10+="g";j10="1S";j10+="I";j10+="YbZrNJCp9";switch(M60){case 9:p=g.vR;m=g.Rma;M60=7;break;case 2:c=a(11);g=a(43);l=a(7);f=g.console;M60=9;break;case 11:d.Lw.prototype.x$=function(a,d,g,h,k,r,n){var T60,i10,u,q,x,v,t,z,B,y,A,I,N,w,S10;T60=2;while(T60!==37){S10="Stream selector ca";S10+="lle";S10+="d with";S10+=" invalid player state ";switch(T60){case 13:T60=0<I?12:11;break;case 25:this.mD=this.Hp=void 0;T60=24;break;case 12:N=A[I-1].Ya,B=m(d,function(a){var h10;h10=2;while(h10!==1){switch(h10){case 2:return a.id===N;break;case 4:return a.id==N;break;h10=1;break;}}}),B=0<=B?B:void 0;T60=11;break;case 43:this.oO=b.OM.Tg;T60=23;break;case 18:w.length||(w=d.filter(function(a){var L10;L10=2;while(L10!==1){switch(L10){case 2:return a&&a.Je&&!a.Lh;break;case 4:return a||a.Je||~a.Lh;break;L10=1;break;}}}),w.forEach(function(a){var P10;P10=2;while(P10!==1){switch(P10){case 2:a.inRange=!0;P10=1;break;case 4:a.inRange=~2;P10=8;break;P10=1;break;}}}));A=w;z.lL?A=w.filter(function(a){var V10;V10=2;while(V10!==1){switch(V10){case 4:return a.Fl;break;V10=1;break;case 2:return a.Fl;break;}}}):a.state!==b.Da.Df&&a.state!==b.Da.Iq&&(A=w.filter(function(a){var c10;c10=2;while(c10!==1){switch(c10){case 4:return~a.hV;break;c10=1;break;case 2:return!a.hV;break;}}}));w=0<A.length?A:w.slice(0,1);void 0!==B&&(y=m(w,function(a){var H10;H10=2;while(H10!==1){switch(H10){case 2:return a.P>d[B].P;break;case 4:return a.P<d[B].P;break;H10=1;break;}}}),y=0<y?y-1:0===y?0:w.length-1);T60=26;break;case 35:return null;break;case 24:this.oO=b.OM.Tg;T60=23;break;case 41:T60=i10===b.Da.Df?23:40;break;case 4:v=l.time.da();z=this.config;B=this.gx;c.ka(B)&&a&&a.state===b.Da.Tg&&(B=this.gx=void 0);T60=7;break;case 23:u=this.aH[b.Da.name[x]].call(this,z,a,w,y,h,k);u.Eo?(u.Yx=[],d.forEach(function(a,b){var J10;J10=2;while(J10!==4){switch(J10){case 2:a===u.Eo&&(u.Hd=b);a.maa&&u.Yx.push(b);a.maa=!1;J10=4;break;}}}),u.Yx.length||(u.Yx=void 0)):(k=function(a){var E10;E10=2;while(E10!==1){switch(E10){case 4:return m(d,function(b){return b!=w[a];});break;E10=1;break;case 2:return m(d,function(b){var O10;O10=2;while(O10!==1){switch(O10){case 2:return b===w[a];break;case 4:return b!==w[a];break;O10=1;break;}}});break;}}},u.Hd=k(u.Hd),u.Yx&&(u.Yx=u.Yx.map(k)));T60=21;break;case 21:T60=!u||null===u.Hd?35:34;break;case 26:i10=a.state;T60=i10===b.Da.Tg?25:44;break;case 42:T60=i10===b.Da.xt?43:41;break;case 44:T60=i10===b.Da.Vs?43:42;break;case 39:return f.error(S10+b.Da.name[a.state]),null;break;case 30:a.state!==b.Da.Df&&a.state!==b.Da.Iq?(r=this.YB(a,k,r,n),(u.op=r.complete)?u.reason=r.reason:(u.op=!1,u.Dz=r.Dz,u.FJ=r.FJ,u.xi=r.xi)):u.op=!0;a.Bl&&(u.Ra=g.Ra,r=a&&a.Uv,n=k.Y,u.Rn=n&&!isNaN(r)&&0<=r&&r<n.length?n.Rf(r):g.Ra,u.$jb=k.pa||0,u.yhb=k.Ia&&k.Ia.pa&&k.Ia.pa.Aa||0,u.yZa=g.yl-g.uf,u.wna=g.nn,u.Sxa=x,u.ip=a&&a.ip,u.SBa=v,u.wqb=l.time.da());return u;break;case 34:this.gx=u.Hd;k=d[u.Hd];u.reason&&(k.Tk=u.reason,k.w$=u.as,k.gJ=u.gJ,k.Jl=u.Jl,k.Ek=u.Ek);c.ka(B)&&k.P<d[B].P&&(this.Hp=g.Ra);T60=30;break;case 11:c.V(B)&&(B=this.gx);p(d,function(c){var W10;W10=2;while(W10!==9){switch(W10){case 5:q=c.Ia,q.ys=a.ys,q.qz=a.qz,a&&a.ko&&c.Ia&&(c.Ia.ko=!0),x===b.Da.Tg&&z.mI&&a.oS&&z.C0&&(c.Ia.pa.Aa=a.oS),t=Math.floor(h(c.Ia,a.buffer)),t=0===t?1:t;W10=4;break;case 1:W10=q!==c.Ia||q&&q.ys!==a.ys||q&&q.qz!==a.qz?5:4;break;case 2:W10=c.Je&&c.inRange&&!c.Lh&&c.Ia&&c.Ia.Bc?1:3;break;case 4:c.pa=t;W10=9;break;case 3:c.pa=void 0;W10=9;break;}}});x===b.Da.Tg&&c.ka(B)&&(x=b.Da.Vs);w=d.filter(function(a){var l10;l10=2;while(l10!==1){switch(l10){case 2:return a&&a.Je&&a.inRange&&!a.Lh;break;}}});T60=18;break;case 40:T60=i10===b.Da.Iq?23:39;break;case 7:c.ka(B)&&B>=d.length&&(B=this.gx=void 0);A=g.Y;I=A.length;T60=13;break;case 2:g=a&&a.buffer;x=a&&a.state;T60=4;break;}}};d.Lw.prototype.YB=function(a,b,c,d){var n10;n10=2;while(n10!==1){switch(n10){case 2:return this.aH.checkBuffering.call(this,a,b,c,d,this.config);break;}}};d.Lw.prototype.Kpb=function(a,b,d){var Z10;Z10=2;while(Z10!==1){switch(Z10){case 2:c.V(b)?this.Hp=this.mD=void 0:b.P<d.P&&(this.mD=a);Z10=1;break;}}};j10;M60=18;break;case 7:k=[b.Da.name[b.Da.Tg],b.Da.name[b.Da.Vs],b.Da.name[b.Da.xt],b.Da.name[b.Da.Df],b.Da.name[b.Da.Iq],N10];n={first:a(696),random:a(695),optimized:a(195),roundrobin:a(694),selectaudio:a(351),selectaudioadaptive:a(693),"default":a(195),lowest:a(692),highest:a(691),throughputthreshold:a(690),checkdefault:a(689),testscript:a(688)};q={STARTING:t10,BUFFERING:d10,REBUFFERING:Q10,PLAYING:u10,PAUSED:a10,checkBuffering:R10};d.Lw=function(a,b,c,d){var x60,f;x60=2;while(x60!==8){switch(x60){case 2:f=this;this.config=c;d&&(this.gx=d.gx,this.oO=d.oO);x60=3;break;case 3:b=b||c.laa;this.aH=k.reduce(function(a,c){var k60;k60=2;while(k60!==5){switch(k60){case 2:a[c]=((n[b]||n[q[c]])[c]||n[q[c]][c]).bind(f);return a;break;}}},{});x60=8;break;}}};d.Lw.prototype.constructor=d.Lw;M60=11;break;}}}());},function(g,d,a){var k,n,q,v,t,y,A,z;function b(a){var c,d,f;a=a.parent;c=!1;if(a&&a.children){d={};d[y.Hi]=[];d[y.Wh]=[];d[y.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&d[a.Ad].push(a);});0<d[y.Hi].length||(d[y.Wh].length===f.length?a.Ad!==y.Wh&&(a.Ad=y.Wh,t.error("PERM failing :",n.qf.name[a.ey]+" "+a.id),c=!0):(a.Ad===y.Hi&&(a.Ad=y.TEMPORARY,t.error("TEMP failing :",n.qf.name[a.ey]+" "+a.id),c=!0),d[y.TEMPORARY].forEach(function(a){a.Ad=y.Hi;})),c&&b(a));}}function c(a){var c;for(var b=[];a;a=a.parent)switch(a.ey){case n.qf.Jw:c=a;b.unshift(c.id+"("+c.name+")");break;case n.qf.Pea:b.unshift(a.id);break;case n.qf.URL:b.unshift("<url for "+a.stream.P+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.Ad!==y.Hi){b={};b[y.Hi]=[];b[y.Wh]=[];b[y.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.Ad].push(a);});0<b[y.Hi].length&&(a.Ad=y.Hi,h(a));}}function l(a){return a.Ad!==y.Hi;}function f(a){switch(a.Ad){case y.Hi:return"OK";case y.Wh:return"FAILED PERMANENTLY";case y.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function p(a){a.uba=a.Ia.Bc>=n.ld.et&&!a.Ia.fy?a.Ia.pa.Aa*a.weight:0;}function m(a,b){if(a.Ad===y.TEMPORARY||a.Ad===y.Wh&&b)a.Ad=y.Hi;a.children&&a.children.forEach(function(a){a&&m(a,b);});}k=a(11);n=a(13);d=a(59);q=a(28);v=a(7);t=new v.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Hi=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.Wh=2]="PERMANENT";}(y||(y={})));(function(a){a[a.HLa=0]="ORIGINAL";a[a.OEa=1]="CONTINUOUS";}(A||(A={})));(function(a){a[a.zt=0]="STARTUP";a[a.Azb=1]="REBUFFER";a[a.IA=2]="SEEK";a[a.mwb=3]="FAILURE";a[a.Oyb=4]="PERFORMANCE";}(z||(z={})));a=function(){var o10;o10=2;while(o10!==27){switch(o10){case 2:a.prototype.X$a=function(){var U10;U10=2;while(U10!==1){switch(U10){case 2:return this.ms[0].Ia;break;case 4:return this.ms[6].Ia;break;U10=1;break;}}};a.prototype.L4=function(){var e10;e10=2;while(e10!==1){switch(e10){case 2:return this.ms;break;case 4:return this.ms;break;e10=1;break;}}};a.prototype.fy=function(){var q10;q10=2;while(q10!==1){switch(q10){case 4:return l(this.Kk);break;q10=1;break;case 2:return l(this.Kk);break;}}};a.prototype.dAa=function(a){var w10;w10=2;while(w10!==5){switch(w10){case 9:return a.parent.id;break;w10=5;break;case 1:return a.parent.id;break;case 2:w10=(a=this.Vc[a])&&a.parent?1:5;break;}}};a.prototype.RS=function(a){var f10;f10=2;while(f10!==5){switch(f10){case 1:return a.Sb.location;break;case 2:f10=(a=this.Vc[a])&&a.Sb?1:5;break;}}};a.prototype.$Aa=function(a){var g10;g10=2;while(g10!==5){switch(g10){case 3:g10=(a=this.Vc[a])?4:3;break;g10=(a=this.Vc[a])?1:5;break;case 2:g10=(a=this.Vc[a])?1:5;break;case 9:return a.stream;break;g10=5;break;case 1:return a.stream;break;}}};a.prototype.Zqa=function(a){var b10,b;b10=2;while(b10!==3){switch(b10){case 8:b10=8;break;b10=1;break;case 1:b10=a?5:3;break;case 5:b=a.bind(this);k.forEach(this.Vc,function(a){var K10,c;K10=2;while(K10!==4){switch(K10){case 2:c=a.Sb;b(c.location,c,a.stream,a);K10=4;break;}}});b10=3;break;case 2:b10=1;break;}}};o10=7;break;case 7:a.prototype.ZG=function(a){var Y10,b,e5h;Y10=2;while(Y10!==20){e5h="man";e5h+="ife";e5h+="stAdde";e5h+="d";switch(Y10){case 6:a=this.ms.filter(function(a){var s10,c;s10=2;while(s10!==3){switch(s10){case 8:s10=8;break;s10=1;break;case 1:c=a.jn.every(function(a){var B10,z90;B10=2;while(B10!==1){switch(B10){case 4:F6hh.W5h(0);z90=F6hh.i5h(9,18,153);return z90!=a.Vc.length;break;B10=1;break;case 2:return 0===a.Vc.length;break;}}});c&&(a.jn.forEach(function(a){var y10;y10=2;while(y10!==1){switch(y10){case 2:b.jn[a.id]=void 0;y10=1;break;}}}),b.Nj[a.id]=void 0,a.parent=void 0,a.children.length=0,a.vc={});return!c;break;case 2:s10=1;break;}}});a.forEach(function(a){var I10;I10=2;while(I10!==1){switch(I10){case 2:a.jn.sort(function(a,b){var X10;X10=2;while(X10!==1){switch(X10){case 2:return a.Sd-b.Sd;break;case 4:return a.Sd*b.Sd;break;X10=1;break;}}});I10=1;break;}}});this.ms=a;this.Kk.children=a;this.emit(e5h);this.dump();Y10=20;break;case 9:a.servers.forEach(function(a){var m10,c,d,f;m10=2;while(m10!==14){switch(m10){case 2:c=a.id;m10=5;break;case 9:f=[];a={id:c,ey:n.qf.Jw,Ad:y.Hi,Tp:void 0,parent:d,children:f,Vc:f,name:a.name,type:a.type,Sd:a.rank,location:d};b.jn[a.id]=a;d.children.push(a);m10=14;break;case 5:m10=!b.jn[c]?4:14;break;case 4:d=b.Nj[a.key];m10=3;break;case 3:m10=d?9:14;break;}}});a.audio_tracks.forEach(function(a){var C10;C10=2;while(C10!==1){switch(C10){case 4:b.mya(a);C10=2;break;C10=1;break;case 2:b.mya(a);C10=1;break;}}});a.video_tracks.forEach(function(a){var D10;D10=2;while(D10!==1){switch(D10){case 4:b.mya(a);D10=7;break;D10=1;break;case 2:b.mya(a);D10=1;break;}}});Y10=6;break;case 2:b=this;a.locations.forEach(function(a){var A10,c,d,f,g;A10=2;while(A10!==13){switch(A10){case 2:c=a.key;A10=5;break;case 5:A10=!b.Nj[c]?4:13;break;case 4:d=[];f=b.S6.get(c);A10=9;break;case 9:g=b.Kk;a={id:c,ey:n.qf.Pea,Ad:y.Hi,Sd:a.rank,level:a.level,weight:a.weight,Tp:void 0,parent:g,children:d,jn:d,vc:{},ws:!1,kya:!1,Ia:f,uba:null,fQ:void 0};b.Nj[a.id]=a;g.children.push(a);p(a);A10=13;break;}}});this.AO=v.time.da();this.ms.sort(function(a,b){var v10;v10=2;while(v10!==1){switch(v10){case 2:return a.level-b.level||a.Sd-b.Sd;break;}}});Y10=9;break;}}};a.prototype.QV=function(a,b){var F10,c,d,f,g,h,m,r,u,q,r5h,Q5h,g5h,B5h;F10=2;while(F10!==23){r5h="(empt";r5h+="y stream l";r5h+="ist)";Q5h="Di";Q5h+="d not";Q5h+=" find a UR";Q5h+="L";Q5h+=" for ANY stream...";g5h="ne";g5h+="tworkF";g5h+="ailed";B5h="Network has";B5h+=" fail";B5h+="e";B5h+="d, not updating stream sele";B5h+="ction";switch(F10){case 27:F10=!q.length?26:25;break;case 19:F10=k.Na(this.nE)||g?18:17;break;case 14:return null;break;case 6:F10=l(this.Kk)?14:13;break;case 18:this.nE=this.Zrb(a);F10=17;break;case 10:u=this.Nj[this.fj.location];F10=20;break;case 2:c=this;d=this.config;f=this.fj.get();g=this.yo;F10=9;break;case 11:F10=this.fj.location&&f.Bc>=r?10:19;break;case 20:u&&(u.Ia=f,p(u));F10=19;break;case 9:h=a.buffer.yl-a.buffer.uf||0;m=0;v.Tn&&v.Tn();F10=6;break;case 17:F10=!this.nE?16:15;break;case 16:return this.Rl(n.qf.Cq,!1),null;break;case 15:q=this.nE;F10=27;break;case 26:return this.Rl(n.qf.Cq,!1),null;break;case 13:r=n.ld.et;d.$J&&(r=n.ld.Qo);F10=11;break;case 25:b.forEach(function(a,b){var M10,p,c5h,T5h,m5h,l5h;M10=2;while(M10!==4){c5h=" Kbp";c5h+="s";c5h+=")";T5h=" ";T5h+="(";m5h="]";m5h+=" ";l5h="Fa";l5h+="i";l5h+="ling strea";l5h+="m [";switch(M10){case 2:p=a.id;q.some(function(b){var x10,c,m;x10=2;while(x10!==7){switch(x10){case 3:m=c.Nj[0];void 0===a.iU&&(a.iU=m.id,a.g9=c.PL[m.id][0].Sb.id);x10=8;break;case 4:return!1;break;case 8:return c.PL[b.id].some(function(c){var k10,p,E5h,x5h,y5h,s5h,J5h;k10=2;while(k10!==11){E5h="locatio";E5h+="n";E5h+="failover";x5h="serverf";x5h+="ailov";x5h+="er";y5h="perform";y5h+="an";y5h+="ce";s5h="p";s5h+="r";s5h+="o";s5h+="b";s5h+="e";J5h="u";J5h+="nk";J5h+="no";J5h+="w";J5h+="n";switch(k10){case 1:k10=l(c.Sb)?5:4;break;case 9:p=J5h;a.location!==b.id&&(d.xo?a.XFb=b.id===m.id:p=b!==q[0]?""+n.ye.qW:void 0===a.location?""+n.ye.zt:g?s5h:k.V(a.rua)||a.rua===b.id?k.V(a.sua)||a.sua===c.Sb.id?y5h:x5h:E5h,a.location=b.id,a.V6=b.level,a.Tk=p);a.url=c.url;a.Sb=c.Sb.id;k10=14;break;case 2:k10=1;break;case 3:return!1;break;case 4:k10=l(c)?3:9;break;case 14:a.Fz=c.Sb.name;a.Ia=d.X0?b.Ia.Bc>=n.ld.Qo?!d.eya||h<d.dya?b.Ia:b.Ia.pa&&b.Ia.pa.Aa&&f.pa&&f.pa.Aa&&b.Ia.pa.Aa<f.pa.Aa?f:b.Ia:f.Bc<r?b.Ia:f:f.Bc===n.ld.HAVE_NOTHING||b.Ia.Bc>=n.ld.Qo?!d.eya||h<d.dya?b.Ia:b.Ia.pa&&b.Ia.pa.Aa&&f.pa&&f.pa.Aa&&b.Ia.pa.Aa<f.pa.Aa?f:b.Ia:f;return!0;break;case 5:return c.Sb.Ad===y.TEMPORARY&&(a.Ad=y.TEMPORARY),d.xo&&a.Sb===c.Sb.id&&c.Sb.Tp&&(a.Tp=c.Sb.Tp),!1;break;}}});break;case 5:x10=!c?4:3;break;case 2:c=b.vc[p];x10=5;break;}}})?(a.Lh=void 0,a.Ad=void 0,a.Je&&++m):a.Ad&&a.Ad===y.TEMPORARY?c.Kk.Ad=y.TEMPORARY:a.Lh||(t.warn(l5h+b+m5h+p+T5h+a.P+c5h),a.Q_a(),a.Lh=!0);M10=4;break;}}});return l(this.Kk)?(t.warn(B5h),this.AT=!0,this.emit(g5h,this.Kk.Ad===y.Wh),null):m?b:(t.warn(Q5h+(b.length?"":r5h)),this.Rl(n.qf.Cq,!0),null);break;}}};o10=14;break;case 15:return a;break;case 14:a.prototype.Ynb=function(a,b){var T10,c,d;T10=2;while(T10!==9){switch(T10){case 2:c={};d=/^http(s?)://([^/:]+):?([0-9]*)/;k.forEach(this.Vc,function(f,g){var i90,h,l,m,p,h5h,L5h;i90=2;while(i90!==13){h5h="8";h5h+="0";L5h="4";L5h+="4";L5h+="3";switch(i90){case 3:i90=l&&4===l.length?9:13;break;case 4:l=g.match(d);i90=3;break;case 9:m="s"===l[1];p=l[2];l=l[3];l.length||(l=m?L5h:h5h);i90=14;break;case 2:f=f.parent?f.parent.id:"";h=c[f];i90=4;break;case 14:k.Vd(p)&&k.Vd(l)&&p===a&&l==b&&(h?h.push(g):c[f]=[g]);i90=13;break;}}});return c;break;}}};a.prototype.Rl=function(a,d,g,h){var h90,m,p,k,W90,a4h,v4h,H4h,k4h,j4h,U4h,u4h,M4h,w4h;h90=2;while(h90!==25){a4h="Invalid failur";a4h+="e sta";a4h+="te";v4h="networ";v4h+="kFa";v4h+="i";v4h+="led";H4h="Emitting networkFailed, p";H4h+="er";H4h+="manent =";k4h=" :";k4h+=" ";k4h+="was ";j4h=" ";j4h+="a";j4h+="t ";U4h=" fail";U4h+="ure rep";U4h+="orte";U4h+="d for ";u4h="T";u4h+="E";u4h+="M";u4h+="P";M4h="P";M4h+="E";M4h+="R";M4h+="M";w4h="Unable to f";w4h+="ind failure entity f";w4h+="or U";w4h+="RL ";switch(h90){case 26:F6hh.W5h(1);t.warn(F6hh.i5h(w4h,g));h90=25;break;case 14:m.Ad=k;b(m);this.AT=this.AT||l(this.Kk);a=this.Kk.Ad;h90=10;break;case 20:this.nE=null;this.oE=n.ye.ERROR;h&&(this.oE=n.ye.iNa,m.Tp=h);h90=17;break;case 7:return;break;case 6:h90=W90===y.TEMPORARY?14:16;break;case 15:h90=27;break;case 3:h90=k!==m.Ad?9:25;break;case 9:t.warn((d?M4h:u4h)+U4h+n.qf.name[a]+j4h+c(m)+k4h+f(m));h90=8;break;case 2:m=a!==n.qf.Cq&&g?this.Vc[g]:this.Kk,p=this.Kk.Ad,k=d?y.Wh:y.TEMPORARY;h90=1;break;case 16:h90=W90===y.Hi?14:15;break;case 4:h90=m?3:26;break;case 10:a>p&&(t.warn(H4h,a===y.Wh),this.emit(v4h,a===y.Wh));h90=20;break;case 27:throw Error(a4h);h90=14;break;case 17:this.dump();h90=25;break;case 1:h90=m&&m.parent&&m.ey!==a?5:4;break;case 5:m=m.parent;h90=1;break;case 8:W90=m.Ad;h90=W90===y.Wh?7:6;break;}}};a.prototype.lza=function(a,b){var l90;l90=2;while(l90!==3){switch(l90){case 2:l90=(a=this.jn[a])?1:5;break;case 7:m(a,b),h(a);l90=2;break;l90=5;break;case 8:l90=(a=this.jn[a])?0:2;break;l90=(a=this.jn[a])?1:5;break;case 1:m(a,b),h(a);l90=5;break;case 5:this.nE=null;this.oE=n.ye.wY;l90=3;break;}}};a.prototype.OK=function(a){var L90;L90=2;while(L90!==1){switch(L90){case 4:m(this.Kk,a);L90=2;break;L90=1;break;case 2:m(this.Kk,a);L90=1;break;}}};a.prototype.az=function(a){var P90,P4h;P90=2;while(P90!==1){P4h="lo";P4h+="gd";P4h+="a";P4h+="t";P4h+="a";switch(P90){case 2:this.Ja(P4h,a);P90=1;break;case 4:this.Ja("",a);P90=7;break;P90=1;break;}}};a.prototype.mya=function(a){var V90,b;V90=2;while(V90!==4){switch(V90){case 2:b=this;a.streams.forEach(function(a){var c90,c,d,f,A4h;c90=2;while(c90!==13){A4h="n";A4h+="on";A4h+="e";A4h+="-";switch(c90){case 1:c=a.downloadable_id;d=b.vc[c];c90=4;break;case 3:f=a.content_profile;d={id:c,P:a.bitrate,qc:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(A4h),Je:!0,Vc:[],PL:{},Nj:[]};c90=8;break;case 4:c90=k.V(d)?3:7;break;case 8:b.vc[d.id]=d;c90=7;break;case 2:c90=1;break;case 7:a.urls.forEach(function(a){var H90,c,f,g;H90=2;while(H90!==11){switch(H90){case 3:g=a.location;f={id:c,ey:n.qf.URL,Ad:y.Hi,Tp:void 0,parent:a,children:[],url:c,Sb:a,stream:d};b.Vc[c]=f;H90=7;break;case 2:c=a.url;f=b.Vc[c];H90=4;break;case 4:H90=k.V(f)&&(a=b.jn[a.cdn_id])?3:11;break;case 7:a.children.push(f);d.Vc.push(f);0===d.Nj.filter(function(a){var J90;J90=2;while(J90!==1){switch(J90){case 2:return a.id===g.id;break;case 4:return a.id==g.id;break;J90=1;break;}}}).length&&d.Nj.push(g);H90=13;break;case 13:g.vc[d.id]=d;(c=d.PL[g.id])?c.push(f):d.PL[g.id]=[f];H90=11;break;}}});k.Pc(d.PL,function(a){var E90;E90=2;while(E90!==1){switch(E90){case 2:a.sort(function(a,b){var O90;O90=2;while(O90!==1){switch(O90){case 2:return a.Sb.Sd-b.Sb.Sd;break;case 4:return a.Sb.Sd%b.Sb.Sd;break;O90=1;break;}}});E90=1;break;}}});d.Nj=d.Nj.sort(function(a,b){var n90;n90=2;while(n90!==1){switch(n90){case 2:return a.level-b.level||a.Sd-b.Sd;break;}}});c90=13;break;}}});V90=4;break;}}};a.prototype.Zrb=function(a){var Z90,b,c,d,f,g,h;Z90=2;while(Z90!==27){switch(Z90){case 19:a.every(function(a){var t90;t90=2;while(t90!==5){switch(t90){case 2:k.Na(h)&&(h=a.level);return h!==a.level?(b.yo=!1,g=n.ye.$ba,!1):a.Ia.Bc<n.ld.Qo?!1:a.Ia.pa.Aa>c.A3?(b.yo=!1,g=n.ye.HHa,!1):!0;break;}}})&&(this.yo=!1,g=n.ye.$ba);Z90=18;break;case 14:Z90=null===this.AO||this.AO+c.U6<f?13:12;break;case 2:b=this;c=this.config;a=a.buffer;d=a.yl-a.uf;a=this.ms.filter(function(a){var S90;S90=2;while(S90!==1){switch(S90){case 2:return!l(a)&&0!==a.level;break;case 4:return~l(a)||9===a.level;break;S90=1;break;}}});Z90=8;break;case 8:Z90=0===a.length?7:6;break;case 13:a.forEach(function(a){var j90;j90=2;while(j90!==1){switch(j90){case 2:a.id!==b.fj.location&&(a.Ia=b.S6.get(a.id));j90=1;break;}}}),this.AO=f;Z90=12;break;case 15:c.tC?(g=n.ye.$Ja,this.mode===A.OEa&&(this.yo=d>c.Gaa)):g=this.oE;Z90=18;break;case 10:a.forEach(function(a){var N90;N90=2;while(N90!==1){switch(N90){case 2:a.Ia.Bc>=n.ld.Qo?(a.kya=a.kya||a.ws,a.ws=!1,a.fQ=n.ld.Qo):(a.ws=!0,a.fQ=a.Ia.Bc);N90=1;break;}}});h=null;Z90=19;break;case 11:Z90=this.yo?10:15;break;case 7:return null;break;case 6:f=v.time.da();Z90=14;break;case 12:g=null;Z90=11;break;case 18:c.tC?a.sort(function(a,c){var d90;d90=2;while(d90!==1){switch(d90){case 2:return a.level-c.level||(b.yo&&a.ws&&!c.ws?-1:0)||(b.yo&&c.ws&&!a.ws?1:0)||(b.yo&&a.ws&&c.ws?a.Sd-c.Sd:0)||c.fQ-a.fQ||c.uba-a.uba||a.Sd-c.Sd;break;}}}):a.sort(function(a,b){var Q90;Q90=2;while(Q90!==1){switch(Q90){case 2:return a.level-b.level||a.Sd-b.Sd;break;}}});this.mv||k.Na(g)||(this.mv=!0);return a;break;}}};o10=18;break;case 18:a.prototype.smb=function(){var u90,a;u90=2;while(u90!==9){switch(u90){case 2:a=this.fj.location;this.mv=!1;this.yo=this.config.tC&&!0;u90=3;break;case 3:this.ms.forEach(function(b){var a90;a90=2;while(a90!==1){switch(a90){case 2:b.id!==a&&b.Ia&&b.Ia.Bc>n.ld.et&&(b.Ia.Bc=n.ld.et);a90=1;break;}}});u90=9;break;}}};a.prototype.mjb=function(){var R90,a;R90=2;while(R90!==4){switch(R90){case 2:a=this;this.AT||this.ms.forEach(function(b){var o90;o90=2;while(o90!==1){switch(o90){case 2:b.Ad===y.TEMPORARY&&a.S6.fail(b.id,v.time.da());o90=1;break;}}});R90=4;break;}}};a.prototype.dump=function(){};o10=15;break;}}function a(a,b,c,d,f){var z10,g,b4h,z4h,o4h,X4h;z10=2;while(z10!==25){b4h="1S";b4h+="IYbZrNJC";b4h+="p9";z4h="un";z4h+="d";z4h+="e";z4h+="rf";z4h+="low";o4h="ne";o4h+="twor";o4h+="k";X4h="c";X4h+="l";X4h+="o";X4h+="s";X4h+="e";switch(z10){case 11:this.Vc={};this.vc={};this.ms=[];this.AT=!1;z10=18;break;case 3:this.S6=c;this.yo=d;this.config=f;z10=7;break;case 17:this.nE=this.AO=null;this.oE=n.ye.zt;z10=15;break;case 2:g=this;this.events=a;this.fj=b;z10=3;break;case 27:this.events.on(X4h,function(){var r10;r10=2;while(r10!==1){switch(r10){case 2:g.mjb();r10=1;break;case 4:g.mjb();r10=8;break;r10=1;break;}}});z10=26;break;case 18:this.Kk={id:o4h,ey:n.qf.Cq,Ad:y.Hi,Tp:void 0,parent:void 0,children:this.ms};z10=17;break;case 15:z10=a&&(this.events.on(z4h,function(){var G10;G10=2;while(G10!==1){switch(G10){case 2:g.smb();G10=1;break;case 4:g.smb();G10=9;break;G10=1;break;}}}),f.oeb)?27:26;break;case 7:this.yo=f.tC&&d;this.mode=A.HLa;this.mv=void 0;this.Nj={};this.jn={};z10=11;break;case 26:b4h;z10=25;break;}}}}();d.Yk(q.EventEmitter,a);g.M=a;},function(g,d,a){var l,f;function b(a,c,d){Object.keys(a).forEach(function(f){var g,h;if(l.re(a[f]))if(a[f].uS){g=a[f];h=d+g.offset;a[f]=c.slice(h,h+g.byteLength);}else a[f]=b(a[f],c,d);});return a;}function c(a,b,d){Object.keys(a).forEach(function(f){var g;if(l.uS(a[f])){g=a[f];b.push(g);a[f]={uS:!0,offset:d.n2,byteLength:g.byteLength};d.n2+=g.byteLength;}else l.re(a[f])&&c(a[f],b,d);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}l=a(107);f=a(48);g.M={B0a:function(a){var b,d,g;b=f(a,{});a=[];b=c(b,a,{n2:0});b=JSON.stringify(b);d=new ArrayBuffer(b.length+4);g=new DataView(d);g.setUint32(0,b.length);for(var l=4,p=0,k=b.length;p<k;p++)g.setUint8(l,b.charCodeAt(p)),l++;a=[d].concat(a);return h.apply(null,a);},A0a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,c),f="",g=0;g<d.byteLength;g++)f+=String.fromCharCode(d[g]);c=4+c;f=JSON.parse(f);return b(f,a,c);}};},function(g,d,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function c(a,b){var d,f,g;d=[];if(h.re(b)){f={};g={};g[a]=f;d.push(g);d=Object.keys(b).reduce(function(d,g){var l,m,p;l=b[g];p={};h.uS(l)?(m=a+".__embed__."+g,p[m]=l,d.push(p)):h.re(l)?(m=a+".__sub__."+g,l=c(m,l),f[g]=l[0][m],d=d.concat(l.slice(1))):f[g]=l;return d;},d);}else g={},g[a]=b,d.push(g);return d;}h=a(107);g.M={G4a:c,kcb:function(a){var c,t;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var d=c[0],g=d.length,d=a[d.join(".")],h=1;h<c.length;h++)for(var l=!1,k=!1,n=d,q=g;q<c[h].length;q++){t=c[h][q];switch(t){case"__metadata__":break;case"__sub__":k=!0;break;case"__embed__":l=!0;break;default:k?(n=n[t],k=!1):l&&(n[t]=a[c[h].join(".")],l=!1);}}return d;},Gcb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,d,a){function b(a){return a;}function c(){return b;}a(11);g.M={KI:c,Y4:c};},function(g,d,a){var b,c,h,l;b=a(11);c=a(107);h={};h[c.gm.ow]=function(a){return a;};h[c.gm.pN]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[c.gm.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};l={};l[c.gm.ow]=function(a){return a;};l[c.gm.pN]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d<f;d++)c[d]=a.charCodeAt(d);return b;};l[c.gm.OBJECT]=function(a){return b.V(a)||b.Na(a)?a:l[c.gm.pN](JSON.stringify(a));};g.M={KI:function(a){return h[a]||h[c.gm.ow];},Y4:function(a){return l[a]||l[c.gm.ow];}};},function(g){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.zj=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.zj=a;}this.sm=[];}function a(c,d){var g,f,h,m,k,n,q;g=c.sm;f=c.zj;h=2*d+1;m=2*d+2;k=g[d];n=g[h];q=g[m];n&&f(n.Fd,k.Fd)&&(!q||f(n.Fd,q.Fd))?(b(g,d,h),a(c,h)):q&&f(q.Fd,k.Fd)&&(b(g,d,m),a(c,m));}function b(a,b,d){var c;c=a[b];a[b]=a[d];a[d]=c;}d.prototype.clear=function(){this.sm=[];};d.prototype.Kl=function(a,d){this.sm.push({Fd:a,value:d});a=this.sm;d=this.zj;for(var c=a.length-1,f=0===c?null:Math.floor((c-1)/2);null!==f&&d(a[c].Fd,a[f].Fd);)b(a,c,f),c=f,f=0===c?null:Math.floor((c-1)/2);};d.prototype.remove=function(){var c;if(0!==this.sm.length){c=this.sm[0];b(this.sm,0,this.sm.length-1);this.sm.pop();a(this,0);return c.value;}};d.prototype.OD=function(){if(0!==this.sm.length)return this.sm[0].value;};d.prototype.enqueue=d.prototype.Kl;d.prototype.i4a=d.prototype.remove;d.prototype.Rz=function(){return this.sm.map(function(a){return a.value;});};g.M=d;},function(g,d,a){var c,h,l,f,p,m,k,n;function b(a,d,g){var B,w;function r(a,b,c,d){a.info.call(a,function(a,f){var g;if(a)d(a);else{try{g=f.values[this.context].entries[b][c].size;}catch(ja){g=-1;}-1<g?d(null,g):this.No(function(a,b){a?d(a):(b[c]&&(g=b[c].size),d(null,g));});}}.bind(a));}function u(a,c,d,f,g,l,m){var n;l?l.Ej||(l.Ej={}):l={Ej:{}};B(f);n=h.time.now();f=new k(function(b,f){a.create(h.storage.xA,c,d,function(a,c){a?f(a):b(c);});}).then(function(d){d.O?r(a,h.storage.xA,c,function(a,f){a?m(a):(w(f),B(f),l.Ej[b.cM.UX]={O:!0,time:g,Eh:f,gv:c,uya:d,duration:h.time.now()-n},l.ki=d.ki,m(null,l));}):(l.Ej[b.cM.UX]={O:!1,gv:c,error:d.error},m(null,l));},function(a){m(a);});p.Up(f);}function q(a,b,c,d,f,g){d.Kl(c.time,c);for(var h=c.time-864E5,l=d.OD();l&&!isNaN(l.time)&&l.time<h;)l=d.i4a(),B(0-(l.Z||0)),l=d.OD();d=d.Rz().map(function(a){return a.time+";"+a.Z;});u(a,b,Array.prototype.join.call(d,"|"),c.Z,c.time,f,g);}function x(a,c,d,f,g,p,k,n,u){var x;x=h.time.now();a.create(d,f,g,function(g,v){var t;if(g)m.error("Failed to replace item",f,g);else if(v.O){t=v.ki;r(a,d,f,function(d,g){var l,m;if(d)u(d);else{d={time:n,Z:g||0};l={ki:t,Ej:{}};m=h.time.now()-x;l.Ej[b.cM.REPLACE]={O:!0,time:n,Eh:g,gv:f,uya:v,duration:m};p?q(a,c,d,k,l,u):(B(g),u(null,l));}});}else u(l.CN.bm(v.error||"Failed to create item"));});}function v(a,c,d,f,g,p,k,n,u){var x;x=h.time.now();a.append(d,f,g,function(g,v){var t;if(g)m.error("Failed to save item "+f,g),u(g);else if(v.O){t=v.ki;r(a,d,f,function(d,g){var l,m;if(d)u(d);else{d={time:n,Z:g||0};l={ki:t,Ej:{}};m=h.time.now()-x;l.Ej[b.cM.MOa]={O:!0,time:n,Eh:g,gv:f,uya:v,duration:m};p?q(a,c,d,k,l,u):(B(g),u(null,l));}});}else u(l.CN.bm(v.error||"Failed to save item"));});}function t(a,b){a&&c.rb(a.remove)&&a.Zh.valid&&a.remove(h.storage.xA,b.hB,function(d,f){if(d)m.error("Failed to delete old journal key",d);else try{f&&(c.V(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.$Db;}))&&q(a,b.hB,{time:0,Z:0},b.QG,0,function(){});}catch(R){}});}if(!a.Zh.valid)return n;this.vja=c.V(d)||c.Na(d)?0:d;this.GZ=a;this.YZ=this.mG=0;this.QG=new f();this.PUa=g||"default";this.hB=this.PUa+".NRDCACHEJOURNALKEY";B=function(a){isNaN(a)||(this.mG+=a);return this.mG;}.bind(this);w=function(a){isNaN(a)||(this.YZ+=a);return this.YZ;}.bind(this);this.I4=function(){return this.hB;};this.save=function(a,b,c,d){var f;f=h.time.now();v(this.GZ,this.hB,a,b,c,0<=this.vja,this.QG,f,d);};this.replace=function(a,b,c,d){var f;f=h.time.now();x(this.GZ,this.hB,a,b,c,0<=this.vja,this.QG,f,d);};this.xra=function(a){var b,f;b=this.mG;a-=864E5;for(var c=this.QG.Rz(),d=0;d<c.length;d++){f=c[d];f.time<a&&!isNaN(f.Z)&&(b-=f.Z);}return b;};(function(a){var b;b=a.GZ;a.mG=0;b.read(h.storage.xA,a.hB,0,-1,function(c,d){var f,g,l,k;f=[];g=0;l=!0;if(c)m.error("Failed to compile records",c);else if(d.O){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);B(d);f=c.map(function(a){a=a.split(";");return{time:Number(a[0]),Z:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a+b.Z;},0)))for(var l=!1,p=h.time.now()-864E5;g<f.length;g++){k=f[g];k.time<p||(a.QG.Kl(k.time,k),B(k.Z));}}catch(ga){}}l&&t(b,a);});}(this));}c=a(11);h=a(108);l=a(197);f=a(703);d=a(48);p=a(196);m=new h.Console("DISKWRITEMANAGER","media|asejs");k=h.Promise;d({cM:{MOa:"saveitem",REPLACE:"replaceitem",UX:"journalupdate"}},b);n={save:function(a,b,c,d){d(l.dfa);},replace:function(a,b,c,d){d(l.dfa);},I4:function(){return"";},xra:function(){return 0;}};b.prototype.constructor=b;g.M={create:function(a,c,d){return new b(a,c,d);},qyb:n};},function(g,d,a){var p,m,k,n,q,v,t,y,A;function b(){}function c(d,f,g,k,r){var n;n=p.rb(k)?k:b;this.Vt=d;this.UA=g.xu;this.ir=0;this.lSa=g.G6a||"NONE";this.Pq=p.V(r)||p.Na(r)?0:r;this.cd={};this.zn=g.wGb||m.storage.xA;this.$o=f;this.FB=q.create(this.$o,g.c3a*this.Pq,this.Vt);this.on=this.addEventListener=A.addEventListener;this.removeEventListener=A.removeEventListener;this.emit=this.Ja=A.Ja;this.fka=l(this,c.kd.REPLACE);this.OSa=l(this,c.kd.Aia);this.px;this.px=g.wCa?a(702):a(701);this.$o.query(this.zn,this.Nl(""),function(a,b){var c;if(a)n(a);else{c=this.FB.I4();a=Object.keys(b).filter(function(a){return a!==c&&v.dD(a);}).map(this.bba.bind(this));this.tU(a,function(a,c){Object.keys(c).map(function(a){var d,f;d=c[a];this.cd[v.jR(a)]=d;if(d.X9&&1<Object.keys(d.X9).length){f=0;Object.keys(d.X9).forEach(function(a){b[this.Nl(a)]&&p.ka(b[this.Nl(a)].size)&&(f+=b[this.Nl(a)].size);}.bind(this));a=v.jR(a);this.cd[a].size=f;}else a=v.jR(a),b[this.Nl(a)]&&(this.cd[a].size=b[this.Nl(a)].size);}.bind(this));h(this.$o,this.zn,this.Vt,function(a,b){this.ir=b;a?n(a):n(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,c,d,f){var g;g=p.rb(f)?f:b;a.query(c,d,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function l(a,b){return function(d,f,g,l,k){return function(r,n){var u;if(r)f||a.Ja(c.kd.ERROR,{itemKey:d,error:r}),g(r);else{u={Eh:0,duration:0,items:[],time:m.time.now()};Object.keys(n.Ej).map(function(b){var c;c=n.Ej[b];b={key:a.bba(c.gv),Ze:b};c.O?(u.Eh+=c.Eh,b.GS=c.Eh,p.ka(c.duration)&&(u.duration+=c.duration)):b.error=c.error;u.items.push(b);});r=p.rb(l)?l():0;0<k&&(u.jC=k-r);h(a.$o,a.zn,a.Vt,function(c,d){c?g(c):(a.ir=d,u.ki=a.UA-d,f||a.Ja(b,y.zra(u)),g(null,u));});}};};}function f(a,b){return 0<b&&a>=b?!0:!1;}p=a(11);m=a(108);k=a(197);d=a(48);n=new m.Console("MEDIACACHE","media|asejs");q=a(704);v=a(354);t=a(107);y=a(196);A=a(28).EventEmitter;d({kd:{Aia:"writeitem",REPLACE:"replaceitem",UX:"journalupdate",ERROR:"mediacache-error"}},c);c.prototype.getName=function(){return this.Vt;};c.prototype.bba=function(a){return a.slice(this.Vt.length+1);};c.prototype.z4=function(){return Object.keys(this.cd).filter(function(a){a=v.c4(this.cd[a]);return void 0===a||0>=a.koa();}.bind(this));};c.prototype.l$a=function(){return Object.keys(this.cd).reduce(function(a,b){var c;c=this.cd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:m.time.now()}).cIb;};c.prototype.t9a=function(){var a;switch(this.lSa){case"FIFO":a=this.l$a();}return a;};c.prototype.e4a=function(a){var c;c=p.rb(a)?a:b;this.Rra(function(b){var d,f,g;d=this.cd;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!v.dD(a)&&0>f.indexOf(a);}))&&0<b.length){g=this;b=m.Promise.all(b.map(function(a){return new m.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{D9:!0});},function(a){c(a,{D9:!1});});y.Up(b);}else a(void 0,{D9:!1});}.bind(this));};c.prototype.klb=function(a,c,d){var f,g;f=p.rb(c)?c:b;c=this.Nl(a);g=m.time.now();this.$o.read(this.zn,c,0,-1,function(b,c){var h;if(b)f(b);else if(c&&c.O&&c.value){p.rb(d)||(d=this.px.KI(t.gm.ow),v.dD(a)?d=this.px.KI(t.gm.OBJECT):(b=this.cd[a],!p.V(b)&&p.ka(b.resourceIndex[a])?(b=b.resourceIndex[a],p.V(b)&&(b=t.gm.ow),d=this.px.KI(b)):n.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=d(c.value);}catch(W){return f(k.HA.bm(W.message));}c={duration:m.time.now()-g};this.cd[a]&&p.ka(this.cd[a].size)&&(c.Ar=p.ka(this.cd[a].size)?this.cd[a].size:0);f(null,h,c);}else f(k.HA.bm(c.error));}.bind(this));};c.prototype.read=function(a,b,c){this.klb(a,b,c);};c.prototype.tU=function(a,c,d){var f,g,h;f=p.rb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))f(k.HA.bm("item keys must be an array"));else{g={};h=[];a=m.Promise.all(a.map(function(a){return new m.Promise(function(b,c){var f;d&&!p.V(d[a])&&(f=this.px.KI(d[a]));this.read(a,function(d,f,l){d?(f={},f[a]=d,c(f)):(g[a]=f,h.push({duration:l.duration,Ar:l.Ar}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){p.ka(b.duration)&&(a.duration+=b.duration);p.ka(b.Ar)&&(a.Ar+=b.Ar);return a;},{duration:0,Ar:0}));f(null,g,a);},function(a){f(a);});y.Up(a);}};c.prototype.write=function(a,c,d,g,h){var l,m,r;d=p.rb(d)?d:b;l=this.Nl(a);m="function"===typeof h?h():0;r=t.j5(c);r=this.px.Y4(r)(c);r.byteLength+this.ir>=this.UA?d(k.cA):f(r.byteLength+m,this.Pq)?d(k.DN):this.FB.save(this.zn,l,c,this.OSa(a,g,d,h,this.Pq),r.byteLength);};c.prototype.replace=function(a,c,d,g,h){var l,m,r,u;l=p.rb(d)?d:b;m=this.Nl(a);r=0;"function"===typeof h&&(r=h());d=t.j5(c);u=this.px.Y4(d)(c);d=(this.cd[a]||{}).size||0;0>=d&&this.cd[a]?this.dsa([a],function(b){n.trace("Replacing key",a,"which exists:",!!this.cd[a],this.cd[a]?this.cd[a]:void 0,"and has size",b,"with",c,"with size",u.byteLength,"plus _used",this.ir,"vs capacity",this.UA);u.byteLength-b+this.ir>=this.UA?l(k.cA):f(u.byteLength-b+r,this.Pq)?l(k.DN):this.FB.replace(this.zn,m,c,this.fka(a,g,l,h,this.Pq),u.byteLength);}.bind(this)):(n.trace("Replacing key",a,"which exists:",!!this.cd[a],this.cd[a]?this.cd[a]:void 0,"and has size",d,"with",c,"with size",u.byteLength,"plus _used",this.ir,"vs capacity",this.UA),u.byteLength-d+this.ir>=this.UA?l(k.cA):f(u.byteLength-d+r,this.Pq)?l(k.DN):this.FB.replace(this.zn,m,c,this.fka(a,g,l,h,this.Pq),u.byteLength));};c.prototype.jmb=function(a,d,f,g){var h;h=p.rb(d)?d:b;"[object Object]"!==Object.prototype.toString.call(a)?h(k.CN.bm("items must be a map of keys to objects")):(d=m.Promise.all(Object.keys(a).map(function(b){return new m.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,mj:b}):c(d);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,d,l,k;try{b=Number.MAX_VALUE;d=a.reduce(function(a,c){c.error||(a.Eh+=c.Eh,p.ka(c.duration)&&(a.duration+=c.duration),!p.V(c.ki)&&c.ki<b&&(b=c.ki),c.items.map(function(b){a.items.push({key:b.key,Ze:b.Ze,GS:b.GS,Aeb:b.Aeb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.ki=b));return a;},{Eh:0,items:[],time:m.time.now(),duration:0});0<this.Pq&&(d.jC=this.Pq-g());l=a.filter(function(a){return!p.V(a.error);});k=y.Csa(l);f||(k?k.forEach(function(a){this.Ja(c.kd.ERROR,a);}.bind(this)):this.Ja(c.kd.REPLACE,y.zra(d)));h(k,d);}catch(R){h(R);}}.bind(this),function(a){f||this.Ja(c.kd.ERROR,a);h(a);}.bind(this)),y.Up(d));};c.prototype["delete"]=function(a,c){var d;d=p.rb(c)?c:b;this.$o.remove(this.zn,this.Nl(a),function(a,b){a?d(a):b&&b.O?h(this.$o,this.zn,this.Nl(""),function(a,b){a?d(a):(this.ir=b,d());}.bind(this)):d(k.QFa.bm(b.error));}.bind(this));};c.prototype.Rra=function(a){this.query("",function(b,c){b?(n.error("Failed to get keys",b),a([])):a(c);});};c.prototype.query=function(a,c){var d,f;d=p.rb(c)?c:b;f=this.FB.I4();this.$o.query(this.zn,this.Nl(a),function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a!==f;}).map(this.bba.bind(this)));}.bind(this));};c.prototype.Nl=function(a){return this.Vt+"."+a;};c.prototype.clear=function(a){var d;d=p.rb(a)?a:b;this.Rra(function(a){var b;b=m.Promise.all(a.map(function(a){return new m.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){d(a);},function(a){this.Ja(c.kd.ERROR,a);d([],a);}.bind(this));y.Up(b);}.bind(this));};c.prototype.dsa=function(a,c){var d,f;d=p.rb(c)?c:b;f=(a||[]).map(function(a){return this.Nl(a);}.bind(this));this.$o.query(this.zn,this.Vt,function(b,c){b?(n.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0<=f.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),d(b));}.bind(this));};c.prototype.F8a=function(a){return this.FB.xra(a);};c.prototype.constructor=c;g.M=c;},function(g,d,a){var c,h,l,f,p;function b(a){this.Zh=a;this.context=a.context;this.zwa="NULLCONTEXT"===a.context?!0:!1;}c=a(11);h=a(108);l=new h.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.yx=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.zwa)throw Error("Media Cache not supported");b.apply(this.Zh,a);}catch(x){c(x);}};b.prototype.query=function(a,b,c,d){try{if(this.zwa)throw Error("Media Cache not supported");this.Zh.query(a,b,function(a){c(null,a);},d);}catch(v){c(v);}};b.prototype.read=function(a,b,c,d,f){this.yx(this.Zh.read,a,b,c,d,f);};b.prototype.remove=function(a,b,c){this.yx(this.Zh.remove,a,b,c);};b.prototype.create=function(a,b,c,d){this.yx(this.Zh.create,a,b,c,d);};b.prototype.append=function(a,b,c,d){this.yx(this.Zh.append,a,b,c,d);};b.prototype.info=function(a){this.yx(this.Zh.info,a);};b.prototype.No=function(a){this.yx(this.Zh.No,a);};b.prototype.flush=function(a){this.yx(this.Zh.flush,a);};b.prototype.clear=function(){this.Zh.clear();};g.M={w2a:function(a){var d,g,m,k,n;d=a.GDb||"NRDMEDIADISKCACHE";p=a.nC||0;0!==p||c.V(h.options)||c.V(h.options.gT)||(p=h.options.gT);a=p;try{k=h.storage.bI;if(!k||!c.re(k))throw l.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=k[d])l.warn("Disk store exists, returning"),g=new b(m);else{if(c.V(h.storage)||!c.rb(h.storage.oQ)||h.options&&0===h.options.gT)throw l.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";l.warn("Disk store context doesn't exist, creating with size "+a);n=h.storage.oQ({context:d,size:a,encrypted:!0,signed:!0});if(!n||!n.valid)throw"Failed to create disk store context";g=new b(n);}}catch(y){l.warn("Exception creating disk store context - returning NullContext (noops)",y);g=new b(f);}return g;},e9a:function(){return p;},qvb:b};},function(g,d,a){var b,c,h,l,f;b=a(11);h=[];f=!1;g.M={Cta:function(d,g,k){var m;if(f)b.rb(k)&&(c.Sm||c.ty?setTimeout(function(){k(c);},0):h.push(k));else{f=!0;m=a(108);m.eJ(d);l=new m.Console("MEDIACACHE","media|asejs");c=new(a(355))(g,function(a){a&&l.warn("Failed to initialize MediaCache",a);b.rb(k)&&setTimeout(function(){k(c);},0);h.map(function(a){setTimeout(function(){a(c);},0);});});}return c;},vEb:function(d,f){c=new(a(355))(d,function(a,c){a&&l.warn("Failed to initialize MediaCache",a);b.rb(f)&&setTimeout(function(){f(c);},0);});}};},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});a(14);b=a(13);c=a(198);h=a(199);l=a(74);f=a(27);a(7);g=function(){var Z4h;Z4h=2;function a(){var f4h,T3e;f4h=2;while(f4h!==1){T3e="1S";T3e+="I";T3e+="Yb";T3e+="Z";T3e+="rNJCp9";switch(f4h){case 2:T3e;f4h=1;break;case 4:"";f4h=2;break;f4h=1;break;}}}while(Z4h!==13){switch(Z4h){case 4:a.prototype.FRa=function(){var t4h,r3e;t4h=2;while(t4h!==1){r3e="on";r3e+="E";r3e+="n";r3e+="t";r3e+="ry";switch(t4h){case 4:return this.Zia(this.le.K.Gta,"");break;t4h=1;break;case 2:return this.Zia(this.le.K.Gta,r3e);break;}}};a.prototype.GRa=function(){var F4h,A3e;F4h=2;while(F4h!==1){A3e="on";A3e+="Ex";A3e+="it";switch(F4h){case 2:return this.Zia(this.le.K.Hta,A3e);break;case 4:return this.Zia(this.le.K.Hta,"");break;F4h=1;break;}}};a.prototype.gRa=function(a,b){var N4h,d,f,g,h,m,p,k,r,n,q,t;function c(a){var I4h,b,c;I4h=2;while(I4h!==9){switch(I4h){case 3:return{Tl:a,Hh:b,IEb:c,vwa:0<a&&c<k/1E3};break;case 2:a=Math.floor(Math.min(r,a)/p.xd);b=p.xd*a;F6hh.P3e(0);c=F6hh.E3e(q,b);I4h=3;break;}}}N4h=2;while(N4h!==15){switch(N4h){case 9:m=this.le.pv&&this.le.pv.mT;m=void 0!==h?h:void 0!==m?m:100;p=this.La;N4h=6;break;case 6:k=p.ha;r=this.Hh;h=this.Hh;n=a?a.sK:this.RD-2*p.xd;N4h=11;break;case 11:q=n-this.fra;b=f.O7a||b;a&&!b&&(d=c(q),t=d.Tl,h=d.Hh,d=d.vwa);N4h=19;break;case 2:f=this.le.K;g=!0;N4h=4;break;case 4:d=!1;h=f.mT;N4h=9;break;case 16:return{Kob:g,Oeb:d};break;case 19:!d&&(t=n-l.gc.hwa(m,k),t=new l.gc(t-this.fra,k),a=c(t.xd),t=a.Tl,h=a.Hh,a=a.vwa)&&(--t,h=p.xd*t);this.Ik({$c:t,Mb:l.gc.Oaa(this.Zw+h,k)},!0);t<(f.sgb||1)&&(g=!1);N4h=16;break;}}};a.prototype.MB=function(a,c,d,g,h){var n4h,l;n4h=2;while(n4h!==6){switch(n4h){case 5:n4h=this.Dh?4:3;break;case 3:a=this.gra?a.appendBuffer(f.Gr(this.$pa),this):this.fd&&!this.Ip?this.gSa(a,c,g,h):this.fd&&this.Ip?this.hSa(a,d,g,h):this.R===b.G.AUDIO&&l.cn&&c&&this.Zv&&c.Ed>=this.Ed&&this.Od-this.Zv<this.Zv-this.Oc?!0:a.appendBuffer(this.response,this);this.Dh=!0;this.xU();return a;break;case 2:l=this.le.K;n4h=5;break;case 4:return!1;break;}}};Z4h=7;break;case 2:a.prototype.ija=function(a){var S4h;S4h=2;while(S4h!==1){switch(S4h){case 2:return a&&c.fH(a.S,this.S)&&a.V3===this.V3?!0:!1;break;}}};a.prototype.ERa=function(){var O4h,a,b,c,d;O4h=2;while(O4h!==7){switch(O4h){case 3:d=this.le.pv&&this.le.pv.mp;Array.isArray(d)&&Array.isArray(a.mp)?d=d.filter(function(b){var L7X=F6hh;var C4h,R4h,q4h;C4h=2;while(C4h!==1){switch(C4h){case 2:L7X.l3e(1);R4h=L7X.q3e(18,14,3);return R4h!==a.mp.indexOf(b);break;case 4:L7X.l3e(2);q4h=L7X.E3e(18,3);return~q4h!=a.mp.indexOf(b);break;C4h=1;break;}}}):Array.isArray(a.mp)?d=a.mp:Array.isArray(d)||(d=[]);return-1!==d.indexOf(this.profile)?{$qa:!!b,nza:!b,W$:!b||!c}:{$qa:!1,nza:!1,W$:!c};break;case 2:a=this.le.K;b=void 0!==a.Xv?a.Xv:this.le.pv&&this.le.pv.Xv;c=void 0!==a.Wv?a.Wv:this.le.pv&&this.le.pv.Wv;O4h=3;break;}}};a.prototype.Zia=function(a,b){var d4h,c,d,f,g,y3e,U3e;d4h=2;while(d4h!==13){y3e="d";y3e+="ef";y3e+="aul";y3e+="t";U3e="d";U3e+="ef";U3e+="a";U3e+="ul";U3e+="t";switch(d4h){case 2:f=this.le.K;g=this.ERa();d4h=4;break;case 4:d4h=void 0!==f.lJ&&null!==f.lJ?3:14;break;case 9:d=a.name,c=void 0!==a[b]?a[b]:void 0!==a[U3e]?a[y3e]:c;d4h=8;break;case 8:g.cq=g.W$?void 0!==c?c:1:0;g.U9=void 0!==d?d:g.nza;return g;break;case 3:d4h=(c=(void 0!==a?a:f.lJ)||0,a=f.Fta&&f.Fta[this.stream.profile])?9:8;break;case 14:g.W$=!1;d4h=8;break;}}};Z4h=4;break;case 7:a.prototype.gSa=function(a,c,d,g){var K4h,l,m,p,v3e,h3e;K4h=2;while(K4h!==6){v3e=" from";v3e+=" [";v3e+=" ";h3e="AseFrag";h3e+="men";h3e+="tMediaRequest: Fragment edit failed for ";switch(K4h){case 2:m={cq:0};l=!1;p=!0;this.R===b.G.AUDIO&&c&&(d?g&&this.Rpa():this.ija(c)?c.ee&&this.ee&&this.ee.$c!==c.ee.$c&&this.Ik({$c:c.ee.$c,Mb:c.Od},!1):(m=this.FRa(),c.Ed===this.cc&&(m.cq=0)));0>=this.duration&&(p=!1,l=!0);p&&(this.cc>this.Zn||m.cq?(c=this.ee&&this.ee.$c,l=new h.YM(this.stream,this.response),(c=l.Uya(c,this.Ty,m.cq,m.U9))?(l=a.appendBuffer(f.Gr(c.fe),this),this.PO(m),this.HO(c.fe)):(this.W.Ub(h3e+this.toString()+v3e+this.Zn+"-"+this.Ru+"]"),l=!0)):l=a.appendBuffer(this.response,this));K4h=7;break;case 7:return l;break;}}};a.prototype.hSa=function(a,c,d,g){var p4h,l,m,p,i3e,m3e;p4h=2;while(p4h!==6){i3e=" ";i3e+="fro";i3e+="m ";i3e+="[";i3e+=" ";m3e="AseFragmen";m3e+="tMe";m3e+="diaRequest: Fragmen";m3e+="t edit failed fo";m3e+="r ";switch(p4h){case 3:this.R===b.G.AUDIO&&(d?g&&(this.e5a(),m=0<this.ee.$c):this.ija(c)?c.ee&&0!=c.ee.$c?this.Ik({$c:c.ee.$c,Mb:c.Oc},!0):m=!1:(p=this.GRa(),l.cn||(c=this.gRa(c,p.$qa),(m=c.Kob)&&c.Oeb&&!p.U9&&(p.cq=0))));m&&0===this.duration&&(m=!1);m?this.Ed<this.Ru||p.cq?(c=this.ee&&this.ee.$c,m=new h.YM(this.stream,this.response),(m=m.Xya(c,this.ha,p.cq,p.U9))?(a=a.appendBuffer(f.Gr(m.fe),this),this.PO(p),this.HO(m.fe)):(this.W.Ub(m3e+this.toString()+i3e+this.Zn+"-"+this.Ru+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;p4h=7;break;case 2:l=this.le.K;p={cq:0};m=!0;p4h=3;break;case 7:return a;break;}}};return a;break;}}}();d["default"]=new g();},function(g){var d,a,b,c;d={name:"heaac-2-dash reset sample",profile:53,tk:2,sampleRate:24E3,duration:1024,Hs:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,tk:2,sampleRate:24E3,duration:1024,Hs:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,tk:6,sampleRate:48E3,duration:1536,Hs:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};c={name:"ddplus-2.0-dash standard sample",profile:57,tk:2,sampleRate:48E3,duration:1536,Hs:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.M={PAa:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":c},reset:{"heaac-2-dash":d,"heaac-2hq-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":c};},function(g,d,a){var b,c,h,l,f,p,m,k,n,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(14);c=a(13);g=a(7);h=a(27);l=a(199);f=a(199);p=a(200);m=a(81);k=a(203);n=g.Fb;q=h.Gr;a=function(a){function d(b,d,f,g,h,l){var p;g=a.call(this,b,f,g,l)||this;h=m.$k.prototype.toString.call(g)+(h?"(cache)":"");p={offset:f.offset,Z:f.b8,responseType:0};g.push(new k.fM(b,d,h+"(moof)",p,g,l));p={offset:f.offset+p.Z+8,Z:f.Z-(p.Z+8),responseType:n.jc&&!n.jc.gE.Kw?0:1};g.R===c.G.VIDEO&&g.ee&&g.ee.offset&&(g.Zn!==g.U?(p.offset=f.offset+g.ee.offset,p.Z=f.Z-g.ee.offset):g.Ru>g.ea&&(p.Z-=f.Z-g.ee.offset));g.push(new k.fM(b,d,h+"(mdat)",p,g,l));return g;}b.__extends(d,a);d.prototype.MB=function(a){var b,c;if(this.Dh)return!0;if(!this.vy())return!1;c=!1;if(this.gra)c=a.appendBuffer(q(this.$pa),this);else if(this.fd&&this.U!==this.Zn&&this.ee&&void 0!==this.ee.$c){b=new l.YM(this.stream,this.oa[0].response);if(b=b.Uya(this.ee.$c,this.ha))c=a.appendBuffer(q(b.fe),this),this.HO(b.fe);this.PO();}else if(this.fd&&this.ea!==this.Ru&&this.ee&&void 0!==this.ee.$c){b=new l.YM(this.stream,this.oa[0].response);if(b=b.Xya(this.ee.$c,this.ha))c=a.appendBuffer(q(b.fe),this),this.HO(b.fe);this.PO();}else c=a.appendBuffer(this.oa[0].response,this);c&&(c=a.appendBuffer(f.Reb(this.oa[1].Z),this))&&(c=a.appendBuffer(this.oa[1].response,this));this.Dh=c;this.Wlb();return c;};return d;}(p.kW);d.CDa=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(59);c=a(81);a=function(a){function d(b,d,g,h,l){h=a.call(this,b,d,h,l)||this;d.Z=g.byteLength;c.$k.call(h,b,d);h.nx=g;h.Xw=d.Z;return h;}b.__extends(d,a);Object.defineProperties(d.prototype,{Ec:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jo:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{IS:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{vd:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ol:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{zk:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.nx;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jeb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{De:{get:function(){return this.Xw;},enumerable:!0,configurable:!0}});d.prototype.vy=function(){return!0;};d.prototype.MB=function(a){return this.Dh=a.appendBuffer(this.response,this);};d.prototype.aj=function(){return-1;};d.prototype.abort=function(){return!0;};d.prototype.Nd=function(){};d.prototype.BV=function(){return!1;};return d;}(a(127).jw);d.DDa=a;g.Yk(c.$k,a);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,b,c,d,g;this.Me();a=this.Wp([{Taa:"int32"},{spa:"int32"},{Xx:"int32"},{EQ:"int32"},{DQ:"int32"}]);b=a.Taa;c=a.spa;d=a.Xx;g=a.DQ;a=a.EQ;this.Zc={Wb:b,T3a:c,E2:d,F2:g,ppa:a};this.Taa=b;this.spa=c;this.Xx=d;this.EQ=a;this.DQ=g;this.u.rx({Xx:this.Xx});return!0;};c.ul="trex";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.lHa=this.u.sf();a=this.u.Xc();this.ZAa=!!(a&128);this.nia=!!(a&64);this.Sfa=!!(a&32);this.Jpb=a&31;this.g4a=this.ZAa?this.u.sf():void 0;this.nia&&this.u.OO(this.u.Xc());this.FLa=this.Sfa?this.u.sf():void 0;c.sq&&this.u.Jb("ES_Descriptor: ES_ID="+this.lHa+", streamDependenceFlag="+this.ZAa+", URL_Flag="+this.nia+", OCRstreamFlag="+this.Sfa+", streamPriority="+this.Jpb+", dependsOn_ES_ID="+this.g4a+", OCR_ES_Id="+this.FLa);this.rla();return!0;};d.tag=3;return d;}(a(150)["default"]);d["default"]=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(35);g=a(150);h=a(357);a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.Cya=function(){var a;a=this.u.Ef(4);return 15!==a?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][a]:this.u.Ef(24);};d.prototype.parse=function(a){if(this.xcb(a)&&64===a.Owa){this.ur=this.vya();this.anb=this.Cya();this.w_a=this.u.Ef(4);this.cnb=this.v3=5===this.ur||29===this.ur?5:-1;this.Okb=29===this.ur?1:-1;0<this.v3&&(this.T6a=this.Cya(),this.ur=this.vya(),22===this.ur&&(this.S6a=this.u.Ef(4)));switch(this.ur){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.W3=this.u.Ef(1),this.H0a=(this.f4a=this.u.Ef(1))?this.u.Ef(14):void 0,this.u.Ef(1),this.FI=3===this.ur?256:23===this.ur?this.W3?480:512:this.W3?960:1024;}c.sq&&this.u.Jb("AudioSpecificConfig: audioObjectType="+this.ur+", samplingFrequency="+this.anb+", channelConfiguration="+this.w_a+", extensionAudioObjectType="+this.v3+", sbrPresentFlag="+this.cnb+", psPresentFlag="+this.Okb+", extensionSamplingFrequency="+this.T6a+", extensionChannelConfiguration="+this.S6a+", frameLengthFlag="+this.W3+", coreCoderDelay="+this.H0a+", frameLength="+this.FI);}this.skip();return!0;};d.prototype.vya=function(){var a;a=this.u.Ef(5);31===a&&(a=32+this.u.Ef(6));return a;};d.prototype.xcb=function(a){return a.tag===h["default"].tag;};d.tag=5;return d;}(g["default"]);d["default"]=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(151);a=a(35);c=g.iY;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Me();this.Zc=this.Wp([{IT:"int32"},{ZH:"int16"}]);return!0;};d.ul=c;return d;}(a["default"]);d["default"]=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Me();c.sq&&this.u.Jb("ESDBox");this.kHa=this.u.qla();return!0;};d.ul="esds";return d;}(c["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(b){var c;if(b=a.prototype.parse.call(this,b)&&this.Jr(b,!0)){c=this.yI("esds");if(c=c&&c.kHa.yI(5))this.FI=c.FI;}return b;};c.ul="mp4a";return c;}(a(358)["default"]);d["default"]=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);c=a(58);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Me();this.Zc=this.Wp([{CHb:"int32"},{Gsa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Zc.Gsa=c.AZ(this.Zc.Gsa);return!0;};d.ul="hdlr";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Zc=this.Wp([{hCb:"int32"},{nv:"int32"},{gna:"int32"}]);return!0;};c.ul="btrt";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Zc=this.Wp([{nFb:"int32"},{nJb:"int32"}]);return!0;};c.ul="pasp";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.Me();this.Zc=this.Wp(1===this.version?[{era:"int64"}]:[{era:"int32"}]);a=this.Jr(a,!0);this.u.Jb("Finished parsing mehd box");return a;};c.ul="mehd";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.Me();a=1===this.version?[{Bg:"int64"},{modificationTime:"int64"},{Wb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Bg:"int32"},{modificationTime:"int32"},{Wb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Cdb:"int16"},{QXa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Zc=this.Wp(a);this.Zc.QIb=!!(this.pe&1);this.Zc.RIb=!!(this.pe&2);this.Zc.SIb=!!(this.pe&4);this.Zc.TIb=!!(this.pe&8);this.u.Jb("Finished parsing track box");return!0;};c.ul="tkhd";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){a=this.Jr(a,!0);this.u.Jb("Finished parsing track box");return a;};c.ul="trak";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(a){this.Me();this.Zc=1===this.version?this.Wp([{Bg:"int64"},{modificationTime:"int64"},{ha:"int32"},{duration:"int64"}]):this.Wp([{Bg:"int32"},{modificationTime:"int32"},{ha:"int32"},{duration:"int32"}]);return this.Jr(a);};c.ul="mvhd";return c;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var ma,ca,la,ta,fa,Y,aa,ea,ha,ka,ia,na,pa,ra,jb,va,ib,Ma,fb,ub,Ua;function b(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function c(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function h(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function l(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function f(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function p(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);this.sE=a.config.sE;this.lU=new la(0,1);a.config.Hn&&(b=a.config.yK[a.profile])&&(a=b[a.P])&&(this.lU=new la(a));}function m(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function k(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function n(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function q(a,b,c,d){pa.call(this,a,b,c,d);}function v(a,b,c,d){fa.call(this,a,b,c,d);}function t(a,b,c,d){fa.call(this,a,b,c,d);}function y(a,b,c,d){na.call(this,a,b,c,d);}function A(a,b,c,d){fa.call(this,a,b,c,d);}function z(a,b,c,d){fa.call(this,a,b,c,d);}function w(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function N(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function E(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function qa(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function O(a,c,d,f){this.Qa=b;this.Qa.call(this,a,c,d,f);}function K(a,c,d,f){this.Qa=b;this.Qa.call(this,a,c,d,f);}function X(a){function b(b,c,d,f){this.Qa=fa;this.Qa.call(this,b,c,d,f);this.rwa=a;}b.prototype=new fa();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Uca:{get:function(){return this.rwa;}}});b.prototype.parse=function(){this.u.Jb("renaming '"+this.type+"' to draft type '"+this.rwa+"'");this.u.offset=this.startOffset+4;this.u.Xla(this.Uca);this.type=this.Uca;return!0;};return b;}function W(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function ba(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function R(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function T(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function D(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function J(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function U(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function ga(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function V(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}function P(a,b,c,d){this.Qa=fa;this.Qa.call(this,a,b,c,d);}ma=a(14);ca=a(151);a(7);la=a(74).gc;ta=a(367);a(58);a(58);a(58);fa=a(35)["default"];d=a(724)["default"];Y=a(723)["default"];aa=a(722)["default"];ea=a(721)["default"];ha=a(720)["default"];ka=a(719)["default"];ia=a(718)["default"];na=a(359)["default"];pa=a(358)["default"];ra=a(717)["default"];jb=a(716)["default"];va=a(715)["default"];ib=a(150)["default"];Ma=a(357)["default"];fb=a(714)["default"];ub=a(713)["default"];a=a(712)["default"];b.prototype=new fa();b.prototype.constructor=b;b.prototype.parse=function(a){return this.Jr(a,!0);};c.prototype=new fa();c.prototype.constructor=c;c.prototype.parse=function(a){var b;b=this.startOffset+this.length;a=this.Jr(a,!0);this.u.Jb("marking orginal end of moov: 0x"+b.toString(16));this.u.ZJ=b;return a;};h.prototype=new fa();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.Me();this.fileSize=this.u.yh();this.ha=this.u.yh();this.duration=this.u.yh(!1,!0);this.Qwa=this.u.yh();this.u.yh();this.Hhb=this.u.yh();this.Ugb=this.u.gb();this.Rwa=this.u.yh();this.Tqa=this.u.gb();this.Fqa=this.u.OG();a={moof:{offset:this.Qwa},sidx:{offset:this.Rwa,size:this.Tqa}};a[ca.Ifa]={offset:this.Hhb,size:this.Ugb};this.u.offset-this.startOffset<=this.length-24&&(this.Ghb=this.u.yh(),this.Lgb=this.u.gb(),this.Fhb=this.u.yh(),this.Jgb=this.u.gb(),a[ca.jY]={offset:this.Ghb,size:this.Lgb},a[ca.hY]={offset:this.Fhb,size:this.Jgb});this.u.Zya(a);return!0;};l.prototype=new fa();l.prototype.constructor=l;l.prototype.parse=function(){var a,d,f;this.Me();1<=this.version&&(this.Fqa=this.u.OG());a=this.u.gb();this.$b={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.u.MG();"uuid"===d&&(d=this.u.OG());f=this.u.yh();this.$b[d]={offset:b,size:f};b+=f;}this.u.Zya(this.$b);return!0;};f.prototype=new fa();f.prototype.constructor=f;f.prototype.parse=function(){var a;this.Me();1===this.version?(this.u.yh(),this.u.yh(),this.ha=this.u.gb(),this.duration=this.u.yh()):(this.u.gb(),this.u.gb(),this.ha=this.u.gb(),this.duration=this.u.gb());a=this.u.sf()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));this.u.rx({ha:this.ha});return!0;};p.prototype=new fa();p.prototype.constructor=p;p.prototype.NUa=function(){this.Me();this.u.gb();this.ha=this.u.gb();this.lU=this.lU.Ho(this.ha);0===this.version?(this.Z2=this.u.gb(),this.M3=this.u.gb()):(this.Z2=this.u.yh(),this.M3=this.u.yh());this.wmb=this.u.sf();this.E9=this.u.sf();};p.prototype.parse=function(a){var b,c,d,f,g,h,l,m;this.NUa();b=this.ha;c=a.La&&a.La.ha||b;d=c/b;f=this.startOffset+this.length+this.M3;g=this.u.config.truncate&&60<this.E9;h=g?60:this.E9;l=this.u.NO(h,12,!1);m=1===d?this.u.NO(h,12,!1):ta.from(Uint32Array,{length:h},function(){var a;a=Math.round(this.u.gb()*d);this.u.offset+=8;return a;},this);if(this.sE){for(var p=this.sE*c/1E3,k=0,r=1;r<h;r++)Math.abs(m[k]-p)>Math.abs(m[k]+m[r]-p)?(m[k]+=m[r],l[k]+=l[r]):(++k,k!==r&&(m[k]=m[r],l[k]=l[r]));++k;m=new Uint32Array(m.buffer.slice(0,4*k));l=new Uint32Array(l.buffer.slice(0,4*k));}b=new la(this.Z2,b).add(this.lU);h={ha:c,Xl:b.Ho(c).xd,offset:f,sizes:l,Td:m};this.u.rx({Y:h,Ps:g});a.Rj=this;return!0;};m.prototype=new fa();m.prototype.constructor=m;m.prototype.parse=function(){for(var a=[],b=(this.length-8)/2,c=0;c<b;c++)a.push(this.u.sf()/100);this.u.rx({oq:a});return!0;};k.prototype=new fa();k.prototype.constructor=k;Object.defineProperties(k.prototype,{oLa:{get:function(){return"e41f7029-c73c-344a-8c5b-ae90c7439a47";}},HMa:{get:function(){return"79f0049a-4098-8642-ab92-e65be0885f95";}}});k.prototype.parse=function(a){var b,c;this.Me();b=this.u.OG();this.u.Jb("parsing pssh box ID = "+b);c=this.u.gb();this.u.Jb("pssh size = 0x"+c.toString(16));c=this.u.data.slice(this.u.offset,this.u.offset+c);a={ctxt:a,header:c};if(b==this.HMa)a.type="drmheader",a.drmType="PlayReady";else if(b==this.oLa)a.type="nflxheader";else return this.u.Jb("Unrecognized pssh systemID: "+b),!0;this.u.Jb("Handling pssh type: "+a.type);this.u.Ja(a.type,a);return!0;};n.prototype=new fa();n.prototype.constructor=n;n.prototype.parse=function(a){var b,c;this.Me();this.u.gb();if(a=this.Jr(a,!0)){b={type:"sampledescriptions",boxes:this.$b};c=Object.keys(this.$b);c.length&&this.$b[c[0]].length&&(this.$b[c[0]][0]instanceof pa?b.frameDuration=new la(this.$b[c[0]][0].FI,this.$b[c[0]][0].Fza):this.$b[c[0]][0]instanceof y&&(c=this.$b[c[0]][0].$b[ca.iY])&&c.length&&(c=c[0].Zc,1E3!==c.ZH&&1001!==c.ZH||0!==c.IT%1E3?this.u.fa("Unexpected frame rate in NetflixFrameRateBox: "+c.IT+"/"+c.ZH):b.frameDuration=new la(c.ZH,c.IT)));this.u.Ja(b.type,b);}return a;};q.prototype=Object.create(pa.prototype);q.prototype.constructor=q;q.prototype.parse=function(a){pa.prototype.parse.call(this,a);if(a=this.Jr(a,!0))this.FI=1536;return a;};v.prototype=Object.create(fa.prototype);v.prototype.parse=function(){this.u.Ef(2);this.u.Ef(5);this.u.Ef(3);this.u.Ef(3);this.u.RHb(1);this.u.Ef(5);this.u.Ef(5);return!0;};t.prototype=Object.create(fa.prototype);t.prototype.parse=function(){this.phb=this.u.sf()&7;for(var a=0;a<this.phb;a++)this.u.Ef(2),this.u.Ef(5),this.u.Ef(5),this.u.Ef(3),this.u.blb(1),0<this.u.Ef(4)?this.u.blb(9):this.u.Ef(1);return!0;};y.prototype=Object.create(na.prototype);y.constructor=y;y.prototype.parse=function(a){na.prototype.parse.call(this,a);this.Zc=this.Wp([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{mFb:"int32"},{mJb:"int32"},{offset:32,type:"offset"},{T7a:"int16"},{m0a:{type:"int8",cYa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return this.Jr(a,!0);};A.prototype=Object.create(fa.prototype);A.constructor=A;A.prototype.parse=function(){var a;this.u.Xc();this.pDa=this.u.Xc();this.u.Xc();this.u.Xc();this.u.Xc();this.NAa=this.y_(this.u.Xc()&31);this.y_(this.u.Xc());this.m9=this.NAa.length?this.NAa[0][0]:this.pDa;this.mla=this.u.offset;this.startOffset+this.length<this.u.offset&&(100===this.MHb||110===this.m9||122===this.m9||144===this.m9)&&(this.u.Xc(),this.u.Xc(),this.y_(this.u.Xc()));a=this.startOffset+this.length-this.mla;0<a&&this.Bj(a,this.mla);return!0;};A.prototype.y_=function(a){var b,c,d;b=[];for(c=0;c<a;++c)d=this.u.sf(),b.push(this.u.OO(d));return b;};z.prototype=Object.create(fa.prototype);z.constructor=z;z.prototype.parse=function(){this.Me();this.gnb=this.u.MG();"cenc"==this.gnb&&(this.u.offset-=4,this.u.Xla("piff"));this.u.gb();return!0;};N.prototype=new fa();N.prototype.constructor=N;N.prototype.parse=function(a){var b,c;this.Me();this.u.offset+=4;b=this.u.offset;c=this.u.data.slice(b,b+16);c.toString=w;this.u.Jb("read KID: "+c.toString());a={type:"keyid",ctxt:a,keyId:c,offset:b,flipped:!1};this.u.Ja(a.type,a);return!0;};E.prototype=new fa();E.prototype.constructor=E;E.prototype.parse=function(){this.Me();this.Cl=this.u.sf();this.xfb=this.u.NO(this.Cl,void 0,!0);this.u.rx({uv:this.xfb});return!0;};qa.prototype=new fa();qa.prototype.constructor=qa;qa.prototype.parse=function(a){var b,c,d,f,g,h;f=a.Rj;ma(f);a=a.La;b=f.ha;f=f.E9;ma(a);ma(b);ma(f);this.Me();ma(2>this.version);this.Cl=this.u.sf();this.UD=new Uint16Array(f+1);c=a.lab(b);g=c/b;h=a.Ho(c).xd;if(0===this.version)for(this.jE=new Uint16Array(),this.Pl=new Uint32Array(),a=b=0;a<=f;++a){if(this.UD[a]=b,a<this.Cl&&(d=this.u.Xc(),0!==d))for(c=0;c<d;++c,++b)this.jE[b]=Math.floor((this.u.gb()+1)*g)/h,this.Pl[b]=this.u.gb();}else if(1===this.version)for(c=this.u.fVa(this.Cl),this.u.offset+=4,this.Pl=this.u.NO(this.Cl,10,!1),this.u.offset-=8,this.jE=ta.from(Uint16Array,{length:this.Cl},function(){var a;a=Math.floor((this.u.gb()+1)*g)/h;this.u.offset+=6;return a;},this),b=a=0;a<=f;++a){for(;b<c.length&&c[b]<a;)++b;this.UD[a]=b;}this.u.rx({Ch:{UD:this.UD,jE:this.jE,Pl:this.Pl}});return!0;};O.prototype=Object.create(b.prototype);O.prototype.constructor=O;O.prototype.parse=function(a){return b.prototype.parse.call(this,a);};K.prototype=Object.create(b.prototype);K.prototype.constructor=K;K.prototype.parse=function(a){if(!b.prototype.parse.call(this,a))return!1;if(a=this.Jo("tfhd"))this.vr=a.ina?a.vr:this.u.ix.startOffset;return!0;};W.prototype=new fa();W.prototype.constructor=W;W.prototype.parse=function(){var a,b,p,k,d,g;a=this.u;b=a.offset;this.Me();if(1===this.version){this.u.Jb("translating vpcC box to draft equivalent");a.offset+=2;for(var c=a.offset,d=a.Xc(),f=a.Xc(),g=a.Xc(),h=a.Xc(),l=a.sf(),m=[],p=0;p<l;++p)m=a.Xc();p=(d&240)>>>4;k=(d&14)>>>1;d=d&1;g=16===g?1:0;f!=h&&this.u.fa("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+h+" should be the same value!");h=2;switch(f){case 1:h=2;break;case 6:h=1;break;case 9:h=5;break;default:this.u.fa("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;a.view.setUint8(b,this.version);a.view.setUint8(c++,p<<4|h);a.view.setUint8(c++,k<<4|g<<1|d);l+=2;m.push(0,0);a.view.setUint16(c,l);c+=2;m.forEach(function(b){a.view.setUint8(c++,b);});}return!0;};ba.prototype=new fa();ba.prototype.constructor=ba;ba.ul="tfhd";Object.defineProperties(ba.prototype,{ina:{get:function(){return this.pe&1;}},Zmb:{get:function(){return this.pe&2;}},W3a:{get:function(){return this.pe&8;}},Z3a:{get:function(){return this.pe&16;}},X3a:{get:function(){return this.pe&32;}}});ba.prototype.parse=function(){this.Me();this.Taa=this.u.gb();this.vr=this.ina?this.u.yh():void 0;this.Zmb&&this.u.gb();this.Xx=this.W3a?this.u.gb():void 0;this.EQ=this.Z3a?this.u.gb():void 0;this.DQ=this.X3a?this.u.gb():void 0;return!0;};R.prototype=new fa();R.prototype.constructor=R;R.prototype.parse=function(){this.Me();this.nH=1===this.version?this.u.yh():this.u.gb();return!0;};R.prototype.fd=function(a){var b;b=this.startOffset+12;this.nH+=a;1===this.version?this.u.NWa(this.nH,b):this.u.ql(this.nH,!1,b);};T.prototype=new fa();T.prototype.constructor=T;Object.defineProperties(T.prototype,{bpa:{get:function(){return this.pe&1;}},O3:{get:function(){return this.pe&4;}},IU:{get:function(){return this.pe&256;}},JU:{get:function(){return this.pe&512;}},Eza:{get:function(){return this.pe&1024;}},h$:{get:function(){return this.pe&2048;}}});T.prototype.parse=function(){this.Me();this.qna=this.u.offset;this.Gd=this.u.gb();this.Kr=this.bpa?this.u.z_():0;this.O3&&this.u.gb();this.RK=(this.IU?4:0)+(this.JU?4:0)+(this.Eza?4:0)+(this.h$?4:0);this.sR=this.u.offset;ma(this.bpa,"Expected data offset to be present in Track Run");ma(this.length-(this.u.offset-this.startOffset)===this.Gd*this.RK,"Expected remaining data in box to be sample information");return!0;};T.prototype.NG=function(a,b,c){var d,f,g;d=this.IU?this.u.gb():a.Xx;f=this.JU?this.u.gb():a.EQ;a=this.Eza?this.u.gb():a.DQ;g=0===this.version?this.h$?this.u.gb():0:this.h$?this.u.z_():0;return{Ymb:g,rIb:a,HHb:c+g-(void 0!==b?b:g),Es:f,SK:d};};T.prototype.fd=function(a,b,c,d,f,g,h){var l,m,p,k;l=0;m=0;this.u.offset=this.sR;for(d=0;d<f;++d)k=this.NG(b,p,m),0==d&&(p=k.Ymb),l+=k.Es,m+=k.SK;d=f;f=this.u.offset;k=this.NG(b,p,m);this.wE=d;this.apb=m;if(h){if(this.cE=this.Kr+l,this.As=0,d===this.Gd)return!0;}else if(this.cE=this.Kr,this.As=l,0===d)return!0;if(0===d||d===this.Gd)return!1;this.Zpa=!0;if(h){this.As+=k.Es;for(h=d+1;h<this.Gd;++h)k=this.NG(b,p,m),this.As+=k.Es;this.u.offset=this.qna;this.Gd=d;this.u.ql(this.Gd);this.u.BO(g);this.O3&&(this.u.offset+=4);this.Bj(this.length-(f-this.startOffset),f);}else b=f-this.sR,this.u.offset=this.qna,this.Gd-=d,this.u.ql(this.Gd),this.Kr+=l,this.u.BO(g),this.u.Yla(this.Kr),this.O3&&(this.u.offset+=4),this.Bj(b,this.u.offset);c.Bj(this.As,a.vr+this.cE);return!0;};T.prototype.kmb=function(a,b,c,d,f,g){var l;if(d){d=this.cE;for(var h=this.Gd-1;0<=h&&this.Gd-h<=f;--h){this.u.offset=this.sR+h*this.RK;l=this.NG(b);if(l.SK!=g.duration){this.u.fa("Could not replace sample of duration "+l.SK+" with silence of duration "+g.duration);break;}if(this.JU)this.u.offset-=this.RK-(this.IU?4:0),this.u.ql(g.Hs.byteLength);else if(g.Hs.byteLength!==l.Es){this.u.fa("Cannot replace sample with default size with silence of different size");break;}d-=l.Es;c.rB(l.Es,g.Hs,a.vr+d);}}else for(d=this.cE+this.As,h=0;h<this.Gd&&h<f;++h){this.u.offset=this.sR+(h+this.wE)*this.RK;l=this.NG(b);if(l.SK!=g.duration){this.u.fa("Could not replace sample of duration "+l.SK+" with silence of duration "+g.duration);break;}if(this.JU)this.u.offset-=this.RK-(this.IU?4:0),this.u.ql(g.Hs.byteLength);else if(g.Hs.byteLength!==l.Es){this.u.fa("Cannot replace sample with default size with silence of different size");break;}c.rB(l.Es,g.Hs,a.vr+d);d+=l.Es;}};D.prototype=Object.create(fa.prototype);D.prototype.constructor=D;Object.defineProperties(D.prototype,{Hx:{get:function(){return this.pe&1;}}});D.prototype.parse=function(){this.Me();this.Hx&&this.u.MG();this.Hx&&this.u.gb();this.Y3a=this.u.Xc();this.Gd=this.u.gb();this.u.OO(this.Gd);return!0;};D.prototype.fd=function(a,b){if(a&&0===this.Y3a){a=b?this.Gd-a:a;this.u.offset=this.startOffset+13+(this.Hx?8:0);this.Gd-=a;this.u.ql(this.Gd);this.f$=0;if(b)this.u.offset+=this.Gd;else{for(b=0;b<a;++b)this.f$+=this.u.Xc();this.u.offset-=a;}this.Bj(a,this.u.offset);}return!0;};J.prototype=Object.create(fa.prototype);J.prototype.constructor=J;Object.defineProperties(J.prototype,{Hx:{get:function(){return this.pe&1;}}});J.prototype.parse=function(){this.Me();this.Hx&&this.u.MG();this.Hx&&this.u.gb();this.Cl=this.u.gb();ma(1===this.Cl,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Kr=0===this.version?this.u.z_():this.u.hVa();return!0;};J.prototype.fd=function(a,b){this.Kr+=a;this.u.offset=this.startOffset+16+(this.Hx?8:0)+(0===this.version?0:4);this.u.BO(b);this.u.Yla(this.Kr);return!0;};U.prototype=Object.create(fa.prototype);U.prototype.constructor=U;Object.defineProperties(U.prototype,{pxa:{get:function(){return this.pe&1;}},Asb:{get:function(){return this.pe&2;}}});U.prototype.parse=function(){this.Me();this.pxa&&(this.u.gb(),this.ndb=this.u.OO(16));this.Gd=this.u.gb();return!0;};U.prototype.fd=function(a,b){var c,d;c=b?this.Gd-a:a;this.u.offset=this.startOffset+28+(this.pxa?20:0);this.Gd-=c;this.u.ql(this.Gd);a=this.u.offset;if(this.Asb)for(c=b?this.Gd:c;0<c;--c){this.u.offset+=8;d=this.u.sf();this.u.offset+=6*d;}else this.u.offset+=8*(b?this.Gd:c);b?this.Bj(this.length-(this.u.offset-this.startOffset),this.u.offset):this.Bj(this.u.offset-a,a);};ga.prototype=Object.create(fa.prototype);ga.prototype.constructor=ga;ga.prototype.parse=function(){this.Me();return!0;};ga.prototype.fd=function(a,b,c){c?this.Bj(b-a,this.startOffset+12+a):this.Bj(a,this.startOffset+12);return!0;};V.prototype=Object.create(fa.prototype);V.prototype.constructor=V;V.prototype.parse=function(){this.Me();this.u.MG();1===this.version&&this.u.gb();this.Cl=this.u.gb();this.TK=[];for(var a=0;a<this.Cl;++a)for(var b=this.u.gb(),c=this.u.gb(),d=0;d<b;++d)this.TK.push(c);return!0;};V.prototype.fd=function(a,b){this.TK=b?this.TK.slice(0,a):this.TK.slice(a);a=this.TK.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.u.offset=this.startOffset+16+(1===this.version?4:0);this.u.ql(a.length);a.forEach(function(a){this.u.ql(a.count);this.u.ql(a.group);}.bind(this));this.Cl>a.length&&this.Bj(8*(this.Cl-a.length));this.Cl=a.length;return!0;};P.prototype=Object.create(fa.prototype);P.prototype.constructor=P;P.prototype.parse=function(){return!0;};Ua={$b:{moov:c,trak:b,mdia:b,mdhd:f,minf:b,pssh:k,encv:y,schi:b,sidx:p,sinf:b,stbl:b,stsd:n,tenc:N,mvex:b,moof:O,traf:K,tfhd:ba,trun:T,sbgp:V,sdtp:ga,saiz:D,saio:J,tfdt:R,mdat:P,vmaf:m},wrb:{vpcC:W,SmDm:X("smdm"),CoLL:X("coll")},qrb:{avcC:A,schm:z},g$:{"ac-3":q,"ec-3":q,dac3:v,dec3:t,avc1:y,avc3:y,avc2:y,avc4:y,hvc1:y,hev1:y},Hu:{base:ib}};[ia,Y,aa,d,ea,ha,ka,a].forEach(function(a){Ua.$b[a.ul]=a;});[ra,jb].forEach(function(a){Ua.g$[a.ul]=a;});[ub,Ma,fb].forEach(function(a){Ua.Hu[a.tag]=a;});Ua.$b[ca.mLa]=h;Ua.$b[ca.nLa]=l;Ua.$b[ca.eMa]=N;Ua.$b[ca.jY]=E;Ua.$b[ca.hY]=qa;Ua.$b[ca.dga]=U;Ua.g$[ca.iY]=va;Ua.ica=fa;g.M=Ua;},function(g,d,a){(function(){var d3e,E,qa,O,K,X,W,J,R,T,D,U,Y,ga,V,P,ma,ca,la,ta,fa,aa,ea,ha,ka,ia,na,pa,ra,ua,P4D,t0D,V0D,q0D,a0D;function b(a,b){var p3e;p3e=2;while(p3e!==1){switch(p3e){case 2:return b.Fd-a.Fd;break;case 4:return b.Fd+a.Fd;break;p3e=1;break;}}}function k(a,b){var N4e,c,O0D;N4e=2;while(N4e!==7){O0D="h";O0D+="ea";O0D+="d";O0D+="er";switch(N4e){case 9:c.isHeader=O0D===a[2];return new V(function(a,d){var G4e,N0D;G4e=2;while(G4e!==1){N0D="bil";N0D+="l";N0D+="bo";N0D+="a";N0D+="rd";switch(G4e){case 2:this.Wg.tU(N0D,b,function(b,f){var K4e,g,H4e,l0D,F0D;K4e=2;while(K4e!==5){switch(K4e){case 2:try{H4e=2;while(H4e!==4){l0D="Missing or in";l0D+="valid media data";l0D+=" par";l0D+="ts for stream";l0D+=" ";F0D="Mis";F0D+="sing or invalid hea";F0D+="der data parts for ";F0D+="str";F0D+="eam ";switch(H4e){case 1:d(b);H4e=5;break;case 5:a(g);H4e=4;break;case 2:H4e=b?1:3;break;case 3:Object.keys(f).map(function(a){var e4e,b,g,w4e,E4e,j0D,Y0D;e4e=2;while(e4e!==6){j0D="me";j0D+="t";j0D+="ada";j0D+="ta";Y0D="fr";Y0D+="a";Y0D+="g";Y0D+="ments";switch(e4e){case 2:b=a.substr(a.lastIndexOf(".")+1);e4e=5;break;case 4:try{w4e=2;while(w4e!==1){switch(w4e){case 2:g=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f[a])));w4e=1;break;}}}catch(Na){g=f[a];}Object.keys(g).map(function(a){var u4e;u4e=2;while(u4e!==1){switch(u4e){case 2:c[a]=g[a];u4e=1;break;case 4:c[a]=g[a];u4e=7;break;u4e=1;break;}}});e4e=6;break;case 9:e4e=Y0D===b?8:7;break;case 8:try{E4e=2;while(E4e!==1){switch(E4e){case 4:c[b]=f[a];E4e=2;break;E4e=1;break;case 2:c[b]=f[a];E4e=1;break;}}}catch(Na){d(Na);}e4e=6;break;case 7:c[b]=f[a];e4e=6;break;case 5:e4e=j0D===b?4:9;break;}}});g=N(c);H4e=8;break;case 6:H4e=void 0===g.Z||void 0===g.offset||void 0===g.ha||void 0===g.Kb||void 0===g.Hh?14:5;break;case 7:g.fo&&g.ha&&g.Y&&void 0!==g.Y.Xl&&void 0!==g.Y.offset&&void 0!==g.Y.Td&&g.Y.Td.length&&void 0!==g.Y.sizes&&g.Y.sizes.length||(b=F0D+g.Ya,d(b));H4e=5;break;case 8:H4e=g.Ec?7:6;break;case 14:b=l0D+g.Ya,d(b);H4e=5;break;}}}catch(Ya){d(Ya);}K4e=5;break;}}});G4e=1;break;}}}.bind(this));break;case 2:c={};a=b[0].split(".");c.movieId=a[0];N4e=3;break;case 3:c.streamId=a[1];N4e=9;break;}}}function d(a,b,d,f,g,h,l,m){var M3e,p,k,r,n,u,L0D,g0D;M3e=2;while(M3e!==13){L0D="vi";L0D+="deo_";L0D+="tra";L0D+="cks";g0D="a";g0D+="udi";g0D+="o_tr";g0D+="a";g0D+="cks";switch(M3e){case 9:a[[g0D,L0D][d]][f].streams.forEach(function(a,b){var V4e,c;V4e=2;while(V4e!==14){switch(V4e){case 3:V4e=b<h.Xva||b>h.lva?9:8;break;case 2:a=J.a4(n,b,void 0,h,m);b=a.P;c=a.qc;V4e=3;break;case 9:a.inRange=!1;V4e=8;break;case 7:a.inRange=!1;V4e=6;break;case 8:V4e=c<h.Yva||c>h.mva?7:6;break;case 6:(a.Ll?r:k).push(a);V4e=14;break;}}});a=[];g&&0!==k.length&&(u=c(b,k,p,h,l))&&a.push(u);u||(u=c(b,r,p,h,l))&&a.push(u);return a;break;case 5:k=[];r=[];n=W.CR(void 0,a,d,f,void 0,m);M3e=9;break;case 2:p=d===aa.G.VIDEO;M3e=5;break;}}}function v(a,b,c,d){var A4e;A4e=2;while(A4e!==23){switch(A4e){case 6:this.bO=!1;this.$A=[];A4e=13;break;case 2:this.$a=a;this.rm=Object.create(null);this.wm=b;this.Ib=Object.create(null);A4e=3;break;case 3:this.Dt=0;this.zg=[];this.EG=b.BQ;this.xx=[];A4e=6;break;case 10:this.emit=this.Ja=la.Ja;this.dTa=p.bind(this);A4e=19;break;case 19:this.eu=(this.wm.Zz||this.wm.tCa)&&0<(this.wm.nC||(O.options||{}).gT||0);this.jSa=this.wm.SDb;A4e=17;break;case 17:this.Dn=this.wm.Jfb;this.sTa=this.wm.Gfb;this.zka=!1;this.Wg=this.g_=void 0;this.eu&&(this.wm.nC||(this.wm.nC=(O.options||{}).gT||0),this.Tt=new V(function(a,b){var U4e;U4e=2;while(U4e!==1){switch(U4e){case 2:(void 0!==d?d.Cta:function(a){var y4e;y4e=2;while(y4e!==1){switch(y4e){case 4:return fa.Cta(O,this.wm,a);break;y4e=1;break;case 2:return fa.Cta(O,this.wm,a);break;}}}.bind(this))(function(c){var h4e,P0D;h4e=2;while(h4e!==4){P0D="Media ";P0D+="cac";P0D+="he did not initialize";switch(h4e){case 2:this.Wg=c;this.zka=c.Sm;(this.g_=c.ty)?b(this.g_):this.zka?(q(this.Wg,this),a()):b(Error(P0D));h4e=4;break;}}}.bind(this));U4e=1;break;}}}.bind(this)));this.fk=c;Y.call(this);A4e=23;break;case 13:this.qx={};this.on=this.addEventListener=la.addEventListener;this.removeEventListener=la.removeEventListener;A4e=10;break;}}}function w(a){var p4e;p4e=2;while(p4e!==1){switch(p4e){case 2:return{mediaType:a.R,streamId:a.Ya,movieId:a.S,bitrate:a.P,location:a.location,serverId:a.gd,saveToDisk:a.Yd,offset:a.offset,bytes:a.Z,startTicks:a.Kb,durationTicks:a.Hh,timescale:a.ha};break;}}}function c(a,b,c,d,f){var j3e,c0D,m0D;j3e=2;while(j3e!==8){c0D="updateStreamSele";c0D+="ctio";c0D+="n returned ";c0D+="null list";m0D="selectStr";m0D+="eam returned ";m0D+="null";switch(j3e){case 2:j3e=(b=a.location.QV(a.bc,b))?1:9;break;case 4:return c=b[a.Hd],c.io=a.reason,c.Qm=a.as,c.rbb=a.Jl,c.iS=a.Ek,c;break;case 3:pa(m0D);j3e=8;break;case 1:d=K(d,f);j3e=5;break;case 9:pa(c0D);j3e=8;break;case 5:j3e=(a=a.stream[c?1:0].x$(a.bc,b,void 0,c?d.bya:d.aya))?4:3;break;}}}function q(a,b){var P4e,c,W0D,z0D;P4e=2;while(P4e!==3){W0D="m";W0D+="edia";W0D+="cache";W0D+="-error";z0D="m";z0D+="ediaca";z0D+="ch";z0D+="e";switch(P4e){case 2:c=new ta();c.on(a,z0D,function(a){var l4e,u0D;l4e=2;while(l4e!==4){u0D="me";u0D+="diacac";u0D+="h";u0D+="e";switch(l4e){case 2:l4e=a.keys||a.items?1:5;break;case 1:a.keys||a.items.map(function(a){var T4e;T4e=2;while(T4e!==1){switch(T4e){case 4:return a.key;break;T4e=1;break;case 2:return a.key;break;}}});l4e=5;break;case 5:b.Ja(u0D,a);l4e=4;break;case 7:b.Ja("",a);l4e=2;break;l4e=4;break;}}});c.on(a,W0D,function(a){var r4e,b0D,e0D;r4e=2;while(r4e!==5){b0D="medi";b0D+="acach";b0D+="e";e0D="e";e0D+="r";e0D+="ror";switch(r4e){case 2:a.type=e0D;b.Ja(b0D,a);r4e=5;break;}}});P4e=3;break;}}}function t(a){var v4e,b,c,d;v4e=2;while(v4e!==10){switch(v4e){case 2:b=[];v4e=5;break;case 5:v4e=a&&a.data?4:10;break;case 8:b.dc=a.dc;b.El=a.El;b.io=a.io;b.Qm=a.Qm;b.Jl=a.Jl;v4e=12;break;case 12:b.Ek=a.Ek;return b;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].R]={Ya:c,Dk:a.headers[c],data:d});}b.Bm=a.Bm;b.$r=a.$r;v4e=8;break;}}}function n(a,b){var q4e,c,d,r0D,B0D;q4e=2;while(q4e!==9){r0D=" m";r0D+="ovi";r0D+="e";r0D+="Id";r0D+=": ";B0D="Failed to load data from disk because the AseStream was missing ";B0D+="from the stream m";B0D+="ap streamId: ";switch(q4e){case 2:c=this.Ib[b.S];q4e=5;break;case 4:d=parseInt(b.R);(a=a&&a[d]?a[d].Yl:{})&&a[b.Ya]?(a=a[b.Ya],b.Y&&a.KT(b.ha,b.La?new ga(b.La,b.ha):void 0,b.Y),b.Ec&&a&&a.Qc?(c=new R(a,{Z:b.Z,offset:b.offset,fo:b.fo,Ve:b.Ve,Zy:void 0,Ps:!1},this),this.Kia(c)):b.response instanceof ArrayBuffer&&(b=new D(a,b,b.response),c.data||(c.data={}),c.data[b.Ya]||(c.data[b.Ya]=[]),c.data[b.Ya].push(b))):pa(B0D+b.Ya+r0D+b.S);q4e=9;break;case 5:q4e=c?4:9;break;}}}function N(a){var j4e,b;j4e=2;while(j4e!==3){switch(j4e){case 1:b={Ec:a.isHeader,R:a.mediaType,S:a.movieId,Ya:a.streamId,P:a.bitrate,location:a.location,gd:a.serverId,Z:a.bytes,offset:a.offset,fo:a.headerData,Y:a.fragments,Ve:a.drmHeader,response:a.response,ha:a.timescale,La:a.frameDuration,Kb:a.startTicks,Hh:a.durationTicks,Qb:a.startTicks+a.durationTicks,Yd:a.saveToDisk};!b.Y||b.Y instanceof ArrayBuffer||(b.Y.Xl=b.Y.startTicks,b.Y.offset=b.Y.offset,b.Y.ha=b.Y.timescale,b.Y.sizes=new Uint32Array(a.sizes),b.Y.Td=new Uint32Array(a.durations));return b;break;case 2:j4e=1;break;}}}d3e=2;function l(a,b,c,g,h,l,m){var Q4e,p,k,r,n,u,X0D,x0D;Q4e=2;while(Q4e!==10){X0D="Unable to find audio nor vi";X0D+="deo tracks i";X0D+="n manif";X0D+="e";X0D+="st:";x0D="Unable to find request";x0D+="ed audio ";x0D+="track in manifest:";switch(Q4e){case 8:p.some(function(a,f){var t4e;t4e=2;while(t4e!==5){switch(t4e){case 1:return n=d(c,b,aa.G.VIDEO,f,h,l,k,m),!0;break;case 2:t4e=!a.stereo?1:5;break;}}});c.audio_tracks.some(function(a,f){var R4e;R4e=2;while(R4e!==5){switch(R4e){case 2:R4e=a.track_id==g?1:5;break;case 1:return u=d(c,b,aa.G.AUDIO,f,h,l,k,m),!0;break;case 3:R4e=a.track_id!=g?7:7;break;R4e=a.track_id==g?1:5;break;}}});Q4e=6;break;case 9:b.bc.buffer.xu=a[aa.G.VIDEO];Q4e=8;break;case 6:Q4e=E.V(n)&&E.V(u)?14:13;break;case 2:p=c.video_tracks;k=f(c.audio_tracks);r=f(c.video_tracks);Q4e=3;break;case 12:pa(x0D,g);Q4e=10;break;case 3:a=a.Lj(k,r);Q4e=9;break;case 14:pa(X0D,g);Q4e=10;break;case 11:return[].concat(n||[]).concat(u||[]);break;case 13:Q4e=E.V(u)&&g?12:11;break;}}}function f(a){var f4e,b;f4e=2;while(f4e!==3){switch(f4e){case 2:b=0;E.forEach(a,function(a){var L4e;L4e=2;while(L4e!==1){switch(L4e){case 2:E.forEach(a.streams,function(a){var a4e;a4e=2;while(a4e!==1){switch(a4e){case 2:b=Math.max(b,a.bitrate);a4e=1;break;}}});L4e=1;break;}}});return b;break;}}}function m(a,b){var c4e,c;c4e=2;while(c4e!==4){switch(c4e){case 2:c=Object.keys(a).map(function(c){var z4e;z4e=2;while(z4e!==1){switch(z4e){case 2:return V.resolve(a[c]).then(k.bind(this,b));break;}}}.bind(this));return V.all(c).then(function(a){var D4e;D4e=2;while(D4e!==1){switch(D4e){case 2:a.sort(function(a,b){var o4e;o4e=2;while(o4e!==1){switch(o4e){case 2:return a.Ec===b.Ec?0:a.Ec?-1:1;break;}}}).map(n.bind(this,b));D4e=1;break;}}}.bind(this));break;}}}while(d3e!==85){P4D="1SIY";P4D+="b";P4D+="Zr";P4D+="NJ";P4D+="Cp9";t0D="m";t0D+="e";t0D+="di";t0D+="a|asej";t0D+="s";V0D="M";V0D+="ED";V0D+="IACACHE";q0D="m";q0D+="edi";q0D+="a|asejs";a0D="HEA";a0D+="DER";a0D+="CAC";a0D+="HE";switch(d3e){case 39:v.prototype.Vn=function(){var V5e;V5e=2;while(V5e!==5){switch(V5e){case 2:this.flush();this.xja();V5e=5;break;}}};v.prototype.VRa=function(){var Q5e,a;Q5e=2;while(Q5e!==9){switch(Q5e){case 1:Q5e=0===this.xx.length?5:9;break;case 2:Q5e=1;break;case 5:a=this;a.xx=[{type:aa.G.AUDIO,openRange:!1,pipeline:!1,connections:1},{type:aa.G.VIDEO,openRange:!1,pipeline:!1,connections:1}].map(function(b){var t5e,i0D;t5e=2;while(t5e!==3){i0D="e";i0D+="r";i0D+="r";i0D+="o";i0D+="r";switch(t5e){case 2:b=new ka(b,a.fk);b.on(i0D,function(){});E.V(b.Dc)||b.Dc();return b;break;}}});ka.Gg();Q5e=9;break;}}};v.prototype.xja=function(){var R5e,a;R5e=2;while(R5e!==3){switch(R5e){case 2:a=this.xx;this.xx=[];R5e=4;break;case 4:a.forEach(function(a){var f5e;f5e=2;while(f5e!==5){switch(f5e){case 2:a.removeAllListeners();a.Vn();f5e=5;break;}}});R5e=3;break;}}};v.prototype.cH=function(a,b,c){var L5e,d,f;L5e=2;while(L5e!==7){switch(L5e){case 9:c&&delete d[b];f?(this.bO=!1,this.kTa()):this.bO=!0;L5e=7;break;case 3:for(var g in d){d.hasOwnProperty(g)&&!1===d[g]&&(f=!1);}L5e=9;break;case 2:d=this.qx;f=a;L5e=4;break;case 4:L5e=(d[b]=a)?3:9;break;}}};v.prototype.kTa=function(){var a5e;a5e=2;while(a5e!==1){switch(a5e){case 2:!this.bO&&0<this.$A.length&&(this.$A.forEach(function(a){var s5e;s5e=2;while(s5e!==1){switch(s5e){case 2:this.QO(a.nbb,a.Mb);s5e=1;break;}}}.bind(this)),this.$A=[]);a5e=1;break;}}};v.prototype.jkb=function(a,c){var F5e,d,f,g,h,n0D,v0D,Z0D;F5e=2;while(F5e!==25){n0D="); igno";n0D+="ring";n0D+=" prepare for movie";n0D+="Id: ";v0D="PTS passed t";v0D+="o HeaderCache.prepareP i";v0D+="s n";v0D+="o";v0D+="t undefined or a positive number (";Z0D="A conf";Z0D+="ig m";Z0D+="ust be pa";Z0D+="ssed t";Z0D+="o prepareP";switch(F5e){case 2:d=c.S;F5e=5;break;case 20:F5e=(d.Fd=f,this.zg.sort(b),!E.V(g))?19:17;break;case 12:d=this.Ib[d];F5e=11;break;case 5:f=c.Fd;g=c.Mb;qa(c.config,Z0D);h=c.config;this.rAa(h.BQ);F5e=7;break;case 18:for(var l in d.headers){!E.V(d.headers[l].url)&&null!==d.headers[l].url&&(void 0===d.data||void 0===d.data[l]||d.data[l].length<h.C2)?this.QO(d.headers[l],g):(E.V(d.headers[l].url)||null===d.headers[l].url)&&void 0!==d.data&&void 0!==d.data[l]&&0<d.data[l].length&&delete d.headers[l];}F5e=17;break;case 13:return ra(v0D+g+n0D+d),V.reject();break;case 10:F5e=!this.Dn||!d.Yd?20:17;break;case 11:F5e=!E.V(d)&&(2<=d.$r||!h.oI)?10:16;break;case 14:F5e=!E.V(g)&&(!E.ka(g)||0>g)?13:12;break;case 16:F5e=!c.Yd||!this.eu||this.Dn?15:26;break;case 7:F5e=h.Kfb?6:14;break;case 17:return V.resolve();break;case 6:return V.reject();break;case 19:void 0===d.data&&(d.dc.WD=void 0);F5e=18;break;case 27:return V.reject();break;case 26:return this.tVa(a,c);break;case 15:F5e=f>h.s5||this.Dt+1>this.EG&&f>this.zg[0].Fd?27:26;break;}}};v.prototype.tVa=function(a,c){var k5e,d,f,g,h,m,p,k,r,n,u,q,x,v,t,E0D;k5e=2;while(k5e!==23){E0D="A ";E0D+="config must be passe";E0D+="d t";E0D+="o";E0D+=" _requestHeader";switch(k5e){case 2:d=c.S;f=c.Fd;k5e=4;break;case 3:h=c.Yd;m=c.Y9a();p=m.Ha;k5e=7;break;case 4:g=c.Mb;k5e=3;break;case 7:k=m.ii;m=m.OB;k5e=14;break;case 12:r=X(r,p);c={stream:[new ha(void 0,r.Zma,r),new ha(void 0,r.laa,r)],location:new ea(null,a.Wa,a.yg,!k,r),bc:{state:aa.Da.Tg,j6:!0,buffer:{xu:void 0,U:0,uf:0,Ra:0,yl:0,Av:0,Y:[]}}};c.location.ZG(p);n=l(a,c,p,m,k,r,P);k5e=19;break;case 14:qa(c.config,E0D);r=c.config;k5e=12;break;case 17:u=this.Ib[d];u||(u={Fd:f,S:d,headers:Object.create(null),$r:0,fS:0,QH:0,data:void 0,Yd:h,dc:{}},!u.Yd||this.Dn?this.Ib[d]=u:u.dc.HL=0,this.zg.push(u),this.zg.sort(b));q=[];r.lbb&&(x=2292+12*Math.ceil(p.duration/2E3));k5e=26;break;case 19:k5e=!n?18:17;break;case 18:return V.reject();break;case 26:v=this.Wg;t=this.eu;return(h?this.Dn?this.fTa(d):this.jTa(d):V.resolve()).then(function(a){var J5e;J5e=2;while(J5e!==5){switch(J5e){case 2:n.forEach(function(b){var B5e,c;B5e=2;while(B5e!==4){switch(B5e){case 2:c=x?x:r.gS;r.oI&&u.headers[b.Ya]||(E.V(u.El)&&b.R===aa.G.VIDEO&&(u.El=b.P,u.io=b.io,u.Qm=b.Qm,u.Jl=b.rbb,u.Ek=b.iS),k&&b.R===aa.G.VIDEO&&r.lR?c=r.lR:r.yCa&&b.Rj&&(c=b.Rj.offset+b.Rj.size),b={stream:b,url:b.url,offset:0,Z:c,Yd:h},h&&(u.dc.Hfb=!E.V(a)&&0<Object.keys(a).length,b.CD=a),b=this.uVa(b,g,u,r),q.push(b));B5e=4;break;}}}.bind(this));return V.all(q);break;}}}.bind(this)).then(function(a){var I5e;I5e=2;while(I5e!==1){switch(I5e){case 2:return new V(function(b){var n5e,c,S0D,I0D;n5e=2;while(n5e!==9){S0D="m";S0D+="ovieEnt";S0D+="r";S0D+="y";I0D="b";I0D+="illbo";I0D+="ar";I0D+="d";switch(n5e){case 1:n5e=t&&h&&!this.Dn?5:3;break;case 2:n5e=1;break;case 5:c=y(u);v.save(I0D,[S0D,u.S].join("."),c,ia,function(){var W5e;W5e=2;while(W5e!==1){switch(W5e){case 4:b(a);W5e=2;break;W5e=1;break;case 2:b(a);W5e=1;break;}}});n5e=9;break;case 3:b(a);n5e=9;break;}}}.bind(this));break;}}}.bind(this)).then(function(a){var b5e;b5e=2;while(b5e!==3){switch(b5e){case 2:a=Math.max.apply(Math,a);u.dc.tR=u.dc.Wsa;u.dc.MS=a;return{firstheadersent:u.dc.tR,lastheadercomplete:u.dc.MS};break;}}});break;}}};v.prototype.flush=function(){var Y5e,a,D0D,K0D;Y5e=2;while(Y5e!==7){D0D="man";D0D+="age";D0D+="rdebu";D0D+="geven";D0D+="t";K0D=", h";K0D+="eaderCach";K0D+="e fl";K0D+="ush";K0D+=": ";switch(Y5e){case 2:this.Wqa();for(var b in this.rm){a=this.rm[b];a.abort(ua);}Y5e=4;break;case 4:this.Ib=Object.create(null);this.Dt=0;this.zg=[];this.wm.We&&(a="@"+O.time.da()+K0D,this.Ja(D0D,{message:a}));Y5e=7;break;}}};d3e=50;break;case 30:ra=P.error.bind(P);ua={onabort:function(){},onerror:function(){}};v.prototype=Object.create(Y.prototype);v.prototype.constructor=v;Object.defineProperties(v.prototype,{cache:{get:function(){var M4e;M4e=2;while(M4e!==1){switch(M4e){case 2:return this.Ib;break;case 4:return this.Ib;break;M4e=1;break;}}}}});v.prototype.Jb=ca;v.prototype.fa=pa;v.prototype.Ub=ra;d3e=39;break;case 18:V=O.Promise;P=new O.Console(a0D,q0D);ma=new O.Console(V0D,t0D);ca=a(28);la=ca.EventEmitter;ta=ca.rF;fa=a(707);aa=a(13);d3e=23;break;case 23:ea=a(353);ha=a(352).Lw;ka=O.eA;a(27);ia={lifespan:259200};ca=P.trace.bind(P);na=ma.trace.bind(ma);pa=P.warn.bind(P);d3e=30;break;case 55:v.prototype.pVa=function(a){var j5e,A0D;j5e=2;while(j5e!==1){A0D="fl";A0D+="ush";A0D+="e";A0D+="dBy";A0D+="tes";switch(j5e){case 2:0!==a&&(a={type:A0D,bytes:a},this.Ja(a.type,a));j5e=1;break;}}};v.prototype.mVa=function(a){var M5e,G0D;M5e=2;while(M5e!==5){G0D="c";G0D+="ach";G0D+="eEvict";switch(M5e){case 2:a={type:G0D,movieId:a};this.Ja(a.type,a);M5e=5;break;}}};v.prototype.ez=function(a){var V6e,b;V6e=2;while(V6e!==4){switch(V6e){case 2:b=this.Ib[a.S];b&&(a.Ec?E.V(b.dc.Wsa)&&(b.dc.Wsa=a.Lf):E.V(b.dc.WD)&&(b.dc.WD=a.Lf));V6e=4;break;}}};v.prototype.ti=function(a){var Q6e;Q6e=2;while(Q6e!==1){switch(Q6e){case 2:a.Ec?this.jib(a):this.lib(a);Q6e=1;break;}}};v.prototype.jib=function(a){var t6e;t6e=2;while(t6e!==3){switch(t6e){case 2:a.Mqb=a.vd;this.Kia(a);a.eS(a.Mqb);this.vVa(a,function(){var R6e;R6e=2;while(R6e!==5){switch(R6e){case 2:a.js.fS--;this.xZ(a);R6e=5;break;}}}.bind(this));t6e=3;break;}}};v.prototype.lib=function(a){var f6e,b,c,d,f,g,h,l,m,s0D,M0D,T0D,R0D,J0D,p0D,h0D,U0D,k0D;f6e=2;while(f6e!==15){s0D=".";s0D+="re";s0D+="s";s0D+="p";s0D+="onse";M0D=".dr";M0D+="mHe";M0D+="ader";T0D=".he";T0D+="ad";T0D+="er";T0D+="Data";R0D=".m";R0D+="etadat";R0D+="a";J0D="manage";J0D+="rdebugeven";J0D+="t";p0D=", re";p0D+="maini";p0D+="ng: ";h0D=", ";h0D+="pt";h0D+="s:";h0D+=" ";U0D=",";U0D+=" streamId";U0D+=": ";k0D=", headerCache dataComplete: ";k0D+="m";k0D+="ovieId: ";switch(f6e){case 4:f6e=c?3:15;break;case 16:d();f6e=15;break;case 2:b=a.S;c=this.Ib[b]||a.js;f6e=4;break;case 3:this.wm.We&&(b="@"+O.time.da()+k0D+b+U0D+a.Ya+h0D+a.U+p0D+(c.QH-1),this.Ja(J0D,{message:b}));d=function(){var L6e;L6e=2;while(L6e!==5){switch(L6e){case 2:--c.QH;this.xZ(a);L6e=5;break;}}}.bind(this);f6e=8;break;case 7:b=a.response;f6e=6;break;case 8:f6e=a.Yd&&0===a.responseType&&this.eu&&!this.Dn?7:16;break;case 6:f=a.fo;g=a.Ve;h=O.time.da();l=[a.S,a.Ya,a.Oc].join(".");f6e=11;break;case 11:m={};F6hh.H0D(0);m[F6hh.f7D(R0D,l)]={mj:w(a),Fc:ia};E.V(f)||(m[l+T0D]={mj:f,Fc:ia});f6e=19;break;case 19:E.V(g)||(m[l+M0D]={mj:g,Fc:ia});E.V(b)||(m[l+s0D]={mj:b,Fc:ia});this.Wg.Hza(m,function(a){var a6e;a6e=2;while(a6e!==5){switch(a6e){case 2:a||(a=O.time.da()-h,c.dc.HL+=a);d();a6e=5;break;}}}.bind(this));f6e=15;break;}}};v.prototype.KD=function(a){var s6e,y0D;s6e=2;while(s6e!==5){y0D="_";y0D+="on";y0D+="Err";y0D+="or: ";switch(s6e){case 2:pa(y0D,a.toString());this.xZ(a);s6e=5;break;}}};v.prototype.BVa=function(a,b){var g7X=F6hh;var F6e,c,d,f,g,h,d4D,H4D,Q0D,f0D,o0D,C0D,w0D;F6e=2;while(F6e!==16){d4D=".durat";d4D+="i";d4D+="ons";H4D="hea";H4D+="d";H4D+="e";H4D+="r";Q0D=".";Q0D+="dr";Q0D+="mHe";Q0D+="ad";Q0D+="er";f0D=".";f0D+="s";f0D+="i";f0D+="z";f0D+="es";o0D=".fra";o0D+="gme";o0D+="n";o0D+="t";o0D+="s";C0D=".";C0D+="header";C0D+="Data";w0D=".";w0D+="metad";w0D+="at";w0D+="a";switch(F6e){case 9:f=z(a);g={};g7X.H0D(0);g[g7X.Q7D(w0D,c)]={mj:f,Fc:ia};g7X.d0D(0);g[g7X.Q7D(C0D,c)]={mj:a.fo,Fc:ia};F6e=14;break;case 2:F6e=1;break;case 1:F6e=!a.Yd||!this.eu||a.CD[a.Ya]&&a.CD[a.Ya].header?5:4;break;case 5:b();F6e=16;break;case 12:F6e=a.stream.Qc?11:17;break;case 11:f={timescale:a.stream.Y.ha,startTicks:a.stream.Y.Xl,offset:a.stream.Y.Pl(0)};h=a.stream.Y.tE;g7X.H0D(0);g[g7X.Q7D(o0D,c)]={mj:f,Fc:ia};g7X.H0D(0);g[g7X.Q7D(f0D,c)]={mj:h.sizes.buffer,Fc:ia};F6e=18;break;case 14:f=a.Ve||a.Zy;E.V(f)||(g[c+Q0D]={mj:f,Fc:ia});F6e=12;break;case 4:c=[a.S,a.Ya,H4D].join(".");d=O.time.da();F6e=9;break;case 18:g7X.d0D(0);g[g7X.f7D(d4D,c)]={mj:h.Td.buffer,Fc:ia};F6e=17;break;case 17:this.Wg.Hza(g,function(c){var k6e;k6e=2;while(k6e!==5){switch(k6e){case 2:c||(c=O.time.da()-d,a.js.dc.HL+=c);b();k6e=5;break;}}});F6e=16;break;}}};d3e=70;break;case 63:v.prototype.mja=function(a,b){var l5e,c;l5e=2;while(l5e!==6){switch(l5e){case 2:c=a.stream.R;2>this.xx.length&&this.VRa();b=void 0===a.U?new T(a.stream,b,this.xx[c],a,this,!0,this):U.create(a.stream,b,this.xx[c],a,this,!0,this);b.Yd=a.Yd;b.Nqb=O.time.da();l5e=8;break;case 7:return b;break;case 8:b.jFb=this;l5e=7;break;}}};v.prototype.xZ=function(a){var T5e,b,O4D;T5e=2;while(T5e!==8){O4D="savet";O4D+="o";O4D+="di";O4D+="sk";switch(T5e){case 2:a.Ec&&delete this.rm[a.Ya];delete a.response;a.Nd();T5e=3;break;case 3:b=this.Ib[a.S]||a.js;0===b.fS&&0===b.QH&&(this.HVa(b,a.vd),b.Yd&&(b.dc.Hfb||(this.Dn?this.DVa(a.S):this.uB(O4D,{Iza:b.dc.HL}))));T5e=8;break;}}};v.prototype.uVa=function(a,b,c,d){var r5e,f;r5e=2;while(r5e!==11){switch(r5e){case 7:c.fS++;this.rm[f.Ya]=f;r5e=14;break;case 8:return V.reject();break;case 9:r5e=!f.yv()?8:7;break;case 2:f=this.mja(a,d);f.cza=b;f.js=c;f.CD=a.CD;r5e=9;break;case 13:f.eS=a.eS;r5e=11;break;case 14:r5e=a.eS?13:12;break;case 12:return new V(function(a){var A5e;A5e=2;while(A5e!==1){switch(A5e){case 2:f.eS=a;A5e=1;break;case 4:f.eS=a;A5e=2;break;A5e=1;break;}}});break;}}};v.prototype.tTa=function(a,b,c){var U5e,d,f;U5e=2;while(U5e!==7){switch(U5e){case 2:d=a.D2;b.Yd&&this.eu&&(a.fT?d=a.fT:a.uva&&0<a.uva&&(d=2E3*a.uva));U5e=4;break;case 4:U5e=0<d?3:9;break;case 3:return function(a,b){var E7X=F6hh;var y5e;y5e=2;while(y5e!==1){switch(y5e){case 4:E7X.H0D(1);return E7X.f7D(d,b);break;y5e=1;break;case 2:E7X.H0D(2);return E7X.f7D(b,d);break;}}};break;case 9:f=c.length<a.C2?c.length:a.C2;return function(a){var D7X=F6hh;var h5e;h5e=2;while(h5e!==1){switch(h5e){case 2:D7X.d0D(2);return D7X.f7D(a,f);break;case 4:D7X.d0D(3);return D7X.f7D(a,f);break;h5e=1;break;}}};break;}}};v.prototype.QO=function(a,b){var v5e,c,d,f,g,h,l,m,p,k,r,n,g4D,l4D,F4D,j4D,Y4D,N4D;v5e=2;while(v5e!==48){g4D="manag";g4D+="e";g4D+="rdebuge";g4D+="ven";g4D+="t";l4D=", ";l4D+="start";l4D+="Pts";l4D+=": ";F4D=",";F4D+=" ";F4D+="pt";F4D+="s";F4D+=": ";j4D=", s";j4D+="treamI";j4D+="d:";j4D+=" ";Y4D=", headerCache requestData: m";Y4D+="ov";Y4D+="ieId";Y4D+=":";Y4D+=" ";N4D="no pro";N4D+="per fragment found to request dat";N4D+="a at pts";switch(v5e){case 44:v5e=m<l.length&&!c(k,f)?43:49;break;case 10:h.J2=a;return;break;case 9:v5e=this.bO?8:14;break;case 43:void 0===p&&(p=a.stream.fh(m),p.Yd=a.Yd);v5e=42;break;case 4:f=a.stream;v5e=3;break;case 41:F6hh.d0D(0);r=F6hh.f7D(1,m);v5e=40;break;case 37:E.V(h.Bm)&&(h.Bm=p.U);p.Yd&&(p.responseType=0);a.Yd&&this.eu&&a.CD[d]&&a.CD[d][p.U]||(r=this.mja(p,a.config),r.Yd&&(r.js=a.js),r.yv(),++h.QH,b.push(r));++k;f+=p.duration;p=void 0;v5e=50;break;case 13:v5e=h?12:48;break;case 39:p.r0(l.get(r)),p.aK=r+1,m=r;v5e=38;break;case 32:b=h.data[d];c=this.tTa(g,a,l);k=f=0;r=p.R;v5e=28;break;case 21:p.R===aa.G.AUDIO&&!g.Pva&&k.Mb<(g.Hn&&!g.Gx&&f.Ok?Math.floor(f.Ok.hf):0)&&(++k.$c,k.Mb+=p.La.hf),0<k.$c&&p.Ik(k,!1);v5e=35;break;case 38:++r;v5e=40;break;case 2:c=a.S;d=a.Ya;v5e=4;break;case 49:h.J2&&(a=h.J2,delete h.J2,this.QO(a,h.Bm));v5e=48;break;case 15:v5e=-1===m?27:26;break;case 8:this.$A.push({nbb:a,Mb:b});v5e=7;break;case 3:g=a.config;v5e=9;break;case 22:v5e=(k=p.pR(b))?21:35;break;case 27:ra(N4D,b);v5e=48;break;case 28:n=r===aa.G.VIDEO?g.sT:g.lT,g=r===aa.G.VIDEO?g.qgb:g.egb;v5e=44;break;case 35:g.We&&(b="@"+O.time.da()+Y4D+c+j4D+d+F4D+b+l4D+p.U,this.Ja(g4D,{message:b}));void 0===h.data&&(h.data=Object.create(null));v5e=33;break;case 23:v5e=k===aa.G.VIDEO&&g.Pr||k===aa.G.AUDIO&&g.Km?22:35;break;case 14:h=this.Ib[c]||a.js;v5e=13;break;case 11:v5e=void 0===h.Bm?10:19;break;case 26:p=a.stream.fh(m);p.Yd=a.Yd;k=a.R;v5e=23;break;case 33:void 0===h.data[d]&&(h.data[d]=[]);v5e=32;break;case 40:v5e=r<l.length&&(p.Z<n||p.duration<g)?39:37;break;case 50:++m;v5e=44;break;case 19:b=h.Bm;v5e=18;break;case 42:v5e=!p.fd?41:37;break;case 6:this.$A.shift();v5e=7;break;case 12:v5e=a.R===aa.G.AUDIO?11:18;break;case 7:v5e=this.$A.length>g.r5?6:48;break;case 18:a.R===aa.G.AUDIO&&g.Km&&g.Hn&&!g.Gx&&f.Ok&&(b=Math.max(f.Y.Rf(0),b+f.Ok.hf));l=a.Y;m=l.Kj(b);v5e=15;break;}}};v.prototype.Kia=function(a){var m5e,b,c;m5e=2;while(m5e!==3){switch(m5e){case 2:b=a.Ya;c=this.Ib[a.S]||a.js;c&&(c.CXa||c.Yd&&!this.Dn||(c.CXa=!0,++this.Dt),c.headers||(c.headers={}),c.headers[b]=a,this.wm.oI&&++c.$r,this.SN());m5e=3;break;}}};v.prototype.SN=function(){var i5e,b,c,d;i5e=2;while(i5e!==11){switch(i5e){case 13:this.mVa(b);i5e=4;break;case 4:i5e=this.Dt>this.EG?3:12;break;case 5:i5e=!(this.Dt<=this.EG)?4:11;break;case 3:i5e=(c=this.zg.shift())?9:4;break;case 2:d=0;i5e=5;break;case 9:b=c.S;i5e=8;break;case 7:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}i5e=6;break;case 12:this.nVa(d);i5e=11;break;case 8:i5e=c.data?7:6;break;case 6:delete this.Ib[b];--this.Dt;i5e=13;break;}}function a(a){var d5e;d5e=2;while(d5e!==5){switch(d5e){case 2:a.abort();d+=a.De;d5e=5;break;}}}};v.prototype.nVa=function(a){var p5e,L4D;p5e=2;while(p5e!==1){L4D="discarde";L4D+="dByte";L4D+="s";switch(p5e){case 2:0!==a&&(a={type:L4D,bytes:a},this.Ja(a.type,a));p5e=1;break;}}};d3e=55;break;case 87:g.M=v;P4D;d3e=85;break;case 50:v.prototype.list=function(){var Z5e;Z5e=2;while(Z5e!==1){switch(Z5e){case 4:return this.zg;break;Z5e=1;break;case 2:return this.zg;break;}}};v.prototype.rAa=function(a){var X5e;X5e=2;while(X5e!==1){switch(X5e){case 2:this.EG!=a&&(this.EG=a,this.SN());X5e=1;break;}}};v.prototype.jTa=function(a){var x5e,b;x5e=2;while(x5e!==4){switch(x5e){case 2:b=E.V(a)?"":a.toString();return new V(function(a){var C5e,O5e;C5e=2;while(C5e!==4){switch(C5e){case 1:a({});C5e=4;break;case 5:try{O5e=2;while(O5e!==1){switch(O5e){case 2:this.Wg.tz("",function(c){var g5e;g5e=2;while(g5e!==5){switch(g5e){case 2:c=c.filter(function(a){var S5e,m4D;S5e=2;while(S5e!==5){m4D="movi";m4D+="eEn";m4D+="try";switch(S5e){case 2:a=a.split(".");return b&&(b===a[0]||m4D===a[0]&&b===a[1]);break;}}}.bind(this)).reduce(function(a,b){var c5e,c,c4D;c5e=2;while(c5e!==3){c4D="mo";c4D+="vi";c4D+="e";c4D+="Ent";c4D+="ry";switch(c5e){case 4:return a;break;case 2:c=b.split(".");c4D!==c[0]&&(b=c[1],c=c[2],E.V(a[b])&&(a[b]={}),E.V(a[b][c])&&(a[b][c]=!0));c5e=4;break;}}},{});a(c);g5e=5;break;}}}.bind(this));O5e=1;break;}}}catch(Ma){a({});}C5e=4;break;case 2:C5e=E.V(this.Wg)?1:5;break;case 9:C5e=E.V(this.Wg)?5:0;break;C5e=E.V(this.Wg)?1:5;break;}}}.bind(this));break;}}};v.prototype.e7=function(a,b){var z5e;z5e=2;while(z5e!==4){switch(z5e){case 2:z5e=(a=this.Ib[a])?1:4;break;case 8:z5e=(b=a.headers[b])?7:9;break;z5e=(b=a.headers[b])?5:4;break;case 1:z5e=(b=a.headers[b])?5:4;break;case 5:return b;break;}}};v.prototype.Jeb=function(a,b){var D5e,c;D5e=2;while(D5e!==4){switch(D5e){case 2:c=this.Uua(a);return c||!this.eu?V.resolve(c):(this.Dn?this.eTa(a,b):this.dTa(a,b)).then(function(a){var o5e;o5e=2;while(o5e!==1){switch(o5e){case 4:return t(a);break;o5e=1;break;case 2:return t(a);break;}}});break;}}};v.prototype.Uua=function(a){var N5e;N5e=2;while(N5e!==1){switch(N5e){case 2:return t(this.Ib[a]);break;case 4:return t(this.Ib[a]);break;N5e=1;break;}}};v.prototype.Hy=function(){var G5e,u4D;G5e=2;while(G5e!==1){u4D="Media cache is not enab";u4D+="le";u4D+="d";switch(G5e){case 2:return this.Tt?this.Tt.then(function(){var K5e;K5e=2;while(K5e!==1){switch(K5e){case 2:return new V(function(a){var H5e,z4D;H5e=2;while(H5e!==1){z4D="mov";z4D+="ieE";z4D+="n";z4D+="tr";z4D+="y";switch(H5e){case 2:this.Wg.tz(z4D,function(b){var e5e,c;e5e=2;while(e5e!==8){switch(e5e){case 5:a([]);e5e=8;break;case 2:e5e=1;break;case 1:e5e=!b||0>=b.length?5:4;break;case 4:c=[];b.forEach(function(a){var w5e;w5e=2;while(w5e!==1){switch(w5e){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);w5e=1;break;}}});a(c);e5e=8;break;}}});H5e=1;break;}}}.bind(this));break;}}}.bind(this)):V.reject(u4D);break;}}};v.prototype.Wqa=function(){var u5e,c,d,f,g,h,e4D,W4D;function a(a){var E5e;E5e=2;while(E5e!==1){switch(E5e){case 4:a.Una();E5e=5;break;E5e=1;break;case 2:a.Una();E5e=1;break;}}}u5e=2;while(u5e!==3){switch(u5e){case 2:c=0;for(h in this.Ib)if(f=this.Ib[h],f.data){d=!1;for(var l in f.data){e4D="in e";e4D+="n";e4D+="tr";e4D+="y:";W4D="missing heade";W4D+="rEntr";W4D+="y for streamId:";(g=f.headers[l])||ra(W4D,l,e4D,f);E.V(void 0)||!g||void 0===g.R?((E.V(void 0)||void 0!=l)&&b(f,l),f.data[l].forEach(a),delete f.data[l]):d=!0;}d||delete f.data;}this.pVa(c);u5e=3;break;}}function b(a,b){var q5e;q5e=2;while(q5e!==1){switch(q5e){case 2:a.data[b].forEach(function(a){var P5e;P5e=2;while(P5e!==5){switch(P5e){case 1:c+=a.De;P5e=5;break;case 2:a.abort(ua);P5e=1;break;}}});q5e=1;break;}}}};d3e=63;break;case 6:J=a(364).Yba;a(81);R=a(362).mW;T=a(361).Xba;D=a(711).DDa;U=a(356).Vba;Y=a(95);ga=a(74).gc;d3e=18;break;case 2:E=a(11);qa=a(14);O=a(7);K=a(369);a(205);X=a(365);W=a(204).nW;d3e=6;break;case 70:v.prototype.vVa=function(a,b){var J6e,c;J6e=2;while(J6e!==9){switch(J6e){case 4:a.Yd&&!this.Dn?this.BVa(a,b):b();c.SV||0!==Object.keys(this.rm).length||this.xja();J6e=9;break;case 2:c=a.config;E.V(a.cza)||this.QO(a,a.cza);J6e=4;break;}}};v.prototype.HVa=function(a,b){var B6e,b4D;B6e=2;while(B6e!==4){b4D="pr";b4D+="e";b4D+="buffstats";switch(B6e){case 2:a.dc.tK=b;a={type:b4D,movieId:a.S,stats:{prebuffstarted:a.dc.WD,prebuffcomplete:a.dc.tK}};this.Ja(a.type,a);B6e=4;break;}}};v.prototype.uB=function(a,b){var I6e,c,X4D,x4D,r4D,B4D;I6e=2;while(I6e!==8){X4D="sav";X4D+="eto";X4D+="dis";X4D+="k";x4D="mediacac";x4D+="hes";x4D+="tats";r4D="med";r4D+="iac";r4D+="a";r4D+="c";r4D+="he";B4D="m";B4D+="ed";B4D+="iacac";B4D+="heloo";B4D+="kup";switch(I6e){case 4:B4D===a&&(c.lookupTime=b.US,c.dataFound=b.vQ);c.oneObject=this.Dn;this.jSa&&this.Ja(r4D,c);I6e=8;break;case 2:c={type:x4D,operation:a};X4D===a&&(c.saveTime=b.Iza);I6e=4;break;}}};v.prototype.DVa=function(a){var n6e,b,c,d,f,g,h,i4D;n6e=2;while(n6e!==16){i4D="b";i4D+="il";i4D+="lboar";i4D+="d";switch(n6e){case 5:b=O.time.da();c={};d=this.Ib[a];f=y(d);n6e=8;break;case 2:n6e=1;break;case 6:g={};Object.keys(d.headers).forEach(function(a){var W6e,b,c,f;W6e=2;while(W6e!==6){switch(W6e){case 3:W6e=b.Ve||b.Zy?9:8;break;case 9:c.drmHeader=b.Ve||b.Zy;W6e=8;break;case 2:b=d.headers[a];c=z(b);W6e=4;break;case 4:b.fo&&(c.headerData=b.fo);W6e=3;break;case 8:b.stream.Qc&&(f={timescale:b.stream.Y.ha,startTicks:b.stream.Y.Xl,offset:b.stream.Y.Pl(0)},b=b.stream.Y.tE,c.fragments=f,c.sizes=b.sizes.buffer,c.durations=b.Td.buffer);g[a]=c;W6e=6;break;}}});n6e=13;break;case 10:Object.keys(d.data).forEach(function(a){var b6e,b,c;b6e=2;while(b6e!==3){switch(b6e){case 2:b=d.data[a];c={};b&&(b.forEach(function(a){var Y6e,b;Y6e=2;while(Y6e!==3){switch(Y6e){case 2:b=w(a);b.response=a.response;c[a.Oc]=b;Y6e=3;break;}}}),h[a]=c);b6e=3;break;}}});n6e=20;break;case 7:n6e=d.headers?6:12;break;case 1:n6e=this.Ib[a]?5:16;break;case 12:n6e=d.data?11:19;break;case 19:f={lifespan:259200};this.sTa&&(f.convertToBinaryData=!0);this.Wg.save(i4D,a,c,f,function(a){var Z6e,Z4D;Z6e=2;while(Z6e!==1){Z4D="sa";Z4D+="ve";Z4D+="todi";Z4D+="sk";switch(Z6e){case 2:a||this.uB(Z4D,{Iza:O.time.da()-b});Z6e=1;break;}}}.bind(this));n6e=16;break;case 20:c.data=h;n6e=19;break;case 11:h={};n6e=10;break;case 8:c.movieEntry=f;n6e=7;break;case 13:c.headers=g;n6e=12;break;}}};v.prototype.lka=function(a){var X6e,v4D;X6e=2;while(X6e!==1){v4D="M";v4D+="edia cache is n";v4D+="ot en";v4D+="abled";switch(X6e){case 2:return this.Tt?this.Tt.then(function(){var x6e;x6e=2;while(x6e!==1){switch(x6e){case 2:return new V(function(b){var C6e;C6e=2;while(C6e!==1){switch(C6e){case 2:this.Wg.tz(a.toString(),function(c){var O6e;O6e=2;while(O6e!==1){switch(O6e){case 2:c&&0!==c.length?1===c.length&&c[0]===a.toString()?b(!0):b(!1):b(!1);O6e=1;break;}}}.bind(this));C6e=1;break;}}}.bind(this));break;}}}.bind(this)):V.reject(v4D);break;}}};v.prototype.gVa=function(a,c,d){var g6e;g6e=2;while(g6e!==1){switch(g6e){case 2:return new V(function(f,g){var S6e,n4D;S6e=2;while(S6e!==1){n4D="b";n4D+="i";n4D+="l";n4D+="lboa";n4D+="rd";switch(S6e){case 2:this.Wg.read(n4D,a,function(h,l){var c6e,E4D;c6e=2;while(c6e!==1){E4D="mediacacheloo";E4D+="k";E4D+="up";switch(c6e){case 2:h?g(h):(l=l[a],l.movieEntry&&(h=A(l.movieEntry),this.Ib[a]=h,++this.Dt,this.SN(),this.zg.push(h),this.zg.sort(b),l.headers&&Object.keys(l.headers).forEach(function(a){var z6e;z6e=2;while(z6e!==3){switch(z6e){case 2:a=l.headers[a];a.isHeader=!0;a=N(a);n.call(this,c,a);z6e=3;break;}}}.bind(this)),l.data&&Object.keys(l.data).forEach(function(a){var D6e;D6e=2;while(D6e!==1){switch(D6e){case 2:Object.keys(l.data[a]).forEach(function(b){var o6e;o6e=2;while(o6e!==5){switch(o6e){case 2:b=N(l.data[a][b]);n.call(this,c,b);o6e=5;break;}}}.bind(this));D6e=1;break;}}}.bind(this)),this.Ib[a]&&E.re(this.Ib[a].data)&&Object.keys(this.Ib[a].data).forEach(function(b){var N6e;N6e=2;while(N6e!==1){switch(N6e){case 2:this.Ib[a].data[b].sort(function(a,b){var G6e;G6e=2;while(G6e!==1){switch(G6e){case 4:return a.Oc%b.Oc;break;G6e=1;break;case 2:return a.Oc-b.Oc;break;}}});N6e=1;break;}}}.bind(this))),this.uB(E4D,{US:O.time.da()-d,vQ:!0}),f(this.Ib[a]));c6e=1;break;}}}.bind(this));S6e=1;break;}}}.bind(this));break;}}};v.prototype.eTa=function(a,b){var K6e,c,S4D;K6e=2;while(K6e!==4){S4D="Media cac";S4D+="he is not e";S4D+="nabled";switch(K6e){case 2:c=O.time.da();return this.Tt?this.Tt.then(function(){var H6e;H6e=2;while(H6e!==1){switch(H6e){case 2:return this.lka(a);break;case 4:return this.lka(a);break;H6e=1;break;}}}.bind(this)).then(function(d){var e6e,I4D;e6e=2;while(e6e!==5){I4D="mediaca";I4D+="che";I4D+="look";I4D+="up";switch(e6e){case 1:return this.gVa(a.toString(),b,c);break;case 2:e6e=d?1:4;break;case 4:this.uB(I4D,{US:O.time.da()-c,vQ:!1});e6e=5;break;}}}.bind(this)):V.reject(S4D);break;}}};v.prototype.fTa=function(a){var w6e,b;w6e=2;while(w6e!==4){switch(w6e){case 2:b=this.Ib[a];return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new V(function(b){var u6e,c,d;u6e=2;while(u6e!==8){switch(u6e){case 2:c={};d=this.Ib[a];d.headers&&Object.keys(d.headers).forEach(function(a){var E6e;E6e=2;while(E6e!==5){switch(E6e){case 2:c[a]||(c[a]={});c[a].header=!0;E6e=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var q6e;q6e=2;while(q6e!==5){switch(q6e){case 2:c[a]||(c[a]={});d.data[a].forEach(function(b){var P6e;P6e=2;while(P6e!==1){switch(P6e){case 2:c[a][b.Oc]=!0;P6e=1;break;}}});q6e=5;break;}}});return b(c);break;}}}.bind(this)):this.lka(a).then(function(b){var l6e;l6e=2;while(l6e!==1){switch(l6e){case 2:return b?new V(function(b,c){var T6e,K4D;T6e=2;while(T6e!==1){K4D="b";K4D+="illboar";K4D+="d";switch(T6e){case 2:this.Wg.read(K4D,a,function(d,f){var r6e,g;r6e=2;while(r6e!==6){switch(r6e){case 5:r6e=d?4:3;break;case 7:b(g);r6e=6;break;case 2:f=f[a];r6e=5;break;case 9:f.headers&&Object.keys(f.headers).forEach(function(a){var A6e;A6e=2;while(A6e!==5){switch(A6e){case 2:g[a]||(g[a]={});g[a].header=!0;A6e=5;break;}}});f.data&&Object.keys(f.data).forEach(function(a){var U6e;U6e=2;while(U6e!==5){switch(U6e){case 2:g[a]||(g[a]={});Object.keys(f.data[a]).forEach(function(b){var y6e;y6e=2;while(y6e!==1){switch(y6e){case 4:g[a][b]=~8;y6e=2;break;y6e=1;break;case 2:g[a][b]=!0;y6e=1;break;}}});U6e=5;break;}}});r6e=7;break;case 3:g={};r6e=9;break;case 4:c(d);r6e=6;break;}}}.bind(this));T6e=1;break;}}}.bind(this)):{};break;}}}.bind(this));break;}}};d3e=87;break;}}function p(a,c){var s4e,J4D;s4e=2;while(s4e!==1){J4D="Med";J4D+="ia ";J4D+="cache is";J4D+=" not ena";J4D+="bled";switch(s4e){case 2:return this.Tt?this.Tt.then(function(){var F4e,d,f;F4e=2;while(F4e!==3){switch(F4e){case 2:F4e=1;break;case 8:F4e=0;break;F4e=1;break;case 1:d=O.time.da();f=function(a){var k4e,b,c,d,D4D;k4e=2;while(k4e!==7){D4D="m";D4D+="o";D4D+="vi";D4D+="eEntry";switch(k4e){case 2:b=[D4D,a].join(".");a=a.toString();c=function(a){var J4e;J4e=2;while(J4e!==1){switch(J4e){case 4:a.map(d.bind(this));J4e=2;break;J4e=1;break;case 2:a.map(d.bind(this));J4e=1;break;}}}.bind(this);k4e=3;break;case 8:this.Wg.tz(a,c);k4e=7;break;case 3:d=function(a){var B4e,t4D,V4D,q4D,a4D;B4e=2;while(B4e!==1){t4D="bil";t4D+="lboar";t4D+="d";V4D="bi";V4D+="l";V4D+="lboar";V4D+="d";q4D="b";q4D+="illb";q4D+="oa";q4D+="rd";a4D="del";a4D+="et";a4D+="e";switch(B4e){case 2:this.Wg[a4D](q4D,a);B4e=1;break;case 4:this.Wg[V4D](t4D,a);B4e=9;break;B4e=1;break;}}}.bind(this);this.Wg.tz(b,c);k4e=8;break;}}}.bind(this);return new V(function(g){var I4e,A4D;I4e=2;while(I4e!==1){A4D="m";A4D+="o";A4D+="vieE";A4D+="ntry";switch(I4e){case 2:this.Wg.tz([A4D,a].join("."),function(h){var n4e,l,p,k4D,G4D;n4e=2;while(n4e!==7){k4D="b";k4D+="i";k4D+="l";k4D+="lboa";k4D+="rd";G4D="med";G4D+="iacac";G4D+="hel";G4D+="oo";G4D+="kup";switch(n4e){case 2:n4e=1;break;case 5:g(),this.uB(G4D,{US:O.time.da()-d,vQ:!1});n4e=7;break;case 1:n4e=!h||0>=h.length?5:4;break;case 8:p(this.Ib[a])?l():this.Wg.read(k4D,h,function(c,d){var g4e,h,m,S4e;g4e=2;while(g4e!==9){switch(g4e){case 2:try{S4e=2;while(S4e!==1){switch(S4e){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));S4e=1;break;}}}catch(zc){h=d;}E.V(h)||(m=A(h));g4e=4;break;case 4:E.V(m)||E.Na(m)||(m.dc=m.dc||{},m.headers=m.headers||{});p(m)?(this.Ib[a]=m,++this.Dt,this.SN(),this.zg.push(m),this.zg.sort(b),l()):(f(a),g());g4e=9;break;}}}.bind(this));n4e=7;break;case 4:h=h[0];l=function(){var W4e;W4e=2;while(W4e!==1){switch(W4e){case 2:this.Wg.tz(a,function(b){var b4e;b4e=2;while(b4e!==5){switch(b4e){case 2:b=b.reduce(function(a,b){var Y4e,c,U4D;Y4e=2;while(Y4e!==8){U4D="drmHead";U4D+="e";U4D+="r";U4D+=".__embed__";switch(Y4e){case 2:Y4e=1;break;case 1:c=b.substr(0,b.lastIndexOf("."));Y4e=5;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;case 4:return a;break;case 5:Y4e=-1!==c.indexOf(U4D)?4:3;break;}}},{});m.bind(this)(b,c).then(function(){var Z4e,b,c,p4D,h4D;Z4e=2;while(Z4e!==8){p4D="medi";p4D+="acacheloo";p4D+="kup";h4D="N";h4D+="o content";h4D+=" dat";h4D+="a ";h4D+="found for ";switch(Z4e){case 2:b=O.time.da()-d;c=!1;this.Ib[a]&&E.re(this.Ib[a].data)?(Object.keys(this.Ib[a].data).forEach(function(b){var X4e;X4e=2;while(X4e!==1){switch(X4e){case 2:this.Ib[a].data[b].sort(function(a,b){var x4e;x4e=2;while(x4e!==1){switch(x4e){case 4:return a.Kb+b.Kb;break;x4e=1;break;case 2:return a.Kb-b.Kb;break;}}});X4e=1;break;}}}.bind(this)),c=!0):na(h4D+a,this.Ib[a]);this.uB(p4D,{US:b,vQ:c});g(this.Ib[a]);Z4e=8;break;}}}.bind(this),function(){var C4e;C4e=2;while(C4e!==1){switch(C4e){case 2:g();C4e=1;break;case 4:g();C4e=6;break;C4e=1;break;}}});b4e=5;break;}}}.bind(this));W4e=1;break;}}}.bind(this);p=function(a){var O4e;O4e=2;while(O4e!==1){switch(O4e){case 2:return!(E.V(a)||E.Na(a)||E.V(a.dc)||E.Na(a.dc)||E.V(a.S)||E.Na(a.S)||E.V(a.Fd)||E.Na(a.Fd));break;}}};n4e=8;break;}}}.bind(this));I4e=1;break;}}}.bind(this));break;}}}.bind(this)):V.reject(J4D);break;}}}function A(a){var i4e;i4e=2;while(i4e!==1){switch(i4e){case 2:return{Fd:a.priority,S:a.movieId,headers:a.headers,$r:0,QH:0,fS:0,Yd:a.saveToDisk,dc:a.stats,El:a.firstSelectedStreamBitrate,io:a.initSelectionReason,Qm:a.histDiscountedThroughputValue,Ek:a.histTdigest,Jl:a.histAge};break;}}}function z(a){var d4e,b;d4e=2;while(d4e!==9){switch(d4e){case 3:return b;break;case 2:b=w(a);b.timescale=a.ha;b.frameDuration=a.stream.La&&a.stream.La.xd;d4e=3;break;}}}function y(a){var m4e;m4e=2;while(m4e!==1){switch(m4e){case 2:return{priority:a.Fd,movieId:a.S,headers:Object.create(null),saveToDisk:a.Yd,stats:{},firstSelectedStreamBitrate:a.El,initSelectionReason:a.io,histDiscountedThroughputValue:a.Qm,histTdigest:a.Ek,histAge:a.Jl};break;}}}}());},function(g,d,a){var h,l;function b(){this.Yq=this.rG=this.kO=this.yO=this.fO=null;}function c(a){this.K=a;this.$t=[];this.mm=new b();this.AG();}h=a(11);a(13);a(27);l=a(7);new l.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Sh=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.fO=a.ens,this.yO=a.lns,this.kO=a.fns,this.rG=a.d,this.Yq=l.time.HT(a.t),b=!0);return b;};b.prototype.Ie=function(){var a;if(h.Na(this.fO)||h.Na(this.yO)||h.Na(this.kO)||h.Na(this.rG)||h.Na(this.Yq))return null;a={d:this.rG,t:l.time.YJ(this.Yq)};a.ens=this.fO;a.lns=this.yO;a.fns=this.kO;return a;};b.prototype.get=function(){var a,b;a=this.Ie();if(a){b=new Date(l.time.YJ(this.Yq));a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};c.prototype.AG=function(){var a;a=l.storage.get("sth");a&&this.TG(a);};c.prototype.TG=function(a){var c,d;c=null;d=this.K;a.forEach(function(a){var d;d=new b();d.Sh(a)?(c=!0,this.$t.push(d)):h.Na(c)&&(c=!1);},this);this.$t=this.$t.filter(function(a){return a.rG>=d.qT;});this.$t.sort(function(a,b){return a.Yq-b.Yq;});return h.Na(c)?!0:c;};c.prototype.UZ=function(){var a;a=[];this.$t.forEach(function(b){a.push(b.Ie());},this);return a;};c.prototype.save=function(){var a,c,d;a=this.UZ();c=this.K;d=this.mm.Ie();d&&d.d>=c.qT&&(a.push(d),this.$t.push(this.mm));a.length>c.$S&&(a=a.slice(a.length-c.$S,a.length));this.mm=new b();a&&l.storage.set("sth",a);};c.prototype.reset=function(){this.mm=new b();};c.prototype.Y8a=function(){return this.mm.get();};c.prototype.T$a=function(){return this.$t.length+1;};c.prototype.gXa=function(a){this.mm.fO=a;this.mm.Yq=l.time.da();};c.prototype.oXa=function(a){this.mm.yO=a;this.mm.Yq=l.time.da();};c.prototype.kXa=function(a,b){this.mm.kO=a;this.mm.Yq=l.time.da();this.mm.rG=b;};g.M=c;},function(g,d,a){var c,h;function b(a){this.K=a;this.AG();}c=a(11);h=a(7);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.Ie();h.storage.set("nh",a);};b.prototype.rpb=function(){this.ux||(this.ux=!0,this.br=h.time.da());};b.prototype.Epb=function(){var a;if(this.ux){a=h.time.da();this.gr+=a-this.br;this.br=a;this.ux=!1;this.zG=null;}};b.prototype.Ita=function(a,b){this.ux&&(b>this.br&&(this.gr+=b-this.br,this.br=b),null===this.zG||a>this.zG)&&(a=b-a,this.fB.push([this.gr-a,a]),this.O_(),this.zG=b);};b.prototype.O_=function(){var a;a=this.gr-this.K.Ngb;this.fB=this.fB.filter(function(b){return b[0]>a;});};b.prototype.AG=function(){var a;a=h.storage.get("nh");this.TG(a)||(this.br=h.time.da(),this.gr=0,this.ux=!1,this.zG=null,this.fB=[]);};b.prototype.TG=function(a){if(!(a&&c.has(a,"t")&&c.has(a,"s")&&c.has(a,"i")&&c.ka(a.t)&&c.ka(a.s)&&c.isArray(a.i)))return!1;this.br=h.time.HT(1E3*a.t);this.gr=1E3*a.s;this.ux=!1;this.fB=a.i.map(function(a){return[1E3*a[0],a[1]];});this.zG=null;return!0;};b.prototype.Ie=function(){return this.ux?{t:h.time.now()/1E3|0,s:(this.gr+(h.time.da()-this.br))/1E3|0,i:this.fB.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.YJ(this.br)/1E3|0,s:this.gr/1E3|0,i:this.fB.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.M=b;},function(g,d,a){var h,l,f,p,m;function b(a){var b;if(!a.S_){b=a.xsa();a.yg.Dx(b["default"].Aa,a.Ug);a.yg.Yz(b.Fk?b.Fk.YT:void 0,b.Fk?b.Fk.kE:void 0);h.Na(a.Ab)||(a.S_=!0);}}function c(a,b,c){var d;this.K=c;this.pl={};this.aB=c.aB;this.Kja=new p(this.aB);this.reset();this.Wt=a;this.yg=b;this.kka=l.Kk.name();this.yg.$U(this.kka);this.PG=this.Sw=0;this.hG=[];l.events.on("networkchange",function(a){this.kka=a;this.yg.$U(a);}.bind(this));d=c.w2;d&&(d={Bc:f.ld.tF,pa:{Aa:parseInt(d,10),Pg:0},pg:{RYa:0,Pg:0},ho:{RYa:0,Pg:0}},this.get=function(){return d;});}h=a(11);l=a(7);f=a(13);a(27);d=a(28).EventEmitter;p=a(376).Dda;m=new l.Console("ASEJS_NETWORK_MONITOR","media|asejs");c.prototype=Object.create(d);Object.defineProperties(c.prototype,{startTime:{get:function(){return this.Kc;}},Bc:{get:function(){return this.Ug;}},ip:{get:function(){return this.Sw;}},bXa:{get:function(){return this.hG;}}});c.prototype.URa=function(){var a,b,c;a=this.K;b=a.QZ;c=this.Kja;return a.iSa.reduce(function(a,d){a[d]=c.create(d,b);return a;},{});};c.prototype.reset=function(){var a,c,d;a=this.K.QZ;c=this.Kja;d=this.K;this.location=null;this.pl=this.URa();this.dr=c.create("respconn-ewma",a);this.Uq=c.create("respconn-ewma",a);this.Ug=f.ld.HAVE_NOTHING;this.BWa=function(){b(this);}.bind(this);this.pP=void 0;this.Ot=this.Ob=this.Ab=this.Kc=null;this.sRa=this.kP=0;this.VUa=!1;d.hza&&(this.PG=this.Sw=0,this.hG=[]);};c.prototype.bV=function(a){var b;b=this.pl;if(a!==this.location){h.V(this.pP)||(clearInterval(this.pP),this.pP=void 0);h.Na(this.location)&&(this.kP=0,this.Kc=null);if(!h.Na(a)){this.Ug=f.ld.HAVE_NOTHING;for(var c in b)b[c]&&b[c].reset&&b[c].reset();this.dr.reset();this.Uq.reset();}h.Na(this.Kc)||(this.kP+=(h.Na(this.Ab)?l.time.da():this.Ab)-this.Kc);this.Ab=this.Kc=null;this.Ob=0;this.location=a;this.yg.bV(a);}};c.prototype.$U=function(a){this.yg.$U(a);};c.prototype.jXa=function(a){this.pl.QoEEvaluator?m.warn("monitor (QoEEvaluator) already existed."):this.pl.QoEEvaluator=a;};c.prototype.Ylb=function(){delete this.pl.QoEEvaluator;};c.prototype.JB=function(a,b){var c;c=this.pl["req-pacer"];c&&c.JB(a,b);};c.prototype.D$a=function(){return this.pl["req-pacer"];};c.prototype.xP=function(a,c,d){var g,l;g=this.K;l=this.pl;if(h.V(c))m.warn("addDataReceived called with undefined start time");else{g.nSa&&10>d-c?c=d-10:0===d-c&&(c=d-1);for(var p in l)l[p]&&l[p].add&&l[p].add(a,c,d);this.Ug=Math.max(this.Ug,f.ld.et);h.Na(this.Kc)&&(this.Kc=c,this.Ab=null,this.S_=!1,this.Ob=0);h.Na(this.Ab)||(c>this.Ab&&(this.Kc+=c-this.Ab),this.Ab=null,this.S_=!1);this.Ob+=a;this.Ug<f.ld.Qo&&(d-this.Kc>g.CTa||this.Ob>g.BTa)&&(this.Ug=f.ld.Qo);this.Ug<f.ld.tF&&(d-this.Kc>g.$Ua||this.Ob>g.ZUa)&&(!this.VUa||this.sRa>g.ATa)&&(this.Ug=f.ld.tF,b(this),this.pP=setInterval(this.BWa,g.hTa));h.Na(this.Ot)||(c-this.Ot>g.Jka?this.Wt.Ita(this.Ot,c):d-c>g.Jka&&this.Wt.Ita(c,d));this.Ot=Math.max(d,this.Ot);}};c.prototype.or=function(a){this.dr.add(a);this.yg.or(a);};c.prototype.mr=function(a){this.Uq.add(a);this.yg.mr(a);};c.prototype.start=function(a){var b;h.Na(this.Ot)&&!h.Na(this.Ab)&&(this.Ot=a);b=this.pl;if(this.K.faa)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};c.prototype.stop=function(a){var b,c;b=this.pl;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Ab=h.Na(this.Ab)?a:Math.min(this.Ab,a);this.Ot=null;};c.prototype.flush=function(){var a,b;a=this.pl;for(b in a)a[b]&&a[b].flush&&a[b].flush();};c.prototype.fail=function(){this.Kc=null;};c.prototype.s9a=function(){var a,b;a=this.pl.entropy;a&&(b=a.QZa(),a.reset());return b;};c.prototype.xsa=function(){var a,b,c,d,f,g,h;a=l.time.da();b={};c=this.pl;d=this.K;f=d.XRa;g=d.GVa;for(h in c)c[h]&&c[h].get&&(b[h]=c[h].get(a),"iqr"===c[h].type&&(b.Fk=b[h]),"tdigest"===c[h].type&&(b.Zl=b[h]));b["default"]=f&&b[f]?b[f]:b["throughput-ewma"];"none"!==d.l$&&"none"!==g&&(b.Pza=g&&b[g]?b[g]:b["throughput-sw"]);return b;};c.prototype.get=function(){var a,b,c,d,f;a=this.xsa();b=a["default"];c=this.dr.get();d=this.Uq.get();if(a.Pza)f=a.Pza,b=h.ka(b.Aa)&&h.ka(f.Aa)&&b.Aa>f.Aa&&0<f.Aa?f:b;a.Bc=this.Ug;a.pa=b;a.pg=c;a.ho=d;b=this.kP+!h.Na(this.Kc)?(h.Na(this.Ab)?l.time.da():this.Ab)-this.Kc:0;a.time=b;return a;};c.prototype.zU=function(a,b){1===++this.Sw&&(this.emit("active",a),this.start(a));b&&this.hG.push(b);};c.prototype.Q9=function(){++this.PG;};c.prototype.BU=function(a,b,c){b&&--this.PG;--this.Sw;this.K.hza&&(this.Sw=Math.max(this.Sw,0),this.PG=Math.max(this.PG,0));0===this.Sw&&(this.stop(a),this.emit("inactive",a));c&&(a=this.hG.indexOf(c),0<=a&&this.hG.splice(a,1));};g.M=c;},function(g){(function(){var R4D,C4D;R4D=2;function d(){var T4D;T4D=2;while(T4D!==5){switch(T4D){case 2:this.Yt=this.Ob=0;this.Ea=this.Kc=void 0;T4D=5;break;}}}while(R4D!==8){C4D="1SIYbZ";C4D+="r";C4D+="N";C4D+="JCp9";switch(R4D){case 3:g.M=d;C4D;R4D=8;break;case 2:d.prototype.start=function(a){var M4D;M4D=2;while(M4D!==1){switch(M4D){case 2:this.Kc?a<this.Kc?(this.Yt+=this.Kc-a,this.Kc=a):a>this.Ea&&(this.Ea=this.Kc=a):this.Ea=this.Kc=a;M4D=1;break;}}};d.prototype.stop=function(a){var s4D;s4D=2;while(s4D!==1){switch(s4D){case 2:this.Ea&&a>this.Ea&&(this.Yt+=a-this.Ea,this.Ea=a);s4D=1;break;}}};d.prototype.add=function(a,b,c){var y4D;y4D=2;while(y4D!==4){switch(y4D){case 2:this.start(b);this.stop(c);this.Ob+=a;y4D=4;break;}}};d.prototype.get=function(){var w4D;w4D=2;while(w4D!==1){switch(w4D){case 2:return{Aa:this.Yt?Math.floor(8*this.Ob/this.Yt):null,Cpa:this.Yt?this.Yt:0};break;}}};R4D=3;break;}}}());},function(g,d,a){var c;function b(a){var b,c;b=a.tb;c=a.mb;this.Ax=a.sw||4E3;this.nWa=b;this.zTa=c;this.reset();}c=a(7);new c.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.MO=function(a,b){this.Ob+=b;this.zg.push({t:a,lu:b});this.zg.sort(function(a,b){return a.t-b.t;});};b.prototype.KG=function(){var a;if(null!==this.Jt&&null!==this.lk&&0!==this.zg.length)for(;this.Jt-this.lk>this.Ax&&this.zg.length;){a=this.zg.shift();this.Ob-=a.lu;this.lk=a.t;}};b.prototype.reset=function(){this.zg=[];this.lk=this.Jt=null;this.Ob=0;};b.prototype.setInterval=function(a){this.Ax=a;this.KG();};b.prototype.F$a=function(){var a;a=c.time.da();return 8*this.Ob/(a-this.lk);};b.prototype.h_a=function(a){return null===this.Jt||null===this.lk?!0:a<=this.zTa?!0:this.F$a()<=this.nWa;};b.prototype.JB=function(a,b){null===this.Jt&&(this.Jt=a);null===this.lk&&(this.lk=a);a>this.Jt&&(this.Jt=a);a<this.Jt-this.Ax||(a<this.lk&&(this.lk=a),this.MO(a,b),this.KG());};g.M=b;},function(g,d,a){var c;function b(a){var b,d;b=a.sw;d=a.mw;this.Ax=b;this.qZ={uhd:a.uhdl,hd:a.hdl};this.$g=Math.max(Math.ceil(1*b/d),1);this.DTa=a.mins||1;c.call(this,b,d);this.reset();}c=a(128);new(a(7)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(c.prototype);b.prototype.flush=function(){this.yc.map(function(a,b){this.wma(a,this.j4(b));},this);};b.prototype.QZa=function(){var a,b,c,d,g,k,n,y;a=this.qZ;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.N_[b];g=this.L_[b];if(d.first){k=d.first;n=d.oz;void 0!==n&&(g[k][n]+=1);d.first=void 0;}for(var d=[],k=0,c=n=c.length+1,q=0;q<n;q++){for(var v=0,t=0;t<c;t++)v+=g[t][q];k+=v;d.push(v);}v=-1;if(k>this.DTa){for(q=v=0;q<n;q++)if(0<d[q])for(t=0;t<c;t++){y=g[t][q];0<y&&(v-=y*Math.log(1*y/d[q]));}v/=k*Math.log(2);}this.MZ[b]=v;}return this.MZ;};b.prototype.wma=function(a,b){var c,h,l;for(var c=this.$g,d=this.qZ;this.cO.length>=c;)this.cO.shift();for(;this.dO.length>=c;)this.dO.shift();this.cO.push(a);this.dO.push(b);a=this.cO.reduce(function(a,b){return a+b;},0);b=this.dO.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var g in d)if(d.hasOwnProperty(g)){b=this.N_[g];c=this.L_[g];h=this.Ukb(a,d[g]);l=b.oz;void 0!==l?c[h][l]+=1:b.first=h;b.oz=h;}}};b.prototype.Ukb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.wma(this.yc[0],this.j4(0));c.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.N_={};this.cO=[];this.dO=[];this.L_={};this.MZ={};a=this.qZ;for(b in a)if(a.hasOwnProperty(b)){for(var d=this.L_,g=b,m,k=void 0,n=Array(k),k=m=a[b].length+1,q=0;q<k;q++){n[q]=Array(m);for(var v=0;v<m;v++)n[q][v]=0;}d[g]=n;this.N_[b]={first:void 0,oz:void 0};this.MZ[b]=0;}c.prototype.reset.call(this);};g.M=b;},function(g,d,a){var c,h,l,f,p,m,k,n,q,v;function b(a){this.YRa=a;}d=a(375);c=d.LGa;h=d.JGa;l=a(374).KGa;f=a(373);p=a(372);m=a(206);k=a(370);n=a(732);q=a(731);v=a(730);b.prototype.constructor=b;b.prototype.create=function(a,b){var d,g,r,u;g=this.YRa[a];r=b[a];u={};g&&Object.keys(g).forEach(function(a){u[a]=g[a];});r&&Object.keys(r).forEach(function(a){u[a]=r[a];});switch(u.type){case"slidingwindow":d=new l(u.mw);break;case"discontiguous-ewma":d=new h(u.mw,u.wt);break;case"iqr":d=new f(u.mx,u.mn,u.bw,u.iv);break;case"tdigest":d=new p(u);break;case"discrete-ewma":d=new c(u.hl,u["in"]);break;case"tdigest-history":d=new m(u);break;case"iqr-history":d=new k(u);break;case"avtp":d=new v();break;case"entropy":d=new n(u);break;case"req-pacer":d=new q(u);}d&&(d.type=u.type);return d;};g.M=b;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;}function c(a){this.pd=null;this.zj=a;this.size=0;}d=a(371);b.prototype.df=function(a){return a?this.right:this.left;};b.prototype.Ul=function(a,b){a?this.right=b:this.left=b;};c.prototype=new d();c.prototype.Kl=function(a){if(null===this.pd)return this.pd=new b(a),this.size++,!0;for(var c=0,d=null,g=this.pd;;){if(null===g)return g=new b(a),d.Ul(c,g),ret=!0,this.size++,!0;if(0===this.zj(g.data,a))return!1;c=0>this.zj(g.data,a);d=g;g=g.df(c);}};c.prototype.remove=function(a){var c,d,g,n,k;if(null===this.pd)return!1;c=new b(void 0);d=c;d.right=this.pd;for(var g=null,h=null,k=1;null!==d.df(k);){g=d;d=d.df(k);n=this.zj(a,d.data);k=0<n;0===n&&(h=d);}return null!==h?(h.data=d.data,g.Ul(g.right===d,d.df(null===d.left)),this.pd=c.right,this.size--,!0):!1;};g.M=c;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function c(a){this.pd=null;this.zj=a;this.size=0;}function h(a){return null!==a&&a.red;}function l(a,b){var c;c=a.df(!b);a.Ul(!b,c.df(b));c.Ul(b,a);a.red=!0;c.red=!1;return c;}function f(a,b){a.Ul(!b,l(a.df(!b),!b));return l(a,b);}d=a(371);b.prototype.df=function(a){return a?this.right:this.left;};b.prototype.Ul=function(a,b){a?this.right=b:this.left=b;};c.prototype=new d();c.prototype.Kl=function(a){var c,d,g,p,k,n,q,t,z;c=!1;if(null===this.pd)this.pd=new b(a),c=!0,this.size++;else{d=new b(void 0);g=0;p=0;k=null;n=d;q=null;t=this.pd;for(n.right=this.pd;;){null===t?(t=new b(a),q.Ul(g,t),c=!0,this.size++):h(t.left)&&h(t.right)&&(t.red=!0,t.left.red=!1,t.right.red=!1);if(h(t)&&h(q)){z=n.right===k;t===q.df(p)?n.Ul(z,l(k,!p)):n.Ul(z,f(k,!p));}z=this.zj(t.data,a);if(0===z)break;p=g;g=0>z;null!==k&&(n=k);k=q;q=t;t=t.df(g);}this.pd=d.right;}this.pd.red=!1;return c;};c.prototype.remove=function(a){var c,d,q,g,t,n,z;if(null===this.pd)return!1;c=new b(void 0);d=c;d.right=this.pd;for(var g=null,p,k=null,n=1;null!==d.df(n);){q=n;p=g;g=d;d=d.df(n);t=this.zj(a,d.data);n=0<t;0===t&&(k=d);if(!h(d)&&!h(d.df(n)))if(h(d.df(!n)))p=l(d,n),g.Ul(q,p),g=p;else if(!h(d.df(!n))&&(t=g.df(!q),null!==t))if(h(t.df(!q))||h(t.df(q))){z=p.right===g;h(t.df(q))?p.Ul(z,f(g,q)):h(t.df(!q))&&p.Ul(z,l(g,q));q=p.df(z);q.red=!0;d.red=!0;q.left.red=!1;q.right.red=!1;}else g.red=!1,t.red=!0,d.red=!0;}null!==k&&(k.data=d.data,g.Ul(g.right===d,d.df(null===d.left)),this.size--);this.pd=c.right;null!==this.pd&&(this.pd.red=!1);return null!==k;};g.M=c;},function(g,d,a){g.M={xOa:a(735),jub:a(734)};},function(g){var d,a,b;d=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;b=Object.prototype.propertyIsEnumerable;g.M=function(){var a,d;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0;}catch(f){return!1;}}()?Object.assign:function(c,g){var h,f;if(null===c||void 0===c)throw new TypeError("Object.assign cannot be called with null or undefined");f=Object(c);for(var p,m=1;m<arguments.length;m++){h=Object(arguments[m]);for(var k in h)a.call(h,k)&&(f[k]=h[k]);if(d){p=d(h);for(var n=0;n<p.length;n++)b.call(h,p[n])&&(f[p[n]]=h[p[n]]);}}return f;};},function(g){function d(a){this.YA=a;this.od=0;this.xB=null;}d.prototype.add=function(a,b,c){null!==this.xB&&b>this.xB&&(this.od+=b-this.xB,this.xB=null);this.YA.add(a,b-this.od,c-this.od,this.od);};d.prototype.stop=function(a){null===this.xB&&(this.xB=a);};d.prototype.c9=function(a,b){return this.YA.c9(a,b);};d.prototype.get=function(){return this.YA.get();};d.prototype.reset=function(){this.YA.reset();};d.prototype.toString=function(){return this.YA.toString();};g.M=d;},function(g){function d(a,b,c){this.EB=a;this.$g=Math.floor((a+b-1)/b);this.ic=b;this.iVa=c;this.reset();}d.prototype.shift=function(){this.yc.shift();this.cg.shift();};d.prototype.update=function(a,b){this.yc[a]+=b;};d.prototype.push=function(a){this.yc.push(0);this.cg.push(a?a:0);this.Ea+=this.ic;};d.prototype.add=function(a,b,c,d){var g,f;if(null===this.Ea){g=Math.max(Math.floor((c-b+this.ic-1)/this.ic),1);for(this.Ea=b;this.yc.length<g;)this.push(d);}for(;this.Ea<c;)if(this.push(d),this.iVa)for(;1<this.yc.length&&c+d-(this.Ea-this.ic*this.yc.length+this.cg[0])>this.EB;)this.shift();else this.yc.length>this.$g&&this.shift();if(b>this.Ea-this.ic)this.update(this.yc.length-1,a);else if(b==c)d=this.yc.length-Math.max(Math.ceil((this.Ea-c)/this.ic),1),0<=d&&this.update(d,a);else for(d=1;d<=this.yc.length;++d){g=this.Ea-d*this.ic;f=g+this.ic;if(!(g>c)){if(f<b)break;this.update(this.yc.length-d,Math.round(a*(Math.min(f,c)-Math.max(g,b))/(c-b)));}}for(;this.yc.length>this.$g;)this.shift();};d.prototype.reset=function(){this.yc=[];this.cg=[];this.Ea=null;};d.prototype.setInterval=function(a){this.$g=Math.floor((a+this.ic-1)/this.ic);};g.M=d;},function(g,d,a){var h,l,f,p;function b(a,b,c){h.call(this,a,b,c);}function c(a,c){l.call(this,new b(a,c,!1));}h=a(739);l=a(738);f=a(60).v8a;p=a(60).yab;b.prototype=Object.create(h.prototype);b.prototype.Aa=function(){return Math.floor(8*f(this.yc)/this.ic);};b.prototype.Pg=function(){return Math.floor(64*p(this.yc)/(this.ic*this.ic));};b.prototype.get=function(){return{Aa:this.Aa(),Pg:this.Pg(),gCb:this.yc.length};};b.prototype.toString=function(){return"bsw("+this.EB+","+this.ic+","+this.$g+")";};c.prototype=Object.create(l.prototype);c.prototype.setInterval=function(a){this.YA.setInterval(a);};g.M=c;},function(g,d,a){var c;function b(a){this.lE=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.lE[b]=a.charCodeAt(b);}c=new(a(7)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,d;b=this.lE.length;if(void 0===this.lE)c.warn("XORCiper.encrypt is called with undefined secret!");else{d="";for(var g=0;g<a.length;++g)d+=String.fromCharCode(this.lE[g%b]^a.charCodeAt(g));return encodeURIComponent(d);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.lE.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.lE[d%c]^a.charCodeAt(d));return b;};g.M=b;},function(g,d,a){var b;b=0;g.M=function(c,d){var f,h,m,k;function g(a,b){return(a["$ASE$order"+k]||0)-(b["$ASE$order"+k]||0);}f=a(48);h=this;m=d?[d]:[];k="$op$"+b++;f({value:c,addListener:function(a,b){a["$ASE$order"+k]=b;m=m.slice();m.push(a);m.sort(g);},removeListener:function(a){var b;m=m.slice();0<=(b=m.indexOf(a))&&m.splice(b,1);},set:function(a,b){var c;if(h.value!==a){c={oldValue:h.value,newValue:a};b&&f(b,c);h.value=a;a=m;b=a.length;for(var d=0;d<b;d++)a[d](c);}}},h);};},function(g){function d(a,b){this.Aa=a;this.Pg=b;}d.prototype.Z8=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),d=0;2>d;d++)var g=Math.abs(c),f=1/(1+g/2),g=f*Math.exp(-g*g-1.26551223+f*(1.00002368+f*(.37409196+f*(.09678418+f*(-.18628806+f*(.27886807+f*(-1.13520398+f*(1.48851587+f*(-.82215223+.17087277*f))))))))),g=(0<=c?g:2-g)-b,c=c+g/(1.1283791670955126*Math.exp(-(c*c))-c*g);a=1>a?c:-c;}return this.Aa-Math.sqrt(2*this.Pg)*a;};g.M=d;},function(g,d,a){g.M={FJa:a(377),yLa:a(729),xLa:a(728),hxb:a(370),FAb:a(206),wPa:a(727)};},function(g){function d(a,c,d,g){a.trace(":",d,":",g);c(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,c,g,l){g=l?g.bind(l):g;l=!1;if(a){this.console&&(g=d.bind(null,this.console,g,c));if("function"===typeof a.addEventListener)l=a.addEventListener(c,g);else if("function"===typeof a.addListener)l=a.addListener(c,g);else throw Error("Emitter does not have a function to add listeners for '"+c+"'");this.listeners.push([a,c,g]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.M=a;},function(g){function d(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.ll)return this.ll={},this.ll[a]=[c],!0;b=this.ll[a];return void 0===b?(this.ll[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.ll?this.ll[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}g.M={addEventListener:d,on:d,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.ll)return!1;b=this.ll[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.ll[a],!0;b.splice(c,1);return!0;},Ja:a,emit:a,removeAllListeners:function(a){this.ll&&(void 0===a?delete this.ll:delete this.ll[a]);return this;}};},function(g,d,a){(function(){var o4D,c,d,l,f,p,m,k,n,q,v,t,y,A,z,w,N;o4D=2;function b(b,c){var f4D,d;f4D=2;while(f4D!==12){var K2r="D";K2r+="E";K2r+="B";K2r+="UG";K2r+=":";var J2r="nf-as";J2r+="e";J2r+=" versi";J2r+="on:";switch(f4D){case 4:this.oB=this.jka=!1;this.K=b;this.qx=[];f4D=8;break;case 8:this.on=this.addEventListener=l.addEventListener;this.removeEventListener=l.removeEventListener;this.emit=this.Ja=l.Ja;this.jP=c;f4D=13;break;case 2:d=a(650);N(J2r,d,K2r,!1);f4D=4;break;case 13:z=this;f4D=12;break;}}}while(o4D!==40){var C7X="1SIYbZ";C7X+="r";C7X+="N";C7X+="J";C7X+="Cp9";var R2r="m";R2r+="edi";R2r+="a|ase";R2r+="js";var L2r="ASE";L2r+="J";L2r+="S";switch(o4D){case 2:o4D=1;break;case 1:c=a(11);d=a(13);l=a(28).EventEmitter;f=a(744);o4D=9;break;case 9:p=f.FJa;m=f.yLa;k=f.xLa;n=f.wPa;q=a(726);v=a(687);t=a(7);o4D=11;break;case 11:y=a(651);A=t.Promise;f=new t.Console(L2r,R2r);o4D=19;break;case 19:w=f.trace.bind(f);f.log.bind(f);N=f.warn.bind(f);f.error.bind(f);b.prototype.constructor=b;o4D=27;break;case 28:b.prototype.KZa=function(){var Z5D;Z5D=2;while(Z5D!==1){switch(Z5D){case 2:this.Wc&&this.Wc.Wqa();Z5D=1;break;}}};b.prototype.k1=function(){var v5D;v5D=2;while(v5D!==1){switch(v5D){case 4:return this.Wc?this.Wc.list():[];break;v5D=1;break;case 2:return this.Wc?this.Wc.list():[];break;}}};b.prototype.Cna=function(){var n5D;n5D=2;while(n5D!==1){switch(n5D){case 2:this.Wc&&this.Wc.Vn();n5D=1;break;}}};o4D=42;break;case 33:b.prototype.rra=function(a){var W5D,b;W5D=2;while(W5D!==3){switch(W5D){case 2:b={profile:a.spoofedProfile||a.profile,Y3:a.max_framerate_value,X3:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Fxa:a.pixelAspectX,Gxa:a.pixelAspectY,tk:a.channels,sampleRate:48E3};a.spoofedProfile&&(b.originalProfile=a.profile);return b;break;}}};b.prototype.qra=function(a,b,c){var e5D,f;e5D=2;while(e5D!==3){var P2r="v";P2r+="ide";P2r+="o_";P2r+="tracks";var o2r="a";o2r+="udio_t";o2r+="racks";var M2r="audio_tra";M2r+="c";M2r+="ks";switch(e5D){case 14:return f;break;e5D=3;break;case 2:f=[{},{}];(c===d.G.AUDIO?[M2r]:[o2r,P2r]).forEach(function(c,d){var b5D;b5D=2;while(b5D!==1){switch(b5D){case 2:a[c].some(function(a,c){var B5D;B5D=2;while(B5D!==1){switch(B5D){case 2:return c===b[d]?(f[d]=z.rra(a),!0):!1;break;}}});b5D=1;break;}}});e5D=4;break;case 4:return f;break;}}};b.prototype.iCa=function(a){var r5D;r5D=2;while(r5D!==1){switch(r5D){case 4:t.eJ(a);r5D=5;break;r5D=1;break;case 2:t.eJ(a);r5D=1;break;}}};b.prototype.Dna=function(a,b){var x5D;x5D=2;while(x5D!==1){var N2r="c";N2r+="a";N2r+="t";N2r+="c";N2r+="h";switch(x5D){case 2:this.Wc&&(a=this.Wc.jkb(this,a),c.V(b)||a.then(b),a[N2r](function(a){var X5D;X5D=2;while(X5D!==1){var h2r="cachePrepare caught ";h2r+="er";h2r+="ro";h2r+="r:";switch(X5D){case 4:w("",a);X5D=0;break;X5D=1;break;case 2:w(h2r,a);X5D=1;break;}}}));x5D=1;break;}}};b.prototype.j1=function(){var i5D;i5D=2;while(i5D!==1){switch(i5D){case 2:this.Wc&&this.Wc.flush();i5D=1;break;}}};o4D=28;break;case 27:Object.defineProperties(b.prototype,{fj:{get:function(){var Q4D;Q4D=2;while(Q4D!==1){switch(Q4D){case 2:return this.Wa;break;case 4:return this.Wa;break;Q4D=1;break;}}}},Fs:{get:function(){var H5D;H5D=2;while(H5D!==1){switch(H5D){case 2:return this.Dla;break;case 4:return this.Dla;break;H5D=1;break;}}}},IAa:{get:function(){var d5D;d5D=2;while(d5D!==1){switch(d5D){case 2:return this.XO;break;case 4:return this.XO;break;d5D=1;break;}}}},Ycb:{get:function(){var O5D;O5D=2;while(O5D!==1){switch(O5D){case 4:return-c.V(this.aP);break;O5D=1;break;case 2:return!c.V(this.aP);break;}}}}});b.prototype.Dc=function(a,b,d,f,g,h){var N5D,l;N5D=2;while(N5D!==19){var x2r="m";x2r+="ed";x2r+="iaca";x2r+="che";var V2r="cach";V2r+="eEvi";V2r+="ct";var T2r="flushe";T2r+="dB";T2r+="yte";T2r+="s";var l2r="dis";l2r+="c";l2r+="ar";l2r+="ded";l2r+="Bytes";var Q2r="preb";Q2r+="uff";Q2r+="sta";Q2r+="t";Q2r+="s";switch(N5D){case 4:c.V(a)?this.aP=b:this.uRa=[a,b];this.XO=f;this.$Va=g;y(l);N5D=7;break;case 11:N5D=l.TE||l.SV?10:20;break;case 2:l=this.K;0<l.hs&&(!c.V(a)&&a>l.hs&&(a=l.hs),b>l.hs&&(b=l.hs));N5D=4;break;case 7:this.yg=new p(l,this.jP);N5D=6;break;case 6:this.Wt=new k(l);this.Wa=new m(this.Wt,this.yg,l);this.Dla=new n(l);l.ZT&&!this.CVa&&(this.CVa=setInterval(function(){var Y5D;Y5D=2;while(Y5D!==5){switch(Y5D){case 2:this.yg.save();this.Wt.save();Y5D=5;break;}}}.bind(this),l.ZT));N5D=11;break;case 10:b=new q(this,l,d,h),a=function(a){var j5D;j5D=2;while(j5D!==1){switch(j5D){case 2:this.Ja(a.type,a);j5D=1;break;case 4:this.Ja(a.type,a);j5D=3;break;j5D=1;break;}}}.bind(this),b.addEventListener(Q2r,a),b.addEventListener(l2r,a),b.addEventListener(T2r,a),b.addEventListener(V2r,a),(l.tCa||l.Zz)&&b.addEventListener(x2r,function(a){var F5D;F5D=2;while(F5D!==1){var I2r="med";I2r+="iac";I2r+="a";I2r+="che";switch(F5D){case 2:this.Ja(I2r,a);F5D=1;break;case 4:this.Ja("",a);F5D=6;break;F5D=1;break;}}}.bind(this)),this.Wc=b;N5D=20;break;case 20:this.jka=!0;N5D=19;break;}}};b.prototype.Lj=function(a,b){var l5D,d;l5D=2;while(l5D!==7){switch(l5D){case 5:c.V(a)&&(a=192);c.V(b)&&(b=5800);F6hh.O2r(0);d=F6hh.F2r(b,a);return[Math.floor(this.aP*a/d),Math.floor(this.aP*b/d)];break;case 2:l5D=1;break;case 1:l5D=this.aP?5:8;break;case 8:return this.uRa;break;}}};b.prototype.$T=function(){var g5D;g5D=2;while(g5D!==1){switch(g5D){case 2:this.oB||(this.oB=!0,this.qx.forEach(function(a){var L5D;L5D=2;while(L5D!==1){switch(L5D){case 2:a.$T();L5D=1;break;case 4:a.$T();L5D=5;break;L5D=1;break;}}}));g5D=1;break;}}};o4D=23;break;case 23:b.prototype.Ir=function(a,b,f,g,h,l,m,p){var P5D;P5D=2;while(P5D!==4){var d2r="open: ";d2r+="s";d2r+="treamingManager not initted";var Y2r="bra";Y2r+="nc";Y2r+="hin";Y2r+="g";switch(P5D){case 1:return p=p||this.K,this.Wa.reset(),this.Wt.rpb(),this.Dla.reset(),void 0===l&&(l=this.qra(a,b)),c.V(this.XO)&&(this.Lj()[d.G.VIDEO]<=p.ngb?this.XO=0:this.XO=p.DU),a&&a.choiceMap&&Y2r===a.choiceMap.type&&(h.ff=!0),g.$T=this.oB,a=new v(this,a,b,f,g,h,l,m,p),this.qx.push(a),a;break;case 2:P5D=this.jka?1:5;break;case 5:N(d2r);P5D=4;break;}}};b.prototype.e7=function(a,b){var m5D;m5D=2;while(m5D!==1){switch(m5D){case 2:return this.Wc&&(a=this.Wc.e7(a,b))?a:!1;break;}}};b.prototype.Keb=function(a){var c5D;c5D=2;while(c5D!==1){switch(c5D){case 2:return this.Wc&&(a=this.Wc.Uua(a))?a:!1;break;}}};b.prototype.Hy=function(){var z5D;z5D=2;while(z5D!==1){switch(z5D){case 2:return this.Wc?this.Wc.Hy():A.resolve([]);break;}}};b.prototype.kVa=function(a){var u5D,b;u5D=2;while(u5D!==3){var a7X="can't find s";a7X+="ession i";a7X+="n array, movieI";a7X+="d";a7X+=":";switch(u5D){case 2:this.Wa.bV(null);b=this.qx.indexOf(a);u5D=4;break;case 4:c.V(b)?N(a7X,a.um):(this.qx.splice(b,1),0===this.qx.length&&this.Wt.Epb(),this.Wt.save(),this.yg.save());u5D=3;break;}}};o4D=33;break;case 42:g.M=b;C7X;o4D=40;break;}}}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(748),d);},function(g,d,a){var b,c,h,l,f,p,m,k,n,q,v;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=a(246);h=a(23);l=a(161);f=a(21);p=a(85);m=a(44);k=a(24);n=a(4);q=a(25);v=a(56);(function(){var D,U,Y;function a(b,d,f,g){var h;h=this;this.log=b;this.uta=d;this.wv=f||T.bind(this);this.context=g;this.I8=this.Mn=this.Rc=this.keySessionId=this.Cd=this.Ke=void 0;this.Tc={};this.Wwa=O.bind(this);this.I8=void 0;this.LCa=new Promise(function(a,b){h.Emb=a;h.Tlb=b;});this.LCa["catch"](function(a){h.log.error("wait for license rejected",a);});c.Lb.get(q.lF).LR().then(function(a){(h.context.uc||h.context.If)&&h.log.debug("DRIVERINFO: ",a);})["catch"](function(a){h.log.error("DRIVERINFO",a);});this.qs=function(a,b){h.Tlb(a,b);h.context.onerror(a,b);};this.Shb=function(){h.Emb();};if(!(this instanceof a))throw new TypeError("EmeSession constructor not called correctly.");}function g(a){this.ontimeout=a;this.Wk=void 0;}function r(){return c.Lb.get(k.Oe).He().ma(n.za);}function u(){return c.Lb.get(m.tj);}function x(){return c.Lb.get(p.Ws);}function w(){return c.Lb.get(f.ze);}function E(a){return new Uint8Array(Y.paa('<PlayReadyCDMData type="SecureStop"><SecureStop version="1.0" ><SessionID encoding="base64encoded">'+a+'</SessionID><ServerCert encoding="base64encoded">Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></SecureStop></PlayReadyCDMData>'));}function J(a){var b,c;b="";a.forEach(function(a){b+="<KeyID>"+a+"</KeyID>";});a='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>'+b+"</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";c=new Uint8Array(Y.paa(a));(this.context.uc||this.context.If)&&this.log.trace("LICENSE: proactive license cdm data",{xml:a,b64:u().encode(c)});return c;}function O(a){var b;b=a.target.error?a.target.error.msExtendedCode:void 0;this.log.error("Received "+a.type+" event",{sessionId:this.Cd.sessionId,systemCode:b});if(this.context.onerror)this.context.onerror(D.Xf.vt,D.el.vq,b);this.Cd=void 0;}function K(a,b,c,d){var f;f=a.code||a.number;f=U.Se(f)?x().Ur(f,4):void 0;return{O:!1,code:b,eb:c,message:d,Jc:f,cause:{Ga:w().Cc(a)}};}function X(a,b,c){var d,f,g,h;for(var d=2;d<arguments.length;++d);d="";g=a.length;for(f=0;f<g;f++)h=a[f],0<h&&(d+=String.fromCharCode(h));g="\s*(.*)\s*";for(f=arguments.length-1;0<f;f--){h=arguments[f];if(0>d.search(h))return;h="(?:[^:].*:|)"+h;g="[\s\S]*<"+h+"[^>]*>"+g+"</"+h+">[\s\S]*";}if(d=d.match(new RegExp(g)))return d[1];}function W(a,b,c,d){var f,g;f=a.target&&a.target.sessionId;g=u().decode(X(a.message,"PlayReadyKeyMessage","Challenge"));c.state=12;c.log.trace("LICENSE: Received "+a.type+" event",{keySystem:a.target&&a.target.keySystem,sessionId:f});(c.context.uc||c.context.If||c.context.dw)&&c.log.debug("LICENSE: License challenge",u().encode(g));c.keySessionId=f;a={Hg:b,iT:"license-request",$i:/clearkey/i.test(c.Rc)?"clearkey":"playready",Nn:[{data:g,sessionId:f}]};12===c.state&&(c.wv("lc"),g={data:g,$i:/clearkey/i.test(c.Rc)?"clearkey":"playready"},c.context.cU?c.context.GT(g):c.I8=g);c.context.Pj.ie(a).then(function(a){if(12===c.state&&(c.wv("lr"),c.Shb(),!c.context.cU))c.Axa=a.Dy[0].data,c.state=13,d({O:!0,state:c.state});else if(c.Cd)return R(c,a.Dy[0].data,c.Cd).then(function(){c.state=30;d({O:!0,state:c.state});});})["catch"](function(a){d(w().si(a,{state:c.state}));});}function ba(a,b){var c;if(a){c=this;w().Qr(a,function(a,b){"error"===b&&c.log.error("SECURE_STOP: The server returned an error for the session",{id:a});});a=a[b];if("error"!==a)return a;}}function R(a,b,c){a.Pta()&&a.log.trace("LICENSE: Got the response, calling update",{sessionId:c.sessionId,license:u().encode(b)});return new Promise(function(d,f){try{a.Cd.update(b);d();a.Pta()&&a.log.trace("LICENSE: Update succeeded",{sessionId:c.sessionId});}catch(la){f({O:!1,code:D.Xf.uY,message:"Unable to update the EME.",Ga:w().Cc(la)});}});}function T(a){this.context.Ka&&(this.Tc[a]=this.context.Ka.getTime(),this.log.trace("Milestone: "+a+", "+this.Tc[a]));}D={};D.Xf=b.I;D.el=b.H;U=c.Lb.get(h.ne);Y=c.Lb.get(l.rN);g.prototype.start=function(a,b,c){var d;d=this;d.stop();d.Wk=setTimeout(function(){d.ontimeout({O:!1,code:D.Xf.LY,eb:b,message:"Eme "+c+" event expired with an expiry of "+a+"ms"});},a);};g.prototype.stop=function(){this.Wk&&(clearTimeout(this.Wk),this.Wk=void 0);};a.prototype.Xu=function(){return this.Rc;};a.prototype.dsb=function(a,b){a.log&&(this.log=a.log);a.wv&&(this.wv=a.wv);b.Pj&&(this.context.Pj=b.Pj);b.onerror&&(this.context.onerror=b.onerror);};a.prototype.create=function(a){var b;b=this;return(a?Promise.resolve(a):c.Lb.get(q.lF).Xu()).then(function(a){b.wv("lg");b.log.trace("Creating the media keys",{keySystem:a});b.Rc=a;try{if(!t.MSMediaKeys.isTypeSupported(a,"video/mp4"))return Promise.reject({code:D.Xf.TF});}catch(ma){return Promise.reject({code:D.Xf.TF});}b.context.nU?a=Promise.reject({O:!1,code:D.Xf.SW,message:"Promise based EME is currently not supported for Internet Explorer"}):(b.Ke=new t.MSMediaKeys(a),b.context.Ca&&b.context.Ca.msSetMediaKeys(b.Ke),a=Promise.resolve({O:!0,Ke:b.Ke}));return a;});};a.prototype.close=function(){this.Cd&&(this.log.info("Closing the session",{sessionId:this.Cd.sessionId}),this.Cd.removeEventListener("mskeyerror",this.Wwa),this.Cd.close(),this.Cd=void 0);};a.prototype.ie=function(a,b,c){var d;if(1<b.length)return Promise.reject({code:D.Xf.SMa});if(0===b.length)return Promise.reject({code:D.Xf.QMa});b=b[0];d=this;d.context.uc&&d.log.trace("LICENSE: Setting license");return d.context.nU?Promise.reject({O:!1,code:D.Xf.fHa,message:"Promise based EME is currently not supported for Internet Explorer"}):function(){return new Promise(function(f,g){var h,l,m,p,k,r,n;try{k=function(a){d.Cd&&(d.Cd.removeEventListener("mskeymessage",h),d.Cd.removeEventListener("mskeyadded",l),d.Cd.removeEventListener("mskeyerror",m),d.Cd.addEventListener("mskeyerror",d.Wwa));a.state=11;a.O?f(a):(d.close(),g(a));};r=function(a){var b,c;b=[];c=Array.prototype.map.call(a,function(a){return a?String.fromCharCode(a):"";}).join("").match(/<KID>(.+?)</KID>/);if(c)b.push(c[1]);else{a=X(a,"KIDS");for(var c=/VALUE="(.+?)">/g,d=c.exec(a);null!=d;)b.push(d[1]),d=c.exec(a);}return b;};h=function(b){p&&clearTimeout(p);W(b,a,d,k);};l=function(a){(d.context.uc||d.context.If)&&d.log.trace("LICENSE: Received "+a.type+" event",{keySystem:a.target.keySystem,sessionId:a.target.sessionId});k({O:!0});};m=function(a){var b,c;p&&clearTimeout(p);a.target&&a.target.error&&(b=a.target.error.systemCode,c=a.target.error.code);b={code:D.Xf.vt,eb:D.el.vq,Jc:b?x().Ur(b,4):c,Ju:w().Cc(a),cause:a.target&&a.target.error,pqb:b,H6a:c};d.log.error("LICENSE: Received "+a.type+" event",{sessionId:d.Cd&&d.Cd.sessionId,keySystem:a.target.keySystem,systemCode:b.pqb,code:b.H6a});d.wv("le");d.qs&&d.qs(D.Xf.vt,b);k({O:!1,code:D.Xf.vt,eb:D.el.vq,Jc:b.Jc,message:"Received a key error.",Ga:b.Ju,cause:b.cause});};d.log.trace("LICENSE: Executing prefix based EME");(d.context.uc||d.context.If)&&d.log.debug("LICENSE: PSSH",u().encode(b));d.nua||(d.nua=r(b));if(c){n=J.call(d,d.nua);d.Cd=d.Ke.createSession("video/mp4",new Uint8Array(0),n);}else d.Cd=d.Ke.createSession("video/mp4",b,null);(d.context.uc||d.context.If)&&d.log.debug("LICENSE: Created the media keys sessions",{keySystem:d.Cd.keySystem,sessionId:d.Cd.sessionId});d.Cd.addEventListener("mskeymessage",h);d.Cd.addEventListener("mskeyadded",l);d.Cd.addEventListener("mskeyerror",m);d.context.Hdb&&(p=setTimeout(function(){k({O:!1,code:D.Xf.tY,eb:D.el.BM});},d.context.Hdb));}catch(ab){g({code:D.Xf.tY,eb:D.el.Pe});}});}();};a.prototype.K9=function(){(this.context.uc||this.context.If)&&this.log.trace("LICENSE: Renewing license");return this.ie(v.ad.uJa.dl,[new Uint8Array(0)],!0);};a.prototype.ZXa=function(a){this.Axa||this.log.error("pending license must exist at this point");this.context.cU=!0;try{a&&(this.context.Ca=a,this.context.Ca.msSetMediaKeys(this.Ke));}catch(V){return Promise.reject({O:!1,code:D.Xf.iN,message:"setMediaKeys failed",Ga:w().Cc(V)});}return R(this,this.Axa,this.Cd);};a.prototype.M6a=function(a){var b,c,d;b=this;c=1;if(b.context.eD&&!b.Cd)return b.log.info("The key session is undefined, assuming its closed and bailing"),Promise.resolve({O:!0});d={ja:a.ja,Cb:a.Cb,VK:{}};return new Promise(function(a,f){var m,p,k,n,q,v,y,z,B;function h(d){b.rg&&(b.rg.removeEventListener("mskeymessage",m),b.rg.removeEventListener("mskeyadded",p),b.rg.removeEventListener("mskeyerror",k),b.rg.close());d.state=c;z.stop();b.close();d.O?a(d):f(d);}function l(){b.context.Pj.stop.call(b.context.Pj,d).then(function(a){if(b.context.eD){if(2==c)if(c=3,v=r(),(a=a.response.data)&&(b.context.uc||b.context.If)&&b.log.debug("SECURE_STOP: Received stop data from the server",{sessionId:b.keySessionId,stopData:JSON.stringify(a)}),(b.context.uc||b.context.If)&&b.log.debug("SECURE_STOP: Calling update",{sessionId:b.keySessionId,stopData:JSON.stringify(a)}),a=ba.call(b,a,b.keySessionId))try{z.start(b.context.mE.bQ,D.el.UW,"non-persisted mskeyadded");b.rg.update(u().decode(a));}catch(va){b.log.error("SECURE_STOP: Unable to update the EME.",va);h(K(va,D.Xf.fA,D.el.Pe,"Unable to update the EME with secure stop data."));}else h({O:!0,state:4});}else h({O:!0,RJ:void 0,Nv:void 0,DH:void 0});})["catch"](function(a){b.log.error("SECURE_STOP: Unable to get the stop data",{sessionId:b.keySessionId,code:a.code,subCode:a.eb,extCode:a.Jc,edgeCode:a.xk,message:a.wf});h(a);});}n=r();z=new g(function(a){c=5;h(a);});m=function(a){var f;if(a.message&&1==c){c=2;z.stop();f=new Uint8Array(a.message);(b.context.uc||b.context.If)&&b.log.debug("SECURE_STOP: Received "+a.type+" event",{sessionId:a.target.sessionId,keySystem:a.target.keySystem,messageType:a.messageType,message:u().encode(f)});q=r();f=X(a.message,"PlayReadyKeyMessage","Challenge");d.VK[a.target.sessionId]=f;l();}};p=function(a){(b.context.uc||b.context.If)&&b.log.info("SECURE_STOP: Received "+a.type+" event",{sessionId:a.target.sessionId});y=r();b.log.info("Successfully released license",{sessionId:a.target.sessionId});h({O:!0,state:4,RJ:q-n,Nv:v-q,DH:y-v});};k=function(a){var d,f;d=a.target&&a.target.error&&a.target.error.systemCode;f=U.Se(d)?x().Ur(d,4):void 0;b.log.error("SECURE_STOP: Received "+a.type+" event",{sessionId:b.keySessionId,extErrorCode:f,systemCode:d});1==c&&l();h({O:!1,code:D.Xf.JY,Jc:f,kBa:d,state:c});};if(b.context.eD&&b.Cd)try{b.close();b.log.trace("SECURE_STOP: Calling createSession",{sessionId:b.keySessionId});z.start(b.context.mE.hT,D.el.BM,"non-persisted mskeymessage");b.Ke=new t.MSMediaKeys(b.Rc);B=E(b.keySessionId);b.rg=b.Ke.createSession("video/mp4",new Uint8Array(0),B);b.rg.addEventListener("mskeymessage",m,!1);b.rg.addEventListener("mskeyadded",p,!1);b.rg.addEventListener("mskeyerror",k,!1);}catch(jb){h(K(jb,D.Xf.uha,D.el.Pe,"Failed to createSession."));}else c=2,l();});};a.prototype.b4a=function(a){var b,c,d,f;b=this;c=a.Cb[0].id;d=1;f={ja:a.ja,Cb:a.Cb,VK:{}};return new Promise(function(a,h){var p,k,n,q,v,y,z,B,A,w;function l(c){q().then(function(){b.rg&&(b.rg.removeEventListener("mskeymessage",p),b.rg.removeEventListener("mskeyadded",k),b.rg.removeEventListener("mskeyerror",n));c.state=d;A.stop();b.close();c.O?a(c):h(c);});}function m(){q=function(){return Promise.resolve();};b.context.Pj.stop.call(b.context.Pj,f).then(function(a){if(2==d)if(d=3,z=r(),(a=a.response.data)&&(b.context.uc||b.context.If)&&b.log.debug("SECURE_STOP: Received stop data from the server",{sessionId:c,stopData:JSON.stringify(a)}),(b.context.uc||b.context.If)&&b.log.debug("SECURE_STOP: Calling update",{sessionId:c,stopData:JSON.stringify(a)}),(a=ba.call(b,a,c))&&b.rg)try{A.start(b.context.mE.bQ,D.el.UW,"persisted mskeyadded");b.rg.update(u().decode(a));}catch(Ma){b.log.error("SECURE_STOP: Unable to update the EME.",Ma);l(K(Ma,D.Xf.fA,D.el.Pe,"Unable to update the EME with secure stop data."));}else b.log.trace("done with set stop data",{sessionStopData:!!a,stopKeySession:!!b.rg}),l({O:!0,state:4});})["catch"](function(a){b.log.error("SECURE_STOP: Unable to get the stop data",{sessionId:c,code:a.code,subCode:a.eb,extCode:a.Jc,edgeCode:a.xk,message:a.wf});l(a);});}v=r();A=new g(function(a){d=5;l(a);});p=function(a){var g;if(a.message&&1==d){d=2;A.stop();g=new Uint8Array(a.message);(b.context.uc||b.context.If)&&b.log.debug("SECURE_STOP: Received "+a.type+" event",{sessionId:a.target.sessionId,keySystem:a.target.keySystem,messageType:a.messageType,message:u().encode(g)});y=r();a=X(a.message,"PlayReadyKeyMessage","Challenge");f.VK[c]=a;m();}};k=function(a){(b.context.uc||b.context.If)&&b.log.info("SECURE_STOP: Received "+a.type+" event",{sessionId:a.target.sessionId});B=r();l({O:!0,state:4,RJ:y-v,Nv:z-y,DH:B-z});};n=function(a){var c,f;c=a.target&&a.target.error&&a.target.error.systemCode;f=U.Se(c)?x().Ur(c,4):void 0;b.log.error("SECURE_STOP: Received "+a.type+" event",{sessionId:b.rg.sessionId,extErrorCode:f,systemCode:c});l({O:!1,code:D.Xf.JY,Jc:f,kBa:c,state:d});};q=function(){return b.context.Pj.stop.call(b.context.Pj,f).then(function(){b.log.info("SECURE_STOP: Successfully sent playdata without SecureStop");})["catch"](function(a){b.log.error("SECURE_STOP: Failed to send playdata without SecureStop",{sessionId:b.Cd.sessionId,code:a.code,subCode:a.eb,extCode:a.Jc,edgeCode:a.xk,message:a.wf});});};if(b.context.eD&&c)try{b.log.trace("SECURE_STOP: Calling createSession",{sessionId:c});A.start(b.context.mE.hT,D.el.BM,"non-persisted mskeymessage");b.Ke=new t.MSMediaKeys(b.Rc);w=E("Kg==");b.rg=b.Ke.createSession("video/mp4",new Uint8Array(0),w);b.rg.addEventListener("mskeymessage",p,!1);b.rg.addEventListener("mskeyadded",k,!1);b.rg.addEventListener("mskeyerror",n,!1);}catch(ib){l(K(ib,D.Xf.uha,D.el.Pe,"Failed to createSession."));}else d=2,m();});};a.prototype.Pta=function(){return this.context.uc||this.context.If;};d.Dia=a;t._cad_global.WindowsEmeSession=d.Dia;}());},function(g,d,a){var c;function b(a,b,c,d){this.log=a;this.$n=b;this.RU=c;this.context=d;}Object.defineProperty(d,"__esModule",{value:!0});c=a(2).I;b.prototype.ie=function(a){var b;b=this;(this.context.uc||this.context.If)&&this.log.trace("Requesting license",{drmType:a.$i});return this.$n(a)["catch"](function(a){b.log.error("Unable to get the Playready license",a);if(b.context.eJb)throw a;throw{O:!1,code:c.ot,eb:a.eb,Jc:a.Jc,xk:a.xk,wf:a.message||a.wf,Mm:a.data,message:"Unable to send the Playready license request. "+(a.message||a.wf)};});};b.prototype.stop=function(a){var b;b=this;this.log.trace("Requesting stop data");return this.RU(a)["catch"](function(a){b.log.error("Unable to release the PlayReady license and get the secure stop data ",{code:a.code,subCode:a.eb,extCode:a.Jc,edgeCode:a.xk,message:a.message||a.wf});throw{O:!1,code:c.tha,eb:a.eb,Jc:a.Jc,xk:a.xk,wf:a.message||a.wf,message:"Unable to release the PlayReady license and get the secure stop data. "+(a.message||a.wf)};});};d.UQa=b;t._cad_global.WindowsDrmRequests=b;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);c=a(65);h=a(168);g=a(4);a=a(31);d.Bba=!0;d.yOa=!1;c=b.ba.get(c.un);b=b.ba.get(h.lN);d.ega=b.Wd;d.pMa=b.y6;d.hN={};d.hfa=c.Xm;d.XW=c.Nm;d.jHa=c.AC;d.Ida=c.f4;d.Pca=c.M2;d.bvb=c.L2;d.cvb=c.M2;d.Rca=c.zpa;d.lxb=c.kdb;d.yJa=c.Rua;d.tLa=!1;d.uLa=!0;d.Cf={XW:c.Nm,Po:void 0,$s:void 0,UFa:void 0,TFa:void 0,dNa:void 0,Oca:void 0,SFa:void 0};d.iMa=b.QB;d.jMa=b.JYa;d.uMa=b.D$;d.hMa=b.NP;d.EMa=b.ZV;d.zMa=b.Ks;d.nMa=b.l3;d.oMa=b.cR;d.fMa=b.G0.ma(a.dm);d.gMa=b.I0.ma(a.dm);d.rMa=b.z7.ma(g.za);d.sMa=b.mfb.ma(a.dm);d.qMa=b.qD;d.CMa=b.LV;d.FMa=b.wba;d.kMa=b.n1;d.lMa=b.E1;d.mMa=b.Xna;d.xMa=b.uV;d.wMa=b.jaa.ma(a.dm);d.DMa=b.CCa;d.tMa=b.dE;d.yMa=b.Kaa;d.AMa=b.JE.ma(a.dm);d.BMa=b.JV.ma(g.za);d.vMa=void 0;},function(g,d){function a(a){this.Rb=a;this.Ga=JSON.stringify(this.Z9a());}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Z9a=function(){var a;a=[];(!this.Rb.fi||0>=this.Rb.fi.length)&&a.push({error:"No CDN."});this.Rb.B2||a.push({error:"No default audio track.",foundTracks:this.A4(this.Rb.Cm)});this.Rb.H2||a.push({error:"No default video track.",foundTracks:this.A4(this.Rb.nq)});this.Rb.G2||a.push({error:"No default subtitle track.",foundTracks:this.A4(this.Rb.rj)});return a;};a.prototype.A4=function(a){return a&&0<a.length?a.map(function(a){return a.Wb;}):"No tracks found.";};d.DKa=a;},function(g,d,a){var c,h,l,f,p,m;function b(a,b){a=h.ae.call(this,a,"ManifestParserConfigImpl")||this;a.Gu=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);l=a(26);f=a(38);p=a(168);m=a(31);ia(b,h.ae);na.Object.defineProperties(b.prototype,{saa:{configurable:!0,enumerable:!0,get:function(){return[];}},R3:{configurable:!0,enumerable:!0,get:function(){return"";}},s1:{configurable:!0,enumerable:!0,get:function(){return[];}},r1:{configurable:!0,enumerable:!0,get:function(){return[];}},T3:{configurable:!0,enumerable:!0,get:function(){return"";}},M5:{configurable:!0,enumerable:!0,get:function(){return 0;}},JE:{configurable:!0,enumerable:!0,get:function(){return this.Gu.JE.ma(m.dm);}},Ks:{configurable:!0,enumerable:!0,get:function(){return this.Gu.Ks;}}});a=b;g.__decorate([f.config(f.qaa,"supportedAudioTrackTypes")],a.prototype,"saa",null);g.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"R3",null);g.__decorate([f.config(f.VBa,"cdnIdWhiteList")],a.prototype,"s1",null);g.__decorate([f.config(f.VBa,"cdnIdBlackList")],a.prototype,"r1",null);g.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"T3",null);g.__decorate([f.config(f.cw,"imageSubsResolution")],a.prototype,"M5",null);g.__decorate([f.config(f.cw,"timedTextSimpleFallbackThreshold")],a.prototype,"JE",null);g.__decorate([f.config(f.qaa,"timedTextProfiles")],a.prototype,"Ks",null);a=g.__decorate([c.N(),g.__param(0,c.l(l.Ki)),g.__param(1,c.l(p.lN))],a);d.yKa=a;},function(g,d,a){var c,h,l,f;function b(a,b){return h.XM.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(129);h=a(383);l=a(75);f=a(155);ia(b,h.XM);b.prototype.Uib=function(a){var b,d;b=this;a=Aa(c.Bv(function(a){return a.vc&&0<a.vc.length;},a));d=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.so});});a=d.map(function(a){var c;c=a.Ci;c={type:l.Zf.video,Wb:a.so,uy:a.IL,Ci:f.$Y[c.toLowerCase()]||f.Yo.CA,vz:c,vc:[],Mf:{}};c.vc=b.LBa(a.vc,c);b.log.trace("Transformed video track",{StreamCount:c.vc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Mib=function(a){var b;b=a.map(function(a){return a.h9;}).filter(Boolean);b=[].concat.apply([],[].concat(xb(b))).map(function(a){return a.Z;});a=a.map(function(a){return a.Ve;}).filter(Boolean).map(function(a){return a.Z;});return 0<b.length?b:a;};d.LQa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.KDa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,d,a){var c,h,l,f,p;function b(a,b,c,d){a=h.XM.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(756);h=a(383);l=a(129);f=a(75);p=a(155);ia(b,h.XM);b.prototype.wib=function(a,b,d){var g,h,m;g=this;a=Aa(l.Bv(function(a){return a.vc&&0<a.vc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.ysa(a));});m=this.config.saa;a=Aa(l.Bv(function(a){return 0===m.length||0<=m.indexOf(a.Ci);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.ysa(a));});a=h.map(function(a){var h;h=a.Ci;h={type:f.Zf.audio,Wb:a.so,uy:a.IL,Ci:p.$Y[h.toLowerCase()]||p.Yo.CA,vz:h,Fj:a.language,displayName:a.jD,tk:a.tk,xCb:a.tk,wCb:Number(a.tk[0]),rj:g.o8a(a.so,b,d),Mf:{Bcp47:a.language,TrackId:a.so},vc:[],isNative:a.isNative};h.vc=g.LBa(a.vc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.vc.length,AllowedTimedTextTracks:h.rj.length});h.I1=c.KDa[h.vc[0].Ue];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.FYa=function(a){var b,c;b=this;c=this.config.R3;if(c){if(a=Aa(a.filter(function(a){return a.Fj==c||a.Wb==c;})).next().value)return a;}else if(this.j.wR&&(a=Aa(a.filter(function(a){return a.Wb==b.j.wR;})).next().value))return a;};b.prototype.ysa=function(a){return{language:a.jD,bcp47:a.language,type:a.Ci};};b.prototype.o8a=function(a,b,c){return b.filter(function(b){return b.Vaa.AUDIO===a;}).map(function(a){return a.Vaa.aia;}).map(function(a){return c.find(function(b){return b.Wb===a;});}).filter(Boolean);};d.JDa=b;},function(g,d){function a(a,c,d){this.log=a;this.j=c;this.$aa=d;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Tib=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Vc&&0<a.Vc.length;}).map(function(a){return b.$aa(b.j,a.id,a.height,a.width,a.Hxa,a.Ixa,a.size,{unknown:a.Vc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.sQa=a;},function(g,d){function a(a,c,d,g,f,p){this.s7=a;this.t1=c;this.rBa=d;this.Drb=g;this.ana=f;this.ICa=p;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.ST=function(a){var b,d,g,f,p,m,k,n,q,v,t,y,A,z,w,N;a=this.s7.decode(a);b=this.t1.sxa(a.jn,a.Nj,!0);d=this.rBa.Rib(a.EBa);g=this.Drb.Tib(a.QBa);f=this.ana.wib(a.P0,a.media,d);p=this.ICa.Uib(a.$V);m=this.Lib(a,f,d);k=m[0];n=p[0];q=this.ana.FYa(f)||k.Mc||f[0];k=this.rBa.Qqb(q.rj)||k.pc||q.rj[0];v=this.ICa.Mib(a.$V);t=a.kf;y=a.Wna;A=a.Ksa;z=a.Ij;w=a.P0.findIndex(function(a){return a.so==q.Wb;});N=a.$V.findIndex(function(a){return a.so==n.Wb;});return{Ao:v,fi:b,Cm:f,nq:p,rj:d,Os:g,kf:t,$nb:y,fv:A,Ij:z,npa:w,rpa:N,hU:m,H2:n,B2:q,G2:k,DGb:a};};a.prototype.Lib=function(a,c,d){var b,f;b=[];f=a.qpa[0];b.push({Mc:c.find(function(a){return a.uy===f.OB;}),pc:d.find(function(a){return a.uy===f.dBa;}),DHb:0});return b;};d.AKa=a;},function(g,d,a){var c,h,l,f;function b(a,b,c,d,f){this.log=a;this.config=b;this.j=c;this.t1=d;this.T8=f;}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);h=a(5);l=a(155);f=a(212);b.prototype.Rib=function(a){var b;b=this;a=a.map(function(a){var d,f,g;d=b.lrb(a);!1!==a.DS||d.length||b.log.error("track without downloadables",b.Ura(a));!0!==a.zS||d.length||b.log.error("forced track without downloadables",b.Ura(a));f={};g=[];if(0<d.length){f=d[0];g=f.profile;if(g==c.dk.vA||g==c.dk.$M)f=b.Cnb(d);g=b.t1.sxa(a.Lna,void 0,!1);}a=b.T8(b.j,a.so,a.id,f.sd,f.Vc||{},g,a.language,a.jD,l.$Y[a.Ci.toLowerCase()]||l.Yo.CA,a.vz.toUpperCase(),f.profile,b.b$a(f)||{},a.DS,a.zS,a.rJ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Qqb=function(a){var b,c;b=this;c=this.config.T3;if(c){if(a=Aa(a.filter(function(a){return a.Fj==c||a.Wb==c;})).next().value)return a;}else if(this.j.xR&&(a=Aa(a.filter(function(a){return a.Wb==b.j.xR;})).next().value))return a;};b.prototype.lrb=function(a){var b,c,d;b=this;c=a.TBa;d=a.Mpa;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{sd:d[a],profile:a,size:f.size||0,Fd:b.k9a(a,f),offset:f.SJ||0,qjb:f.width,Exa:f.height,Vc:f.Nr};});a.sort(function(a,b){return a.Fd-b.Fd;});return a;};b.prototype.k9a=function(a,b){var d,f;d=this.config.Ks.indexOf(a);b=b.size;f=this.config.JE;return a===c.dk.FW&&0<f&&b>f?this.config.Ks.length+1:0<=d?d:this.config.Ks.length;};b.prototype.b$a=function(a){if(a.profile===c.dk.vA||a.profile===c.dk.$M)return{offset:a.offset,length:a.size,bIb:{width:a.qjb,height:a.Exa}};};b.prototype.Cnb=function(a){var b,d;b=this.config.M5||f.VY.R4();d=Aa(a.filter(function(a){return a.profile===c.dk.vA||a.profile===c.dk.$M;}).filter(function(a){return a.Exa===b;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.Eq.height,intendedResolution:b});return a[0];};b.prototype.Ura=function(a){return{isNone:a.DS,isForced:a.zS,bcp47:a.language,id:a.so};};d.VPa=b;},function(g){g.M=function(d){return function(){return!d.apply(this,arguments);};};},function(g,d,a){var b,c;b=a(761);d=a(49);c=a(390);a=d(function(a,d){return c(b(a),d);});g.M=a;},function(g,d,a){d=a(216);a=a(214);a=d(a);g.M=a;},function(g,d,a){d=a(49)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});g.M=d;},function(g,d,a){var b;d=a(49);b=a(764);a=d(function(a,d){return b([a],d);});g.M=a;},function(g,d,a){var b,c;d=a(49);b=a(387);c=function(){function a(a,b){this.bM=b;this.uI=a;}a.prototype["@@transducer/init"]=b.Dc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.bM["@@transducer/step"](a,this.uI(b));};return a;}();a=d(function(a,b){return new c(a,b);});g.M=a;},function(g,d,a){var b,c,h,l,f,p;d=a(49);b=a(389);c=a(385);h=a(214);l=a(766);f=a(384);p=a(386);a=d(b(["fantasy-land/map","map"],l,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return f(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(c,d){c[d]=a(b[d]);return c;},{},p(b));default:return c(a,b);}}));g.M=a;},function(g,d,a){var b,c;d=a(49);b=a(767);c=a(765);a=d(function(a,d){return b(c(a),d);});g.M=a;},function(g,d,a){d=a(49)(function(a,c){return c>a?c:a;});g.M=d;},function(g,d,a){var c,h;function b(a,d,g){return function(){var n;for(var f=[],l=0,p=a,k=0;k<d.length||l<arguments.length;){k<d.length&&(!h(d[k])||l>=arguments.length)?n=d[k]:(n=arguments[l],l+=1);f[k]=n;h(n)||--p;k+=1;}return 0>=p?g.apply(this,f):c(p,b(a,f,g));};}c=a(213);h=a(156);g.M=b;},function(g,d,a){var b,c,h,l,f;d=a(49);b=a(385);c=a(384);h=a(769);l=a(768);f=a(763);a=d(function(a,d){return c(f(h,0,l("length",d)),function(){var c,f;c=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,c);},d));});});g.M=a;},function(g,d,a){var b;d=a(111);b=a(771);a=d(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.M=a;},function(g,d,a){var b,c;b=a(215);c=Object.prototype.toString;g.M=function(){return"[object Arguments]"===c.call(arguments)?function(a){return"[object Arguments]"===c.call(a);}:function(a){return b("callee",a);};};},function(g,d,a){var b,c;d=a(49);b=a(387);c=function(){function a(a,b){this.bM=b;this.uI=a;}a.prototype["@@transducer/init"]=b.Dc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.uI(b)?this.bM["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,b){return new c(a,b);});g.M=a;},function(g,d,a){var b;b=a(213);d=a(49)(function(a,d){return b(a.length,function(){return a.apply(d,arguments);});});g.M=d;},function(g){var d;d=function(){function a(a){this.uI=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.uI(a,c);};return a;}();g.M=function(a){return new d(a);};},function(g){g.M=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,c;d=a(111);b=a(388);c=a(777);a=d(function(a){return b(a)?!0:!a||"object"!==typeof a||c(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.M=a;},function(g){g.M=function(d,a){for(var b=0,c=a.length,g=[];b<c;)d(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.M=function(d){return"function"===typeof d["@@transducer/step"];};},function(g,d,a){var b;d=a(390);b=a(772);a=a(762);a=b([d,a]);g.M=a;},function(g,d,a){var b;d=a(216);b=a(215);a=d(function(a,d,g){var c,h;c={};for(h in d)b(h,d)&&(c[h]=b(h,g)?a(h,d[h],g[h]):d[h]);for(h in g)b(h,g)&&!b(h,c)&&(c[h]=g[h]);return c;});g.M=a;},function(g,d,a){var b,c;d=a(216);b=a(391);c=a(782);a=d(function l(a,d,g){return c(function(c,d,f){return b(d)&&b(f)?l(a,d,f):a(c,d,f);},d,g);});g.M=a;},function(g,d,a){var b;d=a(49);b=a(783);a=d(function(a,d){return b(function(a,b,c){return c;},a,d);});g.M=a;},function(g,d,a){var c;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});c=a(129);b.prototype.sxa=function(a,b,d){var f,g,h,l,k;f=this;g=this.config.s1;h=this.config.r1;a=Aa(c.Bv(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));l=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});k=l.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,Sd:a.Sd,type:a.type,T6:a.key,RFb:a.Zua,location:{id:c.key,Sd:c.Sd,level:c.level,weight:c.weight,fi:[]}};});k.sort(function(a,b){return a.Sd-b.Sd;});k.forEach(function(a){return a.location.fi=k.filter(function(b){return b.T6===a.T6;});});this.log.trace("Transformed cdns",{Count:k.length});if(d&&!k.length)throw Error("no valid cdns");return k;};d.ZEa=b;},function(g,d,a){var c,h,l,f,p,m,k,n,q,v,t,y,A;function b(a,b,c,d,f,g){this.gf=a;this.s7=b;this.config=c;this.T8=d;this.$aa=f;this.KV=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);l=a(157);f=a(392);p=a(785);m=a(760);k=a(759);n=a(758);q=a(757);v=a(755);t=a(382);y=a(381);a=a(380);b.prototype.create=function(a){var b,c;b=this.gf.qb("ManifestParser",a);c=new p.ZEa(b,this.config);return new k.AKa(this.s7,c,new m.VPa(b,this.config,a,c,this.T8),new n.sQa(b,a,this.$aa),new q.JDa(b,this.config,a,this.KV),new v.LQa(b,this.KV));};A=b;A=g.__decorate([c.N(),g.__param(0,c.l(h.yb)),g.__param(1,c.l(l.mfa)),g.__param(2,c.l(f.nfa)),g.__param(3,c.l(t.Xga)),g.__param(4,c.l(a.kia)),g.__param(5,c.l(y.gia))],A);d.zKa=A;},function(g,d,a){var b,c,h,l,f,p,m,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(393);c=a(786);h=a(392);l=a(754);f=a(382);p=a(381);m=a(379);k=a(753);d.Veb=new g.Zb(function(d){d(h.nfa).to(l.yKa).$();d(b.ofa).to(c.zKa).$();d(f.Xga).Ng(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(211).cG;return new(Function.prototype.bind.apply(d,[null].concat(xb(c))))();});d(p.gia).Ng(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(343).TEa;return new(Function.prototype.bind.apply(d,[null].concat(xb(c))))();});d(m.pfa).ph(function(){return function(a){return new k.DKa(a);};});});},function(g,d,a){var c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.N8a=function(){return Promise.resolve(void 0);};c=b;c=g.__decorate([a.N()],c);d.vEa=c;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(394);c=a(788);d.OZa=new g.Zb(function(a){a(b.nca).to(c.vEa).$();});},function(g,d,a){var c,h,l;function b(a){this.Pa=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(23);l=a(4);b.prototype.Qpb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Pa.Se(c)?d=Math.round(c*b.ma(l.za)/100):(a=parseInt(a),this.Pa.kp(a)&&(d=a));return l.sb(Math.min(d,b.ma(l.za)));};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ne))],a);d.iEa=a;},function(g,d,a){var c,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(22);b.prototype.C4=function(){return this.Tu().jZa;};b.prototype.D4=function(){return this.Tu().kZa;};b.prototype.I9a=function(){return this.Tu().lZa;};b.prototype.m4=function(){return this.Tu().nna;};b.prototype.Tu=function(){return this.config();};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.we))],h);d.hEa=h;},function(g,d,a){var c,h,l,f,p,m;function b(a,b,c,d){this.RP=b;this.Pa=c;this.iZa=d;this.ga=a.qb("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(396);l=a(395);f=a(9);p=a(23);m=a(4);b.prototype.p0=function(a){var b;b=a.Ta.playbackState?a.Ta.playbackState.currentTime:void 0;b=void 0!==b?m.sb(b):this.P8a(a.S);return this.Pa.eh(b)?(this.ga.info("Overriding bookmark",{From:a.QE.ma(m.za),To:b.ma(m.za)}),a.Ta.ff&&this.kta(a)?(this.ga.trace("Ignoring override bookmark since its too close to end"),m.oh(0)):b):this.Pbb(a)?(this.ga.trace("Ignoring bookmark because it's too close to beginning"),m.oh(0)):this.kta(a)?(this.ga.trace("Ignoring bookmark because it's too close to end"),m.oh(0)):a.QE;};b.prototype.Pbb=function(a){return 0>a.QE.xl(this.C4(a));};b.prototype.C4=function(a){return this.ona(this.RP.C4(),a.qK);};b.prototype.kta=function(a){return 0<a.QE.xl(this.D4(a));};b.prototype.D4=function(a){var b;b=a.Ta.ff?this.RP.I9a():this.RP.D4();return a.qK.Jd(this.ona(b,a.qK));};b.prototype.P8a=function(a){var b;a=this.RP.m4()[a];b=-1;this.Pa.Ah(a)?b=parseInt(a):this.Pa.Se(a)&&(b=a);if(this.Pa.kp(b))return m.sb(b);};b.prototype.ona=function(a,b){return this.iZa.Qpb(a,b);};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(f.yb)),g.__param(1,c.l(h.hca)),g.__param(2,c.l(p.ne)),g.__param(3,c.l(l.gca))],a);d.jEa=a;},function(g,d,a){var b,c,h,l,f,p;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(217);c=a(396);h=a(395);l=a(792);f=a(791);p=a(790);d.Z0=new g.Zb(function(a){a(b.lM).to(l.jEa).$();a(c.hca).to(f.hEa).$();a(h.gca).to(p.iEa).$();});},function(g,d){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(d,"__esModule",{value:!0});ia(a,Error);d.Iea=a;},function(g,d,a){var c,h,l,f;function b(a){this.Pa=a;this.M_={};this.zla={};for(var b in c.fF)this.Pa.Se(parseInt(b))&&(this.zla[c.fF[b]]=1);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(218);h=a(794);l=a(1);a=a(23);b.prototype.track=function(a){var b;if(this.Pa.Ah(a)){if(!this.zla[a])throw new h.Iea("Cast Interaction type "+a+" is undefined.");}else{if(!this.Pa.Al(c.fF[a]))throw new h.Iea("Cast Interaction type "+a+" is undefined.");a=c.fF[a];}b=this.M_[a];this.M_[a]=b?b+1:1;};f=b;f=g.__decorate([l.N(),g.__param(0,l.l(a.ne))],f);d.XEa=f;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(218);c=a(795);d.ZP=new g.Zb(function(a){a(b.xca).to(c.XEa);});},function(g,d,a){var h,l,f;function b(a,b,c){var d;d=this;this.ga=a;this.valid=!0;this.j3=!1;this.context=c.context;this.size=c.size;this.hh=b.create().then(function(a){d.storage=a;return a.DJ("mediacache").then(function(a){d.keys=a;});});}function c(a,b){this.gf=a;this.Af=b;this.bI={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(9);a=a(53);c.prototype.oQ=function(a){this.bI[a.context]=new b(this.gf.qb("DiskStorageContext"),this.Af,a);return this.bI[a.context];};f=c;f=g.__decorate([h.N(),g.__param(0,h.l(l.yb)),g.__param(1,h.l(a.cm))],f);d.MGa=f;b.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.hh.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ga.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.TR(a,b));});})["catch"](function(c){f.ga.trace("create failed",c);d(f.Uu(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ga.trace("append "+c);d(this.Uu(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.hh.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ga.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.TR(a,b));});c(d.TR(a,b));})["catch"](function(f){d.ga.trace("remove failed",f);c(d.Uu(a,b,f));});};b.prototype.read=function(a,b,c,d,f){var g,h,l;g=this;h=this.getKey(a,b);l=Date.now();0!==c||-1!=d?f(this.Uu(a,b,"byteStart/byteEnd combination is not supported")):this.hh.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(m){g.ga.trace("read succeeded for "+h+", "+(Date.now()-l)+" ms");f(Object.assign(g.TR(a,b),{value:m.value,aCb:c,end:d}));});f(g.Uu(a,b,"Item doesn't exist"));})["catch"](function(c){g.ga.trace("read failed",c);f(g.Uu(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ga.trace("info ");this.hh.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.G8(c);a[c.PH]||(a[c.PH]={});a[c.PH][c.gv]={size:0};return a;},{}),total:b.size,hJb:0};a(c);})["catch"](function(c){b.ga.trace("info failed",c);a(b.Uu(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.hh.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.G8(b).gv]={size:0};return a;},{});d.ga.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ga.trace("query failed",a);c({});});};b.prototype.No=function(a){var b;b=this;this.ga.trace("validate");this.hh.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.G8(c).gv]={size:0};return a;},{});a(c);})["catch"](function(c){b.ga.trace("validate failed",c);a(b.Uu(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.TR=function(a,b){return{O:!0,PH:void 0===a?"":a,key:void 0===b?"":b,Bsb:0,ki:this.size};};b.prototype.Uu=function(a,b,c){return{O:!1,error:c,PH:void 0===a?"":a,key:void 0===b?"":b,Bsb:0,ki:this.size};};b.prototype.G8=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{PH:a,gv:b};};d.rvb=b;},function(g,d,a){var c,h;function b(a){var b;b=this;this.Af=a;this.Af.create().then(function(a){b.storage=a;});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(53);b.prototype.getData=function(){var a;a=this.storage;return a?a.O$a():{};};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.cm))],h);d.vDa=h;},function(g,d,a){var c,h,l;function b(a){this.gf=a;this.ls={};this.ga=this.gf.qb("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);a=a(9);b.prototype.load=function(a){var b;if(this.ls.hasOwnProperty(a)){b=this.ls[a];this.ga.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ga.debug("Storage entry not found",{key:a});return Promise.reject({T:h.H.im});};b.prototype.save=function(a,b,c){if(c&&this.ls.hasOwnProperty(a))return Promise.resolve(!1);this.ls[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.ls[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.ls).map(function(b){return{key:b,value:a.ls[b]};});return Promise.resolve(b);};b.prototype.DJ=function(a){var b;b=Object.keys(this.ls).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.ls={};return Promise.resolve();};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.yb))],l);d.TKa=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.NFa="__default_rule_key__";},function(g,d,a){var h,l,f,k,m,r,n,q;function b(a,b,c,d){this.ga=a;this.config=b;this.Nbb=c;this.P7=d;this.Pn={mem:{storage:this.P7,dc:this.Moa(),key:"mem"}};this.Qva=!1;this.Sv=this.config.Sv;}function c(a,b,c,d){this.gf=a;this.Af=b;this.P7=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(2);f=a(158);k=a(9);m=a(398);r=a(800);n=a(219);a=a(52);c.prototype.create=function(){this.MH||(this.MH=this.gC());return this.MH;};c.prototype.gC=function(){this.SXa=new b(this.gf.qb("AppStorage"),this.config,this.Af,this.P7);return this.SXa.create();};q=c;q=g.__decorate([h.N(),g.__param(0,h.l(k.yb)),g.__param(1,h.l(f.SX)),g.__param(2,h.l(m.yfa)),g.__param(3,h.l(a.fm))],q);d.uDa=q;b.prototype.create=function(){var a;a=this;return this.C2a().then(function(b){if(!a.g_a(b,a.config.L5))throw a.Ygb(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=b.s4(a);g=Date.now();f.storage.load(a).then(function(a){b.Zk(f.key,"load",!0,g);c(a);})["catch"](function(a){b.Zk(f.key,"load",(a&&(a.T||a.errorSubCode))===l.H.im,g);d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){var h,l;h=d.s4(a);l=Date.now();h.storage.save(a,b,c).then(function(a){d.Zk(h.key,"save",!0,l);f(a);})["catch"](function(a){d.Zk(h.key,"save",!1,l);g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=b.s4(a);g=Date.now();f.storage.remove(a).then(function(){b.Zk(f.key,"remove",!0,g);c();})["catch"](function(a){b.Zk(f.key,"remove",!1,g);d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){var d;a.Rya("mem").then(function(){d=Date.now();return a.Rya("idb");})["catch"](function(b){a.Zk("idb","removeAll",!1,d);return Promise.reject(b);}).then(function(){a.Zk("idb","removeAll",!0,d);b();})["catch"](function(b){a.ga.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b,c;a=this;b=[];return this.Eua("mem").then(function(d){b=b.concat(d);c=Date.now();return a.Eua("idb");})["catch"](function(b){a.Wcb(b)||(a.Zk("idb","loadAll",!1,c),a.ga.error("IndexedDb.LoadAll exception",b));return[];}).then(function(d){b=b.concat(d);a.Zk("idb","loadAll",!0,c);return b;})["catch"](function(b){a.ga.error("load all failed",b);throw b;});};b.prototype.DJ=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=Date.now();g=b.Pn.idb;g?g.storage.DJ(a).then(function(a){b.Zk("idb","loadKeys",!0,f);c(a);})["catch"](function(a){b.Zk("idb","loadKeys",!1,f);b.ga.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.O$a=function(){var a;a={memSubs:this.Qva};this.Pn.idb&&(a.idb=this.P$a());return a;};b.prototype.C2a=function(){var a;a=this;return this.Nbb.create().then(function(b){a.Pn.idb={storage:b,dc:a.Moa(),key:"idb"};})["catch"](function(b){a.Qva=!0;a.ga.error("idb failed to load",b);return b||{T:l.H.Yh};});};b.prototype.g_a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Ygb=function(a){var b;b="";a&&(b+=a.T);return{T:b};};b.prototype.P$a=function(){var a,b,c;a=this;c=this.Pn.idb;c&&(b=n.Qha.reduce(function(b,d){b[d]=a.Q$a(c.dc[d]);return b;},{}));return b;};b.prototype.Q$a=function(a){return{count:a.count,succ:a.eBa,total:a.total,max:a.max};};b.prototype.Rya=function(a){return(a=this.Pn[a])?a.storage.removeAll():Promise.resolve();};b.prototype.Eua=function(a){return(a=this.Pn[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.u7a=function(a){for(var b in this.Sv)if(a.startsWith(b))return this.Sv[b];return this.Sv[r.NFa];};b.prototype.s4=function(a){var b,c;b=this;this.u7a(a).every(function(a){return b.Pn[a]?(c=b.Pn[a],!1):!0;});c||(this.ga.error("component not found for storageKey",{Ipb:a,TBb:Object.keys(this.Pn),rules:this.Sv}),c=this.Pn.mem);this.ga.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.Moa=function(){return n.Qha.reduce(function(a,b){a[b]={count:0,total:0,eBa:0,max:0};return a;},{});};b.prototype.Zk=function(a,b,c,d){d=Date.now()-d;if(a=this.Pn[a])b=a.dc[b],b.count++,c&&(b.eBa++,b.total+=d,d>b.max&&(b.max=d));};b.prototype.Wcb=function(a){return(a&&(a.T||a.errorSubCode))===l.H.im;};d.Rba=b;},function(g,d,a){var c,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(52);na.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.kaa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.qBa;}}});h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.fm))],h);d.qFa=h;},function(g,d,a){var c,h,l,f,k;function b(a,b){a=l.ae.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.cz="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);l=a(37);f=a(52);a=a(26);ia(b,l.ae);na.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Lm?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.kaa;}},EP:{configurable:!0,enumerable:!0,get:function(){return this.config.EP;}},X$:{configurable:!0,enumerable:!0,get:function(){return 0;}},fL:{configurable:!0,enumerable:!0,get:function(){return 0;}},Vqa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;g.__decorate([h.config(h.cw,"simulateIdbOpenError")],k.prototype,"X$",null);g.__decorate([h.config(h.cw,"simulateIdbLoadAllError")],k.prototype,"fL",null);g.__decorate([h.config(h.Te,"fixInvalidDatabase")],k.prototype,"Vqa",null);k=g.__decorate([c.N(),g.__param(0,c.l(a.Ki)),g.__param(1,c.l(f.fm))],k);d.fJa=k;},function(g,d,a){var h,l,f;function b(a,b,c){this.config=a;this.Pk=b;this.vs=c;}function c(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(69);(function(a){a[a.nY=0]="NoData";a[a.Error=1]="Error";a[a.Ow=2]="Timeout";}(f=d.COa||(d.COa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.iR("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=h.H.Eha;switch(a.reason){case f.nY:b=h.H.im;break;case f.Ow:b=h.H.hPa;}d({T:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(g,l){d.iR(c?"add":"put",!0,{name:a,data:b}).then(function(){g(!c);})["catch"](function(a){var b;b=h.H.Hha;switch(a.reason){case f.Ow:b=h.H.kPa;}l({T:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.iR("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=h.H.PY;switch(a.reason){case f.Ow:b=h.H.Cha;}d({T:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.iR("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.H.PY;switch(a.reason){case f.Ow:b=h.H.Cha;}c({T:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.Pk.Sl(this.config.timeout,new Promise(function(b,d){var g,h,l;if(a.config.fL)d(new c(a.config.fL));else{g=[];h=a.vs.transaction(a.config.cz,"readonly");l=h.objectStore(a.config.cz).openCursor();h.onerror=function(){d(new c(f.Error,l.error));};l.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(y){d(new c(f.Error,y));}else b(g);};l.onerror=function(){d(new c(f.Error,l.error));};}}))["catch"](function(a){return a instanceof l.xn?Promise.reject(new c(f.Ow,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(f.Error,a));});};b.prototype.DJ=function(a){var b;b=this;return this.Pk.Sl(this.config.timeout,new Promise(function(d,g){var h,l,m;if(b.config.fL)g(new c(b.config.fL));else{h={};l=b.vs.transaction(b.config.cz,"readonly");m=l.objectStore(b.config.cz).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);l.onerror=function(){g(new c(f.Error,m.error));};m.onsuccess=function(b){var l,m;try{l=b.target.result;if(l){m=l.key;a&&0!==m.indexOf(a)?d(h):(h[m]=void 0,l["continue"]());}else d(h);}catch(I){g(new c(f.Error,I));}};m.onerror=function(){g(new c(f.Error,m.error));};}}))["catch"](function(a){return a instanceof l.xn?Promise.reject(new c(f.Ow,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(f.Error,a));});};b.prototype.iR=function(a,b,d){var g;g=this;return this.Pk.Sl(this.config.timeout,new Promise(function(h,l){var m,k;m=g.vs.transaction(g.config.cz,b?"readwrite":"readonly");k=m.objectStore(g.config.cz)[a](d);m.onerror=function(){l(new c(f.Error,k.error));};k.onsuccess=function(b){var d;if("get"==a)try{d=b.target.result;d?h(d.data):l(new c(f.nY));}catch(I){l(new c(f.nY,I));}else h();};k.onerror=function(){l(new c(f.Error,k.error));};}))["catch"](function(a){return a instanceof l.xn?Promise.reject(new c(f.Ow,a)):a instanceof c?Promise.reject(a):Promise.reject(new c(f.Error,a));});};d.eJa=b;},function(g,d,a){var l,f,k,m,r,n,q,t,B,y,A,z;function b(a,b,c,d,f,g){this.config=b;this.RH=c;this.Af=d;this.Lsb=f;this.Xk=g;this.ga=a.qb(n.TY);}function c(a,b){this.config=a;this.Wk=b;}function h(a,b,c,d,f){this.config=b;this.Wk=c;this.Xk=f;this.ga=a.qb(n.TY);this.RH=new Promise(function(a,b){var c;try{c=d();c?a(c):b({T:r.H.$da});}catch(ba){b({T:r.H.SM,cause:ba});}});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);f=a(9);k=a(804);m=a(159);r=a(2);n=a(401);q=a(402);t=a(69);B=a(53);y=a(115);A=a(158);z=a(56);h.prototype.create=function(){this.s2||(this.s2=this.gC());return this.s2;};h.prototype.Vn=function(a){var b;b=this;this.s2=null;return this.Wk.Sl(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof t.xn?Promise.reject({T:r.H.SM}):a.T?Promise.reject(a):Promise.reject({T:r.H.SM,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.Wk.Sl(this.config.timeout,new Promise(function(c,d){b.RH.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({T:r.H.SM,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.gC=function(){var a,b;a=this;return this.Wk.Sl(this.config.timeout,new Promise(function(c,d){a.config.X$?d({T:a.config.X$}):a.RH.then(function(f){a.Xk.mark(z.xj.qIa);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.Xk.mark(z.xj.nIa);d({T:r.H.jIa});},b.onupgradeneeded=function(){var c;a.Xk.mark(z.xj.xIa);c=b.result;try{c.createObjectStore(a.config.cz,{keyPath:"name"});}catch(X){a.ga.error("Exception while creating object store",X);}},b.onsuccess=function(g){var h,l;a.Xk.mark(z.xj.wIa);try{h=g.target.result;l=h.objectStoreNames.length;a.ga.trace("objectstorenames length ",l);if(0===l){a.ga.error("invalid indexedDb state, deleting");a.Xk.mark(z.xj.pIa);try{h.close();}catch(ba){}f.deleteDatabase(a.config.name);setTimeout(function(){d({T:r.H.iIa});},1);return;}}catch(ba){a.ga.error("Exception while inspecting indexedDb objectstorenames",ba);}c(b.result);},b.onerror=function(){a.Xk.mark(z.xj.oIa);a.ga.error("IndexedDB open error",b.error);d({T:r.H.kIa,cause:b.error});}):d({T:r.H.aea});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof t.xn){try{b&&b.readyState&&a.Xk.mark("readyState-"+b.readyState);}catch(qa){}if(a.config.EP&&b&&"done"===b.readyState){if(a.Hsb(b))return a.Xk.mark(z.xj.uIa),Promise.resolve(b.result);a.Xk.mark(z.xj.tIa);}a.Xk.mark(z.xj.sIa);return Promise.reject({T:r.H.mIa});}if(c.T)return Promise.reject(c);a.Xk.mark(z.xj.rIa);a.ga.error("IndexedDB open exception occurred",c);return Promise.reject({T:r.H.lIa,cause:c});});};h.prototype.Hsb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(N){this.Xk.mark(z.xj.vIa);this.ga.error("failed to check open request state",N);}return!1;};a=h;a=g.__decorate([l.N(),g.__param(0,l.l(f.yb)),g.__param(1,l.l(q.UM)),g.__param(2,l.l(t.GA)),g.__param(3,l.l(m.Zda)),g.__param(4,l.l(y.Qw))],a);d.gIa=a;c.prototype.create=function(a){return Promise.resolve(new k.eJa(this.config,this.Wk,a));};a=c;a=g.__decorate([l.N(),g.__param(0,l.l(q.UM)),g.__param(1,l.l(t.GA))],a);d.gJa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.MH||(this.MH=this.gC(this.Lsb));return this.MH;};b.prototype.gC=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.Xk.mark(z.xj.bPa);b.RH.create().then(function(f){b.Af.create(f).then(function(g){Promise.all(a.map(function(a){return a.No(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ga.debug("DB validation failed, cause: "+a);b.config.Vqa?(b.ga.debug("Fixing corrupt DB"),b.RH.Vn(f).then(function(){b.ga.error("Invalid database deleted, creating new database.");b.gC().then(function(a){b.ga.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ga.error("Couldn't delete invalid database.");d(a);})):(b.ga.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=g.__decorate([l.N(),g.__param(0,l.l(f.yb)),g.__param(1,l.l(q.UM)),g.__param(2,l.l(A.Yda)),g.__param(3,l.l(A.Dea)),g.__param(4,l.Uy(B.Rha)),g.__param(5,l.l(y.Qw))],a);d.hJa=a;},function(g,d,a){var c,h,l;function b(a){this.vs=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);a=a(159);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.vs.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(v){}c({key:a,value:g});}else d({T:h.H.im});}catch(v){d({T:h.H.Eha,cause:v});}});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.vs.getItem(a))f(!1);else try{"string"===typeof b?d.vs.setItem(a,b):d.vs.setItem(a,JSON.stringify(b));f(!0);}catch(v){g({T:h.H.Hha,cause:v});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.vs.removeItem(a);c();}catch(u){d({T:h.H.PY,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.DJ=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.wLa))],l);d.EJa=l;},function(g,d,a){var c,h,l,f,k;function b(a,b,c){this.Pk=b;this.config=c;this.ga=a.qb(f.TY);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);l=a(69);f=a(401);a=a(400);b.prototype.No=function(a){return this.config.enabled?this.config.timeout?this.Pk.Sl(this.config.timeout,this.Jpa(a)):this.Jpa(a):Promise.resolve();};b.prototype.Jpa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ga.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ga.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};k=b;k=g.__decorate([c.N(),g.__param(0,c.l(h.yb)),g.__param(1,c.l(l.GA)),g.__param(2,c.l(a.Jca))],k);d.pFa=k;},function(g,d,a){var b,c,h,l,f,k,m,r,n,q,v,B,y,A,z,w,N,E,J;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(402);c=a(53);h=a(159);l=a(807);f=a(399);k=a(806);m=a(400);r=a(158);n=a(805);q=a(803);v=a(802);B=a(801);y=a(53);A=a(398);z=a(799);w=a(219);N=a(798);E=a(397);J=a(797);d.storage=new g.Zb(function(a){a(h.Nfa).ph(function(){return function(){return t.localStorage;};});a(h.Zda).ph(function(){return function(){return t.indexedDB;};});a(w.Sba).to(N.vDa).$();a(A.yfa).to(z.TKa).$();a(y.cm).to(B.uDa).$();a(f.Tea).to(k.EJa).$();a(b.UM).to(q.fJa).$();a(r.Dea).to(n.gJa).$();a(c.Rha).to(l.pFa).$();a(r.Yda).to(n.gIa).$();a(r.SX).to(n.hJa).$();a(m.Jca).to(v.qFa).$();a(E.cda).to(J.MGa).$();});},function(g,d,a){var c,h,l;function b(a){this.lkb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(220);a=a(403);b.prototype.h7a=function(){var a,b;a={tI:h.tw.Unknown};b=this.lkb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.tI=b.value?h.tw.Present:h.tw.Absent;if(a.tI===h.tw.Etb){c=function(){b.value&&(a.tI=h.tw.Present);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.tI=h.tw.Error;});return a;};l=b;l=g.__decorate([c.N(),g.__param(0,c.l(a.eha))],l);d.FHa=l;},function(g,d,a){var c,h,l;function b(a,b){this.Iva=a;this.log=b.qb("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(405);h=a(9);a=a(1);b.prototype.C3=function(a){var b,c,d;b=this;c={jc:void 0};if(this.Iva.Jva){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,P:1E3*a.P,BR:"24"};this.Iva.C3(d).then(function(a){return c.jc=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};l=b;l=g.__decorate([a.N(),g.__param(0,a.l(c.sfa)),g.__param(1,a.l(h.yb))],l);d.HKa=l;},function(g,d,a){var c,h;function b(a){this.navigator=a;this.Jva="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(39);b.prototype.C3=function(a){return this.Jva?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.P,framerate:a.BR}}).then(function(a){return{IIb:a.supported,dpb:a.smooth,Sjb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.yA))],h);d.GKa=h;},function(g,d,a){var c,h;function b(a,b,d,g){a=c.em.call(this,a,b,d)||this;a.rp=g;a.type=h.yj.Kha;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(130);h=a(25);ia(b,c.em);b.prototype.QI=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.rp.Rh.toString()});};d.mPa=b;},function(g,d,a){var c,h,l;function b(a,b,d,g,l,k){a=c.em.call(this,a,b,d)||this;a.Wm=g;a.no=l;a.Ka=k;a.type=h.yj.Aca;a.log=a.no.qb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(130);h=a(25);l=a(4);ia(b,c.em);b.prototype.gq=function(a){switch(a){case h.th.Ro:return this.jqb;default:return Promise.resolve(!1);}};b.prototype.PC=function(){var a;a=this;return this.gq(h.th.Ro).then(function(a){return a?h.th.Ro:void 0;}).then(function(b){return a.LH(b);});};b.prototype.i0=function(a){return this.Dv=a;};b.prototype.OL=function(){var a;if(this.Dv){a=this.Ssa&&this.Tsa&&this.Ssa.Jd(this.Tsa).ma(l.za);this.Dv.itshdcp=JSON.stringify({hdcp1:this.Yr,time1:a});}};na.Object.defineProperties(b.prototype,{Ke:{configurable:!0,enumerable:!0,get:function(){this.Lva||(this.Lva=this.Wm.NI().then(function(a){return a.createMediaKeys();}));return this.Lva;}},jqb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.uaa||(this.config().B5a?this.uaa=this.Ke.then(function(b){if(b&&b.getStatusForPolicy)return a.Tsa=a.Ka.hg,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.Ssa=a.Ka.hg;a.Yr=b;a.log.trace("hdcpStatus: "+a.Yr);return"usable"===a.Yr;});a.Yr="not available";a.log.trace("hdcpStatus: "+a.Yr);return!1;})["catch"](function(b){a.Yr="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Yr},b);return!1;}).then(function(b){a.OL();return b;}):(this.Yr="not enabled",this.log.trace("hdcpStatus: "+this.Yr),this.OL(),this.uaa=Promise.resolve(!1)));return this.uaa;}}});d.dFa=b;},function(g,d,a){var c,h,l,f,k,m,r,n,q,v,B,y,A,z,w,N,E,J,O;function b(a,b,c,d,f,g,k){a=h.em.call(this,a,b,c)||this;a.ia=d;a.Ka=f;a.no=g;a.Ce=k;a.type=l.yj.Bq;a.dF="hvc1";a.zEa="avc1";a.Jxa={};a.log=a.no.qb("MicrosoftVideoCapabilityDetector");a.XE[l.Ld.tg]=n.xc.sF;a.opb();a.rL&&a.config().Rfb?a.Opa=a.y2a():(a.Opa=Promise.resolve(""),a.config().Tfb?a.B2a():a.config().Sfb&&a.A2a());return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(72);h=a(130);l=a(25);g=a(97);f=a(132);k=a(87);m=a(4);r=a(230);n=a(131);q=a(221);v="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");B="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");y="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");A="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");z="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");w="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");N=["hdcp=1"];E=["hdcp=2"];J=new g.Mw();O=new r.sW();ia(b,h.em);b.prototype.gq=function(a){switch(a){case l.th.Ro:return this.gBa();case l.th.xw:return this.zK;default:return Promise.resolve(!1);}};b.prototype.Xu=function(){return this.rL?this.Lbb?this.gBa().then(function(a){return Promise.resolve(a?f.bb.bd:f.bb.WF);}):Promise.resolve(f.bb.WF):this.kqb?Promise.resolve(f.bb.WF):Promise.resolve(f.bb.Vo);};b.prototype.LR=function(){return this.Opa;};b.prototype.sL=function(){return this.iqb();};b.prototype.tL=function(){return this.rL&&this.iBa()?this.zK:Promise.resolve(!1);};b.prototype.qL=function(){return this.hqb();};b.prototype.i0=function(a){this.Dv=a;Object.assign(this.Dv,this.Jxa);a.itshwdrm=this.rL;a.itsqhd=this.hBa();a.itshevc=this.iBa();a.itshdr=this.sL();a.itsdv=this.qL();return a;};b.prototype.$G=function(a,b){(this.Dv?this.Dv:this.Jxa)[a]=b;};b.prototype.PC=function(){var a;a=this;return this.gq(l.th.xw).then(function(b){return b?a.LH(l.th.xw):a.gq(l.th.Ro).then(function(b){return b?a.LH(l.th.Ro):a.LH(void 0);});});};b.prototype.QI=function(){return this.Xu().then(function(a){return a===f.bb.bd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.F3=function(a){var b;b=this;return a.filter(function(a){var c,g;for(var c=Aa(b.xs),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Aa(b.bn);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.k9[a];c=[];g=f.bb.Vo;if(a)return b.is.Ah(a)?d=a:(c=a.Yc,d=a.de,g=a.Rc),b.wu(g,d,c);});};b.prototype.Tx=function(){var a;a=h.em.prototype.Tx.call(this);a[c.ca.zN]="vp09.00.11.08.02";a[c.ca.AN]="vp09.00.11.08.02";a[c.ca.BN]="vp09.00.11.08.02";a[c.ca.oX]={de:"hev1.2.6.L90.B0",Rc:f.bb.bd,Yc:v};a[c.ca.rX]={de:"hev1.2.6.L93.B0",Rc:f.bb.bd,Yc:v};a[c.ca.uX]={de:"hev1.2.6.L120.B0",Rc:f.bb.bd,Yc:v};a[c.ca.xX]={de:"hev1.2.6.L123.B0",Rc:f.bb.bd,Yc:v};a[c.ca.vF]={de:"hev1.2.6.L150.B0",Rc:f.bb.bd,Yc:v};a[c.ca.wF]={de:"hev1.2.6.L153.B0",Rc:f.bb.bd,Yc:v};a[c.ca.pX]={de:"hev1.2.6.L90.B0",Rc:f.bb.bd,Yc:v};a[c.ca.sX]={de:"hev1.2.6.L93.B0",Rc:f.bb.bd,Yc:v};a[c.ca.vX]={de:"hev1.2.6.L120.B0",Rc:f.bb.bd,Yc:v};a[c.ca.yX]={de:"hev1.2.6.L123.B0",Rc:f.bb.bd,Yc:v};a[c.ca.zX]={de:"hev1.2.6.L150.B0",Rc:f.bb.bd,Yc:v};a[c.ca.AX]={de:"hev1.2.6.L153.B0",Rc:f.bb.bd,Yc:v};a[c.ca.IM]={de:"hev1.2.6.L90.B0",Rc:f.bb.bd,Yc:y};a[c.ca.JM]={de:"hev1.2.6.L93.B0",Rc:f.bb.bd,Yc:y};a[c.ca.KM]={de:"hev1.2.6.L120.B0",Rc:f.bb.bd,Yc:y};a[c.ca.LM]={de:"hev1.2.6.L123.B0",Rc:f.bb.bd,Yc:A};a[c.ca.jX]={de:"hev1.2.6.L150.B0",Rc:f.bb.bd,Yc:A};a[c.ca.lX]={de:"hev1.2.6.L153.B0",Rc:f.bb.bd,Yc:A};a[c.ca.uM]={de:"hev1.2.6.L90.B0",Rc:f.bb.bd,Yc:z};a[c.ca.vM]={de:"hev1.2.6.L93.B0",Rc:f.bb.bd,Yc:z};a[c.ca.wM]={de:"hev1.2.6.L120.B0",Rc:f.bb.bd,Yc:z};a[c.ca.xM]={de:"hev1.2.6.L123.B0",Rc:f.bb.bd,Yc:w};a[c.ca.yM]={de:"hev1.2.6.L150.B0",Rc:f.bb.bd,Yc:w};a[c.ca.LW]={de:"hev1.2.6.L153.B0",Rc:f.bb.bd,Yc:w};return a;};b.prototype.wu=function(a,b,c){a=q.Cw.qQ(a,b,c);return this.Br(a);};b.prototype.hBa=function(){return this.wu(f.bb.bd,this.dF,v);};b.prototype.iqb=function(){return this.wu(f.bb.bd,this.dF,y);};b.prototype.hqb=function(){return this.wu(f.bb.bd,this.dF,z);};b.prototype.iBa=function(){return this.wu(f.bb.bd,this.dF,B);};b.prototype.gBa=function(){var a;a=this;return this.zK.then(function(b){return b?Promise.resolve(b):a.oya;});};b.prototype.OL=function(){this.Dv&&(this.Dv.itshdcp=JSON.stringify({hdcp1:this.Qsa,time1:this.xBa-this.SAa,hdcp2:this.Rsa,time2:this.yBa-this.TAa}));};b.prototype.opb=function(){var a;a=this;this.rL?(this.W8=new k.Ji(),this.X8=new k.Ji(),this.oya=k.sa.from(this.W8).Paa().then(function(a){return"probably"===a;}),this.zK=k.sa.from(this.X8).Paa().then(function(a){return"probably"===a;}),this.BAa(this.X8,this.config().Vfb),this.Txa(this.D9a.bind(this),this.X8),this.zK.then(function(b){b||(a.BAa(a.W8,a.config().Ufb),a.Txa(a.C9a.bind(a),a.W8));})):(this.oya=Promise.resolve(!0),this.zK=Promise.resolve(!1));};b.prototype.Txa=function(a,b){k.sa.Wk(0,this.config().Wfb).map(function(){return a();}).gL(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).zL(k.sa.from(b)).Paa();};b.prototype.BAa=function(a,b){this.ia.Qf(m.sb(b),function(){a.next("timeout");a.complete();});};b.prototype.C9a=function(){var a;a=q.Cw.qQ(f.bb.WF,this.zEa,N).split("|");this.Qsa=q.Cw.taa(a[0],a[1]);this.xBa=this.Ka.hg.ma(m.za);this.SAa=this.SAa||this.xBa;this.OL();return this.Qsa;};b.prototype.D9a=function(){var a;a=q.Cw.qQ(f.bb.bd,this.dF,E).split("|");this.Rsa=q.Cw.taa(a[0],a[1]);this.yBa=this.Ka.hg.ma(m.za);this.TAa=this.TAa||this.yBa;this.OL();return this.Rsa;};b.prototype.y2a=function(){var a;a=this;return this.f2(f.bb.bd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.$G("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.A2a=function(){var a;a=this;this.f2(f.bb.Vo,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Ce.decode(b));a.$G("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.$G("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.B2a=function(){var a;a=this;this.f2(f.bb.Vo,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Ce.decode(b));a.$G("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.$G("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.f2=function(a,b){var c;c=this;return new Promise(function(d,f){var r,n,q;function g(a){try{k(a.target,"Unexpectedly got an mskeyerror event: 0x"+O.Ur(a&&a.target&&a.target.error&&a.target.error.kBa||0,4));}catch(la){k(a.target,la);}}function h(a){k(a.target,"Unexpectedly got an mskeyadded event");}function l(a){var b;try{b=c.y3(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);d(b);}catch(ta){k(a.target,ta);}}function k(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);f(d);}function p(a){a.removeEventListener("mskeymessage",l);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);r&&r.cancel();}try{n=new Uint8Array(J.paa(b));q=new t.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),n);q.addEventListener("mskeymessage",l);q.addEventListener("mskeyadded",h);q.addEventListener("mskeyerror",g);r=c.ia.Qf(m.sb(1E3),function(){k(q,Error("timeout"));});}catch(ca){f(ca);}});};b.prototype.y3=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\s*(.*)\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\s\S]*<"+g+"[^>]*>"+f+"</"+g+">[\s\S]*";}if(c=c.match(new RegExp(f)))return c[1];};na.Object.defineProperties(b.prototype,{Lbb:{configurable:!0,enumerable:!0,get:function(){return this.config().A5a&&(!this.config().Xfb||this.hBa());}},rL:{configurable:!0,enumerable:!0,get:function(){try{return this.Br(f.bb.bd);}catch(K){return!1;}}},kqb:{configurable:!0,enumerable:!0,get:function(){try{return this.Br(f.bb.WF);}catch(K){return!1;}}}});b.PE='video/mp4;codecs="{0},mp4a";';d.tKa=b;},function(g,d,a){var c,h,l,f,k;function b(a,b,d,g){a=f.NW.call(this,a,b)||this;a.is=d;a.platform=g;a.type=c.Us.Bq;return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(25);h=a(72);l=a(132);f=a(406);k=a(221);ia(b,f.NW);b.prototype.pL=function(){return this.config().kI&&this.wu(l.bb.Vo,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.Tx=function(){var a;a={};a[h.sj.MM]="mp4a.40.2";a[h.sj.mX]="mp4a.40.5";"browser"===this.platform.L2?this.config().kI&&(a[h.sj.hF]={de:"avc1",Rc:l.bb.Vo,Yc:["audio-endpoint-codec=DD+JOC"]},a[h.sj.iF]={de:"avc1",Rc:l.bb.Vo,Yc:["audio-endpoint-codec=DD+JOC"]}):(this.config().d3&&(a[h.sj.hF]="ec-3"),this.config().c3&&(a[h.sj.BW]="ec-3"),this.config().kI&&(a[h.sj.iF]={de:"avc1",Rc:l.bb.Vo,Yc:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.F3=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=Aa(b.xs),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Aa(b.bn);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.k9[a];c=[];f=l.bb.Vo;if(a)return b.is.Ah(a)?d=a:(c=a.Yc,d=a.de,f=a.Rc),b.wu(f,d,c);});};b.prototype.wu=function(a,b,c){a=k.Cw.qQ(a,b,c);return this.Br(a);};d.XKa=b;},function(g,d,a){var c,h,l,f,k,m,r,n,q,t,B,y,A,z,w,N,E,J,O;function b(a,b,c,d,f,g,h,l,k,m,p){this.dua=a;this.cast=b;this.config=c;this.ia=d;this.Ka=f;this.is=g;this.Wm=h;this.no=l;this.rp=k;this.platform=m;this.Ce=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(25);l=a(223);f=a(160);k=a(222);m=a(815);r=a(814);n=a(130);q=a(406);t=a(30);B=a(36);y=a(23);A=a(813);z=a(120);w=a(9);N=a(812);E=a(64);J=a(65);a=a(44);b.prototype.k2a=function(a){var b;b=this.dua.Koa();switch(a){case h.Us.Bq:return new m.XKa(this.config,b,this.is,this.platform);default:return new q.NW(this.config,b);}};b.prototype.V2a=function(a){var b;b=this.dua.Koa();switch(a){case h.yj.yW:a=new k.yca(this.config,b,this.is,this.cast);break;case h.yj.Aca:a=new A.dFa(this.config,b,this.is,this.Wm,this.no,this.Ka);break;case h.yj.Bq:a=new r.tKa(this.config,b,this.is,this.ia,this.Ka,this.no,this.Ce);break;case h.yj.Kha:a=new N.mPa(this.config,b,this.is,this.rp);break;default:a=new n.em(this.config,b,this.is);}return a;};O=b;O=g.__decorate([c.N(),g.__param(0,c.l(l.Jea)),g.__param(1,c.l(k.zW)),g.__param(2,c.l(f.AM)),g.__param(3,c.l(t.ag)),g.__param(4,c.l(B.Fi)),g.__param(5,c.l(y.ne)),g.__param(6,c.l(z.Bw)),g.__param(7,c.l(w.yb)),g.__param(8,c.l(E.rn)),g.__param(9,c.l(J.un)),g.__param(10,c.l(a.tj))],O);d.UEa=O;},function(g,d,a){var c,h,l,f,k,m;function b(a,b,c){this.config=a;this.opa=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(223);l=a(160);f=a(25);k=a(222);m=a(221);b.prototype.Koa=function(){switch(this.config().YV){case f.yj.yW:return k.yca.b2(this.opa,this.cast);case f.yj.Bq:return m.Cw.b2(this.config);default:return this.opa;}};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(l.AM)),g.__param(1,c.l(h.Kga)),g.__param(2,c.l(k.zW))],a);d.nJa=a;},function(g,d,a){var c,h,l,f,k;function b(a,b,d){this.IQ=a;this.Pa=b;this.DE=d;this.KWa="video/mp4;codecs={0}";this.lRa="audio/mp4;codecs={0}";a=this.IQ.JR(c.Ld.tg);this.JWa=l.xc.Noa(a);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(25);h=a(1);l=a(131);f=a(23);a=a(161);b.prototype.NH=function(a){a=this.IQ.F9a(a);a=this.Pa.Al(a)?a:c.Ld.aG;return this.DE.format(this.KWa,this.JWa[a]);};b.prototype.nQ=function(){return this.DE.format(this.lRa,l.xc.gW);};k=b;k=g.__decorate([h.N(),g.__param(0,h.l(c.lF)),g.__param(1,h.l(f.ne)),g.__param(2,h.l(a.rN))],k);d.zPa=k;},function(g,d,a){var c,h,l,f,k,m;function b(a,b,c){this.config=a;this.Ina=b;this.vjb=c;this.Ckb=this.N2a();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(25);h=a(160);l=a(1);f=a(72);k=a(410);a=a(409);b.prototype.cab=function(){return this.sra().tsa();};b.prototype.dab=function(){return this.bo().tsa();};b.prototype.sra=function(){this.M0&&this.M0.type==this.config().N0||(this.M0=this.Ina.k2a(this.config().N0));return this.M0;};b.prototype.bo=function(){this.XV&&this.XV.type==this.config().YV||(this.XV=this.Ina.V2a(this.config().YV),this.XV.i0(this.vjb.v9a()));return this.XV;};b.prototype.F9a=function(a){var f;if(!a||!a.length)return c.Ld.HM;a=this.y7a(a);for(var b=[c.Ld.aG,c.Ld.HM,c.Ld.wN,c.Ld.yq,c.Ld.tg,c.Ld.At,c.Ld.qh],d=b.length;d--;){f=b[d];if((0,this.Ckb[f])(a))return f;}return c.Ld.aG;};b.prototype.gq=function(a){return this.bo().gq(a);};b.prototype.Br=function(a){return this.bo().Br(a);};b.prototype.Xu=function(){return this.bo().Xu();};b.prototype.LR=function(){return this.bo().LR();};b.prototype.sL=function(){return this.bo().sL();};b.prototype.pL=function(){return this.sra().pL();};b.prototype.qL=function(){return this.bo().qL();};b.prototype.tL=function(){return this.bo().tL();};b.prototype.JR=function(a){return this.bo().JR(a);};b.prototype.PC=function(){return this.bo().PC();};b.prototype.QI=function(){return this.bo().QI();};b.prototype.y7a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Ue]="";});return Object.keys(b);};b.prototype.N2a=function(){var a;a={};a[c.Ld.qh]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[c.Ld.At]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[c.Ld.tg]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[c.Ld.yq]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[c.Ld.wN]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[c.Ld.HM]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Aa(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[f.ca.dX]);a[c.Ld.aG]=function(){return!0;};return a;};m=b;m=g.__decorate([l.N(),g.__param(0,l.l(h.AM)),g.__param(1,l.l(a.uca)),g.__param(2,l.l(k.Ada))],m);d.FGa=m;},function(g,d,a){var b,c,h,l,f,k,m,n,q,x,v,B,y,A,z,w,N,E,J,O;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(25);c=a(22);h=a(819);l=a(160);f=a(113);k=a(818);m=a(223);n=a(817);q=a(410);x=a(409);v=a(816);B=a(222);y=a(5);A=a(405);z=a(811);w=a(404);N=a(810);E=a(220);J=a(809);O=a(403);d.IQ=new g.Zb(function(a){a(f.MA).to(k.zPa).$();a(b.lF).to(h.FGa).$();a(m.Jea).to(n.nJa).$();a(x.uca).to(v.UEa).$();a(m.Kga).Ng({isTypeSupported:y.wA&&y.wA.isTypeSupported});a(B.zW).Ng("undefined"!==typeof cast?cast:null);a(q.Ada).Sz(function(){return{v9a:function(){return t._cad_global.platformExtraInfo;}};});a(l.AM).Sz(function(a){return a.ac.get(c.we);});a(A.sfa).to(z.GKa).$();a(w.rfa).to(N.HKa).$();a(E.zda).to(J.FHa).$();a(O.eha).Ng(t);});},function(g,d,a){function b(a){this.T4a=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.N()],b);d.XPa=b;},function(g,d,a){var c,h;function b(a){this.grb=a;this.FV={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(224);b.prototype.L8a=function(){var a,b,c;a=[];for(b in this.FV){c=this.FV[b];a.push({zH:Number(b),Nz:c.ao().Nz,X2:c.ao().X2});}return a;};b.prototype.yP=function(a){var b,c;b=a.zH;c=this.FV[b];c||(c=this.grb(),this.FV[b]=c);c.yP(a);};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.ZY))],h);d.aFa=h;},function(g,d,a){var c,h,l,f;function b(a){this.config=a;this.Z$=h.Vf;this.xE=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(31);l=a(4);a=a(412);b.prototype.ao=function(){var b;for(var a;0<this.xE.length;)a=this.xE.shift(),this.hma(a);a=void 0===this.hI||void 0===this.$x?l.Vf:this.$x.Jd(this.hI);b=a.gua()?0:this.Z$.ma(h.aA)/a.ma(l.za);return{Nz:Math.floor(b),X2:a.ma(l.za)};};b.prototype.yP=function(a){this.Z$=this.Z$.add(a.size);this.xE.push(a.S4a);for(this.xE.sort(function(a,b){return a.start.xl(b.start);});this.xE.length>this.config.T4a;)a=this.xE.shift(),this.hma(a);};b.prototype.hma=function(a){void 0===this.hI&&(this.hI=a.start);void 0!==this.$x&&0>this.$x.xl(a.start)&&(this.hI=this.hI.add(a.start.Jd(this.$x)));if(void 0===this.$x||0>this.$x.xl(a.end))this.$x=a.end;};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(a.dia))],f);d.YPa=f;},function(g,d,a){var b,c,h,l,f,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(823);c=a(822);h=a(821);l=a(411);f=a(412);k=a(224);d.Oz=new g.Zb(function(a){a(k.eia).to(b.YPa);a(l.zca).to(c.aFa).$();a(f.dia).Ng(new h.XPa());a(k.ZY).ph(function(a){return function(){return a.ac.get(k.eia);};});});},function(g,d,a){var c,h,l,f,k;function b(a,b,c,d,f,g,l,k,p,n,q,t,w,O,K,J,W){var m;m=this;this.Kd=a;this.Pa=b;this.Va=c;this.oc=f;this.lz=l;this.CH=k;this.ZWa=p;this.config=n;this.mg=t;this.S=w;this.j=q.create(w,J,O,K);this.j.background=!0;this.j.Ha=W;this.j.wc=J;this.log=d.qb("VideoPlayer",this.j);this.zxa=[];this.ended=!1;this.vba();this.j.state.addListener(function(a){a.newValue===h.wh.Mq&&m.ud(h.lb.n6,{movieId:w});});this.j.Ta.ff&&(this.SB=g.m2a(this,this.j,this.mg),this.j.addEventListener(h.X.u$,function(a){m.ud(h.lb.Bnb,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});c=a(2);h=a(16);l=a(4);f=a(5);k=a(62);b.prototype.isReady=function(){return this.j.state.value===h.wh.Mq;};b.prototype.d$a=function(){return this.j.S;};b.prototype.k5=function(){return this.j.ja;};b.prototype.ky=function(){return this.j.zf;};b.prototype.wy=function(){return this.j.gU.value;};b.prototype.Kcb=function(){return this.j.paused.value;};b.prototype.Bcb=function(){return this.ended;};b.prototype.Ak=function(){var a;a=this.j.h1.value;return a?{networkStalled:!!a.oV,stalled:!!a.oV,progress:a.xi,progressRollback:!!a.Fkb}:null;};b.prototype.getError=function(){var a;a=this.j.Jh;return a?a.Qaa():null;};b.prototype.yp=function(){return this.j.wd.value;};b.prototype.E8a=function(){var a;a=(this.SI()||0)+this.j.wra();return Math.min(a,this.Jra());};b.prototype.SI=function(){return this.j.ly();};b.prototype.Jra=function(){return this.j.Rx.ma(l.za);};b.prototype.Aab=function(){return this.j.WE?{width:this.j.WE.width,height:this.j.WE.height}:null;};b.prototype.S8a=function(){var f;if(this.j.nq){for(var a,b=0;b<this.j.nq.length;b++)for(var c=this.j.nq[b],d=0;d<c.vc.length;d++){f=c.vc[d];this.Pa.Se(f.X2a)&&this.Pa.Se(f.Roa)&&this.Pa.Se(f.Qoa)&&this.Pa.Se(f.Poa)&&0<f.Roa&&(f=f.Poa/f.Qoa,a=this.Pa.Se(a)?Math.min(a,f):f);}return a;}};b.prototype.d9a=function(){var a;a=this;return{addEventListener:this.j.N2.addEventListener,removeEventListener:this.j.N2.removeEventListener,getModel:function(){return a.j.N2.GGb;},getTime:function(){return a.Va.He().ma(l.za);},getGroups:function(){var b;b=a.j.bU;return b?b.B9a():[];}};};b.prototype.s8a=function(){var a,c;a=[];if(this.j.Cm)for(var b=0;b<this.j.Cm.length;b++){c=this.TC(this.j.Cm[b]);null!==c&&a.push(c);}return a;};b.prototype.wsa=function(){var a,d;a=[];if(null!==this.j.Mc.value)for(var b=this.j.Mc.value.rj,c=0;c<b.length;c++){d=this.TC(b[c]);null!==d&&a.push(d);}return a;};b.prototype.Jcb=function(){return this.j.muted.value;};b.prototype.Cab=function(){return this.j.volume.value;};b.prototype.r8a=function(){return this.TC(this.j.Mc.value);};b.prototype.vsa=function(){return this.TC(this.j.pc.value);};b.prototype.tcb=function(){return!!this.j.background;};b.prototype.nob=function(a){this.j.muted.set(!!a);};b.prototype.Bob=function(a){this.j.volume.set(this.Mwa(a,1));};b.prototype.rob=function(a){this.j.playbackRate.set(this.Mwa(a,2));};b.prototype.cob=function(a){var b,c;b=this;c=this.j.Cm.find(function(c){return b.TC(c)===a;});c?this.j.Mc.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.xAa=function(a){var d;if(null!==this.j.Mc.value){for(var b=this.j.Mc.value.rj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.pc.set(null);return;}if(this.TC(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.pc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.hAa=function(a){this.j.background=a;};b.prototype.iL=function(){this.j.iL();};b.prototype.addEventListener=function(a,b,c){this.oc.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.oc.removeListener(a,b);};b.prototype.Iv=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,d){try{a.ud(h.lb.leb,void 0,!0);b.Ha&&(b.Ha.watermarkInfo&&a.ud(h.lb.etb,b.Ha.watermarkInfo,!0),b.Ha.choiceMap&&a.ud(h.lb.Anb,{segmentMap:b.Ha.choiceMap},!0));d({O:!0});}catch(x){d({T:c.H.Pe,Ga:a.Kd.Cc(x)});}}));};b.prototype.close=function(a){var b;b=this;this.Yna||(this.Yna=new Promise(function(c){a?b.j.qd(a,c):b.j.close(c);}));return this.Yna;};b.prototype.play=function(){this.j.Jn?this.j.fireEvent(h.X.Cza):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.X.zCa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.X.Dsb));};b.prototype.seek=function(a,b,c){this.j.Nh?this.j.Nh.seek(a,b,c):this.j.yr=a;};b.prototype.Ajb=function(a){return this.SB?(this.log.trace("Playing a segment",a),this.SB.play(a)):Promise.resolve();};b.prototype.Ykb=function(a){return this.SB?(this.log.trace("Queueing a segment",a),this.SB.yi(a)):Promise.resolve();};b.prototype.lq=function(a,b){return this.SB?(this.log.trace("Updating next segment weights",a,b),this.SB.lq(a,b)):Promise.resolve();};b.prototype.LL=function(){this.j.LL();};b.prototype.UR=function(){var a;a=this.j.ln.UR();return{bounds:a.qH,margins:a.Vm,size:a.size,visibility:a.visibility};};b.prototype.dL=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.CL&&(b&&this.j.CL.N$(b),c&&this.j.CL.O$(c),"boolean"===typeof a&&this.j.CL.P$(a));this.j.ln&&d&&this.j.ln.xob(d);};b.prototype.cV=function(a){this.j.cV(a);};b.prototype.oab=function(a){return this.j.Ns&&this.j.Ns.A9a(a)||null;};b.prototype.m8a=function(){return this.Kd.si({playerver:this.config.version,jssid:this.config.fdb,groupName:this.config.config.Dp,xid:this.j.ja,pbi:this.j.index},this.config.wjb,{prefix:"pi_"});};b.prototype.bcb=function(a){this.j.qd(this.mg(c.I.nHa,c.H.Yh,a));};b.prototype.aeb=function(a,b,c){if(!this.Pa.Fma(a))throw Error("invalid url");this.zxa.push({url:a,name:b,KYa:c});this.nya();};b.prototype.psa=function(){var a,b,c,d,f,g,h,l;a={};b=this.j.oK;try{if(this.j.Jh&&(a.errorCode=this.j.Jh.KQ,a.errorType=b?"endplay":"startplay"),a.playdelay=this.j.oK,a.xid=this.j.ja,this.j.Ha&&this.Pa.Ah(this.j.Ha.packageId)&&(a.packageId=Number(this.j.Ha.packageId)),a.auth=this.j.u8a(),a.hdr=this.j.L9a(),b){a.totaltime=this.j.vo?this.gy(this.j.vo.i5()):0;a.abrdel=this.j.vo?this.j.vo.tra():0;c=this.j.Nh;d=c?c.jy():null;this.Pa.Se(d)&&(a.totdfr=d);d=c?c.JI():null;this.Pa.Se(d)&&(a.totcfr=d);f=c?c.M9a():null;f&&(a.rbfrs_decoder=f.O3a,a.rbfrs_network=f.Ogb);a.rbfrs_delay=this.j.vo?this.j.vo.N9a():0;a.init_vbr=this.j.rS;g=this.QR();this.Pa.Al(g)&&(a.pdltime=g);h=this.j.ng.value;l=h&&h.stream;l&&(a.vbr=l.P,a.vdlid=l.sd);a.bufferedTime=this.j.wra();}}catch(z){this.log.error("error capturing session summary",z);}return a;};b.prototype.u4=function(){var a;a=this;return new Promise(function(b,c){a.j.u4(function(a){a.success?b(a):c(a);});});};b.prototype.pI=function(a){var b,c,d;b=this;if(this.Pa.Se(this.j.wd.value)){c=Object.assign({},this.lz.Au(this.j,!1),{action:a});d=this.CH(k.Uh.pI);return this.ZWa().then(function(a){return d.wp(b.log,a.profile,b.j.Ha.Ey,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.eb,errorExternalCode:a.Jc,errorData:a.data,errorDetails:a.Ju};});}return Promise.resolve({success:!1});};b.prototype.TC=function(a){var b;if(null!==a){b=a.Qkb=a.Qkb||{trackId:a.Wb,bcp47:a.Fj,displayName:a.displayName,trackType:a.Ci,channels:a.tk};a.Gp&&(b.isImageBased=!0);this.Ncb(a)&&(b.isNative=a.isNative);this.Ocb(a)&&(b.isNoneTrack=a.sJ(),b.isForcedNarrative=a.yS());return b;}return null;};b.prototype.Ncb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.Ocb=function(a){return"undefined"!==typeof a.sJ&&"undefined"!==typeof a.yS;};b.prototype.Mwa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.gy=function(a){return this.Pa.Se(a)?(a/1E3).toFixed(0):"";};b.prototype.ud=function(a,b,c){b=b||{};b.target=this;this.oc.Eb(a,b,!c);};b.prototype.vba=function(){var a;a=this;this.j.addEventListener(h.X.Eaa,function(){a.ud(h.lb.Jm);});this.j.addEventListener(h.X.eT,function(){a.ud(h.lb.vna);});this.j.addEventListener(h.X.Xp,function(){a.ud(h.lb.vna);});this.j.addEventListener(h.X.aD,function(b){a.ud(h.lb.aD,{errorCode:b});});this.j.addEventListener(h.X.ena,function(b){a.ud(h.lb.LYa,b.j);});this.j.addEventListener(h.X.Jn,function(b){a.ud(h.lb.MYa,b);});this.j.gU.addListener(function(){a.ud(h.lb.Mjb);});this.j.paused.addListener(function(){a.ud(h.lb.$ib);});this.j.muted.addListener(function(){a.ud(h.lb.Ggb);});this.j.volume.addListener(function(){a.ud(h.lb.$sb);});this.j.Uc.addListener(function(){a.fCa();});this.j.state.addListener(function(){a.fCa();});this.j.h1.addListener(function(b){a.ieb||a.j.state.value!=h.wh.Mq||b.newValue||(a.ieb=!0,a.ud(h.lb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.psa());}));a.ud(h.lb.i1);});this.j.Mc.addListener(function(b){a.ud(h.lb.PP);b.oldValue&&b.newValue&&b.oldValue.rj==b.newValue.rj||a.ud(h.lb.Qz);setTimeout(function(){var b;if(null!==a.j.Mc.value&&null!==a.j.pc.value){b=a.j.Mc.value.rj;0<=b.indexOf(a.j.pc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.pc.set(b[0]));}},0);});this.j.pc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.Wb==b.newValue.Wb||a.ud(h.lb.KE);});this.j.addEventListener(h.X.Qz,function(){a.ud(h.lb.Qz);});this.j.addEventListener(h.X.JL,function(){a.ud(h.lb.JL);});this.j.state.addListener(function(b){switch(b.newValue){case h.wh.Mq:a.ud(h.lb.n5a);a.ud(h.lb.Vsb);a.ud(h.lb.$ma);a.ud(h.lb.Qz);a.ud(h.lb.keb);a.nya();a.jtb();break;case h.wh.OY:a.j.Jh&&a.ud(h.lb.error,a.j.Jh.Qaa());break;case h.wh.NY:a.ud(h.lb.closed),a.oc.oC();}});};b.prototype.jtb=function(){var a;a=this;this.j.ln.addEventListener("showsubtitle",function(b){a.ud(h.lb.Vob,b,!0);});this.j.ln.addEventListener("removesubtitle",function(b){a.ud(h.lb.cmb,b,!0);});};b.prototype.nya=function(){if(this.j.state.value==h.wh.Mq){for(var a,b,c;b=this.zxa.shift();)a=this.j.ln.h0(b.url,b.name),b.KYa&&(c=a);c&&this.j.pc.set(c);}};b.prototype.fCa=function(){var a;a=this.j.state.value==h.wh.Mq&&this.j.Uc.value==h.wn.WW;this.ended!==a&&(this.ended=a,this.ud(h.lb.q6a));};b.prototype.QR=function(){var a,b;try{a=/playercore.*js/;b=f.Dq.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(u){}};d.jJa=b;},function(g,d,a){var c,h,l,f,k,m,n,q,t,v,B,y;function b(a){this.Lb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(468);l=a(21);f=a(23);k=a(24);m=a(9);n=a(68);q=a(226);t=a(825);v=a(225);B=a(62);y=a(71);b.prototype.K2a=function(a,b,c,d,g,h,p,r){return new t.jJa(this.Lb.get(l.ze),this.Lb.get(f.ne),this.Lb.get(k.Oe),this.Lb.get(m.yb),this.Lb.get(n.EM),this.Lb.get(q.RY),this.Lb.get(v.zY),this.Lb.get(B.$W),this.Lb.get(y.Ss),a,b,c,d,g,h,p,r);};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Eea))],a);d.IQa=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(414);c=a(826);d.Ssb=new g.Zb(function(a){a(b.yia).to(c.IQa).$();});},function(g,d,a){var c,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(22);b.prototype.Bkb=function(a,b,c){var d;if(this.config().Nnb){d=a.metrics;c||(void 0===d?b.rD.transition({isBranching:b.Ta.ff||void 0,srcxid:b.ja,srcmid:b.S,segment:a.segmentId,dataerror:"missingMetrics"}):b.rD.transition({isBranching:b.Ta.ff||void 0,srcxid:b.ja,srcmid:b.S,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard}));}};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.we))],h);d.nQa=h;},function(g,d,a){var h;function b(){}function c(a,b,c,d,g){this.debug=a;this.version=b;this.fdb=c;this.wjb=d;this.config=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);c.prototype.m4=function(){return this.config.nna;};c.prototype.gsa=function(){return this.config.Ojb;};b.prototype.Tu=function(a,b,d,g,h){return new c(a,b,d,g,h);};h=b;h=g.__decorate([a.N()],h);d.sPa=h;},function(g,d,a){var l,f,k,m;function b(a,b,c,d,f,g,h,l,p){var m;m=this;this.bc=b;this.j=c;this.HD=d;this.tv=f;this.ia=g;this.FP=h;this.mg=l;this.Waa=p;this.xz=function(){m.Qp&&(m.Qp.closed||m.Qp.unsubscribe(),m.Qp=void 0);};this.log=a.qb("SegmentManager",this.j);this.$e=new Map();this.Rta=!0;this.j.Ta.ff&&(this.j.addEventListener(k.X.u$,function(a){return m.dib(a);}),this.j.addEventListener(k.X.closed,this.xz));}function c(a,b){this.id=a;this.A1=b;}function h(a,b,c,d){return f.Yb.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(d,"__esModule",{value:!0});l=a(2);f=a(45);k=a(16);m=a(4);ia(h,f.Yb);h.prototype.toString=function(){return this.code+"-"+this.eb+" : "+this.message+"n"+JSON.stringify(this.data);};c.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Fo,contentEndPts:this.wC};};na.Object.defineProperties(c.prototype,{Fo:{configurable:!0,enumerable:!0,get:function(){return this.A1.startTimeMs;}},wC:{configurable:!0,enumerable:!0,get:function(){return this.A1.endTimeMs;}},Sgb:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.A1.next);}}});b.prototype.dib=function(a){var b,d;b=this;if(0===this.$e.size){d=this.j.IR();Object.keys(d).forEach(function(a){b.$e.set(a,new c(a,d[a]));});}this.Ba=this.$e.get(a.segmentId);this.Waa.Bkb(a,this.j,this.Rta);this.Rta=!1;};b.prototype.play=function(a){this.uz&&(this.uz=void 0);this.xz();this.log.trace("Playing segment",a);return this.Tta(a)?this.zjb(a):this.aU(a);};b.prototype.yi=function(a){this.log.trace("Queueing segment",a);return this.Tta(a)?this.Xkb(a):this.Zkb(a);};b.prototype.lq=function(a,b){var c,d;c=this;d=this.j.hb;if(!d)return Promise.reject(this.getError(l.I.bca,"ASE session manager is not yet initialized",l.H.rW,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.gba(a,b);c.j.fireEvent(k.X.lq,{en:a,msb:b});f();}catch(A){g(c.getError(l.I.bca,"updateNextSegmentWeights threw an exception",l.H.VDa,{segmentId:a,updates:b,error:A}));}});};b.prototype.Tta=function(a){return this.Ba?void 0!==this.j.IR()[this.Ba.id].next[a]:!1;};b.prototype.isa=function(){if(this.j.hb)return this.j.hb.hsa().Ed;};b.prototype.O8a=function(a){if(this.j.hb)return(a=this.j.hb.r4(a))&&a.Nc;};b.prototype.zjb=function(a){var b,c,d;b=this;c=this.j.hb;if(!c)return Promise.reject(this.getError(l.I.bF,"ASE session manager is not yet initialized",l.H.rW,{id:a}));if(this.Ba&&1===this.Ba.Sgb.length)return this.aU(a);if(!this.j.Nh)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.I.bF,"MediaPresenter is not initialized",l.H.SDa,{id:a}));d=this.O8a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.aU(a)):new Promise(function(f,g){var q,u,t,v,x,y;function h(){!t&&u&&q&&(y.cancel(),t=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:u,repositioned:q,completed:t}),c.ZB(a,!1,!0)?(f(),t=!0):(t=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.aU(a).then(f)["catch"](g)));}function p(){q=!0;b.log.trace("Player is repositioned",{id:a,stopped:u,repositioned:q,completed:t});b.j.removeEventListener(k.X.Xp,p);h();}function n(){b.j.removeEventListener(k.X.zz,n);c.stop();}function r(){u=!0;b.log.trace("ASE is stopped",{id:a,stopped:u,repositioned:q,completed:t});c.removeEventListener("stop",r);h();}q=!1;u=!1;t=!1;v=b.$e.get(a);x=v.Fo+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:x,currentSegment:b.Ba,nextSegment:v},null,"  "));b.j.fireEvent(k.X.CT,{wk:b.Ba&&b.Ba.id,DT:a});c.addEventListener("stop",r);b.j.addEventListener(k.X.zz,n);b.j.addEventListener(k.X.Xp,p);y=b.ia.Qf(m.oh(10),function(){t=!0;y.cancel();g(b.getError(l.I.bF,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.H.RDa,{id:a,stopped:u,repositioned:q,completed:t}));});b.bc.seek(x,k.Sg.JA);});};b.prototype.aU=function(a){var b;b=this.$e.get(a);return b?this.Rza(b,l.I.bF):Promise.reject(this.getError(l.I.bF,"Unable to find the separated segment",l.H.aca,{id:a}));};b.prototype.Xkb=function(a){var b;b=this.j.hb;if(!b)return Promise.reject(this.getError(l.I.lw,"ASE session manager is not yet initialized",l.H.rW,{id:a}));if(b.ZB(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.I.lw,"ASE chooseNextSegment failed",l.H.ODa,{id:a}));};b.prototype.Zkb=function(a){var b,c;b=this;if(this.uz)return Promise.reject(this.getError(l.I.lw,"Unable to queue a non-next segment because there is currently already a segment queued",l.H.UDa,{currentSegment:this.Ba?this.Ba.id:void 0,queuedSegment:this.uz.id,failedSegment:a}));if(!this.Ba)return Promise.reject(this.getError(l.I.lw,"Unable to queue a non-next segment because there is no currently playing segment",l.H.PDa,{nextSegmentid:a}));c=this.$e.get(a);if(!c)return Promise.reject(this.getError(l.I.lw,"Unable to find the separated segment",l.H.aca,{nextSegmentid:a,currentSegmentId:this.Ba.id}));this.uz={id:a,YD:new Promise(function(d,f){var g,h;g=b.HD.Ioa({gsa:function(){return 100;}},function(){return b.bc.yp()||0;});h=b.isa()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});g.oma(b.tv.Hoa(a+":lastPts",h));b.Qp=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.Ba.id,playerEndPts:b.isa(),pts:h});b.uz=void 0;b.xz();b.Rza(c,l.I.lw).then(d)["catch"](f);},function(c){b.uz=void 0;b.xz();f(b.getError(l.I.lw,"ASE session manager is not yet initialized",l.H.QDa,{id:a,error:c}));});})};this.uz.YD["catch"](function(a){b.j.qd(b.mg(a.code,a));});return Promise.resolve();};b.prototype.Rza=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.bc.seek(a.Fo,k.Sg.IA);d();}catch(y){f(c.getError(b,"Seek threw an exception",l.H.TDa,{id:a.id,error:y}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};d.nEa=b;},function(g,d,a){var f,k,m;function b(a,b,c,d,g,h,l,p,m){var n;n=this;this.Va=a;this.tv=c;this.HD=d;this.S8=g;this.config=h;this.mg=l;this.rK=p;this.F6a=Object.keys(k.lb).map(function(a){return{event:k.lb[a],bv:function(b){return n.oc.Eb(k.lb[a],b);}};});this.oc=m.create();this.Pv=[];this.log=b.qb("SegmentManager");new f.Ji();this.N3=!0;}function c(a,b,c,d,g,l,k,p,m){var n;n=this;this.log=a;this.config=b;this.Ahb=c;this.tv=d;this.S8=g;this.mg=l;this.rK=k;this.$p=p;this.qa=m;this.xz=function(){n.Qp&&(n.Qp.closed||n.Qp.unsubscribe(),n.Qp=void 0);};this.log.debug("Constructing session data",h(m));this.R6=new f.Ji();this.Uqb=new Promise(function(a){n.llb=a;});}function h(a){return{movieId:a.S,uiLabel:a.wc};}function l(a){return JSON.stringify({movieId:a.S,nextStartPts:a.bK,currentEndPts:a.iC,uiLabel:a.wc,params:a.cb?{trackingId:a.cb.Tf,authParams:a.cb.PB,sessionParams:a.cb.zi,disableTrackStickiness:a.cb.R2,uiPlayStartTime:a.cb.OV,loadImmediately:a.cb.QS,playbackState:a.cb.playbackState?{currentTime:a.cb.playbackState.currentTime,volume:a.cb.playbackState.volume,muted:a.cb.playbackState.muted}:void 0,pin:a.cb.iz,heartbeatCooldown:a.cb.v5}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});f=a(87);k=a(16);m=a(4);c.prototype.load=function(a){var b;b=this;this.log.trace("Loading new segment",h(this.qa));this.bc=this.S8.K2a(this.config,this.rK,this.mg,this.qa.S,this.qa.Zm,this.qa.cb,this.qa.wc,this.qa.je);this.bc.addEventListener(k.lb.aD,function(a){b.log.trace("Segment is inactive",h(b.qa));b.$p.close(b.mg(a.errorCode));});this.bc.addEventListener(k.lb.closed,this.xz);a&&(this.log.debug("Pausing background segment",h(this.qa)),this.bc.addEventListener(k.lb.n6,function(a){b.Esa(a);}),this.bc.pause());};c.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",l(this.qa));if(this.Qp)this.log.trace("Segment is currently observing",h(this.qa));else if(this.qa.cb&&this.qa.cb.QS)this.R6.next(this);else{b=this.Ahb.Ioa(this.config,function(){var b;if(a.bc){b=a.bc.yp();if(b)return b;}return 0;});c=this.tv.Hoa("LOAD",this.XZa(this.qa));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.oma(c);this.Qp=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.qa));a.R6.next(a);a.xz();});}};c.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.qa),error:a});return this.bc?(this.bc.removeEventListener(k.lb.n6,this.Esa),this.bc.close(a)):Promise.resolve();};c.prototype.XZa=function(a){var b,c;b=a.iC;a=a.cb?a.cb.QS:!1;c=0;b&&!a&&(c=b-this.config.config.Hua,c<this.config.config.jva&&(c=b-(b-this.config.config.jva)/2));return c;};c.prototype.Esa=function(a){this.log.trace("Received the transition event",{movieId:a.S});this.llb(l(this.qa));};b.prototype.U4=function(){return this.Pd&&this.Pd.bc?this.Pd.bc.isReady():!1;};b.prototype.Cp=function(){if(!this.Pd||!this.Pd.bc)throw Error("Player not ready");return this.Pd.bc;};b.prototype.l0=function(a){this.log.info("Adding segment",l(a));this.N3?(this.log.trace("First segment, loading",h(a)),a=this.Gua(a),this.N3=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.Gmb(a));return a?a.Uqb:null;};b.prototype.transition=function(a){var b;if(this.ns&&this.ns.bc){b=this.ns;this.ns=void 0;this.log.info("Transitioning segment",l(b.qa));b&&b.bc&&b.bc.cV(this.Va.He().ma(m.za));return this.NBa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.Pd.qa)),nextSession:this.ns?JSON.stringify(h(this.ns.qa)):void 0});c=[this.Pd.close(a)];this.ns&&c.push(this.ns.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.ns=void 0;b.Pv=[];b.N3=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.oc.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.oc.removeListener(a,b);};b.prototype.Gua=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.Pd&&(this.config.m4()[a.S]=a.bK);c=this.w7a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.R6.subscribe(function(a){b.Lqb(a);});this.Pd?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.ns=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.NBa(c));return c;};b.prototype.NBa=function(a,b){var c,d,f;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.qa));c=this.Pd;this.Pd=a;if(this.Pd.bc&&(this.Pd.bc.hAa(!1),this.vba(this.Pd.bc,c?c.bc:void 0),c&&c.bc)){d=c.bc.ky();a=this.Pd.bc.ky();f=d.parentElement;d.style.display="none";c=c.close();f.appendChild(a);this.Pd.bc&&(a.style.display="block",this.Pd.bc.getError()?this.Pd.bc.close():(this.Pd.bc.j.bsb(b),this.Pd.bc.iL(),this.Pd.bc.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Lqb=function(a){var b,c,d,f;if(this.Pv.length&&a.bc){a=a.bc.yp();b=this.Pv[0];c=this.Pd.qa.iC;d=this.Pd.qa.cb?this.Pd.qa.cb.QS:!1;if(c||d){d?f=0:c&&(f=c-this.config.config.Hua);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.qa)),this.Gua(b.qa),this.Pv.splice(0,1));}}};b.prototype.w7a=function(a){var b;b=null;this.Pd?this.Pv.forEach(function(c){c.qa.S===a.S&&(b=c);}):b=this.Ir(a);return b;};b.prototype.Gmb=function(a){var c;if(this.Pd.qa.S===a.S)return this.qxa(this.Pd.qa,a),this.log.trace("Overwrote the currently playing segment data",l(this.Pd.qa)),this.Pd;for(var b=0;b<this.Pv.length;++b){c=this.Pv[b];if(c.qa.S===a.S)return this.qxa(c.qa,a),this.log.trace("Overwrote the currently playing segment data",l(c.qa)),c;}a=this.Ir(a);this.Pv.push(a);this.Pd.observe();return a;};b.prototype.qxa=function(a,b){a.bK=b.bK||a.bK;a.iC=b.iC||a.iC;a.wc=b.wc||a.wc;a.cb=b.cb||a.cb;a.je=b.je||a.je;};b.prototype.Ir=function(a){return new c(this.log,this.config,this.HD,this.tv,this.S8,this.mg,this.rK,this,a);};b.prototype.vba=function(a,b){this.F6a.forEach(function(c){b&&b.removeEventListener(c.event,c.bv);a.addEventListener(c.event,c.bv);});this.oc.Eb(k.Zga.Sza);};d.uPa=b;},function(g,d,a){var c,h,l,f,k,m,n,q,t,v,B,y,A,z;function b(a,b,c,d,f,g,h,l,k,p,m){this.Va=a;this.gf=b;this.tv=c;this.HD=d;this.Tsb=f;this.rK=g;this.ia=h;this.FP=l;this.Waa=k;this.mg=p;this.q3=m;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(24);l=a(9);f=a(418);k=a(417);m=a(63);n=a(415);q=a(414);t=a(831);v=a(830);B=a(82);y=a(30);A=a(413);a=a(420);b.prototype.G2a=function(a){return new t.uPa(this.Va,this.gf,this.tv,this.HD,this.Tsb,a,this.mg,this.rK,this.q3);};b.prototype.m2a=function(a,b,c){c=void 0===c?this.mg:c;return new v.nEa(this.gf,a,b,this.HD,this.tv,this.ia,this.FP,c,this.Waa);};z=b;z=g.__decorate([c.N(),g.__param(0,c.l(h.Oe)),g.__param(1,c.l(l.yb)),g.__param(2,c.l(f.Bfa)),g.__param(3,c.l(k.Cfa)),g.__param(4,c.l(q.yia)),g.__param(5,c.l(n.Uga)),g.__param(6,c.l(y.ag)),g.__param(7,c.l(B.jW)),g.__param(8,c.l(A.hia)),g.__param(9,c.l(m.ak)),g.__param(10,c.l(a.DM))],z);d.tPa=z;},function(g,d,a){var b,c,h,l,f,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(226);c=a(416);h=a(832);l=a(829);f=a(413);k=a(828);d.$e=new g.Zb(function(a){a(b.RY).to(h.tPa).$();a(c.Lha).to(l.sPa).$();a(f.hia).to(k.nQa).$();});},function(g,d,a){var c;function b(a,b){this.config=a;this.wd=b;this.XJ=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(87);b.prototype.oma=function(a){0===this.XJ.filter(function(b){return b.a8===a;}).length&&this.XJ.push({a8:a,Eya:!1});};b.prototype.observe=function(){var a;a=this;return c.sa.interval(this.config.gsa()).Tr(function(){var b,d;b=a.wd();d=a.XJ.filter(function(a){return!a.Eya&&a.a8.time<=b;});d.forEach(function(a){a.Eya=!0;});return c.sa.from(d.map(function(a){return a.a8;}));});};d.bLa=b;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(834);b.prototype.Ioa=function(a,b){return new h.bLa(a,b);};a=b;a=g.__decorate([c.N()],a);d.aLa=a;},function(g,d){function a(a,c){this.name=a;this.time=c;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>c)throw new TypeError("'time' property is not valid: "+c);}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.add=function(b,c){return new a(b,this.time+c);};a.prototype.Jd=function(b,c){return new a(b,this.time-c);};d.$Ka=a;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(836);b.prototype.Hoa=function(a,b){return new h.$Ka(a,b);};a=b;a=g.__decorate([c.N()],a);d.ZKa=a;},function(g,d,a){var b,c,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(418);c=a(837);h=a(417);l=a(835);d.XJ=new g.Zb(function(a){a(b.Bfa).to(c.ZKa).$();a(h.Cfa).to(l.aLa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(g,d,a){var v,B,y,A;function b(a,b){this.Ce=a;this.Kd=b;this.Zc=[];}function c(a){return t.call(this,a,function(a){return{Details:a};})||this;}function h(a){return t.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=t.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.Ce=a;return b;}function f(a,b){b=t.call(this,b,function(a){return a();})||this;b.Kd=a;return b;}function k(a,b){return n.call(this,a,b,function(a){var b;b=B.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.Z_a(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function m(a){return t.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=t.call(this,b,c)||this;b.Kd=a;return b;}function q(a){return t.call(this,a,function(a){return{Details:a};})||this;}function t(a,b){this.Co=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);v=a(1);B=a(839);y=a(21);a=a(44);t.prototype.rI=function(a){return this.Co===a;};ia(q,t);q.prototype.Tz=function(a,b){return b?"":"rn"+this.Co;};ia(n,t);n.prototype.Tz=function(){var a;a="";this.Kd.Qr(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(E){try{a+=", "+b+": "+JSON.stringify(c);}catch(qa){a+=", error stringifying "+b;}}});return a.replace(/[rn]+ */g," ");};ia(m,t);m.prototype.Tz=function(a){var b;b="rn"+this.Co.message;a||(b+="rn"+this.Co.stack);return b;};ia(k,n);k.Z_a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.Tvb=k;ia(f,t);f.prototype.Tz=function(){var a;a="";this.Kd.Qr(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[rn]+ */g," ");};ia(l,t);l.prototype.Tz=function(a,b){return this.Co&&!b?"rn"+this.Ce.encode(this.Co):"";};ia(h,t);h.prototype.Tz=function(){return this.Co?this.Co.toJSON():"";};ia(c,t);c.prototype.Tz=function(){return", "+(this.Co.toString?""+this.Co.toString():"");};b.prototype.zXa=function(a){this.Zc.push(new q(a));};b.prototype.qXa=function(a){this.Zc.push(new n(this.Kd,a));};b.prototype.iXa=function(a){this.Zc.push(new m(a));};b.prototype.hXa=function(a){this.Zc.push(new k(this.Kd,a));};b.prototype.lXa=function(a){this.Zc.push(new f(this.Kd,a));};b.prototype.AXa=function(a){this.Zc.push(new l(this.Ce,a));};b.prototype.pXa=function(a){this.Zc.push(new h(a));};b.prototype.BXa=function(a){this.Zc.push(new c(a));};b.prototype.Ln=function(){return this.Zc;};A=b;A=g.__decorate([v.N(),g.__param(0,v.l(a.tj)),g.__param(1,v.l(y.ze))],A);d.LJa=A;},function(g,d,a){var c,h,l,f;function b(a,b){this.Ce=a;this.Kd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(840);l=a(44);a=a(21);b.prototype.V9a=function(){return new h.LJa(this.Ce,this.Kd);};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(l.tj)),g.__param(1,c.l(a.ze))],f);d.KJa=f;},function(g,d,a){var c,h;function b(a,b,c,d,g,h,k){this.level=a;this.Hm=b;this.timestamp=c;this.message=d;this.Zc=g;this.prefix=h;this.index=void 0===k?0:k;}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.EL=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Tpb(!!a));return(this.timestamp.ma(c.za)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Hm+"| "+a;};b.prototype.Tpb=function(a){var g;for(var b=this.Zc.length,c="",d=0;d<b;++d){g=this.Zc[d].Co;d&&c.length&&(c+=" ");if("object"===typeof g)if(null===g)c+="null";else if(g instanceof Error)c+=this.Spb(g,a);else try{c+=JSON.stringify(g);}catch(u){c+=this.Rpb(g);}else c+=g;}return c;};b.prototype.Spb=function(a,b){return a.toString()+(a.stack&&!b?"n"+a.stack:"")+"n";};b.prototype.Rpb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.GDa=b;},function(g,d,a){var c,h;function b(a,b,d,g,h,k){a=c.HF.call(this,a,b,d,g)||this;a.Iab=h;Array.isArray(k)?a.prefix=k:k&&"string"===typeof k&&(a.prefix=[],a.prefix.push(k));return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(227);h=a(842);ia(b,c.HF);b.prototype.gu=function(a,b,c){a=new h.GDa(a,this.Hm,this.Va.He(),b,c,this.prefix);b=Aa(this.pj.pj);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.g2=function(a){return new b(this.Va,this.zr,this.pj,a,this.Iab,this.prefix);};d.HDa=b;},function(g,d,a){var c,h,l;function b(a,b,d,g,h){a=l.HF.call(this,a,b,d,h)||this;a.j=g;c.Hk(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});c=a(51);h=a(419);l=a(227);ia(b,l.HF);b.prototype.g2=function(a){return new b(this.Va,this.zr,this.pj,this.j,a);};b.prototype.gu=function(a,b,c){a=new h.Xea(a,this.Hm,this.Va.He(),b,c,this.j.index);b=Aa(this.pj.pj);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};d.VNa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,b,c,d){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==d&&(this.message=d);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(845);d.VB=function(a,d){var f;a=a.V9a();for(var c=0;c<d.length;++c){f=d[c];void 0!=f&&null!=f&&(f.Mf&&(f=f.Mf),f.constructor===Uint8Array?a.AXa(f):"MediaRequest"===f.constructor.name?a.pXa(f):"string"===typeof f?a.zXa(f):"function"===typeof f?a.lXa(f):f instanceof Error?a.iXa(f):f instanceof b.EnumeratedErrorBase?a.hXa(f):f instanceof Object?a.qXa(f):a.BXa(f));}return a.Ln();};},function(g,d,a){var c,h,l,f,k,m,n;function b(a,b,c){this.Va=a;this.pj=b;this.Y6=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(227);h=a(1);l=a(844);f=a(24);k=a(83);m=a(9);n=a(843);b.prototype.qb=function(a,b,d,f,g){d=void 0===d?this.pj:d;return b?new l.VNa(this.Va,this.Y6,d,b,a):g?new n.HDa(this.Va,this.Y6,d,a,f||"",g):new c.HF(this.Va,this.Y6,d,a);};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.Oe)),g.__param(1,h.l(k.yw)),g.__param(2,h.l(m.Yea))],a);d.TJa=a;},function(g,d,a){var c;function b(){this.uE={};this.pj=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.bE=function(a,b){var c;c=this;b&&(this.uE[a]=b,this.pj=Object.keys(this.uE).map(function(a){return c.uE[a];}));};b.prototype.$Ba=function(a){var b;b=this;delete this.uE[a];this.pj=Object.keys(this.uE).map(function(a){return b.uE[a];});};c=b;c=g.__decorate([a.N()],c);d.UJa=c;},function(g,d,a){var b,c,h,l,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(848);c=a(847);g=a(1);h=a(83);l=a(9);f=a(841);d.Heb=new g.Zb(function(a){a(l.yb).to(c.TJa).$();a(h.yw).to(b.UJa).$();a(l.Yea).to(f.KJa).$();});},function(g,d,a){var c,h;function b(a,b){this.ia=a;this.jQ=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(30);b.prototype.nb=function(a){this.oC();this.oj=this.ia.Qf(this.jQ,a);};b.prototype.oC=function(){this.oj&&this.oj.cancel();this.oj=void 0;};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.ag))],h);d.AGa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zGa="DebouncerFactorySymbol";},function(g,d,a){var c,h,l;function b(a,b,c){this.ia=a;this.Tqb=b;this.bv=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(30);h=a(1);l=a(4);b.prototype.up=function(){this.oj||(this.oj=this.ia.Qf(l.sb(this.Tqb),this.bv));};b.prototype.Sf=function(){this.oj&&this.oj.cancel();this.oj=void 0;};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(c.ag))],a);d.hQa=a;},function(g,d,a){var c,h,l;function b(a){this.Xb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(21);l=a(5);b.prototype.YXa=function(a){var b;b={prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,supportsLimitedDurationLicense:!0,licenseRenewalRequestDelay:5E3,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15};14<=this.p9a(l.vh)&&this.Xb.si(a,b);};b.prototype.p9a=function(a){return(a=a.match(/Edge/(d*)./))&&Number(a[1])||0;};b.prototype.Mma=function(a,b,c){this.o9a(l.vh)>=a&&this.Xb.si(b,c);};b.prototype.o9a=function(a){return(a=a.match(/Edg/(d*)./))&&Number(a[1])||0;};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ze))],a);d.CQa=a;},function(g,d){function a(){this.searchParams={};}function b(b){this.Qa=b;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};na.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Qa+this.searchParams.toString();}}});d.BQa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,d,a){var c;function b(a){this.ZSa=void 0===a?!1:a;this.pd={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.pd[b];c?this.ZSa&&-1!==c.indexOf(a)||c.push(a):this.pd[b]=[a];};b.prototype.remove=function(a,b){this.cr(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.cr(a);};b.prototype.G7a=function(){var a;a=this;return Object.keys(this.pd).sort().reduce(function(b,c){return b.concat(a.pd[c]);},[]);};b.prototype.cr=function(a,b){var c;c=this;Object.keys(this.pd).forEach(function(d){var f;if(void 0===b||b===parseInt(d)){d=c.pd[d];-1<(f=d.indexOf(a))&&d.splice(f,1);}});};c=b;c=g.__decorate([a.N()],c);d.nOa=c;},function(g,d,a){var c,h,l,f;function b(a,b,c){var d;d=this;this.app=a;this.ia=b;this.jQ=c;this.rs=function(a){d.oj=void 0;d.Irb(a||d.jQ);};this.qua=l.sb(-this.jQ.ma(l.za));}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(24);l=a(4);a=a(30);b.prototype.nb=function(a){this.j$=a;this.oj=this.oj||this.ib(this.rs);};b.prototype.oC=function(){this.oj&&this.oj.cancel();this.oj=void 0;};b.prototype.Irb=function(a){var b,c;b=this.app.He();if(this.j$){c=a.Jd(b.Jd(this.qua));0>=c.xl(l.Vf)?(a=this.j$,this.j$=void 0,this.qua=b,a()):this.oj=this.oj||this.ia.Qf(c,this.rs.bind(this,a));}};b.prototype.ib=function(a){return this.ia.Qf(l.Vf,a);};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(h.Oe)),g.__param(1,c.l(a.ag))],f);d.WPa=f;},function(g,d,a){var c,h,l,f,k,m,n,q,t;function b(a,b){this.Va=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(24);f=a(45);k=a(2);m=a(16);n=a(4);q=a(5);a=a(427);b.prototype.x4a=function(a){var b,d,g,h,l,p,r,q,u;b=this;l=a.wd.value;p=a.Dm.value;r=a.Uc.value;q=a.state.value;h={segmentId:a.P4(),mediaTime:l,segmentTime:a.ly(),bufferingState:c.xZa[p],presentingState:c.pkb[r],playbackState:c.Gjb[q],mseBuffersBusy:this.U$a(a),intBuffersBusy:this.K9a(a),tabVisible:this.sqb(),decodedFrameCount:this.N3a(a),videoElementInDom:this.Psb(a),lastVideoSync:this.Va.He().Jd(n.sb(a.vL)).ma(n.za)};u=r===m.wn.gG?a.Ta.ff?this.config.gxa:this.config.fxa:this.config.dwa;p!==m.nM.Lfa?(d=k.H.zFa,this.tna(h.mseBuffersBusy,h.intBuffersBusy)&&(g=c.cca)):r!==m.wn.Df&&(d=k.H.AFa,(a=a.Nh)&&a.kb.sourceBuffers.forEach(function(a){var d,f;d=c.Pfb[a.R];h[d+"Ranges"]=a.HR();a=a.buffered();if(0===a.length)h[d+"Undecoded"]=0,g=c.WDa;else{f=1E3*a.end(0)-l;h[d+"Undecoded"]=f;1<a.length&&(g=c.XDa);l<1E3*a.start(0)||l>1E3*a.end(0)?g=c.YDa:f<u.ma(n.za)?g=c.ZDa:b.tna(h.mseBuffersBusy,h.intBuffersBusy)&&(g=c.cca);}}));a="";try{a=JSON.stringify(h);}catch(K){a="Cannot stringify details: "+K;}return new f.Yb(k.I.gga,d,g,void 0,void 0,void 0,a,void 0);};b.prototype.U$a=function(a){var b;if(a.kb){b={};a.kb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.K9a=function(a){var b;if(a.kb){b={};a.kb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.Ak()};});return b;}};b.prototype.sqb=function(){return!q.yd.hidden;};b.prototype.N3a=function(a){return(a=a.Nh)&&(a=a.kb.Ca)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Psb=function(a){if(a=a.Nh)if(a=a.kb.Ca)return q.yd.body.contains(a);return!1;};b.prototype.tna=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};t=c=b;t.WDa="1";t.XDa="2";t.YDa="3";t.cca="4";t.ZDa="5";t.Pfb=["Audio","Video"];t.xZa=["","NORMAL","BUFFERING","STALLED"];t.pkb=["","WAITING","PLAYING ","PAUSED","ENDED"];t.Gjb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];t=c=g.__decorate([h.N(),g.__param(0,h.l(l.Oe)),g.__param(1,h.l(a.Dfa))],t);d.DGa=t;},function(g,d,a){var c,h,l,f;function b(a,b){this.Va=a;this.entries=[];this.ga=b.qb("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(24);l=a(4);a=a(9);b.prototype.mark=function(a,b){a={name:a,ja:b,Oqb:this.Va.He()};this.entries.push(a);return a;};b.prototype.$9a=function(){return this.entries.slice();};b.prototype.Wra=function(){var a;a={};try{a=this.$9a().filter(function(a){return!a.ja;}).reduce(function(a,b){a[b.name]=b.Oqb.ma(l.za);return a;},{});}catch(m){this.ga.error(" getMapOfCommonMarks exception",m);}return a;};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(h.Oe)),g.__param(1,c.l(a.yb))],f);d.jQa=f;},function(g,d,a){var c,h,l,f;function b(a){return h.jM.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(38);h=a(37);l=a(1);a=a(26);ia(b,h.jM);na.Object.defineProperties(b.prototype,{xCa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;g.__decorate([c.config(c.Te,"usePerformanceApi")],f.prototype,"xCa",null);f=g.__decorate([l.N(),g.__param(0,l.l(a.AW))],f);d.gFa=f;},function(g,d,a){var c,h,l,f;function b(a){a=h.jM.call(this,a,"DebugConfigImpl")||this;a.qDb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(38);h=a(37);l=a(1);a=a(26);ia(b,h.jM);na.Object.defineProperties(b.prototype,{qZa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;g.__decorate([c.config(c.Te,"breakOnError")],f.prototype,"qZa",null);f=g.__decorate([l.N(),g.__param(0,l.l(a.AW))],f);d.BGa=f;},function(g,d,a){var c,h,l,f;function b(a,b,c){this.config=a;this.Pa=b;this.ga=c.qb("General");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(23);l=a(136);a=a(9);b.prototype.assert=function(){};b.prototype.lYa=function(a,b){this.assert(this.Pa.Al(a),b);};b.prototype.mYa=function(a,b){this.assert(this.Pa.eh(a),b);};b.prototype.rYa=function(a,b){this.assert(this.Pa.Ah(a),b);};b.prototype.uYa=function(a,b){this.assert(this.Pa.Ti(a),b);};b.prototype.sYa=function(a,b){this.assert(this.Pa.Ah(a)||null===a||void 0===a,b);};b.prototype.pYa=function(a,b){this.assert(this.Pa.Se(a),b);};b.prototype.oYa=function(a,b){this.assert(this.Pa.t0(a),b);};b.prototype.tYa=function(a,b){this.assert(this.Pa.kp(a),b);};b.prototype.qYa=function(a,b){this.assert(this.Pa.HB(a),b);};b.prototype.jYa=function(a,b){this.assert(this.Pa.GB(a),b);};b.prototype.nYa=function(a,b){this.assert(this.Pa.YG(a),b);};b.prototype.pcb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.dFb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(r){return r.stack;}};};f=b;f=g.__decorate([c.N(),g.__param(0,c.l(l.Yca)),g.__param(1,c.l(h.ne)),g.__param(2,c.l(a.yb))],f);d.CGa=f;},function(g,d,a){var c,h,l,f;function b(a,b){this.is=a;this.Kd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(23);a=a(21);b.prototype.encode=function(a){var b,c;b=this;c="";this.Kd.Qr(a,function(a,d){a=b.jqa(a)+"="+b.jqa(d);c=c?c+(","+a):a;});return c;};b.prototype.jqa=function(a){return this.is.Al(a)?this.is.Se(a)?""+a:this.is.Ah(a)?(a=a.replace(c.Pya,this.Xeb.bind(this)),!c.$kb.test(a)&&c.Hgb.test(a)&&(a='"'+a+'"'),a):this.is.GB(a)?""+a:this.is.$_(a)?"NaN":"":"";};b.prototype.Xeb=function(a){return c.map[a];};f=c=b;f.map={'"':'""',"r":"","n":" "};f.Pya=/(?!^.+)["rn](?=.+$)/g;f.$kb=/["].*["]/g;f.Hgb=/[", ]/;f=c=g.__decorate([h.N(),g.__param(0,h.l(l.ne)),g.__param(1,h.l(a.ze))],f);d.sFa=f;},function(g,d,a){var c,h,l,f;function b(a,b){this.Ka=a;this.DR=this.Ka.hg.ma(l.za)-1;this.zeb=this.KS=0;this.id=""+b.KH();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(36);l=a(4);a=a(117);b.prototype.He=function(){var a,b;a=this.Ka.hg.ma(l.za)-this.DR;if(a<this.KS){b=this.KS+1;this.DR-=b-a;a=b;}this.KS=a;return l.sb(this.KS);};b.prototype.Vra=function(){return this.zeb++;};na.Object.defineProperties(b.prototype,{nD:{configurable:!0,enumerable:!0,get:function(){return l.sb(this.DR);}}});f=b;f=g.__decorate([c.N(),g.__param(0,c.l(h.Fi)),g.__param(1,c.l(a.oA))],f);d.wDa=f;},function(g){g.M="function"===typeof Object.create?function(d,a){d.eqb=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function b(){}d.eqb=a;b.prototype=a.prototype;d.prototype=new b();d.prototype.constructor=d;};},function(g){g.M=function(d){return d&&"object"===typeof d&&"function"===typeof d.qp&&"function"===typeof d.fill&&"function"===typeof d.THb;};},function(g,d,a){var c;function b(a){this.l8a=a;this.bS=!1;this.jS=this.GL=this.HE=0;this.dJ=!1;this.kS=0;}Object.defineProperty(d,"__esModule",{value:!0});c=a(229);b.prototype.rXa=function(a){a<this.HE&&(this.GL+=this.HE);this.HE=a;this.bS=!0;};b.prototype.R8a=function(){if(this.bS)return this.dJ?this.kS-this.jS:this.GL+this.HE-this.jS;};b.prototype.refresh=function(){var a;a=this.l8a();c.ka(a)&&this.rXa(a);};b.prototype.ipb=function(){this.dJ||(this.bS&&(this.kS=this.GL+this.HE),this.dJ=!0);};b.prototype.ypb=function(){this.dJ&&(this.bS&&(this.jS+=this.GL+this.HE-this.kS),this.kS=0,this.dJ=!1);};d.NLa=b;},function(g,d,a){var c,h,l;function b(a){this.ia=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(30);l=a(69);b.prototype.Sl=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ia.Qf(a,function(){f(new l.xn(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.ag))],a);d.sOa=a;},function(g,d,a){var c,h,l,f,k,m,n,q;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};k={};m={};n={};q=/s+/g;[l,h].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];f[c]=b<<18;k[c]=b<<12;m[c]=b<<6;n[c]=b;}});b.prototype.encode=function(a){return c.h3(a,l,"=");};b.prototype.decode=function(a){return c.z2(a);};b.z2=function(a){var b,c,d;a=a.replace(q,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),g=0,h=0,l;h<c;){l=f[a[g++]]+k[a[g++]]+m[a[g++]]+n[a[g++]];if(!(0<=l&&16777215>=l))throw Error("bad base64");b[h++]=l>>>16;b[h++]=l>>>8&255;b[h++]=l&255;}if(0<d&&(l=f[a[g++]]+k[a[g++]],b[h++]=l>>>16,1<d&&(l+=m[a[g++]],b[h++]=l>>>8&255),!(0<=l&&16776960>=l&&0===(l&(1<d?255:65535)))))throw Error("bad base64");return b;};b.h3=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,l;f<h;){l=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=l&&16777215>=l))throw Error("not bytes");d+=b[l>>>18]+b[l>>>12&63]+b[l>>>6&63]+b[l&63];}if(f==h){l=(a[f++]<<8)+a[f++];if(!(0<=l&&65535>=l))throw Error("not bytes");d+=b[l>>>10]+b[l>>>4&63]+b[l<<2&63]+c;}else if(f==g-1){l=a[f++];if(!(0<=l&&255>=l))throw Error("not bytes");d+=b[l>>>2]+b[l<<4&63]+c+c;}return d;};h=c=b;h=c=g.__decorate([a.N()],h);d.bEa=h;},function(g,d,a){var c,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return c.h3(a);};b.prototype.decode=function(a){return c.z2(a);};b.h3=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,g="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};b.z2=function(a){var b,c,d,g,h;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)h=a.charCodeAt(d),128>h?c++:c=2048>h?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)h=a.charCodeAt(d),128>h?c[g++]=h:(2048>h?c[g++]=192|h>>>6:(c[g++]=224|h>>>12,c[g++]=128|h>>>6&63),c[g++]=128|h&63);return c;};h=c=b;h=c=g.__decorate([a.N()],h);d.DQa=h;},function(g,d,a){var c,h,l,f,k,m,n;function b(a,b,d,f){var g;g=this;this.config=a;this.e3a=b;this.oc=d;this.performance=f;this.eib=function(a){g.cAa=a.Jd(g.hg);};c.Hk(this,"date");c.Hk(this,"performance");this.RXa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.cAa=h.Vf;this.oc.addListener(n.Hea.eAa,this.eib);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(51);h=a(4);l=a(1);f=a(39);k=a(433);m=a(68);n=a(16);na.Object.defineProperties(b.prototype,{hg:{configurable:!0,enumerable:!0,get:function(){return this.ewa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.sb(this.e3a.now());}},G$:{configurable:!0,enumerable:!0,get:function(){return this.hg.add(this.cAa);}},ewa:{configurable:!0,enumerable:!0,get:function(){return this.config.xCa&&this.RXa;}}});a=b;a=g.__decorate([l.N(),g.__param(0,l.l(k.Cca)),g.__param(1,l.l(f.Xca)),g.__param(2,l.l(m.cX)),g.__param(3,l.l(f.AY)),g.__param(3,l.optional())],a);d.hFa=a;},function(g,d,a){var c,h;function b(a){this.rqb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);a=a(116);b.prototype.random=function(){return this.rqb.random();};b.prototype.s9=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([c.N(),g.__param(0,c.l(a.Uha))],h);d.BOa=h;},function(g,d,a){var c,h,l,f,k;function b(a,b){this.Ka=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(4);f=a(36);a=a(116);b.prototype.KH=function(){return this.Ka.hg.ma(l.jm)*c.rca+Math.floor(this.random.random()*c.rca);};k=c=b;k.rca=1E4;k=c=g.__decorate([h.N(),g.__param(0,h.l(f.Fi)),g.__param(1,h.l(a.ZF))],k);d.bJa=k;},function(g,d,a){var h,l,f,k;function b(a){this.LE=a;l.Hk(this,"timers");}function c(a,b){this.LE=a;this.j_a=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(51);f=a(39);k=a(4);c.prototype.cancel=function(){this.j_a(this.LE);};b.prototype.nb=function(a){return this.Qf(k.Vf,a);};b.prototype.Qf=function(a,b){var d;d=this.LE.setTimeout(b,a.ma(k.za));return new c(this.LE,function(a){a.clearTimeout(d);});};b.prototype.Kza=function(a,b){var d;d=this.LE.setInterval(b,a.ma(k.za));return new c(this.LE,function(a){a.clearInterval(d);});};a=b;a=g.__decorate([h.N(),g.__param(0,h.l(f.Bia))],a);d.pPa=a;},function(g,d,a){var b,c,h,l,f,k,m,n,q,x,v,w,y,A,z,I,N,E,J,O,K,X,W,ba,R,T,D,U,Y,aa,V,P,ma,ca,la,ta,fa,ea,ha,ia,ka,na,pa,ra,ua,ya,za,va,Aa,Ba,Ca,Ea,Fa,Ga,Ha,Ia,Ja,Na,Oa,Wa,Xa;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(39);c=a(36);h=a(30);l=a(117);f=a(116);k=a(873);m=a(872);n=a(871);q=a(870);x=a(98);v=a(85);w=a(44);y=a(21);A=a(23);z=a(68);I=a(69);N=a(432);E=a(869);J=a(230);O=a(868);K=a(431);X=a(867);W=a(121);ba=a(430);R=a(866);T=a(161);D=a(97);U=a(863);Y=a(24);aa=a(429);V=a(862);P=a(861);ma=a(136);ca=a(860);la=a(9);ta=a(433);fa=a(859);ea=a(115);ha=a(858);ia=a(428);ka=a(857);na=a(856);pa=a(84);ra=a(5);ua=a(426);ya=a(855);za=a(425);va=a(854);Aa=a(424);Ba=a(22);Ca=a(65);Ea=a(63);Fa=a(423);Ga=a(422);Ha=a(853);Ia=a(421);Ja=a(420);Na=a(114);Oa=a(852);Wa=a(851);Xa=a(850);d.c0a=new g.Zb(function(a){a(b.kt).Ng(JSON);a(b.Bia).Ng(t);a(f.Uha).Ng(Math);a(b.Uea).Ng(ra.aN);a(b.AY).Ng(ra.Dq);a(b.Xca).Ng(Date);a(b.yA).Ng(ra.Zj);a(b.QKa).Ng(ra.wA);a(ta.Cca).to(fa.gFa).$();a(Y.Oe).to(U.wDa).$();a(c.Fi).to(q.hFa).$();a(h.ag).to(k.pPa).$();a(l.oA).to(m.bJa).$();a(I.GA).to(X.sOa).$();a(f.ZF).to(n.BOa).$();a(ma.kF).to(P.CGa).$();a(ma.Yca).to(ca.BGa).$();a(x.Rw).to(E.DQa).$();a(v.Ws).to(J.sW).$();a(w.tj).to(O.bEa).$();a(y.ze).to(K.pia).$();a(A.ne).Ng(W.zq);a(Ia.DM).to(Ja.DHa).$();a(z.EM).to(ba.Xj).O5();a(z.jF).to(ba.Xj).$();a(z.cX).to(ba.Xj).$();a(T.rN).to(D.Mw).$();a(aa.Mca).to(V.sFa).$();a(ea.Qw).to(ha.jQa).$();a("Factory<LoggerFactory>").Wqb(la.yb);a(ia.$ca).to(ka.DGa).$();a(pa.Nw).ph(function(a){return function(b){return new na.WPa(a.ac.get(Y.Oe),a.ac.get(h.ag),b);};});a(Wa.zGa).ph(function(a){return function(b){return new Xa.AGa(a.ac.get(h.ag),b);};});a(ua.FY).Xqb(ya.nOa);a(ua.mOa).ph(function(a){var b;b=a.ac.get(ua.FY);return function(){return new b(!1);};});a(ua.fha).ph(function(a){var b;b=a.ac.get(ua.FY);return function(){return new b(!0);};});a(za.oia).ph(function(){return function(a){return new va.BQa(a);};});a(Ea.ak).ph(function(a){return function(b,c,d){var f,g,h;f=a.ac.get(ma.kF);g=a.ac.get(Ba.we);h=a.ac.get(Ca.un);return new Aa.bOa(f,g,h,Fa.tfa,b,c,d);};});a(N.Yfa).ph(function(){return function(a){return new R.NLa(a);};});a(Ga.bZ).to(Ha.CQa).$();a(Na.Pw).ph(function(a){return function(b,c){return new Oa.hQa(a.ac.get(h.ag),b,c);};});});},function(g,d,a){var b,c,h,l,f,k,m,n,q,t,v,w,y,A,z,I,N,E,J,O,K,X,W,ba,R,T,D,U,Y,aa,V,P,ma;Object.defineProperty(d,"__esModule",{value:!0});b=a(874);c=a(849);h=a(838);l=a(833);f=a(827);k=a(824);m=a(820);n=a(808);q=a(796);t=a(793);v=a(789);w=a(787);y=a(646);A=a(243);z=a(643);I=a(639);N=a(624);E=a(617);J=a(610);O=a(602);K=a(596);X=a(242);W=a(588);ba=a(586);R=a(579);T=a(575);D=a(572);U=a(570);Y=a(565);aa=a(549);V=a(532);P=a(527);ma=a(523);d.$db=function(a){a.load(b.c0a,k.Oz,c.Heb,m.IQ,q.ZP,h.XJ,l.$e,f.Ssb,n.storage,t.Z0,v.OZa,w.Veb,y.Xm,A.Bh,z.Eg,I.Eeb,N.Pgb,E.c8a,J.Jkb,O.dU,K.p5a,X.eme,W.crypto,ba.Kd,R.Usb,T.fYa,D.zgb,U.bjb,Y.j,aa.b0a,V.xrb,P.dj,ma.vi);};},function(g,d,a){var h,l;function b(a,b,c,d,g){this.Va=a;this.config=b;this.ia=c;this.rs=d;this.name=g;}function c(a,b,c,d){var f;f=this;this.Va=a;this.ia=b;this.timeout=c;this.Sqb=d;this.$ab=function(){f.xH=!0;f.zy.cancel();f.Sqb();};this.startTime=this.Va.He();this.zy=this.ia.Qf(this.timeout,function(){f.$ab();});this.xH=!1;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(89);c.prototype.stop=function(){this.xH||(this.sV=this.Va.He(),this.zy.cancel());};na.Object.defineProperties(c.prototype,{aqa:{configurable:!0,enumerable:!0,get:function(){if(this.sV&&this.startTime)return this.sV.Jd(this.startTime);}}});b.prototype.p_a=function(){var a;a=this;this.XB=new c(this.Va,this.ia,this.config.N5,function(){a.rs(new l.pf(h.I.LY,h.H.BM,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.N5+"ms"));});};b.prototype.o_a=function(){this.XB&&this.XB.stop();};b.prototype.Wnb=function(){this.Nv=this.Va.He();};b.prototype.q_a=function(){var a;a=this;this.RV=new c(this.Va,this.ia,this.config.m$,function(){a.rs(new l.pf(h.I.LY,h.H.UW,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.m$+"ms"));});};b.prototype.Jna=function(){this.RV&&this.RV.stop();};na.Object.defineProperties(b.prototype,{Tc:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.XB){b=this.XB.aqa;b&&(a.RJ=b);this.Nv&&this.XB.sV&&(a.Nv=this.Nv.Jd(this.XB.sV));}this.RV&&(b=this.RV.aqa)&&(a.DH=b);return a;}}});d.rHa=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.Wpa=function(a,c){for(var b=a.next(),d;b&&!b.done&&b.value;)d=b.value[0],b=b.value[1],c&&c(d,b),b=a.next();};d.uHa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pHa="EmeApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.uq||(d.uq={});g[g.qCa=0]="usable";g[g.O6a=1]="expired";g[g.Xlb=2]="released";g[g.kxa=3]="outputRestricted";g[g.uib=4]="outputDownscaled";g[g.upb=5]="statusPending";g[g.lcb=6]="internalError";},function(g,d,a){var c,h,l,f,k,m,n,q,t,v,w,y,A,z,I,N,E,J,O,K,X;function b(a,b,c,d,g,k,m,p,n){var r;r=this;this.Va=b;this.tl=c;this.config=d;this.tf=g;this.Th=k;this.$i=m;this.ia=p;this.Pk=n;this.onMessage=function(a){var b,c,d;b=r.Th.Y1(a);c=b.message;d=b.iT;r.ZU(b.sessionId);r.cv=r.Th.cv(b);r.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:r.cv});"license-renewal"===d&&(r.log.trace("Received a renewal request"),r.Hg=v.vj.dl,r.Ze=K.yz);r.Ze!==K.ie||r.cv||(r.wua={$i:r.$i,data:c},r.sl(w.Oo.Jya));r.Ze===K.yz&&r.sl(w.Oo.Kya);r.zJ&&(r.zJ.next({Mn:c,Nna:d,Hg:r.Hg}),r.Hg!==v.vj.dl||r.cv||(r.zJ.complete(),r.zJ=void 0));r.Ze===K.stop&&(r.Sf.o_a(),r.config.Rh&&r.UK&&(r.UK.next({Mn:c}),r.UK.complete(),r.UK=void 0));};this.Ywa=function(a){var b,c;b=r.Th.X1(a).x6;r.ZU(a.target.sessionId);r.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{E.uHa.Wpa(b,function(a,b){r.log.trace("key status: "+b);b=X[b];r.oua.next({uJ:new Uint8Array(a),value:b.status});b.error&&(c=new N.pf(b.error),r.s6(c));});}catch(ta){c=new N.pf(f.I.PMa);c.$H(ta);}c?r.t6(c):(r.Th.eQ()||r.jua(),r.Hg!==v.vj.ww||r.Th.Q0()||(r.log.info("Kicking off license renewal",{timeout:r.config.kv}),setTimeout(function(){r.K9();},r.config.kv.ma(l.za))));};this.qs=function(a){var b;b=r.Th.Sn(a);r.log.error("Received event: "+a.type,b);r.fs(b);r.t6(b);r.Kh||r.Gk||r.s6(b);};this.fs=function(a){r.Kh&&r.close().subscribe(void 0,function(b){r.log.error("EmeSession closed with an error.",r.Th.Sn(b));r.Kh&&(r.Kh.error(a),r.Kh=void 0);},function(){r.log.trace("Issuing a generate challenge error");r.Kh&&(r.Kh.error(a),r.Kh=void 0);});};this.iua=function(){r.Kh&&(r.Kh.complete(),r.Kh=void 0);};this.t6=function(a){r.Gk&&(r.log.error("Failed to add license",a),r.close().subscribe(void 0,function(b){r.log.error("EmeSession closed with an error.",r.Th.Sn(b));r.Ze===K.yz&&r.sl(w.Oo.tma);r.Kh=void 0;r.Gk&&(r.Gk.error(a),r.Gk=void 0);},function(){r.log.trace("Issuing a license error");r.Kh=void 0;r.Gk&&(r.Gk.error(a),r.Gk=void 0);}));};this.jua=function(){r.Gk&&(r.log.info("Successfully added license"),r.Ze===K.ie?r.sl(w.Oo.mma):r.Ze===K.yz&&r.sl(w.Oo.sma),r.Gk.complete(),r.Gk=void 0);};this.s6=function(a){r.Xn&&r.close().subscribe(void 0,function(b){r.log.error("EmeSession closed with an error.",r.Th.Sn(b));r.Kh=void 0;r.Gk=void 0;r.Xn&&(r.Xn.next(a),r.Xn.complete(),r.Xn=void 0);},function(){r.log.trace("Issuing a CDM error");r.Kh=void 0;r.Gk=void 0;r.Xn&&(r.Xn.next(a),r.Xn.complete(),r.Xn=void 0);});};this.sl=function(a){r.Tc.push({time:r.Va.He(),cgb:a});};this.log=a.qb("EmeSession");this.zJ=new h.Ji();this.config.Rh&&(this.UK=new h.Ji());this.oua=new h.$F();this.Xn=new h.Ji();this.Ze=K.Rrb;this.Tc=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(87);l=a(4);f=a(2);k=a(24);m=a(9);n=a(44);q=a(30);t=a(64);v=a(86);w=a(434);y=a(879);A=a(162);z=a(231);I=a(878);N=a(89);E=a(877);J=a(876);O=a(69);(function(a){a[a.Rrb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.ie=3]="license";a[a.yz=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(K||(K={})));X={usable:{status:y.uq.qCa},expired:{status:y.uq.O6a,error:f.I.hga},released:{status:y.uq.Xlb},"output-not-allowed":{status:y.uq.kxa,error:f.I.iga},"output-restricted":{status:y.uq.kxa},"output-downscaled":{status:y.uq.uib},"status-pending":{status:y.uq.upb},"internal-error":{status:y.uq.lcb,error:f.I.OMa}};b.prototype.Xu=function(){return this.context.Wd;};b.prototype.Wu=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.Ze=K.closed;this.Tc=[];return this.tf.bua()?(this.log.trace("Closing the session"),this.tf.Vya(this.onMessage),this.tf.Tya(this.Ywa),this.tf.Sya(this.qs),this.Ke=void 0,h.sa.create(function(b){a.Pk.Sl(a.config.Gma,a.tf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Th.Sn(c);c.code=f.I.TMa;b.error(c);});})):h.sa.empty();};b.prototype.jdb=function(){return this.oua.F0();};b.prototype.sI=function(){return this.Xn?this.Xn.F0():void 0;};b.prototype.zp=function(){return this.$i;};b.prototype.XI=function(){return void 0!==this.ie;};b.prototype.Ir=function(a,b,c,d){var g;g=this;this.Hg=d;this.Ze=K.create;this.context=a;this.sl(w.Oo.zua);return h.sa.create(function(h){(c.Nsa()?Promise.resolve():g.Pk.Sl(g.config.Hma,g.tf.pQ(a,b)).then(function(a){g.log.trace("Created media keys");c.rE(a);return g.XXa(a);})).then(function(){g.Ke=c.Ke;try{g.tf.Ir(g.Ke,g.Th.Z4(d));g.tf.nma(g.onMessage);g.tf.kma(g.Ywa);g.tf.jma(g.qs);g.ZU(g.tf.Wu());h.next(g);h.complete();}catch(da){h.error(new N.pf(f.I.bHa,f.H.Pe,void 0,"Unable to create a persisted key session",da));}})["catch"](function(a){a.code&&a.eb?h.error(a):h.error(new N.pf(f.I.SW,a instanceof O.xn?f.H.oF:f.H.Pe,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.qob=function(a){this.Lg=a;this.log.gma("xid",a.ja);};b.prototype.g4=function(a){var b;b=this;this.Ze=K.ie;this.log.trace("Generating a license challenge");this.Kh=new h.Ji();if(!a)return this.G1(new N.pf(f.I.pda,f.H.VW));if(0===a.length)return this.G1(new N.pf(f.I.pda,f.H.TW));this.Pk.Sl(this.config.Ima,this.tf.mra("cenc",a)).then(function(){b.ZU(b.tf.Wu());})["catch"](function(a){var c;c=new N.pf(f.I.oda,a instanceof O.xn?f.H.oF:f.H.Pe);c.message="Unable to generate request.";c.$H(a);b.log.error("Unable to generate a license request",c);b.fs(c);});this.log.trace("Returning the challenge subject");return this.Kh;};b.prototype.lma=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.fs(new N.pf(f.I.qda,f.H.TW))):this.cv?this.Pk.Sl(this.config.x0,this.tf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.Th.Sn(a);a.code=f.I.fA;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.fs(a);}):(this.Ze===K.ie&&(this.sl(w.Oo.Iya),this.ie=a,this.iua()),this.Ze===K.yz&&(this.sl(w.Oo.Lya),this.ie=a,this.D0())):this.Ze===K.yz?(this.sl(w.Oo.Mya),this.s6(a)):this.fs(a);};b.prototype.D0=function(){var a,b;a=this;if(!this.ie)return this.G1(new N.pf(f.I.qda,f.H.VW));this.Gk=new h.Ji();b=this.ie;this.ie=void 0;this.Pk.Sl(this.config.x0,this.tf.update(b)).then(function(){a.Th.eQ()&&a.jua();})["catch"](function(b){b=a.Th.Sn(b);b.code=f.I.uY;b.message="Unable to update the EME";a.log.error(b.message,b);a.t6(b);});return this.Gk;};b.prototype.AJ=function(){return this.zJ;};b.prototype.h8a=function(){var a;a=this;if(this.Ze===K.ie&&this.Hg===v.vj.ww)return h.sa.empty();this.Ze=K.stop;this.log.trace("Generating a secure stop challenge");this.Kh=new h.Ji();this.Sf=new J.rHa(this.Va,this.config,this.ia,function(){a.log.error("got a timeout error");},"non-persisted");this.Sf.p_a();this.tf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.Th.Sn(b);c.code=f.I.sda;c.eb=f.H.Pe;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.fs(c);});return this.Kh;};b.prototype.uma=function(a){a&&a.constructor!==Uint8Array?this.fs(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.fs(new N.pf(f.I.rda,f.H.TW))):(this.log.trace("Secure stop is ready to apply"),this.RU=a,this.Sf.Wnb(),this.iua()):(this.log.error("The secure stop buffer is undefined"),this.fs(new N.pf(f.I.rda,f.H.VW)));};b.prototype.$Xa=function(){var a;a=this;if(!this.RU)return h.sa.from([this]);this.log.trace("Setting the secure stop data");return h.sa.create(function(b){a.Sf.q_a();a.tf.update(a.RU).then(function(){a.Sf.Jna();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.Sf.Jna();d=a.Th.Sn(c);d.code=f.I.fA;d.eb=f.H.Pe;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(d);});});};b.prototype.XXa=function(a){var b,c;b=this;c=this.Th.p4();return c?(c=this.tl.decode(c),this.Pk.Sl(this.config.Jma,this.tf.vAa(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.ZU=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.gma("sessionId",a));};b.prototype.K9=function(){this.log.trace("Initiating a renewal request");this.Hg=v.vj.dl;this.Ze=K.yz;this.Th.d6(this.tf);};b.prototype.G1=function(a){var b;b=this;return h.sa.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(m.yb)),g.__param(1,c.l(k.Oe)),g.__param(2,c.l(n.tj)),g.__param(3,c.l(t.rn)),g.__param(4,c.l(I.pHa)),g.__param(5,c.l(z.WGa)),g.__param(6,c.l(A.YGa)),g.__param(7,c.l(q.ag)),g.__param(8,c.l(O.GA))],a);d.tHa=a;},function(g,d,a){var c,h,l,f,k,m,n,q,t;function b(a,b,c,d,f,g,h){this.no=a;this.Va=b;this.Ce=c;this.config=d;this.ia=f;this.Pk=g;this.Wm=h;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(9);l=a(24);f=a(44);k=a(64);m=a(30);n=a(69);q=a(880);a=a(120);b.prototype.create=function(){var a;a=this;return Promise.all([this.Wm.q9a(),this.Wm.n9a(),this.Wm.zp()]).then(function(b){var c,d;c=Aa(b);b=c.next().value;d=c.next().value;c=c.next().value;return new q.tHa(a.no,a.Va,a.Ce,a.config,b,d,c,a.ia,a.Pk);});};t=b;t=g.__decorate([c.N(),g.__param(0,c.l(h.yb)),g.__param(1,c.l(l.Oe)),g.__param(2,c.l(f.tj)),g.__param(3,c.l(k.rn)),g.__param(4,c.l(m.ag)),g.__param(5,c.l(n.GA)),g.__param(6,c.l(a.Bw))],t);d.sHa=t;},function(g,d){function a(a){this.Qia=a;this.ika=0;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.next=function(){return this.Qia.length>this.ika?{value:this.Qia[this.ika++],done:!1}:{done:!0};};d.zDa=a;},function(g,d,a){var c,h,l,f,k,m,n,q,t,v;function b(a,b,c,d){this.Kd=a;this.bh=b;this.am=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(21);f=a(85);k=a(98);m=a(882);n=a(89);q=a(69);t=a(86);a=a(64);b.prototype.eQ=function(){return!1;};b.prototype.Q0=function(){return!1;};b.prototype.Z4=function(a){return this.config.Rh&&a===t.vj.dl?"persistent-usage-record":"temporary";};b.prototype.p4=function(){};b.prototype.V4=function(){return[];};b.prototype.cv=function(a){return this.Kd.yu(a.message,this.am.decode("certificate"));};b.prototype.d6=function(a){a.update(this.am.decode("renew")).then(function(){});};b.prototype.Y1=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,iT:"license-request"};};b.prototype.X1=function(a){var b,c,d,f;b=a.type;a=a.target.sessionId;c=m.zDa;d=[1];f=new ArrayBuffer(d.length);f=new Uint8Array(f);f.set(d);return{type:b,sessionId:a,x6:new c([[f,"usable"]])};};b.prototype.Sn=function(a){var b,c,d;b=a.target.error;b&&(c=b.systemCode,d=b.code);b=new n.pf(h.I.vt,a instanceof q.xn?h.H.oF:h.H.vq,c?this.bh.Ur(c,4):d,"",b);b.$H(a);return b;};v=b;v=g.__decorate([c.N(),g.__param(0,c.l(l.ze)),g.__param(1,c.l(f.Ws)),g.__param(2,c.l(k.Rw)),g.__param(3,c.l(a.rn))],v);d.lPa=v;},function(g,d,a){var c,h,l,f,k,m,n,q,x;function b(a,b,c,d){var f;f=this;this.Xb=a;this.UV=b;this.tl=c;this.Qta=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.O2a=function(a){var b;a=function(a){var c,d;function b(a,b,c){var d,f;d=new Uint8Array("piff"==a?88:72);f=new h(d);f.gw(12);f.fw("frma");f.fw("avc1");f.gw(20);f.fw("schm");f.dW(0);f.dW(0);f.fw(a);f.gw(b);"piff"==a?(f.gw(56),f.fw("schi"),f.gw(48),f.fw("uuid"),f.PCa(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.gw(40),f.fw("schi"),f.gw(32),f.fw("tenc"));f.dW(0);f.dW(0);f.gw(264);f.PCa(c);return d;}c=b("piff",65537,a);c=f.UV.decode(f.tl.encode(c));a=b("cenc",65536,a);a=f.UV.decode(f.tl.encode(a));d=new Uint8Array(7+c.length+8+a.length+5);d.set([91,10,32,32,32,32,34],0);d.set(c,7);d.set([34,44,10,32,32,32,32,34],7+c.length);d.set(a,7+c.length+8);d.set([34,10,32,32,93],7+c.length+8+a.length);return d;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.S9a=function(a){var b;a=a.subarray(14,30);a=f.tl.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.Cmb=function(){f.Oi.forEach(function(a){f.aa&&f.aa.addEventListener(a.name,a.bv);});f.Oi.length=0;};this.Oi=[];this.log=d.qb("EmeFactory");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(99);l=a(1);f=a(2);k=a(21);m=a(98);n=a(44);q=a(9);x=a(5);b.prototype.Wu=function(){if(this.aa)return this.aa.sessionId;};b.prototype.bza=function(a){this.xG=a;return Promise.resolve({});};b.prototype.pQ=function(a){var c;function b(){var b,d;b=c.Xb.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);d=b.lastChild;c.Ala=b;a.Ca=x.yd.createElement("VIDEO");d?c.Ala.insertBefore(a.Ca,d):c.Ala.appendChild(a.Ca);}c=this;return new Promise(function(d,g){function h(){try{c.Wq=new t.WebKitMediaKeys(c.xG);a.Ca.webkitSetMediaKeys(c.Wq);d(c.Wq);}catch(N){c.log.error("CREATE: Exception on webkitSetMediaKeys",N);g({O:!1,code:f.I.KY,Ga:c.Xb.Cc(N)});}}if(c.Qta(c.xG))try{c.Wq=new t.WebKitMediaKeys(c.xG);a.Ca&&a.Ca.webkitSetMediaKeys(c.Wq);d(c.Wq);}catch(N){g({O:!1,code:f.I.KY,Ga:c.Xb.Cc(N)});}else{try{c.Wq=new t.WebKitMediaKeys(c.xG);}catch(N){g({O:!1,code:f.I.KY,Ga:c.Xb.Cc(N)});}a.Ca?a.Ca.webkitSetMediaKeys(c.Wq):(b(),c.Be=new x.wA(),c.Be.addEventListener("sourceopen",h),c.dg=URL.createObjectURL(c.Be),a.Ca.src=c.dg);d(c.Wq);}});};b.prototype.Ir=function(){};b.prototype.bua=function(){return!!this.aa;};b.prototype.vAa=function(){return Promise.resolve();};b.prototype.mra=function(a,b){try{return this.Qta(this.xG)&&(b=this.O2a(this.S9a(b))),this.aa=this.Wq.createSession("video/mp4",b,null),this.Cmb(),Promise.resolve();}catch(y){return Promise.reject(y);}};b.prototype.update=function(a){if(!this.aa)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.aa.update(a),Promise.resolve();}catch(B){return Promise.reject(B);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.aa)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.aa.close(),Promise.resolve();}catch(v){return Promise.reject(v);}finally{this.aa=void 0;}};b.prototype.remove=function(){if(!this.aa)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.aa.close(),Promise.resolve();}catch(v){return Promise.reject(v);}};b.prototype.nma=function(a){this.aa?this.aa.addEventListener(c.hA,a):this.Oi.push({name:c.hA,bv:a});};b.prototype.kma=function(a){this.aa?this.aa.addEventListener(c.YW,a):this.Oi.push({name:c.YW,bv:a});};b.prototype.jma=function(a){this.aa?this.aa.addEventListener(c.gA,a):this.Oi.push({name:c.gA,bv:a});};b.prototype.Vya=function(a){if(!this.aa)throw ReferenceError("Unable to remove message handler, key session is not valid");this.aa.removeEventListener(c.hA,a);};b.prototype.Tya=function(a){if(!this.aa)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.aa.removeEventListener(c.YW,a);};b.prototype.Sya=function(a){if(!this.aa)throw ReferenceError("Unable to remove error handler, key session is not valid");this.aa.removeEventListener(c.gA,a);};a=c=b;a.hA="webkitkeymessage";a.YW="webkitkeyadded";a.gA="webkitkeyerror";a=c=g.__decorate([l.N(),g.__param(0,l.l(k.ze)),g.__param(1,l.l(m.Rw)),g.__param(2,l.l(n.tj)),g.__param(3,l.l(q.yb))],a);d.MHa=a;},function(g,d,a){var c,h,l,f,k,m,n,q,t;function b(a,b,c,d){this.Kd=a;this.bh=b;this.rp=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(21);f=a(85);k=a(231);m=a(89);n=a(69);q=a(64);a=a(22);b.prototype.eQ=function(){return!0;};b.prototype.Q0=function(){return!0;};b.prototype.Z4=function(){return"temporary";};b.prototype.p4=function(){return"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.V4=function(){var a,b;a=[{contentType:k.tt,robustness:"HW_SECURE_DECODE"},{contentType:k.tt,robustness:"SW_SECURE_DECODE"},{contentType:k.tt,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.tt,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.sA,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().ara?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.cv=function(a){return this.Kd.yu(a.message,new Uint8Array([8,4]));};b.prototype.d6=function(){};b.prototype.Y1=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),iT:a.messageType};};b.prototype.X1=function(a){return{type:a.type,sessionId:a.target.sessionId,x6:a.target.keyStatuses.entries()};};b.prototype.Sn=function(a){var b,c,d;b=new m.pf(h.I.vt);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.eb=1<=c&&9>=c?h.H.vq+c:h.H.vq):b.eb=a instanceof n.xn?h.H.oF:h.H.Pe;try{d=a.message.match(/((d*))/)[1];b.Jc=this.bh.Ur(d,4);}catch(z){}b.$H(a);return b;};t=b;t=g.__decorate([c.N(),g.__param(0,c.l(l.ze)),g.__param(1,c.l(f.Ws)),g.__param(2,c.l(q.rn)),g.__param(3,c.l(a.we))],t);d.cFa=t;},function(g,d,a){var c,h;function b(a){return h.GY.apply(this,arguments)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(435);ia(b,h.GY);a=b;a=g.__decorate([c.N()],a);d.iOa=a;},function(g,d,a){var c,h,l,f,k,m,n,q,t;function b(a,b,c){this.bh=a;this.Ce=b;this.config=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(85);f=a(44);k=a(231);m=a(89);n=a(86);q=a(64);t=a(69);b.prototype.eQ=function(){return!0;};b.prototype.Q0=function(){return!1;};b.prototype.Z4=function(a){return this.config.Rh&&a===n.vj.dl?"persistent-usage-record":"temporary";};b.prototype.p4=function(){};b.prototype.V4=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.sA}],videoCapabilities:[{contentType:k.tt}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.cv=function(){return!1;};b.prototype.d6=function(){};b.prototype.Y1=function(a){var b;b=new Uint8Array(a.message);b=this.y3(b,"PlayReadyKeyMessage","Challenge");b=this.Ce.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,iT:a.messageType};};b.prototype.X1=function(a){return{type:a.type,sessionId:a.target.sessionId,x6:a.target.keyStatuses.entries()};};b.prototype.Sn=function(a){var b,c;b=new m.pf(h.I.vt);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.eb=1<=c&&9>=c?h.H.vq+c:h.H.vq):b.eb=a instanceof t.xn?h.H.oF:h.H.Pe;try{b.Jc=this.bh.Ur(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(A){}b.$H(a);return b;};b.prototype.y3=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\s*(.*)\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\s\S]*<"+g+"[^>]*>"+f+"</"+g+">[\s\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([c.N(),g.__param(0,c.l(l.Ws)),g.__param(1,c.l(f.tj)),g.__param(2,c.l(q.rn))],a);d.oHa=a;},function(g,d,a){var c,h,l,f,k,m,n,q,t,v,w,y,A,z,I,N,E,J,O,K;function b(a,b,c,d,f,g,h,l,k){this.no=a;this.Kd=b;this.am=c;this.bh=d;this.Ce=f;this.is=g;this.yT=h;this.config=l;this.rp=k;this.log=this.no.qb("MediaKeySystemAccessServices");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(2);l=a(9);f=a(89);k=a(162);m=a(887);n=a(886);q=a(885);t=a(435);v=a(21);w=a(85);y=a(44);A=a(23);z=a(39);I=a(884);N=a(883);E=a(98);J=a(22);O=a(132);a=a(64);b.prototype.NI=function(){this.YD||(this.YD=this.Vmb());return this.YD;};b.prototype.D2a=function(a){var b;b=this;return new Promise(function(c,d){var g,l;g=O.bb.v4(a);l=b.Lra(g);g=b.Hra(g);l.bza(a,g.V4()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new f.pf(h.I.nda,h.H.Pe,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.zp=function(){var a;a=this;return this.NI().then(function(b){return a.Ira(b);});};b.prototype.m9a=function(){var a,b;a=this;b=this.config().y6||[this.config().Wd];if(1<b.length)return this.NI().then(function(b){return a.Ira(b);}).then(function(a){return O.bb.Gra(a);});b=O.bb.v4(b[0]);return Promise.resolve(O.bb.Gra(b));};b.prototype.n9a=function(){var a;a=this;return this.zp().then(function(b){return a.Hra(b);});};b.prototype.q9a=function(){var a;a=this;return this.zp().then(function(b){return a.Lra(b);});};b.prototype.Ira=function(a){return O.bb.v4(a.keySystem);};b.prototype.Hra=function(a){switch(a){case k.qn.mz:return new m.oHa(this.bh,this.Ce,this.rp);case k.qn.EC:return new N.lPa(this.Kd,this.bh,this.am,this.rp);default:return new q.cFa(this.Kd,this.bh,this.rp,this.config);}};b.prototype.Lra=function(a){switch(a){case k.qn.mz:return new n.iOa(this.yT,this.is);case k.qn.EC:return new I.MHa(this.Kd,this.am,this.Ce,this.no);default:return new t.GY(this.yT,this.is);}};b.prototype.Vmb=function(){var a,b;a=this;b=(this.config().y6||[this.config().Wd]).map(function(b){return function(){return a.D2a(b);};});return this.Wmb(b);};b.prototype.Wmb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};K=b;K=g.__decorate([c.N(),g.__param(0,c.l(l.yb)),g.__param(1,c.l(v.ze)),g.__param(2,c.l(E.Rw)),g.__param(3,c.l(w.Ws)),g.__param(4,c.l(y.tj)),g.__param(5,c.l(A.ne)),g.__param(6,c.l(z.yA)),g.__param(7,c.l(J.we)),g.__param(8,c.l(a.rn))],K);d.MKa=K;},function(g,d,a){var c,h,l,f,k,m,n,q,t,v,w,y,A;function b(a,b,c,d,f,g,l,k,p){var n;n=this;this.ia=b;this.Oj=c;this.config=d;this.HI=f;this.v5a=g;this.WB=l;this.Wm=k;this.Ova=p;this.Wpb=function(a,b){b.AJ().EE(1).subscribe(function(a){n.xua.next({$i:b.zp(),data:a.Mn});});b.AJ().map(function(c){return n.$n(a,b,c);}).qv().dI(function(a){b.Cb=a.Cb[0];return b.lma(a.Dy[0].data);}).subscribe(void 0,function(a){b.lma(a);},function(){n.IZa(b);});};this.Xpb=function(a){a.UK.map(function(b){return n.ksa(a,b);}).qv().dI(function(b){return a.uma(b.response);}).subscribe(void 0,function(b){a.uma(b);});};this.log=a.qb("DrmServices");this.xua=new h.Ji();this.HI().Mo&&this.WB.wya().then(function(){n.xpb();})["catch"](function(a){n.log.error("Unable to load the persisted DRM data",a);});this.config.Dta&&this.Wm.NI().then(function(a){return n.Goa(a,{Wd:a.keySystem},m.vj.dl,p()).Tr(function(a){return a.close();}).subscribe();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(87);l=a(9);f=a(30);k=a(437);m=a(86);n=a(64);q=a(167);t=a(241);v=a(436);w=a(22);y=a(120);a=a(240);b.prototype.Iv=function(a,b){var c;c=this;return new Promise(function(d,f){c.ie(a,b).subscribe(d,f);});};b.prototype.ie=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.Tra(a,a.type));return this.JH(a.context,a.type,b).Tr(function(b){b.qob(a.Lg);c.Wpb(a,b);return c.loa(b.g4(a.Y5),b);});};b.prototype.Dpb=function(a,b){var c,d;c=this;this.config.Rh?(this.log.info("Releasing server license and EME license",this.a5(a)),this.Xpb(a),d=a.h8a()):(this.log.info("Releasing server license",this.a5(a)),d=this.ksa(a));return this.loa(d,a).dI(function(){c.WB.I9(Object.assign({Wd:a.context.Wd,Cb:[]},a.Lg));b.$lb();});};b.prototype.AJ=function(){return this.xua.F0();};b.prototype.Tra=function(a,b){return{movieId:a.Lg.S,xid:a.Lg.ja,type:m.Aua(b)};};b.prototype.a5=function(a){return{movieId:a.Lg?a.Lg.S:void 0,xid:a.Lg?a.Lg.ja:void 0,keySessionId:a.Wu()};};b.prototype.loa=function(a,b){return h.sa.concat(a,h.sa.of(b)).Xe();};b.prototype.$n=function(a,b,c){this.log.info("Sending license request",this.Tra(a,c.Hg));return h.sa.Su(this.Oj.ie({ja:a.Lg.ja,kf:a.Lg.kf,QQ:[a.Lg.Ij],Nn:[{sessionId:b.Wu()||"session",data:c.Mn}],Hg:c.Hg,$i:b.zp(),Nna:c.Nna,NJ:a.Lg.NJ}));};b.prototype.ksa=function(a,b){this.log.info("Sending release request",this.a5(a));return b?h.sa.Su(this.Oj.release({ja:a.Lg.ja,Cb:[a.Cb],Mn:b.Mn})):h.sa.Su(this.Oj.release({ja:a.Lg.ja,Cb:[a.Cb]}));};b.prototype.g4=function(a,b){return this.JH(a.context,a.type,b).Tr(function(b){b.g4(a.Y5);return b.AJ().map(function(){return b;});});};b.prototype.JH=function(a,b,c){var d;d=this;return h.sa.Su(this.Wm.NI()).Tr(function(f){return d.Goa(f,a,b,c);});};b.prototype.Goa=function(a,b,c,d){return h.sa.Su(this.v5a.create()).Tr(function(f){return f.Ir(b,a,d,c);});};b.prototype.wpb=function(a){var b;b=this;return this.config.Rh?h.sa.empty():h.sa.Su(this.Oj.release({ja:a.ja,Cb:a.Cb}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.sa.empty();}).map(function(){return a;});};b.prototype.xpb=function(){var a;a=this;this.ia.Qf(this.config.L8,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.WB.RQ.length});b=a.WB.RQ.filter(function(a){return!a.active;}).map(function(b){return a.wpb(b);});h.sa.concat.apply(h.sa,[].concat(xb(b))).subscribe(function(b){a.WB.I9(b);});});};b.prototype.IZa=function(a){var b;if(a.Wu()&&a.Lg){b=new t.PW();b.Wd=a.context.Wd;b.Cb=[a.Cb];b.profileId=a.Lg.profileId;b.ja=a.Lg.ja;b.S=a.Lg.S;this.WB.ima(b);}};A=b;A=g.__decorate([c.N(),g.__param(0,c.l(l.yb)),g.__param(1,c.l(f.ag)),g.__param(2,c.l(k.gda)),g.__param(3,c.l(n.rn)),g.__param(4,c.l(w.we)),g.__param(5,c.l(v.uda)),g.__param(6,c.l(q.xW)),g.__param(7,c.l(y.Bw)),g.__param(8,c.l(a.dY))],A);d.UGa=A;},function(g,d,a){var b,c,h,l,f,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(137);c=a(889);h=a(120);l=a(888);f=a(436);k=a(881);d.u5a=new g.Zb(function(a){a(b.hda).to(c.UGa).$();a(h.Bw).to(l.MKa).$();a(f.uda).to(k.sHa);});},function(g,d,a){var c,h,l,f;function b(a,b,c,d,f){this.platform=a;this.Xm=b;this.config=c;this.Af=f;this.log=d.qb("AccountManager");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(45);f=a(2);b.prototype.Yu=function(a){return this.profile.id===a?this.profile:this.profiles[a];};b.prototype.load=function(){var a;a=this;this.log.trace("Loading accounts from storage");return new Promise(function(b,d){a.jba().then(function(b){return b?a.storage.load("accounts"):Promise.resolve(void 0);}).then(function(c){c&&(a.log.trace("Persisted account data",JSON.stringify(c.value,null,"  ")),a.W7a(c.value));b();})["catch"](function(g){a.log.debug("Unable to load persisted account data",{code:g.T,cause:g.cause});g.T===f.H.im?(a.log.trace("No persisted account data, creating default profile"),a.reset(),b()):d(c.DL(f.I.TM,g,"Unable to read IDB for account information."));});});};b.prototype.save=function(){var a;a=this;this.log.trace("Saving account data");return new Promise(function(b,c){var d;d=a.Yqb();a.log.trace("Account data to persist",JSON.stringify(d,null,"  "));a.storage.save("accounts",d,!1).then(function(){b();})["catch"](function(b){a.log.error("Unable to save account information",b);c(b);});});};b.prototype.Yqb=function(){var a;a=this;return{version:"1.0",account:this.profile.Bh.IV(),profile:this.profile.IV(),profiles:Object.keys(this.profiles).map(function(b){return a.profiles[b].IV();})};};b.prototype.W7a=function(a){var b,c,d;b=this;c=a.account;if(c){d=this.mQ(c);if(c=a.profile)this.profile=this.Sx(d,c),this.vta(),(a=a.profiles)&&Array.isArray(a)&&a.forEach(function(a){a=b.Sx(d,a);b.profile&&a.id!==b.profile.id&&b.rma(a);});}};b.prototype.rma=function(a){this.profiles[a.id]=a;};b.prototype.J9=function(a){delete this.profiles[a.id];};b.prototype.vta=function(){this.profiles={};};b.prototype.reset=function(a){(void 0===a?0:a)&&this.Xm.Kg.clearUserIdTokens();this.profile=this.Sx(this.mQ());this.vta();};b.DL=function(a,b,c){return b.T&&b.cause?new l.Yb(a,b.T,void 0,void 0,void 0,c,void 0,b.cause):void 0!==b.eb?(c=(b.message?b.message+" ":"")+(c?c:""),b.code=a,b.message=""===c?void 0:c,b):b instanceof Error?new l.Yb(a,f.H.Pe,void 0,void 0,void 0,c,b.stack,b):new l.Yb(a,f.H.Yh,void 0,void 0,void 0,c,void 0,b);};a=c=b;a=c=g.__decorate([h.N()],a);d.hW=a;},function(g,d,a){var c;function b(a,b,d,g,k){g=void 0===g?c.sb(0):g;this.config=a;this.Bh=b;this.vJ=g;this.F9=void 0===k?!1:k;this.id=void 0!==d?d:this.$8a();this.languages=(a=a())&&a.Fg&&a.Fg.nz||["en-US"];}Object.defineProperty(d,"__esModule",{value:!0});c=a(4);b.prototype.IV=function(){return{id:this.id,lastAccessTime:this.vJ?this.vJ.ma(c.za):0,languages:this.languages};};b.prototype.b4=function(a){this.id=a.id.toString();this.vJ=c.sb(a.lastAccessTime||0);this.languages=a.languages||this.config().Fg.nz;this.F9=!0;};d.gha=b;},function(g,d,a){var c;function b(a,b,d,g,k){return c.gha.call(this,a,b,d,g,k)||this;}Object.defineProperty(d,"__esModule",{value:!0});c=a(892);ia(b,c.gha);b.prototype.ycb=function(){var a;a=this.config();return a&&a.Lm?"browsertest"===this.id:"browser"===this.id;};b.prototype.$8a=function(){var a;a=this.config();return a&&a.Lm?"browsertest":"browser";};d.Wga=b;},function(g,d){function a(a,c){this.id=void 0===a?"browser":a;this.cj=void 0===c?!0:c;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.IV=function(){return{id:this.id,isNonMember:this.cj};};a.prototype.b4=function(a){this.id=a.id.toString();this.cj=a.isNonMember;};d.Oba=a;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);c=a(76);a=a(77);g=function(a){function c(b){a.call(this);this.vhb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.Ff=function(a){return new h(a,this.vhb);};return c;}(g.sa);d.EGa=g;h=function(a){function d(b,c){a.call(this,b);this.Pm=c;this.Hrb();}b(d,a);d.prototype.Hrb=function(){try{this.HRa();}catch(p){this.Ub(p);}};d.prototype.HRa=function(){var a;a=this.Pm();a&&this.add(c.Js(this,a));};return d;}(a.Hq);},function(g,d,a){g=a(895);d.defer=g.EGa.create;},function(g,d,a){g=a(10);a=a(896);g.sa.defer=a.defer;},function(g,d,a){g=a(10);a=a(446);g.sa.from=a.from;},function(g,d,a){var c,h,l,f,k,m,n,q,t,v,w;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.iw(a).Kf(new n(b));}c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(100);l=a(101);g=a(50);f=a(77);k=a(76);m=a(164);d.zba=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.Kf.call(b.apply(void 0,[c].concat(a)));};};d.wtb=b;n=function(){function a(a){this.og=a;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.og));};return a;}();d.fBb=n;q=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.u6=[];this.active=0;this.og="function"===typeof c?c:null;this.values=d;}c(b,a);b.prototype.Yg=function(a){var b;b=this.u6;l.isArray(a)?b.push(new v(a)):"function"===typeof a[m.iterator]?b.push(new t(a[m.iterator]())):b.push(new w(this.destination,this,a));};b.prototype.wb=function(){var a,b,d;a=this.u6;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.vpb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.dhb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.A_a=function(){var f,l;for(var a=this.u6,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.eo&&!f.eo())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];l=f.next();f.XC()&&(g=!0);if(l.done){c.complete();return;}h.push(l.value);}this.og?this.Q_(h):c.next(h);g&&c.complete();};b.prototype.Q_=function(a){var b;try{b=this.og.apply(this,a);}catch(N){this.destination.error(N);return;}this.destination.next(b);};return b;}(g.Xh);d.gBb=q;t=function(){function a(a){this.iterator=a;this.l8=a.next();}a.prototype.eo=function(){return!0;};a.prototype.next=function(){var a;a=this.l8;this.l8=this.iterator.next();return a;};a.prototype.XC=function(){var a;a=this.l8;return a&&a.done;};return a;}();v=function(){function a(a){this.In=a;this.length=this.index=0;this.length=a.length;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.In;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.eo=function(){return this.In.length>this.index;};a.prototype.XC=function(){return this.In.length===this.index;};return a;}();w=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.vpb=!0;this.buffer=[];this.h6=!1;}c(b,a);b.prototype[m.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.h6?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.eo=function(){return 0<this.buffer.length;};b.prototype.XC=function(){return 0===this.buffer.length&&this.h6;};b.prototype.gj=function(){0<this.buffer.length?(this.h6=!0,this.parent.dhb()):this.destination.complete();};b.prototype.bz=function(a,b){this.buffer.push(b);this.parent.A_a();};b.prototype.subscribe=function(a,b){return k.Js(this,this.observable,this,b);};return b;}(f.Hq);},function(g,d,a){g=a(899);d.zba=g.wtb;},function(g,d,a){g=a(10);a=a(900);g.sa.zba=a.zba;},function(g,d,a){var b,c,h,l,f,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(100);h=a(101);g=a(77);l=a(76);f={};d.K1=function(){var d;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];d=null;"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.Kf.call(new c.iw([b].concat(a)),new k(d));};};k=function(){function a(a){this.og=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.og));};return a;}();d.jFa=k;m=function(a){function c(b,c){a.call(this,b);this.og=c;this.active=0;this.values=[];this.Pwa=[];}b(c,a);c.prototype.Yg=function(a){this.values.push(f);this.Pwa.push(a);};c.prototype.wb=function(){var a,b,d;a=this.Pwa;b=a.length;if(0===b)this.destination.complete();else{this.Raa=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(l.Js(this,d,d,c));}}};c.prototype.gj=function(){0===--this.active&&this.destination.complete();};c.prototype.bz=function(a,b,c){var d;a=this.values;d=a[c];d=this.Raa?d===f?--this.Raa:this.Raa:0;a[c]=b;0===d&&(this.og?this.Q_(a):this.destination.next(a.slice()));};c.prototype.Q_=function(a){var b;try{b=this.og.apply(this,a);}catch(B){this.destination.error(B);return;}this.destination.next(b);};return c;}(g.Hq);d.Rub=m;},function(g,d,a){var b,c,h,l;b=a(119);c=a(101);h=a(100);l=a(902);d.K1=function(){var g;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];g=d=null;b.xy(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&c.isArray(a[0])&&(a=a[0]);return new h.iw(a,g).Kf(new l.jFa(d));};},function(g,d,a){g=a(10);a=a(903);g.sa.K1=a.K1;},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(439);g=a(10);h=a(163);l=a(119);f=a(441);a=function(a){function d(b,d,g){void 0===b&&(b=0);a.call(this);this.us=-1;this.Tpa=0;c.Uta(d)?this.us=1>Number(d)&&1||Number(d):l.xy(d)&&(g=d);l.xy(g)||(g=h.async);this.ia=g;this.Tpa=f.pJ(b)?+b-this.ia.now():b;}b(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.ib=function(a){var b,c,d;b=a.index;c=a.us;d=a.mf;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.nb(a,c);}};d.prototype.Ff=function(a){return this.ia.nb(d.ib,this.Tpa,{index:0,us:this.us,mf:a});};return d;}(g.sa);d.iQa=a;},function(g,d,a){g=a(905);d.Wk=g.iQa.create;},function(g,d,a){g=a(10);a=a(906);g.sa.Wk=a.Wk;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this);this.error=b;this.ia=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.ib=function(a){a.mf.error(a.error);};c.prototype.Ff=function(a){var b,d;b=this.error;d=this.ia;a.Tj=!0;if(d)return d.nb(c.ib,0,{error:b,mf:a});a.error(b);};return c;}(a(10).sa);d.AHa=g;},function(g,d,a){g=a(908);d.oWa=g.AHa.create;},function(g,d,a){g=a(10);a=a(909);g.sa["throw"]=a.oWa;},function(g,d,a){g=a(440);d.dz=g.Rhb;},function(g,d,a){g=a(10);a=a(911);g.sa.dz=a.dz;},function(g,d,a){g=a(10);a=a(447);g.sa.of=a.of;},function(g,d,a){var b,c,h,l;b=a(10);c=a(100);h=a(119);l=a(232);d.Q7=function(){var d,g,k;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;g=null;k=a[a.length-1];h.xy(k)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof k&&(d=a.pop());return null===g&&1===a.length&&a[0]instanceof b.sa?a[0]:l.qv(d)(new c.iw(a,g));};},function(g,d,a){g=a(10);a=a(914);g.sa.Q7=a.Q7;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(439);g=a(10);h=a(163);a=function(a){function d(b,d){void 0===b&&(b=0);void 0===d&&(d=h.async);a.call(this);this.us=b;this.ia=d;if(!c.Uta(b)||0>b)this.us=0;d&&"function"===typeof d.nb||(this.ia=h.async);}b(d,a);d.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new d(a,b);};d.ib=function(a){var b,c;b=a.mf;c=a.us;b.next(a.index);b.closed||(a.index+=1,this.nb(a,c));};d.prototype.Ff=function(a){var b;b=this.us;a.add(this.ia.nb(d.ib,b,{index:0,mf:a,us:b}));};return d;}(g.sa);d.kJa=a;},function(g,d,a){g=a(916);d.interval=g.kJa.create;},function(g,d,a){g=a(10);a=a(917);g.sa.interval=a.interval;},function(g,d,a){g=a(444);d.Su=g.hha.create;},function(g,d,a){g=a(10);a=a(919);g.sa.Su=a.Su;},function(g,d,a){g=a(133);d.empty=g.qF.create;},function(g,d,a){g=a(10);a=a(921);g.sa.empty=a.empty;},function(g,d,a){g=a(10);a=a(134);g.sa.concat=a.concat;},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);c=a(76);d.CV=function(a,b){return function(c){return c.Kf(new h(a,b));};};h=function(){function a(a,b){this.og=a;this.Qj=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.og,this.Qj));};return a;}();l=function(a){function d(b,c,d){a.call(this,b);this.og=c;this.Qj=d;this.index=0;}b(d,a);d.prototype.Yg=function(a){var b,c;c=this.index++;try{b=this.og(a,c);}catch(x){this.destination.error(x);return;}this.WZ(b,a,c);};d.prototype.WZ=function(a,b,d){var f;f=this.sS;f&&f.unsubscribe();this.add(this.sS=c.Js(this,a,b,d));};d.prototype.wb=function(){var b;b=this.sS;b&&!b.closed||a.prototype.wb.call(this);};d.prototype.hr=function(){this.sS=null;};d.prototype.gj=function(b){this.remove(b);this.sS=null;this.Jf&&a.prototype.wb.call(this);};d.prototype.bz=function(a,b,c,d){this.Qj?this.uWa(a,b,c,d):this.destination.next(b);};d.prototype.uWa=function(a,b,c,d){var f;try{f=this.Qj(a,b,c,d);}catch(B){this.destination.error(B);return;}this.destination.next(f);};return d;}(g.Hq);},function(g,d,a){var b;b=a(924);d.CV=function(a,d){return b.CV(a,d)(this);};},function(g,d,a){g=a(10);a=a(925);g.sa.prototype.CV=a.CV;},function(g,d,a){var b,c;b=a(453);d.Egb=function(a,d){return function(f){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return f.Kf(new c(g,d));h=Object.create(f,b.u0a);h.source=f;h.yV=g;return h;};};c=function(){function a(a,b){this.yV=a;this.YK=b;}a.prototype.call=function(a,b){var c,d;c=this.YK;d=this.yV();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.Nxb=c;},function(g,d,a){var b,c;b=a(455);c=a(927);d.oU=function(a,d,f,g){var h,l;f&&"function"!==typeof f&&(g=f);h="function"===typeof f?f:void 0;l=new b.$F(a,d,g);return function(a){return c.Egb(function(){return l;},h)(a);};};},function(g,d,a){var b;b=a(928);d.oU=function(a,d,g,f){return b.oU(a,d,g,f)(this);};},function(g,d,a){g=a(10);a=a(929);g.sa.prototype.oU=a.oU;},function(g,d,a){var b,c,h,l,f;b=a(100);c=a(233);h=a(133);l=a(134);f=a(119);d.qV=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var g,k;g=a[a.length-1];f.xy(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new c.QY(a[0],g),d):1<k?l.concat(new b.iw(a,g),d):l.concat(new h.qF(g),d);};};},function(g,d,a){var b;b=a(931);d.qV=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.qV.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(932);g.sa.prototype.qV=a.qV;},function(){},function(g,d,a){var b,c,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);c=a(76);d.zL=function(a){return function(b){return b.Kf(new h(a));};};h=function(){function a(a){this.Awa=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Awa));};return a;}();l=function(a){function d(b,d){a.call(this,b);this.Awa=d;this.add(c.Js(this,d));}b(d,a);d.prototype.bz=function(){this.complete();};d.prototype.gj=function(){};return d;}(g.Hq);},function(g,d,a){var b;b=a(935);d.zL=function(a){return b.zL(a)(this);};},function(g,d,a){g=a(10);a=a(936);g.sa.prototype.zL=a.zL;},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.xDa=g;},function(g,d,a){var b,c,h,l,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);c=a(938);h=a(133);d.EE=function(a){return function(b){return 0===a?new h.qF():b.Kf(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new c.xDa();}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total));};return a;}();f=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.Yg=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.Xh);},function(g,d,a){var b;b=a(939);d.EE=function(a){return b.EE(a)(this);};},function(g,d,a){g=a(10);a=a(940);g.sa.prototype.EE=a.EE;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);d.gL=function(a){return function(b){return b.Kf(new c(a));};};c=function(){function a(a){this.Hv=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.Hv));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Hv=c;this.baa=!0;this.index=0;}b(c,a);c.prototype.Yg=function(a){var b;b=this.destination;this.baa&&this.Grb(a);this.baa||b.next(a);};c.prototype.Grb=function(a){try{this.baa=!!this.Hv(a,this.index++);}catch(m){this.destination.error(m);}};return c;}(g.Xh);},function(g,d,a){var b;b=a(942);d.gL=function(a){return b.gL(a)(this);};},function(g,d,a){g=a(10);a=a(943);g.sa.prototype.gL=a.gL;},function(g,d,a){var b;b=a(440);d.dz=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.dz.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(945);g.sa.prototype.dz=a.dz;},function(g,d,a){var b;b=a(442);d.DD=function(a,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.DD(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(947);g.sa.prototype.DD=a.DD;g.sa.prototype.Tr=a.DD;},function(g,d,a){var b;b=a(232);d.qv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.qv(a)(this);};},function(g,d,a){g=a(10);a=a(949);g.sa.prototype.qv=a.qv;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);d.map=function(a,b){return function(d){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return d.Kf(new c(a,b));};};c=function(){function a(a,b){this.og=a;this.Daa=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.og,this.Daa));};return a;}();d.Gxb=c;h=function(a){function c(b,c,d){a.call(this,b);this.og=c;this.count=0;this.Daa=d||this;}b(c,a);c.prototype.Yg=function(a){var b;try{b=this.og.call(this.Daa,a,this.count++);}catch(r){this.destination.error(r);return;}this.destination.next(b);};return c;}(g.Xh);},function(g,d,a){var b;b=a(951);d.map=function(a,d){return b.map(a,d)(this);};},function(g,d,a){g=a(10);a=a(952);g.sa.prototype.map=a.map;},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.vHa=g;},function(g,d,a){var b,c,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);c=a(954);d.Xe=function(a,b,c){return function(d){return d.Kf(new h(a,b,c,d));};};h=function(){function a(a,b,c,d){this.Hv=a;this.Qj=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Hv,this.Qj,this.defaultValue,this.source));};return a;}();k=function(a){function d(b,c,d,f,g){a.call(this,b);this.Hv=c;this.Qj=d;this.defaultValue=f;this.source=g;this.eo=!1;this.index=0;"undefined"!==typeof f&&(this.LS=f,this.eo=!0);}b(d,a);d.prototype.Yg=function(a){var b;b=this.index++;this.Hv?this.vWa(a,b):this.Qj?this.Rla(a,b):(this.LS=a,this.eo=!0);};d.prototype.vWa=function(a,b){var c;try{c=this.Hv(a,b,this.source);}catch(x){this.destination.error(x);return;}c&&(this.Qj?this.Rla(a,b):(this.LS=a,this.eo=!0));};d.prototype.Rla=function(a,b){var c;try{c=this.Qj(a,b);}catch(x){this.destination.error(x);return;}this.LS=c;this.eo=!0;};d.prototype.wb=function(){var a;a=this.destination;this.eo?(a.next(this.LS),a.complete()):a.error(new c.vHa());};return d;}(g.Xh);},function(g,d,a){var b;b=a(955);d.Xe=function(a,d,g){return b.Xe(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(956);g.sa.prototype.Xe=a.Xe;},function(g,d,a){var b,c,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(50);d.tqb=function(a,b,c){return function(d){return d.Kf(new h(a,b,c));};};h=function(){function a(a,b,c){this.Rgb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Rgb,this.error,this.complete));};return a;}();k=function(a){function d(b,d,f,g){a.call(this,b);b=new c.Xh(d,f,g);b.Tj=!0;this.add(b);this.e$=b;}b(d,a);d.prototype.Yg=function(a){var b;b=this.e$;b.next(a);b.Kz?this.destination.error(b.Lz):this.destination.next(a);};d.prototype.Ub=function(a){var b;b=this.e$;b.error(a);b.Kz?this.destination.error(b.Lz):this.destination.error(a);};d.prototype.wb=function(){var a;a=this.e$;a.complete();a.Kz?this.destination.error(a.Lz):this.destination.complete();};return d;}(c.Xh);},function(g,d,a){var b;b=a(958);d.HZ=function(a,d,g){return b.tqb(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(959);g.sa.prototype.dI=a.HZ;g.sa.prototype.HZ=a.HZ;},function(g,d,a){function b(){return function(){function a(){this.mk=[];}a.prototype.add=function(a){this.has(a)||this.mk.push(a);};a.prototype.has=function(a){return-1!==this.mk.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.mk.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.mk.length=0;};return a;}();}g=a(78);d.EGb=b;d.Set=g.root.Set||b();},function(g,d,a){var b,c,h,k,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);c=a(76);h=a(961);d.NQ=function(a,b){return function(c){return c.Kf(new k(a,b));};};k=function(){function a(a,b){this.HS=a;this.L7a=b;}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.HS,this.L7a));};return a;}();f=function(a){function d(b,d,f){a.call(this,b);this.HS=d;this.values=new h.Set();f&&this.add(c.Js(this,f));}b(d,a);d.prototype.bz=function(){this.values.clear();};d.prototype.s8=function(a){this.Ub(a);};d.prototype.Yg=function(a){this.HS?this.HWa(a):this.Lja(a,a);};d.prototype.HWa=function(a){var b,c;c=this.destination;try{b=this.HS(a);}catch(v){c.error(v);return;}this.Lja(b,a);};d.prototype.Lja=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return d;}(g.Hq);d.tvb=f;},function(g,d,a){var b;b=a(962);d.NQ=function(a,d){return b.NQ(a,d)(this);};},function(g,d,a){g=a(10);a=a(963);g.sa.prototype.NQ=a.NQ;},function(g,d,a){var b,c,h,k,f,p,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(163);h=a(441);g=a(50);k=a(234);d.rd=function(a,b){var d;void 0===b&&(b=c.async);d=h.pJ(a)?+a-b.now():Math.abs(a);return function(a){return a.Kf(new f(d,b));};};f=function(){function a(a,b){this.rd=a;this.ia=b;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.rd,this.ia));};return a;}();p=function(a){function c(b,c,d){a.call(this,b);this.rd=c;this.ia=d;this.yi=[];this.uqa=this.active=!1;}b(c,a);c.ib=function(a){for(var b=a.source,c=b.yi,d=a.ia,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.nb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.EVa=function(a){this.active=!0;this.add(a.nb(c.ib,this.rd,{source:this,destination:this.destination,ia:a}));};c.prototype.Mza=function(a){var b;if(!0!==this.uqa){b=this.ia;a=new m(b.now()+this.rd,a);this.yi.push(a);!1===this.active&&this.EVa(b);}};c.prototype.Yg=function(a){this.Mza(k.Notification.e2(a));};c.prototype.Ub=function(a){this.uqa=!0;this.yi=[];this.destination.error(a);};c.prototype.wb=function(){this.Mza(k.Notification.a2());};return c;}(g.Xh);m=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,d,a){var b,c;b=a(163);c=a(965);d.rd=function(a,d){void 0===d&&(d=b.async);return c.rd(a,d)(this);};},function(g,d,a){g=a(10);a=a(966);g.sa.prototype.rd=a.rd;},function(g,d,a){var b;b=a(443);d.FH=function(){return b.FH()(this);};},function(g,d,a){g=a(10);a=a(968);g.sa.prototype.FH=a.FH;},function(g,d){d.Obb=function(a){return a;};},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);c=a(233);h=a(133);a=function(a){function d(b,c){a.call(this);this.E0=b;(this.ia=c)||1!==b.length||(this.Vq=!0,this.value=b[0]);}b(d,a);d.create=function(a,b){var f;f=a.length;return 0===f?new h.qF():1===f?new c.QY(a[0],b):new d(a,b);};d.ib=function(a){var b,c,d;b=a.E0;c=a.index;d=a.mf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.nb(a)));};d.prototype.Ff=function(a){var b,c,f;b=this.E0;c=this.ia;f=b.length;if(c)return c.nb(d.ib,0,{E0:b,index:0,length:f,mf:a});for(c=0;c<f&&!a.closed;c++)a.next(b[c]);a.complete();};return d;}(g.sa);d.ADa=a;},function(g,d,a){var b,c,h,k,f,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(78);g=a(10);h=a(164);a=function(a){function c(b,c){a.call(this);this.ia=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[h.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new f(b);else b=new k(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.ib=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.mf;if(a.WI)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.nb(a));}};c.prototype.Ff=function(a){var b,d;b=this.iterator;d=this.ia;if(d)return d.nb(c.ib,0,{index:0,iterator:b,mf:a});do{d=b.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(g.sa);d.oJa=a;k=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.Tv=a;this.cJ=b;this.K6=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.cJ<this.K6?{done:!1,value:this.Tv.charAt(this.cJ++)}:{done:!0,value:void 0};};return a;}();f=function(){function a(a,b,d){var f;void 0===b&&(b=0);if(void 0===d)if(d=+a.length,isNaN(d))d=0;else if(0!==d&&"number"===typeof d&&c.root.isFinite(d)){f=+d;d=(0===f||isNaN(f)?f:0>f?-1:1)*Math.floor(Math.abs(d));d=0>=d?0:d>p?p:d;}this.aYa=a;this.cJ=b;this.K6=d;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.cJ<this.K6?{done:!1,value:this.aYa[this.cJ++]}:{done:!0,value:void 0};};return a;}();p=Math.pow(2,53)-1;},function(g,d,a){var b;b=a(134);g=a(134);d.n0a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(c){return c.Kf.call(b.concat.apply(void 0,[c].concat(a)));};};},function(g,d,a){var b;b=a(973);g=a(134);d.n0a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.concat.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(974);g.sa.prototype.concat=a.concat;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c,d){a.call(this);this.parent=b;this.tib=c;this.sib=d;this.index=0;}b(c,a);c.prototype.Yg=function(a){this.parent.bz(this.tib,a,this.sib,this.index++,this);};c.prototype.Ub=function(a){this.parent.s8(a,this);this.unsubscribe();};c.prototype.wb=function(){this.parent.gj(this);this.unsubscribe();};return c;}(a(50).Xh);d.Fea=g;},function(g,d,a){var b,c,h,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(77);c=a(76);d.m_a=function(a){return function(b){var c;c=new h(a);b=b.Kf(c);return c.q1=b;};};h=function(){function a(a){this.YK=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.YK,this.q1));};return a;}();k=function(a){function d(b,c,d){a.call(this,b);this.YK=c;this.q1=d;}b(d,a);d.prototype.error=function(b){var d;if(!this.Jf){d=void 0;try{d=this.YK(b,this.q1);}catch(u){a.prototype.error.call(this,u);return;}this.yWa();this.add(c.Js(this,d));}};return d;}(g.Hq);},function(g,d,a){var b;b=a(977);d.vZ=function(a){return b.m_a(a)(this);};},function(g,d,a){g=a(10);a=a(978);g.sa.prototype["catch"]=a.vZ;g.sa.prototype.vZ=a.vZ;},function(g,d,a){var b,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(236);a=function(a){function d(b,d){var f;f=this;void 0===b&&(b=c);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b,function(){return f.frame;});this.lfb=d;this.frame=0;this.index=-1;}b(d,a);d.prototype.flush=function(){for(var a=this.Ej,b=this.lfb,c,d;(d=a.shift())&&(this.frame=d.rd)<=b&&!(c=d.Gg(d.state,d.rd)););if(c){for(;d=a.shift();)d.unsubscribe();throw c;}};d.Z3=10;return d;}(a(235).pW);d.NQa=a;c=function(a){function c(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.ia=b;this.aM=c;this.index=d;this.active=!0;this.index=b.index=d;}b(c,a);c.prototype.nb=function(b,d){var f;void 0===d&&(d=0);if(!this.id)return a.prototype.nb.call(this,b,d);this.active=!1;f=new c(this.ia,this.aM);this.add(f);return f.nb(b,d);};c.prototype.AU=function(a,b,d){void 0===d&&(d=0);this.rd=a.frame+d;a=a.Ej;a.push(this);a.sort(c.epb);return!0;};c.prototype.vU=function(){};c.prototype.hO=function(b,c){if(!0===this.active)return a.prototype.hO.call(this,b,c);};c.epb=function(a,b){return a.rd===b.rd?a.index===b.index?0:a.index>b.index?1:-1:a.rd>b.rd?1:-1;};return c;}(g.oW);d.MQa=c;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(165);h=a(70);g=a(452);a=a(450);c=function(a){function c(b,c){a.call(this);this.Rd=b;this.oL=[];this.ia=c;}b(c,a);c.prototype.Ff=function(b){var c,d;c=this;d=c.Pua();b.add(new h.ck(function(){c.Qua(d);}));return a.prototype.Ff.call(this,b);};c.prototype.Fob=function(){for(var a=this,b=a.Rd.length,c=0;c<b;c++)(function(){var b;b=a.Rd[c];a.ia.nb(function(){b.notification.observe(a);},b.frame);}());};return c;}(c.Ji);d.Mwb=c;a.Oma(c,[g.Tha]);},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};c=a(10);h=a(70);g=a(452);a=a(450);c=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.Pua();a.add(new h.ck(function(){b.Qua(c);}));b.enb(a);return a;});this.Rd=b;this.oL=[];this.ia=c;}b(c,a);c.prototype.enb=function(a){var d;for(var b=this.Rd.length,c=0;c<b;c++){d=this.Rd[c];a.add(this.ia.nb(function(a){a.message.notification.observe(a.mf);},d.frame,{message:d,mf:a}));}};return c;}(c.sa);d.iFa=c;a.Oma(c,[g.Tha]);},function(g,d,a){var b,c,h,k,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);c=a(234);h=a(982);a(981);k=a(451);f=a(980);g=function(a){function d(b){a.call(this,f.MQa,750);this.kYa=b;this.Dbb=[];this.J7a=[];}b(d,a);d.prototype.flush=function(){var c;for(var b=this.Dbb;0<b.length;)b.shift().Fob();a.prototype.flush.call(this);for(b=this.J7a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.kYa(c.Cx,c.Om);}};d.kHb=function(a){var h,l;if("string"!==typeof a)return new k.bG(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.Z3;l=a[g];switch(l){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+l+"'.");}}return 0>f?new k.bG(d):new k.bG(d,f);};d.jHb=function(a,b,d,f){var q,r,t;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.Z3,m="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof h.iFa?b[a].Rd:b[a];},p=-1,n=0;n<g;n++){q=n*this.Z3+l;r=void 0;t=a[n];switch(t){case"-":case" ":break;case"(":p=q;break;case")":p=-1;break;case"|":r=c.Notification.a2();break;case"^":break;case"#":r=c.Notification.Foa(d||"error");break;default:r=c.Notification.e2(m(t));}r&&k.push({frame:-1<p?p:q,notification:r});}return k;};return d;}(f.NQa);d.cia=g;},function(g,d,a){var b,c,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(50);d.wU=function(){return function(a){return a.Kf(new c(a));};};c=function(){function a(a){this.zl=a;}a.prototype.call=function(a,b){var c;c=this.zl;c.ym++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.Qn=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.zl=c;}b(c,a);c.prototype.hr=function(){var a,b;a=this.zl;if(a){this.zl=null;b=a.ym;0>=b?this.Qn=null:(a.ym=b-1,1<b?this.Qn=null:(b=this.Qn,a=a.Ft,this.Qn=null,!a||b&&a!==b||a.unsubscribe()));}else this.Qn=null;};return c;}(g.Xh);},function(g,d){g=function(){function a(b,c){void 0===c&&(c=a.now);this.oPa=b;this.now=c;}a.prototype.nb=function(a,c,d){void 0===c&&(c=0);return new this.oPa(this,a).nb(d,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.nPa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(235).pW);d.wOa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(){a.call(this);}b(c,a);c.prototype.nb=function(){return this;};return c;}(a(70).ck);d.qDa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=function(a){function c(b,c){a.call(this,b,c);this.ia=b;this.aM=c;}b(c,a);c.prototype.nb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.nb.call(this,b,c);this.rd=c;this.state=b;this.ia.flush(this);return this;};c.prototype.Gg=function(b,c){return 0<c||this.closed?a.prototype.Gg.call(this,b,c):this.hO(b,c);};c.prototype.AU=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.rd?a.prototype.AU.call(this,b,c,d):b.flush(this);};return c;}(a(236).oW);d.vOa=g;},function(g,d,a){g=a(988);a=a(986);d.yi=new a.wOa(g.vOa);},function(g,d){d.Xgb=function(){};},function(g,d,a){var c;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:c.Xgb;}c=a(990);d.ojb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};d.pjb=b;},function(g,d,a){var b,c,h;b=a(50);c=a(238);h=a(239);d.$qb=function(a,d,g){if(a){if(a instanceof b.Xh)return a;if(a[c.Ez])return a[c.Ez]();}return a||d||g?new b.Xh(a,d,g):new b.Xh(h.empty);};},function(g,d){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};g=function(b){function c(a){b.call(this);this.sI=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);d.yN=g;},function(g,d,a){var c,h;function b(){try{return h.apply(this,arguments);}catch(l){return c.Ou.e=l,c.Ou;}}c=a(458);d.RBa=function(a){h=a;return b;};},function(g,d,a){var c,h,k,f,p,m,n,q,t,v,w,y,A,z,I;function b(a,b,c,d,f,g){a=I.hW.call(this,a,b,c,d,f)||this;a.Oj=g;a.log=d.qb("AccountManager");a.tD=new k.$F(1);return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);k=a(87);f=a(118);p=a(65);m=a(22);n=a(9);q=a(45);t=a(2);v=a(4);w=a(53);y=a(438);A=a(894);z=a(893);I=a(891);ia(b,I.hW);b.prototype.Dc=function(){var a,b;a=this;b=this.config();if(!b||void 0===b.Lm)return Promise.reject(new q.Yb(t.I.TM,t.H.bDa));this.hh||(this.reset(),this.hh=new Promise(function(b,c){a.Af.create().then(function(b){a.storage=b;return a.load();}).then(function(){a.tD.next(a.profile.Bh);b();})["catch"](function(b){a.hh=void 0;c(b);});}));return this.hh;};b.prototype.Gy=function(a,b){var c;c=this;if(this.Nx)return Promise.reject(new q.Yb(t.I.FF,t.H.Aba));this.Nx=!0;this.log.info("Logging in account",{authType:a?"Email/Password":"Cookies"});a&&this.reset(!0);return new Promise(function(d,f){c.Oj.ping(c.profile,void 0===a?!0:{cy:a,password:b}).then(function(){return c.Oj.Gy(c.profile,void 0);}).then(function(a){c.Fmb(a);return c.save();}).then(function(){c.Nx=!1;c.tD.next(c.profile.Bh);d(c.profile);})["catch"](function(a){c.Nx=!1;c.log.error("Unable to login user",a);c.reset(!0);f(I.hW.DL(t.I.FF,a));});});};b.prototype.Ieb=function(){this.log.info("logout");this.profile=this.Sx(this.mQ());this.profiles={};this.Xm.Kg.clearUserIdTokens();this.tD.next(this.profile.Bh);return this.save();};b.prototype.nqb=function(a){var b;b=this;if(this.Nx)return Promise.reject(new q.Yb(t.I.qN,t.H.Aba));this.Nx=!0;this.log.info("Switching profiles",{old:this.profile.id,"new":a});return this.Oj.ping(this.profile,a).then(function(){var c;c=b.Sx(b.profile.Bh,{id:a});return b.Oj.Gy(c,void 0);}).then(function(c){b.Nx=!1;if(c.hu!=b.profile.Bh.id)throw b.tD.next(b.profile.Bh),new q.Yb(t.I.qN,t.H.TCa,void 0,void 0,void 0,"The incoming server account GUID does not match the current account GUID");(c=b.profiles[c.jh])?(b.profile=c,b.J9(b.profile)):(b.rma(b.profile),b.profile=b.Sx(b.profile.Bh,{hu:b.profile.Bh.id,jh:a,cj:b.profile.Bh.cj}));return b.save();}).then(function(){return b.profile;})["catch"](function(a){b.Nx=!1;b.log.error("Unable to switch profiles",a);b.reset(!0);b.save();throw c.DL(t.I.qN,a);});};b.prototype.S4=function(){var a;a=this;return Object.keys(this.profiles).map(function(b){return a.profiles[b];});};b.prototype.$2a=function(){return k.sa.from(this.tD);};b.prototype.CS=function(){return"windows_app"===this.platform.L2?k.sa.from(this.tD).map(function(a){return!(a.cj||"browser"===a.id);}):k.sa.of(!0);};b.prototype.Fmb=function(a){var b,c;b=this;this.profile&&a.jh&&a.jh!==this.profile.id&&this.Xm.Kg.rekeyUserIdToken(this.profile.id,a.jh);this.profile.Bh.id!==a.hu&&this.reset();c=this.Yu(a.jh);c?(this.profile=c,this.J9(c)):this.profile.id!==a.jh&&(this.profile=this.Sx(this.mQ(a),a));(a=Object.keys(this.profiles).filter(function(a){return b.profiles[a].ycb();}).pop())&&this.J9(this.profiles[a]);};b.prototype.Sx=function(a,b){if(b&&void 0!==b.hu)return new z.Wga(this.config,a,b.jh,v.sb(0),!1);a=new z.Wga(this.config,a);b&&a.b4(b);return a;};b.prototype.mQ=function(a){var b;if(a&&void 0!==a.hu)return new A.Oba(a.hu,a.cj);b=new A.Oba();a&&b.b4(a);return b;};b.prototype.jba=function(){return Promise.resolve(!0);};a=c=b;a=c=g.__decorate([h.N(),g.__param(0,h.l(p.un)),g.__param(1,h.l(f.uA)),g.__param(2,h.l(m.we)),g.__param(3,h.l(n.yb)),g.__param(4,h.l(w.cm)),g.__param(5,h.l(y.Cea))],a);d.$Na=a;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(71);c=a(995);d.Bh=new g.Zb(function(a){a(b.Pba).to(c.$Na).$();});},function(g,d,a){var c,h,k,f,p;function b(a,b){return h.ae.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(37);k=a(26);f=a(4);a=a(38);ia(b,h.ae);na.Object.defineProperties(b.prototype,{Dta:{configurable:!0,enumerable:!0,get:function(){return!1;}},Rh:{configurable:!0,enumerable:!0,get:function(){return!1;}},kv:{configurable:!0,enumerable:!0,get:function(){return f.Vf;}},L8:{configurable:!0,enumerable:!0,get:function(){return f.oh(10);}},N5:{configurable:!0,enumerable:!0,get:function(){return f.sb(2E3);}},m$:{configurable:!0,enumerable:!0,get:function(){return f.sb(1E3);}},njb:{configurable:!0,enumerable:!0,get:function(){return f.sb(2500);}},iI:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},CI:{configurable:!0,enumerable:!0,get:function(){return!1;}},vaa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ql:{configurable:!0,enumerable:!0,get:function(){return!0;}},Gma:{configurable:!0,enumerable:!0,get:function(){return f.oh(30);}},Hma:{configurable:!0,enumerable:!0,get:function(){return f.oh(30);}},Jma:{configurable:!0,enumerable:!0,get:function(){return f.oh(30);}},Ima:{configurable:!0,enumerable:!0,get:function(){return f.oh(30);}},x0:{configurable:!0,enumerable:!0,get:function(){return f.oh(30);}},Esb:{configurable:!0,enumerable:!0,get:function(){return!1;}}});p=b;g.__decorate([a.config(a.Te,"initializeKeySystemAtStartup")],p.prototype,"Dta",null);g.__decorate([a.config(a.Te,"secureStopEnabled")],p.prototype,"Rh",null);g.__decorate([a.config(a.Jg,"licenseRenewalRequestDelay")],p.prototype,"kv",null);g.__decorate([a.config(a.Jg,"persistedReleaseDelay")],p.prototype,"L8",null);g.__decorate([a.config(a.Jg,"secureStopKeyMessageTimeoutMilliseconds")],p.prototype,"N5",null);g.__decorate([a.config(a.Jg,"secureStopKeyAddedTimeoutMilliseconds")],p.prototype,"m$",null);g.__decorate([a.config(a.Jg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],p.prototype,"njb",null);g.__decorate([a.config(a.string,"drmPersistKey")],p.prototype,"iI",null);g.__decorate([a.config(a.Te,"forceLimitedDurationLicense")],p.prototype,"CI",null);g.__decorate([a.config(a.Te,"supportsLimitedDurationLicense")],p.prototype,"vaa",null);g.__decorate([a.config(a.Te,"prepareCadmium")],p.prototype,"Ql",null);g.__decorate([a.config(a.Jg,"apiCloseTimeout")],p.prototype,"Gma",null);g.__decorate([a.config(a.Jg,"apiCreateMediaKeysTimeout")],p.prototype,"Hma",null);g.__decorate([a.config(a.Jg,"apiSetServerCertificateTimeout")],p.prototype,"Jma",null);g.__decorate([a.config(a.Jg,"apiGenerateRequestTimeout")],p.prototype,"Ima",null);g.__decorate([a.config(a.Jg,"apiUpdateTimeout")],p.prototype,"x0",null);g.__decorate([a.config(a.Te,"usesArmor")],p.prototype,"Esb",null);p=g.__decorate([c.N(),g.__param(0,c.l(k.Ki)),g.__param(1,c.l(k.dA)),g.__param(1,c.optional())],p);d.eca=p;},function(g,d,a){var c,h,k;function b(a,b){return k.eca.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(26);k=a(997);ia(b,k.eca);a=b;a=g.__decorate([c.N(),g.__param(0,c.l(h.Ki)),g.__param(1,c.l(h.dA)),g.__param(1,c.optional())],a);d.qHa=a;},function(g,d,a){var c,h,k,f,p,m,n;function b(a,b,c,d){a=f.ae.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.tf=b;a.Ka=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(36);h=a(1);k=a(4);f=a(37);p=a(88);m=a(38);a=a(26);ia(b,f.ae);na.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.e4+(-1===this.e4.indexOf("?")?"?":"&")+"monotonic="+this.Ka.ewa+"&device=web";}},QAa:{configurable:!0,enumerable:!0,get:function(){return k.Vf;}},S3:{configurable:!0,enumerable:!0,get:function(){return"";}},e4:{configurable:!0,enumerable:!0,get:function(){return this.tf.endpoint+"/ftl/probe"+(this.S3?"?force="+this.S3:"");}}});n=b;g.__decorate([m.config(m.Te,"ftlEnabled")],n.prototype,"enabled",null);g.__decorate([m.config(m.Jg,"ftlStartDelay")],n.prototype,"QAa",null);g.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"S3",null);g.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"e4",null);n=g.__decorate([h.N(),g.__param(0,h.l(a.Ki)),g.__param(1,h.l(p.Ts)),g.__param(2,h.l(c.Fi)),g.__param(3,h.l(a.dA)),g.__param(3,h.optional())],n);d.OHa=n;},function(g,d,a){var c,h,k,f;function b(a,b){return k.ae.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);h=a(38);k=a(37);a=a(26);ia(b,k.ae);na.Object.defineProperties(b.prototype,{uCa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});f=b;g.__decorate([h.config(h.Te,"useNetworkMonitor")],f.prototype,"uCa",null);f=g.__decorate([c.N(),g.__param(0,c.l(a.Ki)),g.__param(1,c.l(a.dA)),g.__param(1,c.optional())],f);d.zLa=f;},function(g,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.hxa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};d.Zfa=a;},function(g,d,a){var c,h,k,f,p,m,n;function b(a,b){return f.ae.call(this,a,void 0===b?"GeneralConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(4);h=a(1);k=a(38);f=a(37);p=a(52);a=a(26);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.qI=function(a,b){return a.xya(m[b]||b,p.dt);};ia(b,f.ae);na.Object.defineProperties(b.prototype,{qI:{configurable:!0,enumerable:!0,get:function(){return p.dt.qOa;}},kaa:{configurable:!0,enumerable:!0,get:function(){return c.oh(8);}},Dp:{configurable:!0,enumerable:!0,get:function(){return"";}},Cr:{configurable:!0,enumerable:!0,get:function(){return"";}},Qs:{configurable:!0,enumerable:!0,get:function(){return"";}},qBa:{configurable:!0,enumerable:!0,get:function(){return!1;}},EP:{configurable:!0,enumerable:!0,get:function(){return!0;}},L5:{configurable:!0,enumerable:!0,get:function(){return!0;}},K6a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Xi:{configurable:!0,enumerable:!0,get:function(){return{};}},a$:{configurable:!0,enumerable:!0,get:function(){return!1;}},FS:{configurable:!0,enumerable:!0,get:function(){return!1;}},aW:{configurable:!0,enumerable:!0,get:function(){return!1;}},QL:{configurable:!0,enumerable:!0,get:function(){return["baggins.prod.netflix.net","cloudfront.net"];}},Sv:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Lm:{configurable:!0,enumerable:!0,get:function(){return 0<=[p.dt.bia,p.dt.Gea].indexOf(this.qI);}}});n=b;g.__decorate([k.config(d.qI,"environment")],n.prototype,"qI",null);g.__decorate([k.config(k.Jg,"storageTimeout")],n.prototype,"kaa",null);g.__decorate([k.config(k.string,"groupName")],n.prototype,"Dp",null);g.__decorate([k.config(k.string,"canaryGroupName")],n.prototype,"Cr",null);g.__decorate([k.config(k.string,"uiGroupName")],n.prototype,"Qs",null);g.__decorate([k.config(k.Te,"testIndexDBForCorruptedDatabase")],n.prototype,"qBa",null);g.__decorate([k.config(k.Te,"applyIndexedDbOpenWorkaround")],n.prototype,"EP",null);g.__decorate([k.config(k.Te,"ignoreIdbOpenError")],n.prototype,"L5",null);g.__decorate([k.config(k.Te,"executeStorageMigration")],n.prototype,"K6a",null);g.__decorate([k.config(k.object(),"browserInfo")],n.prototype,"Xi",null);g.__decorate([k.config(k.Te,"retryAllMslRequestsOnError")],n.prototype,"a$",null);g.__decorate([k.config(k.Te,"isTestAccount")],n.prototype,"FS",null);g.__decorate([k.config(k.Te,"vuiCommandLogging")],n.prototype,"aW",null);g.__decorate([k.config(k.In("string",1))],n.prototype,"QL",null);g.__decorate([k.config(k.object,"storageRules")],n.prototype,"Sv",null);n=g.__decorate([h.N(),g.__param(0,h.l(a.Ki)),g.__param(1,h.l(a.dA)),g.__param(1,h.optional())],n);d.SHa=n;},function(g,d,a){var k,f,p,m,n;function b(){this.Eu={};this.uza=0;}function c(a,b,c,d,f){this.debug=a;this.cs=b;this.cK=c;this.gf=d;this.rU=f;}function h(a,b,c){this.cs=a;this.cK=b;this.rU=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);k=a(1);f=a(136);p=a(9);m=a(135);n=a(462);a=a(26);h=g.__decorate([k.N(),g.__param(0,k.l(a.VM)),g.__param(1,k.l(m.UY)),g.__param(2,k.l(n.HY))],h);d.mFa=h;c=g.__decorate([k.N(),g.__param(0,k.l(f.kF)),g.__param(1,k.l(a.VM)),g.__param(2,k.l(m.UY)),g.__param(3,k.l(p.yb)),g.__param(4,k.l(n.HY))],c);d.GQa=c;na.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Eu;},set:function(a){this.Eu=a;this.uza++;}},tza:{configurable:!0,enumerable:!0,get:function(){return this.uza;}}});a=b;a=g.__decorate([k.N()],a);d.iJa=a;},function(g,d,a){var b,c,h,k,f,p,m,n,q,x,v;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(22);c=a(1003);h=a(26);k=a(52);f=a(1002);p=a(461);m=a(1E3);n=a(166);q=a(999);x=a(64);v=a(998);d.config=new g.Zb(function(a){a(b.we).ph(function(){return function(){return t._cad_global.config;};});a(h.AW).to(c.mFa).$();a(h.Ki).to(c.GQa).$();a(h.VM).to(c.iJa).$();a(k.fm).to(f.SHa).$();a(p.Ofa).to(m.zLa).$();a(n.Gda).to(q.OHa).$();a(x.rn).to(v.qHa).$();});},function(g,d,a){var b,c,h,k,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);c=a(89);h=a(137);k=a(242);d.Ikb=function(a){k.jI.parent=a.ac;return function(){f||(f=new Promise(function(a,d){try{a(k.jI.get(h.hda));}catch(u){d(new c.pf(b.I.zIa,b.H.UIa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return f;};};},function(g,d,a){var k,f,p,m,n,q,t,v;function b(a,b,d){var f;f=this;this.is=a;this.Af=b;this.config=d;this.iq=function(){return{version:f.version,drmData:f.RQ.map(function(a){return a.iq();})};};this.d4=function(a){var b;f.is.Ti(a)&&(a=c(a));1===a.version&&(a=h(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new v.PW(a);});}catch(E){throw new n.Yb(p.I.lA,p.H.Ys,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",E);}}else{if(!a.version||!f.is.Se(a.version))throw new n.Yb(p.I.lA,p.H.Ys,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new n.Yb(p.I.lA,p.H.mca,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.hn=new q.Bea(2,this.config.iI,this.is.Ti(this.config.iI),this.Af,this.iq);}function c(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new n.Yb(p.I.lA,p.H.Ys);return{version:1,drmData:[a]};}function h(a,b){if(a.iu(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new v.PW({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).iq();})};throw new n.Yb(p.I.lA,p.H.Ys);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);k=a(1);f=a(64);p=a(2);m=a(23);n=a(45);q=a(464);t=a(53);v=a(241);b.prototype.wya=function(){return this.qpb();};b.prototype.ima=function(a){return this.hn.add(a);};b.prototype.I9=function(a){return this.hn.remove(a,function(a,b){return a.ja===b.ja;});};b.prototype.toString=function(){return JSON.stringify(this.iq(),null,"  ");};b.prototype.qpb=function(){var a;a=this;this.Bya||(this.Bya=new Promise(function(b,c){a.hn.load(a.d4).then(function(){b();})["catch"](function(a){a.T&&a.cause?c(new n.Yb(p.I.lA,a.T,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.Bya;};na.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.hn.version;}},RQ:{configurable:!0,enumerable:!0,get:function(){return this.hn.pp;}}});a=b;a=g.__decorate([k.N(),g.__param(0,k.l(m.ne)),g.__param(1,k.l(t.cm)),g.__param(2,k.l(f.rn))],a);d.SEa=a;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(71);c=a(243);d.Hkb=function(a){return function(){var d;if(!h){c.d0.parent=a.ac;d=c.d0.get(b.Pba);h=new Promise(function(a,b){d.Dc().then(function(){a(d);})["catch"](function(a){b(a);});});}return h;};};},function(g,d,a){var h,k,f,p,m,n,q,x,c,b;function b(){this.JYa=this.QB=t.crypto?q.iM.qJa:q.iM.pJa;this.D$=!0;this.NP=[x.sj.MM,x.sj.hF,x.sj.iF];this.ZV=[].concat(x.ca.Kda,x.ca.FQa,x.ca.mia,x.ca.Nda,x.ca.Vca);this.Ks=[x.dk.FW,x.dk.VOa,x.dk.vA];this.Wd=void 0;this.l3=!0;this.cR=!1;this.G0=m.Z(288E4);this.I0=m.Z(335544320);this.z7=p.sb(31E3);this.mfb=m.Z(6291456);this.qD=1E3;this.LV=!0;this.wba=!1;this.E1=this.n1=!0;this.Xna=!1;this.uV="idb";this.jaa=m.Z(0);this.CCa=!1;this.dE=!0;this.Kaa={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};this.JE=m.Z(0);this.JV=p.sb(0);}function c(a){var b,c;b=a.userAgent;a=/Edge/.test(b);c=/ Edg//.test(b);b=/Macintosh/.test(b);this.version="6.0015.328.031";this.Xm=!0;this.AC=c?"D":"H";this.Nm=c?b?"NFCDIE-04-":"NFCDIE-03-":a?"NFCDIE-02-":"NFCDIE-01-";this.f4=!0;this.M2=a||c?"edge-cadmium":"ie-cadmium";this.L2="browser";this.Rua="";this.zpa="cadmium";this.kdb=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);k=a(39);f=a(65);p=a(4);m=a(31);n=a(168);q=a(466);x=a(72);c=g.__decorate([h.N(),g.__param(0,h.l(k.yA))],c);b=g.__decorate([h.N(),g.__param(0,h.l(k.yA))],b);d.platform=new h.Zb(function(a){a(f.un).to(c);a(n.lN).to(b);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.kwa=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).Zqb(b);});};};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(32);h=a(66);d.Wxa=function(){return function(a,d){d=new h.Metadata(c.UF,d);if(Reflect.q5(c.UF,a.constructor))throw Error(b.uKa);Reflect.I2(c.UF,d,a.constructor);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(66);h=a(90);d.AL=function(a){return function(d,g,k){var f;f=new c.Metadata(b.ZM,a);h.Mz(d,g,k,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(66);h=a(90);d.Uy=function(a){return function(d,g,k){var f;f=new c.Metadata(b.Aw,a);"number"===typeof k?h.Mz(d,g,k,f):h.yL(d,g,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(66);h=a(90);d.Og=function(){return function(a,d,g){var f;f=new c.Metadata(b.dG,!0);h.Mz(a,d,g,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(66);h=a(90);d.optional=function(){return function(a,d,g){var f;f=new c.Metadata(b.Wfa,!0);"number"===typeof g?h.Mz(a,d,g,f):h.yL(a,d,f);};};},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(32);c=a(66);h=a(90);d.mwa=function(a){return function(d,g,k){var f;f=new c.Metadata(b.ut,a);"number"===typeof k?h.Mz(d,g,k,f):h.yL(d,g,f);};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(66);c=a(90);d.lBa=function(a,d){return function(f,g,h){var k;k=new b.Metadata(a,d);"number"===typeof h?c.Mz(f,g,h,k):c.yL(f,g,k);};};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(32);d.N=function(){return function(a){var d;if(Reflect.q5(c.qY,a))throw Error(b.wGa);d=Reflect.getMetadata(c.RFa,a)||[];Reflect.I2(c.qY,d,a);return a;};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(102);d.Zb=function(){return function(a){this.id=b.id();this.G9=a;};}();d.Zba=function(){return function(a){this.id=b.id();this.G9=a;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);g=function(){function a(){this.ci=new Map();}a.prototype.add=function(a,c){var d;if(null===a||void 0===a)throw Error(b.PF);if(null===c||void 0===c)throw Error(b.PF);d=this.ci.get(a);void 0!==d?(d.push(c),this.ci.set(a,d)):this.ci.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.PF);a=this.ci.get(a);if(void 0!==a)return a;throw Error(b.Lea);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.PF);if(!this.ci["delete"](a))throw Error(b.Lea);};a.prototype.Lsa=function(a){if(null===a||void 0===a)throw Error(b.PF);return this.ci.has(a);};a.prototype.clone=function(){var b;b=new a();this.ci.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.yrb=function(a){this.ci.forEach(function(b,c){a(c,b);});};return a;}();d.VJa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,c){var d;d=new a();d.oH=b;d.Zfb=c;return d;};return a;}();d.Tub=g;},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(79);c=a(470);g=function(){function a(a){this.ub=a;}a.prototype.$=function(){this.ub.scope=b.pn.SY;return new c.nw(this.ub);};a.prototype.O5=function(){this.ub.scope=b.pn.vN;return new c.nw(this.ub);};return a;}();d.dEa=g;},function(g,d,a){var b,c,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(1021);c=a(245);h=a(244);g=function(){function a(a){this.ub=a;this.pZ=new h.vW(this.ub);this.oZ=new c.uW(this.ub);this.Sia=new b.dEa(a);}a.prototype.$=function(){return this.Sia.$();};a.prototype.O5=function(){return this.Sia.O5();};a.prototype.$L=function(){return this.pZ.$L();};a.prototype.Rp=function(a){return this.oZ.Rp(a);};return a;}();d.fca=g;},function(g,d,a){var b,c,h,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(54);c=a(79);h=a(1022);k=a(470);g=function(){function a(a){this.ub=a;}a.prototype.to=function(a){this.ub.type=c.rh.TX;this.ub.bj=a;return new h.fca(this.ub);};a.prototype.GBa=function(){if("function"!==typeof this.ub.ue)throw Error(""+b.XIa);this.to(this.ub.ue);};a.prototype.Ng=function(a){this.ub.type=c.rh.Eca;this.ub.cache=a;this.ub.rC=null;this.ub.bj=null;new k.nw(this.ub);};a.prototype.Sz=function(a){this.ub.type=c.rh.mda;this.ub.cache=null;this.ub.rC=a;this.ub.bj=null;new h.fca(this.ub);};a.prototype.Xqb=function(a){this.ub.type=c.rh.Fca;this.ub.bj=a;new k.nw(this.ub);};a.prototype.ph=function(a){this.ub.type=c.rh.bX;this.ub.Pm=a;new k.nw(this.ub);};a.prototype.Wqb=function(a){this.ub.type=c.rh.bX;this.ub.Pm=function(b){return function(){return b.ac.get(a);};};new k.nw(this.ub);};a.prototype.FL=function(a){this.ub.type=c.rh.iha;this.ub.Oj=a;new k.nw(this.ub);};a.prototype.Zqb=function(a){this.Sz(function(b){return b.ac.get(a);});};return a;}();d.eEa=g;},function(g,d,a){var h,k,f;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===k.Nq.Bca;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function c(a,b){var c;if(Reflect.fbb(f.UF,a)){c=Reflect.getMetadata(f.UF,a);try{b[c.value]();}catch(u){throw Error(h.fNa(a.name,u.message));}}}Object.defineProperty(d,"__esModule",{value:!0});h=a(54);k=a(79);f=a(32);d.Dmb=function(a,d,f){var g;g=null;0<d.length?(g=d.filter(function(a){return null!==a.target&&a.target.type===k.Nq.Gca;}).map(f),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,d,f)):g=new a();c(a,g);return g;};},function(g,d,a){var h,k,f,p,m;function b(a){return function(d){var f,g,l,n,q;f=d.oH;g=d.z1;l=d.target&&d.target.isArray();n=!d.ss||!d.ss.target||!d.target||!d.ss.target.Yeb(d.target.ue);if(l&&n)return g.map(function(c){return b(a)(c);});l=null;if(!d.target.Vta()||0!==f.length){q=f[0];f=q.scope===k.pn.SY;n=q.scope===k.pn.Request;if(f&&q.f0)return q.cache;if(n&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===k.rh.Eca)l=q.cache;else if(q.type===k.rh.Function)l=q.cache;else if(q.type===k.rh.Fca)l=q.bj;else if(q.type===k.rh.mda&&null!==q.rC)l=c("toDynamicValue",q.ue,function(){return q.rC(d.ND);});else if(q.type===k.rh.bX&&null!==q.Pm)l=c("toFactory",q.ue,function(){return q.Pm(d.ND);});else if(q.type===k.rh.iha&&null!==q.Oj)l=c("toProvider",q.ue,function(){return q.Oj(d.ND);});else if(q.type===k.rh.TX&&null!==q.bj)l=m.Dmb(q.bj,g,b(a));else throw g=p.SC(d.ue),Error(h.SIa+" "+g);"function"===typeof q.Rp&&(l=q.Rp(d.ND,l));f&&(q.cache=l,q.f0=!0);n&&null!==a&&!a.has(q.id)&&a.set(q.id,l);return l;}};}function c(a,b,c){try{return c();}catch(v){if(f.cua(v))throw Error(h.yEa(a,b.toString()));throw v;}}Object.defineProperty(d,"__esModule",{value:!0});h=a(54);k=a(79);f=a(473);p=a(138);m=a(1024);d.resolve=function(a){return b(a.QD.c$.umb)(a.QD.c$);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(102);g=function(){function a(a,c,d,g,k){this.id=b.id();this.ue=a;this.ND=c;this.ss=d;this.target=k;this.z1=[];this.oH=Array.isArray(g)?g:[g];this.umb=null===d?new Map():null;}a.prototype.fma=function(b,c,d){b=new a(b,this.ND,this,c,d);this.z1.push(b);return b;};return a;}();d.Request=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Tv=a;}a.prototype.startsWith=function(a){return 0===this.Tv.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.Tv.split("").reverse().join("");return this.startsWith.call({Tv:a},b);};a.prototype.contains=function(a){return-1!==this.Tv.indexOf(a);};a.prototype.equals=function(a){return this.Tv===a;};a.prototype.value=function(){return this.Tv;};return a;}();d.uOa=g;},function(g,d,a){var f,p,m,n,q,t;function b(a,b,d,g){var h,l,u,v,w,x,y,A,B,D;h=a.Ara(d);l=h.eoa;if(void 0===l)throw Error(p.hKa+" "+b+".");for(var h=h.Csb,n=Object.keys(h),q=0===d.length&&0<n.length?n.length:d.length,n=[],r=0;r<q;r++){v=r;w=g;x=b;y=l;u=h[v.toString()]||[];A=k(u);B=!0!==A.Og;y=y[v];D=A.l||A.Uy;y=D?D:y;y instanceof f.XX&&(y=y.Trb());if(B){B=y===Function;B=y===Object||B||void 0===y;if(!w&&B)throw Error(p.iKa+" argument "+v+" in class "+x+".");v=new t.tN(m.Nq.Gca,A.AL,y);v.Fc=u;u=v;}else u=null;null!==u&&n.push(u);}a=c(a,d);return n.concat(a);}function c(a,b){var l,n,p;for(var d=a.w$a(b),f=[],g=0,h=Object.keys(d);g<h.length;g++){l=h[g];n=d[l];p=k(d[l]);l=new t.tN(m.Nq.Bca,p.AL||l,p.l||p.Uy);l.Fc=n;f.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=c(a,b),f=f.concat(a));return f;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=q.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.Fc.filter(function(a){return a.key===n.dG;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function k(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[n.BF],Uy:b[n.Aw],AL:b[n.ZM],Og:b[n.dG]};}Object.defineProperty(d,"__esModule",{value:!0});f=a(472);p=a(54);m=a(79);n=a(32);q=a(138);d.getFunctionName=q.getFunctionName;t=a(471);d.b9a=function(a,c){var d;d=q.getFunctionName(c);return b(a,d,c,!1);};d.z8a=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.INa=function(){return function(a,b){this.ND=a;this.c$=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(102);g=function(){function a(a){this.id=b.id();this.ac=a;}a.prototype.sXa=function(a){this.QD=a;};return a;}();d.Hca=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tW={Oxb:2,Rfa:0,OLa:1};},function(g,d,a){var f,n,m,q,t,w,v,B,y,A,z,I;function b(a,b,d,g,h){var l,m;l=k(d.ac,h.ue);m=[];l.length===f.tW.Rfa&&d.ac.options.mH&&"function"===typeof h.ue&&a.Ara(h.ue).eoa&&(d.ac.bind(h.ue).GBa(),l=k(d.ac,h.ue));m=b?l:l.filter(function(a){var b;b=new z.Request(a.ue,d,g,a,h);return a.cC(b);});c(h.ue,m,h,d.ac);return m;}function c(a,b,c,d){switch(b.length){case f.tW.Rfa:if(c.Vta())break;a=w.SC(a);b=n.rLa;b+=w.Idb(a,c);b+=w.Dua(d,a,k);throw Error(b);case f.tW.OLa:if(!c.isArray())break;default:if(!c.isArray())throw a=w.SC(a),b=n.VCa+" "+a,b+=w.Dua(d,a,k),Error(b);}}function h(a,c,d,f,g,k){var l;null===g?(c=b(a,c,f,null,k),l=new z.Request(d,f,null,c,k),d=new y.INa(f,l),f.sXa(d)):(c=b(a,c,f,g,k),l=g.fma(k.ue,c,k));c.forEach(function(b){var c,d,g;c=null;if(k.isArray())c=l.fma(b.ue,b,k);else{if(b.cache)return;c=l;}if(b.type===m.rh.TX&&null!==b.bj){d=A.b9a(a,b.bj);if(!f.ac.options.Rv){g=A.z8a(a,b.bj);if(d.length<g)throw b=n.WCa(A.getFunctionName(b.bj)),Error(b);}d.forEach(function(b){h(a,!1,b.ue,f,c,b);});}});}function k(a,b){var c,d;c=[];d=a.RA;d.Lsa(b)?c=d.get(b):null!==a.parent&&(c=k(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(1031);n=a(54);m=a(79);q=a(32);t=a(473);w=a(138);v=a(1030);B=a(66);y=a(1029);A=a(1028);z=a(1026);I=a(471);d.l4=function(a){return a.RA;};d.QD=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new v.Hca(b);c=new B.Metadata(c?q.Aw:q.BF,f);d=new I.tN(d,"",f,c);void 0!==g&&(g=new B.Metadata(g,k),d.Fc.push(g));try{return h(a,l,f,b,null,d),b;}catch(R){throw t.cua(R)&&b.QD&&w.M_a(b.QD.c$),R;}};d.aDb=function(a,b,c,d){c=new I.tN(m.Nq.dZ,"",b,new B.Metadata(c,d));a=new v.Hca(a);return new z.Request(b,a,null,[],c);};},function(g,d,a){var b,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(79);c=a(102);g=function(){function a(a,d){this.id=c.id();this.f0=!1;this.ue=a;this.scope=d;this.type=b.rh.mJa;this.cC=function(){return!0;};this.rC=this.Rp=this.Oj=this.Pm=this.cache=this.bj=null;}a.prototype.clone=function(){var b;b=new a(this.ue,this.scope);b.f0=!1;b.bj=this.bj;b.rC=this.rC;b.scope=this.scope;b.type=this.type;b.Pm=this.Pm;b.Oj=this.Oj;b.cC=this.cC;b.Rp=this.Rp;b.cache=this.cache;return b;};return a;}();d.cEa=g;},function(g,d,a){var b,c,h,k,f,n,m,q,t,w,v,B;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(W){g(W);}}function k(a){try{l(d["throw"](a));}catch(W){g(W);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};c=this&&this.kBb||function(a,b){var f,g,h,k,l;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,h&&(k=h[c[0]&2?"return":c[0]?"throw":"next"])&&!(k=k.call(h,c[1])).done)return k;if(h=0,k)c=[0,k.value];switch(c[0]){case 0:case 1:k=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;h=c[1];c=[0];continue;case 7:c=f.gz.pop();f.Vz.pop();continue;default:if(!(k=f.Vz,k=0<k.length&&k[k.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!k||c[1]>k[0]&&c[1]<k[3]))f.label=c[1];else if(6===c[0]&&f.label<k[1])f.label=k[1],k=c;else if(k&&f.label<k[2])f.label=k[2],f.gz.push(c);else{k[2]&&f.gz.pop();f.Vz.pop();continue;}}c=b.call(a,f);}catch(W){c=[6,W];h=0;}finally{g=k=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,XU:function(){if(k[0]&1)throw k[1];return k[1];},Vz:[],gz:[]};Oa();Oa();Za();return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this;}),l;};Object.defineProperty(d,"__esModule",{value:!0});h=a(1033);k=a(54);f=a(79);a(32);n=a(474);m=a(1032);q=a(1025);t=a(1023);w=a(102);v=a(138);a(1020);B=a(1019);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+k.MEa);if(void 0===a.Wx)a.Wx=f.pn.vN;else if(a.Wx!==f.pn.SY&&a.Wx!==f.pn.vN&&a.Wx!==f.pn.Request)throw Error(""+k.KEa);if(void 0===a.mH)a.mH=!1;else if("boolean"!==typeof a.mH)throw Error(""+k.JEa);if(void 0===a.Rv)a.Rv=!1;else if("boolean"!==typeof a.Rv)throw Error(""+k.LEa);this.options={mH:a.mH,Wx:a.Wx,Rv:a.Rv};this.id=w.id();this.RA=new B.VJa();this.aWa=[];this.parent=this.h_=null;this.wTa=new n.fY();}a.Q7=function(b,c){var f,g;function d(a,b){a.yrb(function(a,c){c.forEach(function(a){b.add(a.ue,a.clone());});});}f=new a();g=m.l4(f);b=m.l4(b);c=m.l4(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Vja(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.G9(f.kna,f.XBa,f.hua,f.Fya);}};a.prototype.BJ=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return b(this,void 0,void 0,function(){var b,d,f,g,h;return c(this,function(c){switch(c.label){case 0:b=this.Vja(),d=0,f=a,c.label=1;case 1:if(!(d<f.length))return[3,4];g=f[d];h=b(g.id);return[4,g.G9(h.kna,h.XBa,h.hua,h.Fya)];case 2:c.XU(),c.label=3;case 3:return d++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new h.cEa(a,this.options.Wx||f.pn.vN);this.RA.add(a,b);return new t.eEa(b);};a.prototype.nlb=function(a){this.WBa(a);return this.bind(a);};a.prototype.WBa=function(a){try{this.RA.remove(a);}catch(z){throw Error(k.uEa+" "+v.SC(a));}};a.prototype.Nta=function(a){var b;b=this.RA.Lsa(a);!b&&this.parent&&(b=this.parent.Nta(a));return b;};a.prototype.restore=function(){var a;a=this.aWa.pop();if(void 0===a)throw Error(k.sLa);this.RA=a.oH;this.h_=a.Zfb;};a.prototype.p2a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Tja(!1,!1,f.Nq.dZ,a);};a.prototype.getAll=function(a){return this.Tja(!0,!0,f.Nq.dZ,a);};a.prototype.resolve=function(a){var b;b=this.p2a();b.bind(a).GBa();return b.get(a);};a.prototype.Vja=function(){var f;function a(a){return function(b){b=f.nlb.bind(f)(b);b.ub.xgb=a;return b;};}function b(){return function(a){return f.Nta.bind(f)(a);};}function c(){return function(a){f.WBa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.ub.xgb=a;return b;};}f=this;return function(f){return{kna:d(f),hua:b(),Fya:a(f),XBa:c()};};};a.prototype.Tja=function(a,b,c,d){var f;f=null;a={SYa:a,y0a:function(a){return a;},Icb:b,key:void 0,ue:d,vqb:c,value:void 0};if(this.h_){if(f=this.h_(a),void 0===f||null===f)throw Error(k.VIa);}else f=this.UUa()(a);return f;};a.prototype.UUa=function(){var a;a=this;return function(b){var c;c=m.QD(a.wTa,a,b.Icb,b.vqb,b.ue,b.key,b.value,b.SYa);c=b.y0a(c);return q.resolve(c);};};return a;}();d.gF=g;},function(g,d,a){(function(a){var b;(function(b){var Y,R,T,D,aa,da,ea,V,P;function c(a,b,c){var d;d=P.get(a);if(!d){if(!c)return;d=new ea();P.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ea();d.set(b,a);}return a;}function d(a,b,c){if(g(a,b,c))return!0;b=z(b);return null!==b?d(a,b,c):!1;}function g(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function h(a,b,c){if(g(a,b,c))return k(a,b,c);b=z(b);return null!==b?h(a,b,c):void 0;}function k(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function n(a,b){var c,f;c=q(a,b);a=z(a);if(null===a)return c;b=n(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new V();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return E(a);}function q(a,b){var d;a=c(a,b,!1);d=[];a&&J(a,function(a,b){return d.push(b);});return d;}function v(a){return void 0===a;}function w(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function y(a){return"object"===typeof a?null!==a:"function"===typeof a;}function A(a){return"symbol"===typeof a?a:String(a);}function z(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===da||b!==da)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function I(a){a=a.next();return a.done?void 0:a;}function J(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=I(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function E(a){var b;b=[];J(a,function(a,c){b.push(c);});return b;}function U(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function O(){var a;a={};return function(){function b(){this.Bn=[];this.mk=[];this.QN=a;this.PN=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Bn.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.iO(a,!1);};b.prototype.get=function(a){a=this.iO(a,!1);return 0<=a?this.mk[a]:void 0;};b.prototype.set=function(a,b){a=this.iO(a,!0);this.mk[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.iO(b,!1);if(0<=c){b=this.Bn.length;for(c+=1;c<b;c++)this.Bn[c-1]=this.Bn[c],this.mk[c-1]=this.mk[c];this.Bn.length--;this.mk.length--;this.QN=a;this.PN=-2;return!0;}return!1;};b.prototype.clear=function(){this.Bn.length=0;this.mk.length=0;this.QN=a;this.PN=-2;};b.prototype.keys=function(){return U(this.Bn,void 0,"key");};b.prototype.values=function(){return U(void 0,this.mk,"value");};b.prototype.entries=function(){return U(this.Bn,this.mk,"key+value");};b.prototype.iO=function(a,b){var c;if(this.QN===a)return this.PN;c=this.Bn.indexOf(a);0>c&&b&&(c=this.Bn.length,this.Bn.push(a),this.mk.push(void 0));return this.QN=a,this.PN=c;};return b;}();}function K(){return function(){function a(){this.ci=new ea();}Object.defineProperty(a.prototype,"size",{get:function(){return this.ci.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.ci.has(a);};a.prototype.add=function(a){return this.ci.set(a,a),this;};a.prototype["delete"]=function(a){return this.ci["delete"](a);};a.prototype.clear=function(){this.ci.clear();};a.prototype.keys=function(){return this.ci.keys();};a.prototype.values=function(){return this.ci.values();};a.prototype.entries=function(){return this.ci.entries();};return a;}();}function X(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(aa.has(d,b));d[b]=!0;return b;}function c(a,b){if(!Y.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:D()});}return a[f];}d=D();f=b();return function(){function a(){this.fx=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?aa.has(a,this.fx):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?aa.get(a,this.fx):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.fx]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.fx]:!1;};a.prototype.clear=function(){this.fx=b();};return a;}();}function W(a){a.iBb=1;delete a.jBb;return a;}Y=Object.prototype.hasOwnProperty;R="function"===typeof Object.create;T=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();D=R?function(){return W(Object.create(null));}:T?function(){return W({__proto__:null});}:function(){return W({});};(function(a){var b;b=!R&&!T;a.has=b?function(a,b){return Y.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return Y.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(aa||(aa={})));da=Object.getPrototypeOf(Function);ea="function"===typeof Map?Map:O();V="function"===typeof Set?Set:K();P=new("function"===typeof WeakMap?WeakMap:(X()))();b.Fu=function(a,b,c,d){var g;if(v(d)){if(v(c)){if(!w(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!v(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!w(a))throw new TypeError();if(!y(b))throw new TypeError();c=A(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!w(a))throw new TypeError();if(!y(b))throw new TypeError();if(v(c))throw new TypeError();if(!y(d))throw new TypeError();c=A(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!v(g)){if(!y(g))throw new TypeError();d=g;}}return d;}};b.Fc=function(a,b){return function(d,f){if(v(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!y(d))throw new TypeError();f=A(f);c(d,f,!0).set(a,b);}};};b.I2=function(a,b,d){var f;if(!y(d))throw new TypeError();v(f)||(f=A(f));c(d,f,!0).set(a,b);};b.fbb=function(a,b){var c;if(!y(b))throw new TypeError();v(c)||(c=A(c));return d(a,b,c);};b.q5=function(a,b){var c;if(!y(b))throw new TypeError();v(c)||(c=A(c));return g(a,b,c);};b.getMetadata=function(a,b,c){if(!y(b))throw new TypeError();v(c)||(c=A(c));return h(a,b,c);};b.WEb=function(a,b,c){if(!y(b))throw new TypeError();v(c)||(c=A(c));return k(a,b,c);};b.UEb=function(a,b){if(!y(a))throw new TypeError();v(b)||(b=A(b));return n(a,b);};b.XEb=function(a,b){if(!y(a))throw new TypeError();v(b)||(b=A(b));return q(a,b);};b.CDb=function(a,b,d){var f;if(!y(b))throw new TypeError();v(d)||(d=A(d));f=c(b,d,!1);if(v(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=P.get(b);a["delete"](d);if(0<a.size)return!0;P["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)Y.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof t?t:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(169)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1035);t._cad_global={};t.DEBUG=!1;a(6);a(5);a(15);a(17);a(33);a(29);a(94);a(281);a(378);a(42);a(20);a(12);a(67);a(55);a(510);a(509);a(154);a(424);a(19);a(508);a(507);a(172);a(506);a(253);a(190);a(346);a(275);a(268);a(270);a(269);a(252);a(251);a(250);a(291);a(290);a(288);a(124);a(179);a(505);a(504);a(8);a(264);a(503);a(103);a(34);a(274);a(126);a(345);a(344);a(189);a(502);a(249);a(315);a(287);a(501);a(123);a(176);a(500);a(499);a(323);a(177);a(96);a(327);a(178);a(292);a(498);a(140);a(266);a(143);a(175);a(280);a(122);a(284);a(497);a(282);a(93);a(496);a(495);a(494);a(493);a(492);a(267);a(41);a(491);a(265);a(272);a(276);a(343);a(283);a(271);a(273);a(263);a(187);a(490);a(489);a(325);a(296);a(258);a(139);a(488);a(487);a(486);a(485);a(478);a(475);a(278);},function(g,d,a){g.M=a(1036);}]));}(window));